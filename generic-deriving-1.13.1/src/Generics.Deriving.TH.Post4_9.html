<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">{- |
Module      :  Generics.Deriving.TH.Post4_9
Copyright   :  (c) 2008--2009 Universiteit Utrecht
License     :  BSD3

Maintainer  :  generics@haskell.org
Stability   :  experimental
Portability :  non-portable

Template Haskell machinery for the type-literal-based variant of GHC
generics introduced in @base-4.9@.
-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Generics.Deriving.TH.Post4_9</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-15"></span><span>      </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveMeta"><span class="hs-identifier">deriveMeta</span></a></span><span>
</span><span id="line-16"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveData"><span class="hs-identifier">deriveData</span></a></span><span>
</span><span id="line-17"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveConstructors"><span class="hs-identifier">deriveConstructors</span></a></span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveSelectors"><span class="hs-identifier">deriveSelectors</span></a></span><span>
</span><span id="line-19"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#mkMetaDataType"><span class="hs-identifier">mkMetaDataType</span></a></span><span>
</span><span id="line-20"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#mkMetaConsType"><span class="hs-identifier">mkMetaConsType</span></a></span><span>
</span><span id="line-21"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#mkMetaSelType"><span class="hs-identifier">mkMetaSelType</span></a></span><span>
</span><span id="line-22"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#SelStrictInfo"><span class="hs-identifier">SelStrictInfo</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#reifySelStrictInfo"><span class="hs-identifier">reifySelStrictInfo</span></a></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-25"></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html"><span class="hs-identifier">Generics.Deriving.TH.Internal</span></a></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Datatype</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">THAbs</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Lib</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#mkMetaDataType"><span class="hs-identifier hs-type">mkMetaDataType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#DatatypeVariant_"><span class="hs-identifier hs-type">DatatypeVariant_</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-35"></span><span id="mkMetaDataType"><span class="annot"><span class="annottext">mkMetaDataType :: DatatypeVariant_ -&gt; Name -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#mkMetaDataType"><span class="hs-identifier hs-var hs-var">mkMetaDataType</span></a></span></span><span> </span><span id="local-6989586621679126616"><span class="annot"><span class="annottext">dv :: DatatypeVariant_
</span><a href="#local-6989586621679126616"><span class="hs-identifier hs-var">dv</span></a></span></span><span> </span><span id="local-6989586621679126615"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679126615"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-36"></span><span>           </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#metaDataDataName"><span class="hs-identifier hs-var">metaDataDataName</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TyLitQ -&gt; Q Type
</span><span class="hs-identifier hs-var">litT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; TyLitQ
</span><span class="hs-identifier hs-var">strTyLit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; String
</span><span class="hs-identifier hs-var">nameBase</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126615"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TyLitQ -&gt; Q Type
</span><span class="hs-identifier hs-var">litT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; TyLitQ
</span><span class="hs-identifier hs-var">strTyLit</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679126612"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TyLitQ -&gt; Q Type
</span><span class="hs-identifier hs-var">litT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; TyLitQ
</span><span class="hs-identifier hs-var">strTyLit</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679126611"><span class="hs-identifier hs-var">pkg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#promoteBool"><span class="hs-identifier hs-var">promoteBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DatatypeVariant_ -&gt; Bool
</span><a href="Generics.Deriving.TH.Internal.html#isNewtypeVariant"><span class="hs-identifier hs-var">isNewtypeVariant</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679126616"><span class="hs-identifier hs-var">dv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="#local-6989586621679126612"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679126611"><span class="hs-identifier hs-type">pkg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-43"></span><span>    </span><span id="local-6989586621679126612"><span class="annot"><span class="annottext">m :: String
</span><a href="#local-6989586621679126612"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String -&gt; String
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Cannot fetch module name!&quot;</span></span><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Maybe String
</span><span class="hs-identifier hs-var">nameModule</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126615"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span>    </span><span id="local-6989586621679126611"><span class="annot"><span class="annottext">pkg :: String
</span><a href="#local-6989586621679126611"><span class="hs-identifier hs-var hs-var">pkg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String -&gt; String
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Cannot fetch package name!&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Maybe String
</span><span class="hs-identifier hs-var">namePackage</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126615"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#mkMetaConsType"><span class="hs-identifier hs-type">mkMetaConsType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#DatatypeVariant_"><span class="hs-identifier hs-type">DatatypeVariant_</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-47"></span><span id="mkMetaConsType"><span class="annot"><span class="annottext">mkMetaConsType :: DatatypeVariant_ -&gt; Name -&gt; Name -&gt; Bool -&gt; Bool -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#mkMetaConsType"><span class="hs-identifier hs-var hs-var">mkMetaConsType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679126605"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679126605"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679126604"><span class="annot"><span class="annottext">conIsRecord :: Bool
</span><a href="#local-6989586621679126604"><span class="hs-identifier hs-var">conIsRecord</span></a></span></span><span> </span><span id="local-6989586621679126603"><span class="annot"><span class="annottext">conIsInfix :: Bool
</span><a href="#local-6989586621679126603"><span class="hs-identifier hs-var">conIsInfix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-48"></span><span>    </span><span id="local-6989586621679126602"><span class="annot"><span class="annottext">Maybe Fixity
</span><a href="#local-6989586621679126602"><span class="hs-identifier hs-var">mbFi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q (Maybe Fixity)
</span><span class="hs-identifier hs-var">reifyFixity</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126605"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#metaConsDataName"><span class="hs-identifier hs-var">metaConsDataName</span></a></span><span>
</span><span id="line-50"></span><span>      </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TyLitQ -&gt; Q Type
</span><span class="hs-identifier hs-var">litT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; TyLitQ
</span><span class="hs-identifier hs-var">strTyLit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; String
</span><span class="hs-identifier hs-var">nameBase</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126605"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span>      </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">Maybe Fixity -&gt; Bool -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#fixityIPromotedType"><span class="hs-identifier hs-var">fixityIPromotedType</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Fixity
</span><a href="#local-6989586621679126602"><span class="hs-identifier hs-var">mbFi</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679126603"><span class="hs-identifier hs-var">conIsInfix</span></a></span><span>
</span><span id="line-52"></span><span>      </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#promoteBool"><span class="hs-identifier hs-var">promoteBool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679126604"><span class="hs-identifier hs-var">conIsRecord</span></a></span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteBool"><span class="hs-identifier hs-type">promoteBool</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-55"></span><span id="promoteBool"><span class="annot"><span class="annottext">promoteBool :: Bool -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#promoteBool"><span class="hs-identifier hs-var hs-var">promoteBool</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#trueDataName"><span class="hs-identifier hs-var">trueDataName</span></a></span><span>
</span><span id="line-56"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteBool"><span class="hs-identifier hs-var">promoteBool</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#falseDataName"><span class="hs-identifier hs-var">falseDataName</span></a></span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#fixityIPromotedType"><span class="hs-identifier hs-type">fixityIPromotedType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Fixity</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-59"></span><span id="fixityIPromotedType"><span class="annot"><span class="annottext">fixityIPromotedType :: Maybe Fixity -&gt; Bool -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#fixityIPromotedType"><span class="hs-identifier hs-var hs-var">fixityIPromotedType</span></a></span></span><span> </span><span id="local-6989586621679126596"><span class="annot"><span class="annottext">mbFi :: Maybe Fixity
</span><a href="#local-6989586621679126596"><span class="hs-identifier hs-var">mbFi</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-60"></span><span>           </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#infixIDataName"><span class="hs-identifier hs-var">infixIDataName</span></a></span><span>
</span><span id="line-61"></span><span>    </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">FixityDirection -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#promoteAssociativity"><span class="hs-identifier hs-var">promoteAssociativity</span></a></span><span> </span><span class="annot"><span class="annottext">FixityDirection
</span><a href="#local-6989586621679126593"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TyLitQ -&gt; Q Type
</span><span class="hs-identifier hs-var">litT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; TyLitQ
</span><span class="hs-identifier hs-var">numTyLit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126592"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-64"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Fixity</span></span><span> </span><span id="local-6989586621679126592"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679126592"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679126593"><span class="annot"><span class="annottext">a :: FixityDirection
</span><a href="#local-6989586621679126593"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Fixity -&gt; Maybe Fixity -&gt; Fixity
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Fixity
</span><span class="hs-identifier hs-var">defaultFixity</span></span><span> </span><span class="annot"><span class="annottext">Maybe Fixity
</span><a href="#local-6989586621679126596"><span class="hs-identifier hs-var">mbFi</span></a></span><span>
</span><span id="line-65"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#fixityIPromotedType"><span class="hs-identifier hs-var">fixityIPromotedType</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#prefixIDataName"><span class="hs-identifier hs-var">prefixIDataName</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteAssociativity"><span class="hs-identifier hs-type">promoteAssociativity</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FixityDirection</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-68"></span><span id="promoteAssociativity"><span class="annot"><span class="annottext">promoteAssociativity :: FixityDirection -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#promoteAssociativity"><span class="hs-identifier hs-var hs-var">promoteAssociativity</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">InfixL</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#leftAssociativeDataName"><span class="hs-identifier hs-var">leftAssociativeDataName</span></a></span><span>
</span><span id="line-69"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteAssociativity"><span class="hs-identifier hs-var">promoteAssociativity</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">InfixR</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#rightAssociativeDataName"><span class="hs-identifier hs-var">rightAssociativeDataName</span></a></span><span>
</span><span id="line-70"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteAssociativity"><span class="hs-identifier hs-var">promoteAssociativity</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">InfixN</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#notAssociativeDataName"><span class="hs-identifier hs-var">notAssociativeDataName</span></a></span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#mkMetaSelType"><span class="hs-identifier hs-type">mkMetaSelType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#DatatypeVariant_"><span class="hs-identifier hs-type">DatatypeVariant_</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-73"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#SelStrictInfo"><span class="hs-identifier hs-type">SelStrictInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-74"></span><span id="mkMetaSelType"><span class="annot"><span class="annottext">mkMetaSelType :: DatatypeVariant_
-&gt; Name -&gt; Name -&gt; Maybe Name -&gt; SelStrictInfo -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#mkMetaSelType"><span class="hs-identifier hs-var hs-var">mkMetaSelType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621679126582"><span class="annot"><span class="annottext">mbF :: Maybe Name
</span><a href="#local-6989586621679126582"><span class="hs-identifier hs-var">mbF</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#SelStrictInfo"><span class="hs-identifier hs-type">SelStrictInfo</span></a></span><span> </span><span id="local-6989586621679126580"><span class="annot"><span class="annottext">su :: Unpackedness
</span><a href="#local-6989586621679126580"><span class="hs-identifier hs-var">su</span></a></span></span><span> </span><span id="local-6989586621679126579"><span class="annot"><span class="annottext">ss :: Strictness
</span><a href="#local-6989586621679126579"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span id="local-6989586621679126578"><span class="annot"><span class="annottext">ds :: DecidedStrictness
</span><a href="#local-6989586621679126578"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679126577"><span class="annot"><span class="annottext">mbSelNameT :: Q Type
</span><a href="#local-6989586621679126577"><span class="hs-identifier hs-var hs-var">mbSelNameT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621679126582"><span class="hs-identifier hs-var">mbF</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-76"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679126576"><span class="annot"><span class="annottext">f :: Name
</span><a href="#local-6989586621679126576"><span class="hs-identifier hs-var">f</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#justDataName"><span class="hs-identifier hs-var">justDataName</span></a></span><span> </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TyLitQ -&gt; Q Type
</span><span class="hs-identifier hs-var">litT</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; TyLitQ
</span><span class="hs-identifier hs-var">strTyLit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; String
</span><span class="hs-identifier hs-var">nameBase</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126576"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-77"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#nothingDataName"><span class="hs-identifier hs-var">nothingDataName</span></a></span><span>
</span><span id="line-78"></span><span>    </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#metaSelDataName"><span class="hs-identifier hs-var">metaSelDataName</span></a></span><span>
</span><span id="line-79"></span><span>        </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">Q Type
</span><a href="#local-6989586621679126577"><span class="hs-identifier hs-var">mbSelNameT</span></a></span><span>
</span><span id="line-80"></span><span>        </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">Unpackedness -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#promoteUnpackedness"><span class="hs-identifier hs-var">promoteUnpackedness</span></a></span><span> </span><span class="annot"><span class="annottext">Unpackedness
</span><a href="#local-6989586621679126580"><span class="hs-identifier hs-var">su</span></a></span><span>
</span><span id="line-81"></span><span>        </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">Strictness -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#promoteStrictness"><span class="hs-identifier hs-var">promoteStrictness</span></a></span><span> </span><span class="annot"><span class="annottext">Strictness
</span><a href="#local-6989586621679126579"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-82"></span><span>        </span><span class="annot"><span class="annottext">Q Type -&gt; Q Type -&gt; Q Type
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">DecidedStrictness -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#promoteDecidedStrictness"><span class="hs-identifier hs-var">promoteDecidedStrictness</span></a></span><span> </span><span class="annot"><span class="annottext">DecidedStrictness
</span><a href="#local-6989586621679126578"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-keyword">data</span><span> </span><span id="SelStrictInfo"><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#SelStrictInfo"><span class="hs-identifier hs-var">SelStrictInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SelStrictInfo"><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#SelStrictInfo"><span class="hs-identifier hs-var">SelStrictInfo</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Unpackedness</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Strictness</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecidedStrictness</span></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteUnpackedness"><span class="hs-identifier hs-type">promoteUnpackedness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Unpackedness</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-87"></span><span id="promoteUnpackedness"><span class="annot"><span class="annottext">promoteUnpackedness :: Unpackedness -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#promoteUnpackedness"><span class="hs-identifier hs-var hs-var">promoteUnpackedness</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnspecifiedUnpackedness</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#noSourceUnpackednessDataName"><span class="hs-identifier hs-var">noSourceUnpackednessDataName</span></a></span><span>
</span><span id="line-88"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteUnpackedness"><span class="hs-identifier hs-var">promoteUnpackedness</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">NoUnpack</span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#sourceNoUnpackDataName"><span class="hs-identifier hs-var">sourceNoUnpackDataName</span></a></span><span>
</span><span id="line-89"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteUnpackedness"><span class="hs-identifier hs-var">promoteUnpackedness</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Unpack</span></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#sourceUnpackDataName"><span class="hs-identifier hs-var">sourceUnpackDataName</span></a></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteStrictness"><span class="hs-identifier hs-type">promoteStrictness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Strictness</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-92"></span><span id="promoteStrictness"><span class="annot"><span class="annottext">promoteStrictness :: Strictness -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#promoteStrictness"><span class="hs-identifier hs-var hs-var">promoteStrictness</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">UnspecifiedStrictness</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#noSourceStrictnessDataName"><span class="hs-identifier hs-var">noSourceStrictnessDataName</span></a></span><span>
</span><span id="line-93"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteStrictness"><span class="hs-identifier hs-var">promoteStrictness</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Lazy</span></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#sourceLazyDataName"><span class="hs-identifier hs-var">sourceLazyDataName</span></a></span><span>
</span><span id="line-94"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteStrictness"><span class="hs-identifier hs-var">promoteStrictness</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">THAbs.Strict</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#sourceStrictDataName"><span class="hs-identifier hs-var">sourceStrictDataName</span></a></span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteDecidedStrictness"><span class="hs-identifier hs-type">promoteDecidedStrictness</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecidedStrictness</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-97"></span><span id="promoteDecidedStrictness"><span class="annot"><span class="annottext">promoteDecidedStrictness :: DecidedStrictness -&gt; Q Type
</span><a href="Generics.Deriving.TH.Post4_9.html#promoteDecidedStrictness"><span class="hs-identifier hs-var hs-var">promoteDecidedStrictness</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecidedLazy</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#decidedLazyDataName"><span class="hs-identifier hs-var">decidedLazyDataName</span></a></span><span>
</span><span id="line-98"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteDecidedStrictness"><span class="hs-identifier hs-var">promoteDecidedStrictness</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecidedStrict</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#decidedStrictDataName"><span class="hs-identifier hs-var">decidedStrictDataName</span></a></span><span>
</span><span id="line-99"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#promoteDecidedStrictness"><span class="hs-identifier hs-var">promoteDecidedStrictness</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DecidedUnpack</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q Type
</span><span class="hs-identifier hs-var">promotedT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#decidedUnpackDataName"><span class="hs-identifier hs-var">decidedUnpackDataName</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#reifySelStrictInfo"><span class="hs-identifier hs-type">reifySelStrictInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">FieldStrictness</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#SelStrictInfo"><span class="hs-identifier hs-type">SelStrictInfo</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-102"></span><span id="reifySelStrictInfo"><span class="annot"><span class="annottext">reifySelStrictInfo :: Name -&gt; [FieldStrictness] -&gt; Q [SelStrictInfo]
</span><a href="Generics.Deriving.TH.Post4_9.html#reifySelStrictInfo"><span class="hs-identifier hs-var hs-var">reifySelStrictInfo</span></a></span></span><span> </span><span id="local-6989586621679126551"><span class="annot"><span class="annottext">conName :: Name
</span><a href="#local-6989586621679126551"><span class="hs-identifier hs-var">conName</span></a></span></span><span> </span><span id="local-6989586621679126550"><span class="annot"><span class="annottext">fs :: [FieldStrictness]
</span><a href="#local-6989586621679126550"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-103"></span><span>    </span><span id="local-6989586621679126549"><span class="annot"><span class="annottext">[DecidedStrictness]
</span><a href="#local-6989586621679126549"><span class="hs-identifier hs-var">dcdStrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q [DecidedStrictness]
</span><span class="hs-identifier hs-var">reifyConStrictness</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126551"><span class="hs-identifier hs-var">conName</span></a></span><span>
</span><span id="line-104"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679126547"><span class="annot"><span class="annottext">srcUnpks :: [Unpackedness]
</span><a href="#local-6989586621679126547"><span class="hs-identifier hs-var hs-var">srcUnpks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldStrictness -&gt; Unpackedness)
-&gt; [FieldStrictness] -&gt; [Unpackedness]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FieldStrictness -&gt; Unpackedness
</span><span class="hs-identifier hs-var hs-var">fieldUnpackedness</span></span><span> </span><span class="annot"><span class="annottext">[FieldStrictness]
</span><a href="#local-6989586621679126550"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-105"></span><span>        </span><span id="local-6989586621679126545"><span class="annot"><span class="annottext">srcStrs :: [Strictness]
</span><a href="#local-6989586621679126545"><span class="hs-identifier hs-var hs-var">srcStrs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldStrictness -&gt; Strictness)
-&gt; [FieldStrictness] -&gt; [Strictness]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FieldStrictness -&gt; Strictness
</span><span class="hs-identifier hs-var hs-var">fieldStrictness</span></span><span>   </span><span class="annot"><span class="annottext">[FieldStrictness]
</span><a href="#local-6989586621679126550"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-106"></span><span>    </span><span class="annot"><span class="annottext">[SelStrictInfo] -&gt; Q [SelStrictInfo]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([SelStrictInfo] -&gt; Q [SelStrictInfo])
-&gt; [SelStrictInfo] -&gt; Q [SelStrictInfo]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Unpackedness -&gt; Strictness -&gt; DecidedStrictness -&gt; SelStrictInfo)
-&gt; [Unpackedness]
-&gt; [Strictness]
-&gt; [DecidedStrictness]
-&gt; [SelStrictInfo]
forall a b c d. (a -&gt; b -&gt; c -&gt; d) -&gt; [a] -&gt; [b] -&gt; [c] -&gt; [d]
</span><span class="hs-identifier hs-var">zipWith3</span></span><span> </span><span class="annot"><span class="annottext">Unpackedness -&gt; Strictness -&gt; DecidedStrictness -&gt; SelStrictInfo
</span><a href="Generics.Deriving.TH.Post4_9.html#SelStrictInfo"><span class="hs-identifier hs-var">SelStrictInfo</span></a></span><span> </span><span class="annot"><span class="annottext">[Unpackedness]
</span><a href="#local-6989586621679126547"><span class="hs-identifier hs-var">srcUnpks</span></a></span><span> </span><span class="annot"><span class="annottext">[Strictness]
</span><a href="#local-6989586621679126545"><span class="hs-identifier hs-var">srcStrs</span></a></span><span> </span><span class="annot"><span class="annottext">[DecidedStrictness]
</span><a href="#local-6989586621679126549"><span class="hs-identifier hs-var">dcdStrs</span></a></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-comment">-- | Given the type and the name (as string) for the type to derive,</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- generate the 'Data' instance, the 'Constructor' instances, and the 'Selector'</span><span>
</span><span id="line-110"></span><span class="hs-comment">-- instances.</span><span>
</span><span id="line-111"></span><span class="hs-comment">--</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- On GHC 7.11 and up, this functionality is no longer used in GHC generics,</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- so this function generates no declarations.</span><span>
</span><span id="line-114"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveMeta"><span class="hs-identifier hs-type">deriveMeta</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-115"></span><span id="deriveMeta"><span class="annot"><span class="annottext">deriveMeta :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.Post4_9.html#deriveMeta"><span class="hs-identifier hs-var hs-var">deriveMeta</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; Q [Dec]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span class="hs-comment">-- | Given a datatype name, derive a datatype and instance of class 'Datatype'.</span><span>
</span><span id="line-118"></span><span class="hs-comment">--</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- On GHC 7.11 and up, this functionality is no longer used in GHC generics,</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- so this function generates no declarations.</span><span>
</span><span id="line-121"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveData"><span class="hs-identifier hs-type">deriveData</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-122"></span><span id="deriveData"><span class="annot"><span class="annottext">deriveData :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.Post4_9.html#deriveData"><span class="hs-identifier hs-var hs-var">deriveData</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; Q [Dec]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-comment">-- | Given a datatype name, derive datatypes and</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- instances of class 'Constructor'.</span><span>
</span><span id="line-126"></span><span class="hs-comment">--</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- On GHC 7.11 and up, this functionality is no longer used in GHC generics,</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- so this function generates no declarations.</span><span>
</span><span id="line-129"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveConstructors"><span class="hs-identifier hs-type">deriveConstructors</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-130"></span><span id="deriveConstructors"><span class="annot"><span class="annottext">deriveConstructors :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.Post4_9.html#deriveConstructors"><span class="hs-identifier hs-var hs-var">deriveConstructors</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; Q [Dec]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-comment">-- | Given a datatype name, derive datatypes and instances of class 'Selector'.</span><span>
</span><span id="line-133"></span><span class="hs-comment">--</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- On GHC 7.11 and up, this functionality is no longer used in GHC generics,</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- so this function generates no declarations.</span><span>
</span><span id="line-136"></span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveSelectors"><span class="hs-identifier hs-type">deriveSelectors</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-137"></span><span id="deriveSelectors"><span class="annot"><span class="annottext">deriveSelectors :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.Post4_9.html#deriveSelectors"><span class="hs-identifier hs-var hs-var">deriveSelectors</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; Q [Dec]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-138"></span></pre></body></html>