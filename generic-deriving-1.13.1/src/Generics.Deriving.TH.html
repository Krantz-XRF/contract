<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24con2tag_5W7F6IZsCsO6BQRk8pfCE0"></span><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="hs-comment">{- |
Module      :  Generics.Deriving.TH
Copyright   :  (c) 2008--2009 Universiteit Utrecht
License     :  BSD3

Maintainer  :  generics@haskell.org
Stability   :  experimental
Portability :  non-portable

This module contains Template Haskell code that can be used to
automatically generate the boilerplate code for the generic deriving
library.

To use these functions, pass the name of a data type as an argument:

@
&amp;#123;-&amp;#35; LANGUAGE TemplateHaskell &amp;#35;-&amp;#125;

data Example a = Example Int Char a
$('deriveAll0'     ''Example) -- Derives Generic instance
$('deriveAll1'     ''Example) -- Derives Generic1 instance
$('deriveAll0And1' ''Example) -- Derives Generic and Generic1 instances
@

On GHC 7.4 or later, this code can also be used with data families. To derive
for a data family instance, pass the name of one of the instance's constructors:

@
&amp;#123;-&amp;#35; LANGUAGE FlexibleInstances, TemplateHaskell, TypeFamilies &amp;#35;-&amp;#125;

data family Family a b
newtype instance Family Char x = FamilyChar Char
data    instance Family Bool x = FamilyTrue | FamilyFalse

$('deriveAll0' 'FamilyChar) -- instance Generic (Family Char b) where ...
$('deriveAll1' 'FamilyTrue) -- instance Generic1 (Family Bool) where ...
-- Alternatively, one could type $(deriveAll1 'FamilyFalse)
@
-}</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-comment">-- Adapted from Generics.Regular.TH</span><span>
</span><span id="line-45"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Generics.Deriving.TH</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-46"></span><span>      </span><span class="annot"><span class="hs-comment">-- * @derive@- functions</span></span><span>
</span><span id="line-47"></span><span>      </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveMeta"><span class="hs-identifier">deriveMeta</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveData"><span class="hs-identifier">deriveData</span></a></span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveConstructors"><span class="hs-identifier">deriveConstructors</span></a></span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#deriveSelectors"><span class="hs-identifier">deriveSelectors</span></a></span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll"><span class="hs-identifier">deriveAll</span></a></span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll0"><span class="hs-identifier">deriveAll0</span></a></span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll1"><span class="hs-identifier">deriveAll1</span></a></span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll0And1"><span class="hs-identifier">deriveAll0And1</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRepresentable0"><span class="hs-identifier">deriveRepresentable0</span></a></span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRepresentable1"><span class="hs-identifier">deriveRepresentable1</span></a></span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRep0"><span class="hs-identifier">deriveRep0</span></a></span><span>
</span><span id="line-59"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRep1"><span class="hs-identifier">deriveRep1</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span>     </span><span class="annot"><span class="hs-comment">-- * @make@- functions</span></span><span>
</span><span id="line-62"></span><span>     </span><span class="annot"><span class="hs-comment">-- $make</span></span><span>
</span><span id="line-63"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep0Inline"><span class="hs-identifier">makeRep0Inline</span></a></span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep0"><span class="hs-identifier">makeRep0</span></a></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep0FromType"><span class="hs-identifier">makeRep0FromType</span></a></span><span>
</span><span id="line-66"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeFrom"><span class="hs-identifier">makeFrom</span></a></span><span>
</span><span id="line-67"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeFrom0"><span class="hs-identifier">makeFrom0</span></a></span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeTo"><span class="hs-identifier">makeTo</span></a></span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeTo0"><span class="hs-identifier">makeTo0</span></a></span><span>
</span><span id="line-70"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep1Inline"><span class="hs-identifier">makeRep1Inline</span></a></span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep1"><span class="hs-identifier">makeRep1</span></a></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep1FromType"><span class="hs-identifier">makeRep1FromType</span></a></span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeFrom1"><span class="hs-identifier">makeFrom1</span></a></span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeTo1"><span class="hs-identifier">makeTo1</span></a></span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>     </span><span class="annot"><span class="hs-comment">-- * Options</span></span><span>
</span><span id="line-77"></span><span>     </span><span class="hs-comment">-- $options</span><span>
</span><span id="line-78"></span><span>     </span><span class="hs-comment">-- ** Option types</span><span>
</span><span id="line-79"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier">Options</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#defaultOptions"><span class="hs-identifier">defaultOptions</span></a></span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#RepOptions"><span class="hs-identifier">RepOptions</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#defaultRepOptions"><span class="hs-identifier">defaultRepOptions</span></a></span><span>
</span><span id="line-83"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#KindSigOptions"><span class="hs-identifier">KindSigOptions</span></a></span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#defaultKindSigOptions"><span class="hs-identifier">defaultKindSigOptions</span></a></span><span>
</span><span id="line-85"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier">EmptyCaseOptions</span></a></span><span>
</span><span id="line-86"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#defaultEmptyCaseOptions"><span class="hs-identifier">defaultEmptyCaseOptions</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Functions with optional arguments</span></span><span>
</span><span id="line-89"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll0Options"><span class="hs-identifier">deriveAll0Options</span></a></span><span>
</span><span id="line-90"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll1Options"><span class="hs-identifier">deriveAll1Options</span></a></span><span>
</span><span id="line-91"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll0And1Options"><span class="hs-identifier">deriveAll0And1Options</span></a></span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRepresentable0Options"><span class="hs-identifier">deriveRepresentable0Options</span></a></span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRepresentable1Options"><span class="hs-identifier">deriveRepresentable1Options</span></a></span><span>
</span><span id="line-94"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRep0Options"><span class="hs-identifier">deriveRep0Options</span></a></span><span>
</span><span id="line-95"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRep1Options"><span class="hs-identifier">deriveRep1Options</span></a></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeFrom0Options"><span class="hs-identifier">makeFrom0Options</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeTo0Options"><span class="hs-identifier">makeTo0Options</span></a></span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeFrom1Options"><span class="hs-identifier">makeFrom1Options</span></a></span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#makeTo1Options"><span class="hs-identifier">makeTo1Options</span></a></span><span>
</span><span id="line-101"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&gt;=&gt;)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unless</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">when</span></span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">empty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromList</span></span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html"><span class="hs-identifier">Generics.Deriving.TH.Internal</span></a></span><span class="hs-cpp">
#if MIN_VERSION_base(4,9,0)
</span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html"><span class="hs-identifier">Generics.Deriving.TH.Post4_9</span></a></span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span>           </span><span class="hs-identifier">Generics.Deriving.TH.Pre4_9</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-114"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Datatype</span></span><span>
</span><span id="line-115"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Lib</span></span><span>
</span><span id="line-116"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH</span></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">{- $options
'Options' gives you a way to further tweak derived 'Generic' and 'Generic1' instances:

* 'RepOptions': By default, all derived 'Rep' and 'Rep1' type instances emit the code
  directly (the 'InlineRep' option). One can also choose to emit a separate type
  synonym for the 'Rep' type (this is the functionality of 'deriveRep0' and
  'deriveRep1') and define a 'Rep' instance in terms of that type synonym (the
  'TypeSynonymRep' option).

* 'KindSigOptions': By default, all derived instances will use explicit kind
  signatures (when the 'KindSigOptions' is 'True'). You might wish to set the
  'KindSigOptions' to 'False' if you want a 'Generic'/'Generic1' instance at
  a particular kind that GHC will infer correctly, but the functions in this
  module won't guess correctly. For example, the following example will only
  compile with 'KindSigOptions' set to 'False':

  @
  newtype Compose (f :: k2 -&gt; *) (g :: k1 -&gt; k2) (a :: k1) = Compose (f (g a))
  $('deriveAll1Options' False ''Compose)
  @

* 'EmptyCaseOptions': By default, all derived instances for empty data types
  (i.e., data types with no constructors) use 'error' in @from(1)@/@to(1)@.
  For instance, @data Empty@ would have this derived 'Generic' instance:

  @
  instance Generic Empty where
    type Rep Empty = D1 ('MetaData ...) V1
    from _ = M1 (error &quot;No generic representation for empty datatype Empty&quot;)
    to (M1 _) = error &quot;No generic representation for empty datatype Empty&quot;
  @

  This matches the behavior of GHC up until 8.4, when derived @Generic(1)@
  instances began to use the @EmptyCase@ extension. In GHC 8.4, the derived
  'Generic' instance for @Empty@ would instead be:

  @
  instance Generic Empty where
    type Rep Empty = D1 ('MetaData ...) V1
    from x = M1 (case x of {})
    to (M1 x) = case x of {}
  @

  This is a slightly better encoding since, for example, any divergent
  computations passed to 'from' will actually diverge (as opposed to before,
  where the result would always be a call to 'error'). On the other hand, using
  this encoding in @generic-deriving@ has one large drawback: it requires
  enabling @EmptyCase@, an extension which was only introduced in GHC 7.8
  (and only received reliable pattern-match coverage checking in 8.2).

  The 'EmptyCaseOptions' field controls whether code should be emitted that
  uses @EmptyCase@ (i.e., 'EmptyCaseOptions' set to 'True') or not ('False').
  The default value is 'False'. Note that even if set to 'True', this option
  has no effect on GHCs before 7.8, as @EmptyCase@ did not exist then.
-}</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-comment">-- | Additional options for configuring derived 'Generic'/'Generic1' instances</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- using Template Haskell.</span><span>
</span><span id="line-176"></span><span class="hs-keyword">data</span><span> </span><span id="Options"><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-var">Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Options"><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-var">Options</span></a></span></span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="repOptions"><span class="annot"><span class="annottext">Options -&gt; RepOptions
</span><a href="Generics.Deriving.TH.html#repOptions"><span class="hs-identifier hs-var hs-var">repOptions</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#RepOptions"><span class="hs-identifier hs-type">RepOptions</span></a></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="kindSigOptions"><span class="annot"><span class="annottext">Options -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.html#kindSigOptions"><span class="hs-identifier hs-var hs-var">kindSigOptions</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#KindSigOptions"><span class="hs-identifier hs-type">KindSigOptions</span></a></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="emptyCaseOptions"><span class="annot"><span class="annottext">Options -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.html#emptyCaseOptions"><span class="hs-identifier hs-var hs-var">emptyCaseOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679127204"><span id="local-6989586621679127206"><span class="annot"><span class="annottext">Options -&gt; Options -&gt; KindSigOptions
(Options -&gt; Options -&gt; KindSigOptions)
-&gt; (Options -&gt; Options -&gt; KindSigOptions) -&gt; Eq Options
forall a.
(a -&gt; a -&gt; KindSigOptions) -&gt; (a -&gt; a -&gt; KindSigOptions) -&gt; Eq a
/= :: Options -&gt; Options -&gt; KindSigOptions
$c/= :: Options -&gt; Options -&gt; KindSigOptions
== :: Options -&gt; Options -&gt; KindSigOptions
$c== :: Options -&gt; Options -&gt; KindSigOptions
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127188"><span id="local-6989586621679127190"><span id="local-6989586621679127192"><span id="local-6989586621679127194"><span id="local-6989586621679127196"><span id="local-6989586621679127198"><span id="local-6989586621679127200"><span class="annot"><span class="annottext">Eq Options
Eq Options =&gt;
(Options -&gt; Options -&gt; Ordering)
-&gt; (Options -&gt; Options -&gt; KindSigOptions)
-&gt; (Options -&gt; Options -&gt; KindSigOptions)
-&gt; (Options -&gt; Options -&gt; KindSigOptions)
-&gt; (Options -&gt; Options -&gt; KindSigOptions)
-&gt; (Options -&gt; Options -&gt; Options)
-&gt; (Options -&gt; Options -&gt; Options)
-&gt; Ord Options
Options -&gt; Options -&gt; KindSigOptions
Options -&gt; Options -&gt; Ordering
Options -&gt; Options -&gt; Options
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; KindSigOptions)
-&gt; (a -&gt; a -&gt; KindSigOptions)
-&gt; (a -&gt; a -&gt; KindSigOptions)
-&gt; (a -&gt; a -&gt; KindSigOptions)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Options -&gt; Options -&gt; Options
$cmin :: Options -&gt; Options -&gt; Options
max :: Options -&gt; Options -&gt; Options
$cmax :: Options -&gt; Options -&gt; Options
&gt;= :: Options -&gt; Options -&gt; KindSigOptions
$c&gt;= :: Options -&gt; Options -&gt; KindSigOptions
&gt; :: Options -&gt; Options -&gt; KindSigOptions
$c&gt; :: Options -&gt; Options -&gt; KindSigOptions
&lt;= :: Options -&gt; Options -&gt; KindSigOptions
$c&lt;= :: Options -&gt; Options -&gt; KindSigOptions
&lt; :: Options -&gt; Options -&gt; KindSigOptions
$c&lt; :: Options -&gt; Options -&gt; KindSigOptions
compare :: Options -&gt; Options -&gt; Ordering
$ccompare :: Options -&gt; Options -&gt; Ordering
$cp1Ord :: Eq Options
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127179"><span id="local-6989586621679127181"><span id="local-6989586621679127183"><span id="local-6989586621679127185"><span class="annot"><span class="annottext">ReadPrec [Options]
ReadPrec Options
Int -&gt; ReadS Options
ReadS [Options]
(Int -&gt; ReadS Options)
-&gt; ReadS [Options]
-&gt; ReadPrec Options
-&gt; ReadPrec [Options]
-&gt; Read Options
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [Options]
$creadListPrec :: ReadPrec [Options]
readPrec :: ReadPrec Options
$creadPrec :: ReadPrec Options
readList :: ReadS [Options]
$creadList :: ReadS [Options]
readsPrec :: Int -&gt; ReadS Options
$creadsPrec :: Int -&gt; ReadS Options
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127172"><span id="local-6989586621679127174"><span id="local-6989586621679127176"><span class="annot"><span class="annottext">Int -&gt; Options -&gt; ShowS
[Options] -&gt; ShowS
Options -&gt; String
(Int -&gt; Options -&gt; ShowS)
-&gt; (Options -&gt; String) -&gt; ([Options] -&gt; ShowS) -&gt; Show Options
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Options] -&gt; ShowS
$cshowList :: [Options] -&gt; ShowS
show :: Options -&gt; String
$cshow :: Options -&gt; String
showsPrec :: Int -&gt; Options -&gt; ShowS
$cshowsPrec :: Int -&gt; Options -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- | Sensible default 'Options'.</span><span>
</span><span id="line-183"></span><span class="annot"><a href="Generics.Deriving.TH.html#defaultOptions"><span class="hs-identifier hs-type">defaultOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-type">Options</span></a></span><span>
</span><span id="line-184"></span><span id="defaultOptions"><span class="annot"><span class="annottext">defaultOptions :: Options
</span><a href="Generics.Deriving.TH.html#defaultOptions"><span class="hs-identifier hs-var hs-var">defaultOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options :: RepOptions -&gt; KindSigOptions -&gt; KindSigOptions -&gt; Options
</span><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-type hs-type">Options</span></a></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">repOptions :: RepOptions
</span><a href="Generics.Deriving.TH.html#repOptions"><span class="hs-identifier hs-var">repOptions</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RepOptions
</span><a href="Generics.Deriving.TH.html#defaultRepOptions"><span class="hs-identifier hs-var">defaultRepOptions</span></a></span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">kindSigOptions :: KindSigOptions
</span><a href="Generics.Deriving.TH.html#kindSigOptions"><span class="hs-identifier hs-var">kindSigOptions</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="Generics.Deriving.TH.html#defaultKindSigOptions"><span class="hs-identifier hs-var">defaultKindSigOptions</span></a></span><span>
</span><span id="line-187"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">emptyCaseOptions :: KindSigOptions
</span><a href="Generics.Deriving.TH.html#emptyCaseOptions"><span class="hs-identifier hs-var">emptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="Generics.Deriving.TH.html#defaultEmptyCaseOptions"><span class="hs-identifier hs-var">defaultEmptyCaseOptions</span></a></span><span>
</span><span id="line-188"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-comment">-- | Configures whether 'Rep'/'Rep1' type instances should be defined inline in a</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- derived 'Generic'/'Generic1' instance ('InlineRep') or defined in terms of a</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- type synonym ('TypeSynonymRep').</span><span>
</span><span id="line-193"></span><span class="hs-keyword">data</span><span> </span><span id="RepOptions"><span class="annot"><a href="Generics.Deriving.TH.html#RepOptions"><span class="hs-identifier hs-var">RepOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="InlineRep"><span class="annot"><a href="Generics.Deriving.TH.html#InlineRep"><span class="hs-identifier hs-var">InlineRep</span></a></span></span><span>
</span><span id="line-194"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span id="TypeSynonymRep"><span class="annot"><a href="Generics.Deriving.TH.html#TypeSynonymRep"><span class="hs-identifier hs-var">TypeSynonymRep</span></a></span></span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679127164"><span id="local-6989586621679127166"><span class="annot"><span class="annottext">RepOptions -&gt; RepOptions -&gt; KindSigOptions
(RepOptions -&gt; RepOptions -&gt; KindSigOptions)
-&gt; (RepOptions -&gt; RepOptions -&gt; KindSigOptions) -&gt; Eq RepOptions
forall a.
(a -&gt; a -&gt; KindSigOptions) -&gt; (a -&gt; a -&gt; KindSigOptions) -&gt; Eq a
/= :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
$c/= :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
== :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
$c== :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127149"><span id="local-6989586621679127151"><span id="local-6989586621679127153"><span id="local-6989586621679127155"><span id="local-6989586621679127157"><span id="local-6989586621679127159"><span id="local-6989586621679127161"><span class="annot"><span class="annottext">Eq RepOptions
Eq RepOptions =&gt;
(RepOptions -&gt; RepOptions -&gt; Ordering)
-&gt; (RepOptions -&gt; RepOptions -&gt; KindSigOptions)
-&gt; (RepOptions -&gt; RepOptions -&gt; KindSigOptions)
-&gt; (RepOptions -&gt; RepOptions -&gt; KindSigOptions)
-&gt; (RepOptions -&gt; RepOptions -&gt; KindSigOptions)
-&gt; (RepOptions -&gt; RepOptions -&gt; RepOptions)
-&gt; (RepOptions -&gt; RepOptions -&gt; RepOptions)
-&gt; Ord RepOptions
RepOptions -&gt; RepOptions -&gt; KindSigOptions
RepOptions -&gt; RepOptions -&gt; Ordering
RepOptions -&gt; RepOptions -&gt; RepOptions
forall a.
Eq a =&gt;
(a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; KindSigOptions)
-&gt; (a -&gt; a -&gt; KindSigOptions)
-&gt; (a -&gt; a -&gt; KindSigOptions)
-&gt; (a -&gt; a -&gt; KindSigOptions)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: RepOptions -&gt; RepOptions -&gt; RepOptions
$cmin :: RepOptions -&gt; RepOptions -&gt; RepOptions
max :: RepOptions -&gt; RepOptions -&gt; RepOptions
$cmax :: RepOptions -&gt; RepOptions -&gt; RepOptions
&gt;= :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
$c&gt;= :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
&gt; :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
$c&gt; :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
&lt;= :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
$c&lt;= :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
&lt; :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
$c&lt; :: RepOptions -&gt; RepOptions -&gt; KindSigOptions
compare :: RepOptions -&gt; RepOptions -&gt; Ordering
$ccompare :: RepOptions -&gt; RepOptions -&gt; Ordering
$cp1Ord :: Eq RepOptions
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127141"><span id="local-6989586621679127143"><span id="local-6989586621679127145"><span id="local-6989586621679127147"><span class="annot"><span class="annottext">ReadPrec [RepOptions]
ReadPrec RepOptions
Int -&gt; ReadS RepOptions
ReadS [RepOptions]
(Int -&gt; ReadS RepOptions)
-&gt; ReadS [RepOptions]
-&gt; ReadPrec RepOptions
-&gt; ReadPrec [RepOptions]
-&gt; Read RepOptions
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [RepOptions]
$creadListPrec :: ReadPrec [RepOptions]
readPrec :: ReadPrec RepOptions
$creadPrec :: ReadPrec RepOptions
readList :: ReadS [RepOptions]
$creadList :: ReadS [RepOptions]
readsPrec :: Int -&gt; ReadS RepOptions
$creadsPrec :: Int -&gt; ReadS RepOptions
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127135"><span id="local-6989586621679127137"><span id="local-6989586621679127139"><span class="annot"><span class="annottext">Int -&gt; RepOptions -&gt; ShowS
[RepOptions] -&gt; ShowS
RepOptions -&gt; String
(Int -&gt; RepOptions -&gt; ShowS)
-&gt; (RepOptions -&gt; String)
-&gt; ([RepOptions] -&gt; ShowS)
-&gt; Show RepOptions
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [RepOptions] -&gt; ShowS
$cshowList :: [RepOptions] -&gt; ShowS
show :: RepOptions -&gt; String
$cshow :: RepOptions -&gt; String
showsPrec :: Int -&gt; RepOptions -&gt; ShowS
$cshowsPrec :: Int -&gt; RepOptions -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-comment">-- | 'InlineRep', a sensible default 'RepOptions'.</span><span>
</span><span id="line-198"></span><span class="annot"><a href="Generics.Deriving.TH.html#defaultRepOptions"><span class="hs-identifier hs-type">defaultRepOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#RepOptions"><span class="hs-identifier hs-type">RepOptions</span></a></span><span>
</span><span id="line-199"></span><span id="defaultRepOptions"><span class="annot"><span class="annottext">defaultRepOptions :: RepOptions
</span><a href="Generics.Deriving.TH.html#defaultRepOptions"><span class="hs-identifier hs-var hs-var">defaultRepOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RepOptions
</span><a href="Generics.Deriving.TH.html#InlineRep"><span class="hs-identifier hs-var">InlineRep</span></a></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">-- | 'True' if explicit kind signatures should be used in derived</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- 'Generic'/'Generic1' instances, 'False' otherwise.</span><span>
</span><span id="line-203"></span><span class="hs-keyword">type</span><span> </span><span id="KindSigOptions"><span class="annot"><a href="Generics.Deriving.TH.html#KindSigOptions"><span class="hs-identifier hs-var">KindSigOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="hs-comment">-- | 'True', a sensible default 'KindSigOptions'.</span><span>
</span><span id="line-206"></span><span class="annot"><a href="Generics.Deriving.TH.html#defaultKindSigOptions"><span class="hs-identifier hs-type">defaultKindSigOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#KindSigOptions"><span class="hs-identifier hs-type">KindSigOptions</span></a></span><span>
</span><span id="line-207"></span><span id="defaultKindSigOptions"><span class="annot"><span class="annottext">defaultKindSigOptions :: KindSigOptions
</span><a href="Generics.Deriving.TH.html#defaultKindSigOptions"><span class="hs-identifier hs-var hs-var">defaultKindSigOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-comment">-- | 'True' if generated code for empty data types should use the @EmptyCase@</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- extension, 'False' otherwise. This has no effect on GHCs before 7.8, since</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- @EmptyCase@ is only available in 7.8 or later.</span><span>
</span><span id="line-212"></span><span class="hs-keyword">type</span><span> </span><span id="EmptyCaseOptions"><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-var">EmptyCaseOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="hs-comment">-- | Sensible default 'EmptyCaseOptions'.</span><span>
</span><span id="line-215"></span><span class="annot"><a href="Generics.Deriving.TH.html#defaultEmptyCaseOptions"><span class="hs-identifier hs-type">defaultEmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span>
</span><span id="line-216"></span><span id="defaultEmptyCaseOptions"><span class="annot"><span class="annottext">defaultEmptyCaseOptions :: KindSigOptions
</span><a href="Generics.Deriving.TH.html#defaultEmptyCaseOptions"><span class="hs-identifier hs-var hs-var">defaultEmptyCaseOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">-- | A backwards-compatible synonym for 'deriveAll0'.</span><span>
</span><span id="line-219"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll"><span class="hs-identifier hs-type">deriveAll</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-220"></span><span id="deriveAll"><span class="annot"><span class="annottext">deriveAll :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAll"><span class="hs-identifier hs-var hs-var">deriveAll</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAll0"><span class="hs-identifier hs-var">deriveAll0</span></a></span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="hs-comment">-- | Given the type and the name (as string) for the type to derive,</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- generate the 'Data' instance, the 'Constructor' instances, the 'Selector'</span><span>
</span><span id="line-224"></span><span class="hs-comment">-- instances, and the 'Representable0' instance.</span><span>
</span><span id="line-225"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll0"><span class="hs-identifier hs-type">deriveAll0</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-226"></span><span id="deriveAll0"><span class="annot"><span class="annottext">deriveAll0 :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAll0"><span class="hs-identifier hs-var hs-var">deriveAll0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAll0Options"><span class="hs-identifier hs-var">deriveAll0Options</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="Generics.Deriving.TH.html#defaultOptions"><span class="hs-identifier hs-var">defaultOptions</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="hs-comment">-- | Like 'deriveAll0', but takes an 'Options' argument.</span><span>
</span><span id="line-229"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll0Options"><span class="hs-identifier hs-type">deriveAll0Options</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-type">Options</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-230"></span><span id="deriveAll0Options"><span class="annot"><span class="annottext">deriveAll0Options :: Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAll0Options"><span class="hs-identifier hs-var hs-var">deriveAll0Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAllCommon"><span class="hs-identifier hs-var">deriveAllCommon</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-comment">-- | Given the type and the name (as string) for the type to derive,</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- generate the 'Data' instance, the 'Constructor' instances, the 'Selector'</span><span>
</span><span id="line-234"></span><span class="hs-comment">-- instances, and the 'Representable1' instance.</span><span>
</span><span id="line-235"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll1"><span class="hs-identifier hs-type">deriveAll1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-236"></span><span id="deriveAll1"><span class="annot"><span class="annottext">deriveAll1 :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAll1"><span class="hs-identifier hs-var hs-var">deriveAll1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAll1Options"><span class="hs-identifier hs-var">deriveAll1Options</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="Generics.Deriving.TH.html#defaultOptions"><span class="hs-identifier hs-var">defaultOptions</span></a></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="hs-comment">-- | Like 'deriveAll1', but takes an 'Options' argument.</span><span>
</span><span id="line-239"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll1Options"><span class="hs-identifier hs-type">deriveAll1Options</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-type">Options</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-240"></span><span id="deriveAll1Options"><span class="annot"><span class="annottext">deriveAll1Options :: Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAll1Options"><span class="hs-identifier hs-var hs-var">deriveAll1Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAllCommon"><span class="hs-identifier hs-var">deriveAllCommon</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-comment">-- | Given the type and the name (as string) for the type to derive,</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- generate the 'Data' instance, the 'Constructor' instances, the 'Selector'</span><span>
</span><span id="line-244"></span><span class="hs-comment">-- instances, the 'Representable0' instance, and the 'Representable1' instance.</span><span>
</span><span id="line-245"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll0And1"><span class="hs-identifier hs-type">deriveAll0And1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-246"></span><span id="deriveAll0And1"><span class="annot"><span class="annottext">deriveAll0And1 :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAll0And1"><span class="hs-identifier hs-var hs-var">deriveAll0And1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAll0And1Options"><span class="hs-identifier hs-var">deriveAll0And1Options</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="Generics.Deriving.TH.html#defaultOptions"><span class="hs-identifier hs-var">defaultOptions</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="hs-comment">-- | Like 'deriveAll0And1', but takes an 'Options' argument.</span><span>
</span><span id="line-249"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAll0And1Options"><span class="hs-identifier hs-type">deriveAll0And1Options</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-type">Options</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-250"></span><span id="deriveAll0And1Options"><span class="annot"><span class="annottext">deriveAll0And1Options :: Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAll0And1Options"><span class="hs-identifier hs-var hs-var">deriveAll0And1Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAllCommon"><span class="hs-identifier hs-var">deriveAllCommon</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveAllCommon"><span class="hs-identifier hs-type">deriveAllCommon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-type">Options</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-253"></span><span id="deriveAllCommon"><span class="annot"><span class="annottext">deriveAllCommon :: KindSigOptions -&gt; KindSigOptions -&gt; Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveAllCommon"><span class="hs-identifier hs-var hs-var">deriveAllCommon</span></a></span></span><span> </span><span id="local-6989586621679127133"><span class="annot"><span class="annottext">generic :: KindSigOptions
</span><a href="#local-6989586621679127133"><span class="hs-identifier hs-var">generic</span></a></span></span><span> </span><span id="local-6989586621679127132"><span class="annot"><span class="annottext">generic1 :: KindSigOptions
</span><a href="#local-6989586621679127132"><span class="hs-identifier hs-var">generic1</span></a></span></span><span> </span><span id="local-6989586621679127131"><span class="annot"><span class="annottext">opts :: Options
</span><a href="#local-6989586621679127131"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679127130"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127130"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-254"></span><span>    </span><span id="local-6989586621679127129"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679127129"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.Post4_9.html#deriveMeta"><span class="hs-identifier hs-var">deriveMeta</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127130"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-255"></span><span>    </span><span id="local-6989586621679127128"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679127128"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679127133"><span class="hs-identifier hs-var">generic</span></a></span><span>
</span><span id="line-256"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepresentableCommon"><span class="hs-identifier hs-var">deriveRepresentableCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic"><span class="hs-identifier hs-var">Generic</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="#local-6989586621679127131"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127130"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-257"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; Q [Dec]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-258"></span><span>    </span><span id="local-6989586621679127125"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679127125"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679127132"><span class="hs-identifier hs-var">generic1</span></a></span><span>
</span><span id="line-259"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepresentableCommon"><span class="hs-identifier hs-var">deriveRepresentableCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic1"><span class="hs-identifier hs-var">Generic1</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="#local-6989586621679127131"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127130"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-260"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; Q [Dec]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-261"></span><span>    </span><span class="annot"><span class="annottext">[Dec] -&gt; Q [Dec]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679127129"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; [Dec] -&gt; [Dec]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679127128"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; [Dec] -&gt; [Dec]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679127125"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span class="hs-comment">-- | Given the type and the name (as string) for the Representable0 type</span><span>
</span><span id="line-264"></span><span class="hs-comment">-- synonym to derive, generate the 'Representable0' instance.</span><span>
</span><span id="line-265"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRepresentable0"><span class="hs-identifier hs-type">deriveRepresentable0</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-266"></span><span id="deriveRepresentable0"><span class="annot"><span class="annottext">deriveRepresentable0 :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepresentable0"><span class="hs-identifier hs-var hs-var">deriveRepresentable0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepresentable0Options"><span class="hs-identifier hs-var">deriveRepresentable0Options</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="Generics.Deriving.TH.html#defaultOptions"><span class="hs-identifier hs-var">defaultOptions</span></a></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="hs-comment">-- | Like 'deriveRepresentable0', but takes an 'Options' argument.</span><span>
</span><span id="line-269"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRepresentable0Options"><span class="hs-identifier hs-type">deriveRepresentable0Options</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-type">Options</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-270"></span><span id="deriveRepresentable0Options"><span class="annot"><span class="annottext">deriveRepresentable0Options :: Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepresentable0Options"><span class="hs-identifier hs-var hs-var">deriveRepresentable0Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepresentableCommon"><span class="hs-identifier hs-var">deriveRepresentableCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic"><span class="hs-identifier hs-var">Generic</span></a></span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="hs-comment">-- | Given the type and the name (as string) for the Representable1 type</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- synonym to derive, generate the 'Representable1' instance.</span><span>
</span><span id="line-274"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRepresentable1"><span class="hs-identifier hs-type">deriveRepresentable1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-275"></span><span id="deriveRepresentable1"><span class="annot"><span class="annottext">deriveRepresentable1 :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepresentable1"><span class="hs-identifier hs-var hs-var">deriveRepresentable1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepresentable1Options"><span class="hs-identifier hs-var">deriveRepresentable1Options</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="Generics.Deriving.TH.html#defaultOptions"><span class="hs-identifier hs-var">defaultOptions</span></a></span><span>
</span><span id="line-276"></span><span>
</span><span id="line-277"></span><span class="hs-comment">-- | Like 'deriveRepresentable1', but takes an 'Options' argument.</span><span>
</span><span id="line-278"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRepresentable1Options"><span class="hs-identifier hs-type">deriveRepresentable1Options</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-type">Options</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-279"></span><span id="deriveRepresentable1Options"><span class="annot"><span class="annottext">deriveRepresentable1Options :: Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepresentable1Options"><span class="hs-identifier hs-var hs-var">deriveRepresentable1Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepresentableCommon"><span class="hs-identifier hs-var">deriveRepresentableCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic1"><span class="hs-identifier hs-var">Generic1</span></a></span><span>
</span><span id="line-280"></span><span>
</span><span id="line-281"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRepresentableCommon"><span class="hs-identifier hs-type">deriveRepresentableCommon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-type">Options</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-282"></span><span id="deriveRepresentableCommon"><span class="annot"><span class="annottext">deriveRepresentableCommon :: GenericClass -&gt; Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepresentableCommon"><span class="hs-identifier hs-var hs-var">deriveRepresentableCommon</span></a></span></span><span> </span><span id="local-6989586621679127123"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679127123"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679127122"><span class="annot"><span class="annottext">opts :: Options
</span><a href="#local-6989586621679127122"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679127121"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127121"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-283"></span><span>    </span><span id="local-6989586621679127120"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679127120"><span class="hs-identifier hs-var">rep</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Options -&gt; RepOptions
</span><a href="Generics.Deriving.TH.html#repOptions"><span class="hs-identifier hs-var hs-var">repOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="#local-6989586621679127122"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">RepOptions -&gt; RepOptions -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RepOptions
</span><a href="Generics.Deriving.TH.html#InlineRep"><span class="hs-identifier hs-var">InlineRep</span></a></span><span>
</span><span id="line-284"></span><span>               </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; Q [Dec]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-285"></span><span>               </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; KindSigOptions -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepCommon"><span class="hs-identifier hs-var">deriveRepCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127123"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Options -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.html#kindSigOptions"><span class="hs-identifier hs-var hs-var">kindSigOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="#local-6989586621679127122"><span class="hs-identifier hs-var">opts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127121"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-286"></span><span>    </span><span id="local-6989586621679127118"><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679127118"><span class="hs-identifier hs-var">inst</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveInst"><span class="hs-identifier hs-var">deriveInst</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127123"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="#local-6989586621679127122"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127121"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-287"></span><span>    </span><span class="annot"><span class="annottext">[Dec] -&gt; Q [Dec]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679127120"><span class="hs-identifier hs-var">rep</span></a></span><span> </span><span class="annot"><span class="annottext">[Dec] -&gt; [Dec] -&gt; [Dec]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Dec]
</span><a href="#local-6989586621679127118"><span class="hs-identifier hs-var">inst</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="hs-comment">-- | Derive only the 'Rep0' type synonym. Not needed if 'deriveRepresentable0'</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- is used.</span><span>
</span><span id="line-291"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRep0"><span class="hs-identifier hs-type">deriveRep0</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-292"></span><span id="deriveRep0"><span class="annot"><span class="annottext">deriveRep0 :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRep0"><span class="hs-identifier hs-var hs-var">deriveRep0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRep0Options"><span class="hs-identifier hs-var">deriveRep0Options</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="Generics.Deriving.TH.html#defaultKindSigOptions"><span class="hs-identifier hs-var">defaultKindSigOptions</span></a></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-comment">-- | Like 'deriveRep0', but takes an 'KindSigOptions' argument.</span><span>
</span><span id="line-295"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRep0Options"><span class="hs-identifier hs-type">deriveRep0Options</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#KindSigOptions"><span class="hs-identifier hs-type">KindSigOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-296"></span><span id="deriveRep0Options"><span class="annot"><span class="annottext">deriveRep0Options :: KindSigOptions -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRep0Options"><span class="hs-identifier hs-var hs-var">deriveRep0Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; KindSigOptions -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepCommon"><span class="hs-identifier hs-var">deriveRepCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic"><span class="hs-identifier hs-var">Generic</span></a></span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span class="hs-comment">-- | Derive only the 'Rep1' type synonym. Not needed if 'deriveRepresentable1'</span><span>
</span><span id="line-299"></span><span class="hs-comment">-- is used.</span><span>
</span><span id="line-300"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRep1"><span class="hs-identifier hs-type">deriveRep1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-301"></span><span id="deriveRep1"><span class="annot"><span class="annottext">deriveRep1 :: Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRep1"><span class="hs-identifier hs-var hs-var">deriveRep1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRep1Options"><span class="hs-identifier hs-var">deriveRep1Options</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="Generics.Deriving.TH.html#defaultKindSigOptions"><span class="hs-identifier hs-var">defaultKindSigOptions</span></a></span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="hs-comment">-- | Like 'deriveRep1', but takes an 'KindSigOptions' argument.</span><span>
</span><span id="line-304"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRep1Options"><span class="hs-identifier hs-type">deriveRep1Options</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#KindSigOptions"><span class="hs-identifier hs-type">KindSigOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-305"></span><span id="deriveRep1Options"><span class="annot"><span class="annottext">deriveRep1Options :: KindSigOptions -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRep1Options"><span class="hs-identifier hs-var hs-var">deriveRep1Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; KindSigOptions -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepCommon"><span class="hs-identifier hs-var">deriveRepCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic1"><span class="hs-identifier hs-var">Generic1</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveRepCommon"><span class="hs-identifier hs-type">deriveRepCommon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#KindSigOptions"><span class="hs-identifier hs-type">KindSigOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-308"></span><span id="deriveRepCommon"><span class="annot"><span class="annottext">deriveRepCommon :: GenericClass -&gt; KindSigOptions -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveRepCommon"><span class="hs-identifier hs-var hs-var">deriveRepCommon</span></a></span></span><span> </span><span id="local-6989586621679127116"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679127116"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679127115"><span class="annot"><span class="annottext">useKindSigs :: KindSigOptions
</span><a href="#local-6989586621679127115"><span class="hs-identifier hs-var">useKindSigs</span></a></span></span><span> </span><span id="local-6989586621679127114"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127114"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-309"></span><span>  </span><span id="local-6989586621679127113"><span class="annot"><span class="annottext">Either String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
</span><a href="#local-6989586621679127113"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Q (Either
        String (Name, [Type], [ConstructorInfo], DatatypeVariant_))
</span><a href="Generics.Deriving.TH.Internal.html#reifyDataInfo"><span class="hs-identifier hs-var">reifyDataInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127114"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679127111"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679127111"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127110"><span class="annot"><span class="annottext">instTys :: [Type]
</span><a href="#local-6989586621679127110"><span class="hs-identifier hs-var">instTys</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127109"><span class="annot"><span class="annottext">cons :: [ConstructorInfo]
</span><a href="#local-6989586621679127109"><span class="hs-identifier hs-var">cons</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127108"><span class="annot"><span class="annottext">dv :: DatatypeVariant_
</span><a href="#local-6989586621679127108"><span class="hs-identifier hs-var">dv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_))
-&gt; ((Name, [Type], [ConstructorInfo], DatatypeVariant_)
    -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_))
-&gt; Either
     String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
-&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(Name, [Type], [ConstructorInfo], DatatypeVariant_)
-&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">Either String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
</span><a href="#local-6989586621679127113"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-comment">-- See Note [Forcing buildTypeInstance]</span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-glyph">!</span><span class="annot"><span class="annottext">(Type, Type)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; KindSigOptions -&gt; Name -&gt; [Type] -&gt; Q (Type, Type)
</span><a href="Generics.Deriving.TH.html#buildTypeInstance"><span class="hs-identifier hs-var">buildTypeInstance</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127116"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679127115"><span class="hs-identifier hs-var">useKindSigs</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127111"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679127110"><span class="hs-identifier hs-var">instTys</span></a></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span>  </span><span class="hs-comment">-- See Note [Kind signatures in derived instances]</span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679127103"><span class="annot"><span class="annottext">tySynVars :: [TyVarBndr]
</span><a href="#local-6989586621679127103"><span class="hs-identifier hs-var">tySynVars</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127102"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679127102"><span class="hs-identifier hs-var">gk</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; [Type] -&gt; ([TyVarBndr], GenericKind)
</span><a href="Generics.Deriving.TH.Internal.html#genericKind"><span class="hs-identifier hs-var">genericKind</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127116"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679127110"><span class="hs-identifier hs-var">instTys</span></a></span><span>
</span><span id="line-316"></span><span>      </span><span id="local-6989586621679127100"><span class="annot"><span class="annottext">tySynVars' :: [TyVarBndr]
</span><a href="#local-6989586621679127100"><span class="hs-identifier hs-var hs-var">tySynVars'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679127115"><span class="hs-identifier hs-var">useKindSigs</span></a></span><span>
</span><span id="line-317"></span><span>                      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679127103"><span class="hs-identifier hs-var">tySynVars</span></a></span><span>
</span><span id="line-318"></span><span>                      </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">(TyVarBndr -&gt; TyVarBndr) -&gt; [TyVarBndr] -&gt; [TyVarBndr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">TyVarBndr -&gt; TyVarBndr
</span><a href="Generics.Deriving.TH.Internal.html#unKindedTV"><span class="hs-identifier hs-var">unKindedTV</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679127103"><span class="hs-identifier hs-var">tySynVars</span></a></span><span>
</span><span id="line-319"></span><span>  </span><span class="annot"><span class="annottext">(Dec -&gt; [Dec]) -&gt; Q Dec -&gt; Q [Dec]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dec -&gt; [Dec] -&gt; [Dec]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Q Dec -&gt; Q [Dec]) -&gt; Q Dec -&gt; Q [Dec]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; [TyVarBndr] -&gt; TypeQ -&gt; Q Dec
</span><span class="hs-identifier hs-var">tySynD</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericClass -&gt; DatatypeVariant_ -&gt; Name -&gt; Name
</span><a href="Generics.Deriving.TH.html#genRepName"><span class="hs-identifier hs-var">genRepName</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127116"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679127108"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127111"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span>                      </span><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679127100"><span class="hs-identifier hs-var">tySynVars'</span></a></span><span>
</span><span id="line-321"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericKind
-&gt; DatatypeVariant_
-&gt; Name
-&gt; TypeSubst
-&gt; [ConstructorInfo]
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repType"><span class="hs-identifier hs-var">repType</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679127102"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679127108"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127111"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSubst
forall k a. Map k a
</span><span class="hs-identifier hs-var">Map.empty</span></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679127109"><span class="hs-identifier hs-var">cons</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveInst"><span class="hs-identifier hs-type">deriveInst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-type">Options</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-324"></span><span id="deriveInst"><span class="annot"><span class="annottext">deriveInst :: GenericClass -&gt; Options -&gt; Name -&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveInst"><span class="hs-identifier hs-var hs-var">deriveInst</span></a></span></span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Generic"><span class="hs-identifier hs-type">Generic</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Name
-&gt; GenericClass
-&gt; Name
-&gt; Name
-&gt; Options
-&gt; Name
-&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveInstCommon"><span class="hs-identifier hs-var">deriveInstCommon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#genericTypeName"><span class="hs-identifier hs-var">genericTypeName</span></a></span><span>  </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#repTypeName"><span class="hs-identifier hs-var">repTypeName</span></a></span><span>  </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic"><span class="hs-identifier hs-var">Generic</span></a></span><span>  </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#fromValName"><span class="hs-identifier hs-var">fromValName</span></a></span><span>  </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#toValName"><span class="hs-identifier hs-var">toValName</span></a></span><span>
</span><span id="line-325"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveInst"><span class="hs-identifier hs-var">deriveInst</span></a></span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Generic1"><span class="hs-identifier hs-type">Generic1</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Name
-&gt; GenericClass
-&gt; Name
-&gt; Name
-&gt; Options
-&gt; Name
-&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveInstCommon"><span class="hs-identifier hs-var">deriveInstCommon</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#generic1TypeName"><span class="hs-identifier hs-var">generic1TypeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#rep1TypeName"><span class="hs-identifier hs-var">rep1TypeName</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic1"><span class="hs-identifier hs-var">Generic1</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#from1ValName"><span class="hs-identifier hs-var">from1ValName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#to1ValName"><span class="hs-identifier hs-var">to1ValName</span></a></span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span class="annot"><a href="Generics.Deriving.TH.html#deriveInstCommon"><span class="hs-identifier hs-type">deriveInstCommon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-328"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-329"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span>
</span><span id="line-330"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-331"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-332"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#Options"><span class="hs-identifier hs-type">Options</span></a></span><span>
</span><span id="line-333"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-334"></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Dec</span></span><span class="hs-special">]</span><span>
</span><span id="line-335"></span><span id="deriveInstCommon"><span class="annot"><span class="annottext">deriveInstCommon :: Name
-&gt; Name
-&gt; GenericClass
-&gt; Name
-&gt; Name
-&gt; Options
-&gt; Name
-&gt; Q [Dec]
</span><a href="Generics.Deriving.TH.html#deriveInstCommon"><span class="hs-identifier hs-var hs-var">deriveInstCommon</span></a></span></span><span> </span><span id="local-6989586621679127086"><span class="annot"><span class="annottext">genericName :: Name
</span><a href="#local-6989586621679127086"><span class="hs-identifier hs-var">genericName</span></a></span></span><span> </span><span id="local-6989586621679127085"><span class="annot"><span class="annottext">repName :: Name
</span><a href="#local-6989586621679127085"><span class="hs-identifier hs-var">repName</span></a></span></span><span> </span><span id="local-6989586621679127084"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679127084"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679127083"><span class="annot"><span class="annottext">fromName :: Name
</span><a href="#local-6989586621679127083"><span class="hs-identifier hs-var">fromName</span></a></span></span><span> </span><span id="local-6989586621679127082"><span class="annot"><span class="annottext">toName :: Name
</span><a href="#local-6989586621679127082"><span class="hs-identifier hs-var">toName</span></a></span></span><span> </span><span id="local-6989586621679127081"><span class="annot"><span class="annottext">opts :: Options
</span><a href="#local-6989586621679127081"><span class="hs-identifier hs-var">opts</span></a></span></span><span> </span><span id="local-6989586621679127080"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127080"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-336"></span><span>  </span><span id="local-6989586621679127079"><span class="annot"><span class="annottext">Either String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
</span><a href="#local-6989586621679127079"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Q (Either
        String (Name, [Type], [ConstructorInfo], DatatypeVariant_))
</span><a href="Generics.Deriving.TH.Internal.html#reifyDataInfo"><span class="hs-identifier hs-var">reifyDataInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127080"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-337"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679127078"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679127078"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127077"><span class="annot"><span class="annottext">instTys :: [Type]
</span><a href="#local-6989586621679127077"><span class="hs-identifier hs-var">instTys</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127076"><span class="annot"><span class="annottext">cons :: [ConstructorInfo]
</span><a href="#local-6989586621679127076"><span class="hs-identifier hs-var">cons</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127075"><span class="annot"><span class="annottext">dv :: DatatypeVariant_
</span><a href="#local-6989586621679127075"><span class="hs-identifier hs-var">dv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_))
-&gt; ((Name, [Type], [ConstructorInfo], DatatypeVariant_)
    -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_))
-&gt; Either
     String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
-&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(Name, [Type], [ConstructorInfo], DatatypeVariant_)
-&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">Either String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
</span><a href="#local-6989586621679127079"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-338"></span><span>      </span><span id="local-6989586621679127074"><span class="annot"><span class="annottext">useKindSigs :: KindSigOptions
</span><a href="#local-6989586621679127074"><span class="hs-identifier hs-var hs-var">useKindSigs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.html#kindSigOptions"><span class="hs-identifier hs-var hs-var">kindSigOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="#local-6989586621679127081"><span class="hs-identifier hs-var">opts</span></a></span><span>
</span><span id="line-339"></span><span>  </span><span class="hs-comment">-- See Note [Forcing buildTypeInstance]</span><span>
</span><span id="line-340"></span><span>  </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span id="local-6989586621679127073"><span class="annot"><span class="annottext">origTy :: Type
</span><a href="#local-6989586621679127073"><span class="hs-identifier hs-var">origTy</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127072"><span class="annot"><span class="annottext">origKind :: Type
</span><a href="#local-6989586621679127072"><span class="hs-identifier hs-var">origKind</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; KindSigOptions -&gt; Name -&gt; [Type] -&gt; Q (Type, Type)
</span><a href="Generics.Deriving.TH.html#buildTypeInstance"><span class="hs-identifier hs-var">buildTypeInstance</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127084"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679127074"><span class="hs-identifier hs-var">useKindSigs</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127078"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679127077"><span class="hs-identifier hs-var">instTys</span></a></span><span>
</span><span id="line-341"></span><span>  </span><span id="local-6989586621679127071"><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679127071"><span class="hs-identifier hs-var">tyInsRHS</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Options -&gt; RepOptions
</span><a href="Generics.Deriving.TH.html#repOptions"><span class="hs-identifier hs-var hs-var">repOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="#local-6989586621679127081"><span class="hs-identifier hs-var">opts</span></a></span><span> </span><span class="annot"><span class="annottext">RepOptions -&gt; RepOptions -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">RepOptions
</span><a href="Generics.Deriving.TH.html#InlineRep"><span class="hs-identifier hs-var">InlineRep</span></a></span><span>
</span><span id="line-342"></span><span>                 </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">GenericClass
-&gt; DatatypeVariant_
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Type
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepInline"><span class="hs-identifier hs-var">makeRepInline</span></a></span><span>   </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127084"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679127075"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127078"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679127077"><span class="hs-identifier hs-var">instTys</span></a></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679127076"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679127073"><span class="hs-identifier hs-var">origTy</span></a></span><span>
</span><span id="line-343"></span><span>                 </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; DatatypeVariant_ -&gt; Name -&gt; Type -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepTySynApp"><span class="hs-identifier hs-var">makeRepTySynApp</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127084"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679127075"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127078"><span class="hs-identifier hs-var">name</span></a></span><span>              </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679127073"><span class="hs-identifier hs-var">origTy</span></a></span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679127068"><span class="annot"><span class="annottext">origSigTy :: Type
</span><a href="#local-6989586621679127068"><span class="hs-identifier hs-var hs-var">origSigTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679127074"><span class="hs-identifier hs-var">useKindSigs</span></a></span><span>
</span><span id="line-346"></span><span>                     </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; Type
</span><span class="hs-identifier hs-var">SigT</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679127073"><span class="hs-identifier hs-var">origTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679127072"><span class="hs-identifier hs-var">origKind</span></a></span><span>
</span><span id="line-347"></span><span>                     </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679127073"><span class="hs-identifier hs-var">origTy</span></a></span><span>
</span><span id="line-348"></span><span>  </span><span id="local-6989586621679127066"><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621679127066"><span class="hs-identifier hs-var">tyIns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe [Q TyVarBndr] -&gt; [TypeQ] -&gt; TypeQ -&gt; Q Dec
</span><span class="hs-identifier hs-var">tySynInstDCompat</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127085"><span class="hs-identifier hs-var">repName</span></a></span><span class="hs-cpp">
#if MIN_VERSION_th_abstraction(0,3,0)
</span><span>                            </span><span class="annot"><span class="annottext">Maybe [Q TyVarBndr]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-cpp">
#endif
</span><span>                            </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Type -&gt; TypeQ
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679127068"><span class="hs-identifier hs-var">origSigTy</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; TypeQ
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679127071"><span class="hs-identifier hs-var">tyInsRHS</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679127064"><span class="annot"><span class="annottext">ecOptions :: KindSigOptions
</span><a href="#local-6989586621679127064"><span class="hs-identifier hs-var hs-var">ecOptions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.html#emptyCaseOptions"><span class="hs-identifier hs-var hs-var">emptyCaseOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Options
</span><a href="#local-6989586621679127081"><span class="hs-identifier hs-var">opts</span></a></span><span>
</span><span id="line-354"></span><span>      </span><span id="local-6989586621679127063"><span class="annot"><span class="annottext">mkBody :: (GenericClass
 -&gt; KindSigOptions
 -&gt; Int
 -&gt; Int
 -&gt; Name
 -&gt; [Type]
 -&gt; [ConstructorInfo]
 -&gt; Q Match)
-&gt; [ClauseQ]
</span><a href="#local-6989586621679127063"><span class="hs-identifier hs-var hs-var">mkBody</span></a></span></span><span> </span><span id="local-6989586621679127062"><span class="annot"><span class="annottext">maker :: GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="#local-6989586621679127062"><span class="hs-identifier hs-var">maker</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[PatQ] -&gt; BodyQ -&gt; [Q Dec] -&gt; ClauseQ
</span><span class="hs-identifier hs-var">clause</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExpQ -&gt; BodyQ
</span><span class="hs-identifier hs-var">normalB</span></span><span> </span><span class="annot"><span class="annottext">(ExpQ -&gt; BodyQ) -&gt; ExpQ -&gt; BodyQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-355"></span><span>        </span><span class="annot"><span class="annottext">GenericClass
-&gt; KindSigOptions
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; (GenericClass
    -&gt; KindSigOptions
    -&gt; Int
    -&gt; Int
    -&gt; Name
    -&gt; [Type]
    -&gt; [ConstructorInfo]
    -&gt; Q Match)
-&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#mkCaseExp"><span class="hs-identifier hs-var">mkCaseExp</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127084"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679127064"><span class="hs-identifier hs-var">ecOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127078"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679127077"><span class="hs-identifier hs-var">instTys</span></a></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679127076"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="#local-6989586621679127062"><span class="hs-identifier hs-var">maker</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-356"></span><span>      </span><span id="local-6989586621679127060"><span class="annot"><span class="annottext">fcs :: [ClauseQ]
</span><a href="#local-6989586621679127060"><span class="hs-identifier hs-var hs-var">fcs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenericClass
 -&gt; KindSigOptions
 -&gt; Int
 -&gt; Int
 -&gt; Name
 -&gt; [Type]
 -&gt; [ConstructorInfo]
 -&gt; Q Match)
-&gt; [ClauseQ]
</span><a href="#local-6989586621679127063"><span class="hs-identifier hs-var">mkBody</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="Generics.Deriving.TH.html#mkFrom"><span class="hs-identifier hs-var">mkFrom</span></a></span><span>
</span><span id="line-357"></span><span>      </span><span id="local-6989586621679127058"><span class="annot"><span class="annottext">tcs :: [ClauseQ]
</span><a href="#local-6989586621679127058"><span class="hs-identifier hs-var hs-var">tcs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenericClass
 -&gt; KindSigOptions
 -&gt; Int
 -&gt; Int
 -&gt; Name
 -&gt; [Type]
 -&gt; [ConstructorInfo]
 -&gt; Q Match)
-&gt; [ClauseQ]
</span><a href="#local-6989586621679127063"><span class="hs-identifier hs-var">mkBody</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="Generics.Deriving.TH.html#mkTo"><span class="hs-identifier hs-var">mkTo</span></a></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span>  </span><span class="annot"><span class="annottext">(Dec -&gt; [Dec]) -&gt; Q Dec -&gt; Q [Dec]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dec -&gt; [Dec] -&gt; [Dec]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Q Dec -&gt; Q [Dec]) -&gt; Q Dec -&gt; Q [Dec]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-360"></span><span>    </span><span class="annot"><span class="annottext">CxtQ -&gt; TypeQ -&gt; [Q Dec] -&gt; Q Dec
</span><span class="hs-identifier hs-var">instanceD</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[TypeQ] -&gt; CxtQ
</span><span class="hs-identifier hs-var">cxt</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127086"><span class="hs-identifier hs-var">genericName</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679127068"><span class="hs-identifier hs-var">origSigTy</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-361"></span><span>                         </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Dec -&gt; Q Dec
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Dec
</span><a href="#local-6989586621679127066"><span class="hs-identifier hs-var">tyIns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [ClauseQ] -&gt; Q Dec
</span><span class="hs-identifier hs-var">funD</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127083"><span class="hs-identifier hs-var">fromName</span></a></span><span> </span><span class="annot"><span class="annottext">[ClauseQ]
</span><a href="#local-6989586621679127060"><span class="hs-identifier hs-var">fcs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [ClauseQ] -&gt; Q Dec
</span><span class="hs-identifier hs-var">funD</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127082"><span class="hs-identifier hs-var">toName</span></a></span><span> </span><span class="annot"><span class="annottext">[ClauseQ]
</span><a href="#local-6989586621679127058"><span class="hs-identifier hs-var">tcs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-362"></span><span>
</span><span id="line-363"></span><span class="hs-comment">{- $make

There are some data types for which the Template Haskell deriver functions in
this module are not sophisticated enough to infer the correct 'Generic' or
'Generic1' instances. As an example, consider this data type:

@
newtype Fix f a = Fix (f (Fix f a))
@

A proper 'Generic1' instance would look like this:

@
instance Functor f =&gt; Generic1 (Fix f) where ...
@

Unfortunately, 'deriveRepresentable1' cannot infer the @Functor f@ constraint.
One can still define a 'Generic1' instance for @Fix@, however, by using the
functions in this module that are prefixed with @make@-. For example:

@
$('deriveMeta' ''Fix)
$('deriveRep1' ''Fix)
instance Functor f =&gt; Generic1 (Fix f) where
  type Rep1 (Fix f) = $('makeRep1Inline' ''Fix [t| Fix f |])
  from1 = $('makeFrom1' ''Fix)
  to1   = $('makeTo1'   ''Fix)
@

Note that due to the lack of type-level lambdas in Haskell, one must manually
apply @'makeRep1Inline' ''Fix@ to the type @Fix f@.

Be aware that there is a bug on GHC 7.0, 7.2, and 7.4 which might prevent you from
using 'makeRep0Inline' and 'makeRep1Inline'. In the @Fix@ example above, you
would experience the following error:

@
    Kinded thing `f' used as a type
    In the Template Haskell quotation [t| Fix f |]
@

Then a workaround is to use 'makeRep1' instead, which requires you to:

1. Invoke 'deriveRep1' beforehand

2. Pass as arguments the type variables that occur in the instance, in order
   from left to right, topologically sorted, excluding duplicates. (Normally,
   'makeRep1Inline' would figure this out for you.)

Using the above example:

@
$('deriveMeta' ''Fix)
$('deriveRep1' ''Fix)
instance Functor f =&gt; Generic1 (Fix f) where
  type Rep1 (Fix f) = $('makeRep1' ''Fix) f
  from1 = $('makeFrom1' ''Fix)
  to1   = $('makeTo1'   ''Fix)
@

On GHC 7.4, you might encounter more complicated examples involving data
families. For instance:

@
data family Fix a b c d
newtype instance Fix b (f c) (g b) a = Fix (f (Fix b (f c) (g b) a))

$('deriveMeta' ''Fix)
$('deriveRep1' ''Fix)
instance Functor f =&gt; Generic1 (Fix b (f c) (g b)) where
  type Rep1 (Fix b (f c) (g b)) = $('makeRep1' 'Fix) b f c g
  from1 = $('makeFrom1' 'Fix)
  to1   = $('makeTo1'   'Fix)
@

Note that you don't pass @b@ twice, only once.
-}</span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span class="hs-comment">-- | Generates the full 'Rep' type inline. Since this type can be quite</span><span>
</span><span id="line-442"></span><span class="hs-comment">-- large, it is recommended you only use this to define 'Rep', e.g.,</span><span>
</span><span id="line-443"></span><span class="hs-comment">--</span><span>
</span><span id="line-444"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-445"></span><span class="hs-comment">-- type Rep (Foo (a :: k) b) = $('makeRep0Inline' ''Foo [t| Foo (a :: k) b |])</span><span>
</span><span id="line-446"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-447"></span><span class="hs-comment">--</span><span>
</span><span id="line-448"></span><span class="hs-comment">-- You can then simply refer to @Rep (Foo a b)@ elsewhere.</span><span>
</span><span id="line-449"></span><span class="hs-comment">--</span><span>
</span><span id="line-450"></span><span class="hs-comment">-- Note that the type passed as an argument to 'makeRep0Inline' must match the</span><span>
</span><span id="line-451"></span><span class="hs-comment">-- type argument of 'Rep' exactly, even up to including the explicit kind</span><span>
</span><span id="line-452"></span><span class="hs-comment">-- signature on @a@. This is due to a limitation of Template Haskell&#8212;without</span><span>
</span><span id="line-453"></span><span class="hs-comment">-- the kind signature, 'makeRep0Inline' has no way of figuring out the kind of</span><span>
</span><span id="line-454"></span><span class="hs-comment">-- @a@, and the generated type might be completely wrong as a result!</span><span>
</span><span id="line-455"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep0Inline"><span class="hs-identifier hs-type">makeRep0Inline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-456"></span><span id="makeRep0Inline"><span class="annot"><span class="annottext">makeRep0Inline :: Name -&gt; TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRep0Inline"><span class="hs-identifier hs-var hs-var">makeRep0Inline</span></a></span></span><span> </span><span id="local-6989586621679127055"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127055"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; RepOptions -&gt; Name -&gt; Maybe TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepCommon"><span class="hs-identifier hs-var">makeRepCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic"><span class="hs-identifier hs-var">Generic</span></a></span><span> </span><span class="annot"><span class="annottext">RepOptions
</span><a href="Generics.Deriving.TH.html#InlineRep"><span class="hs-identifier hs-var">InlineRep</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127055"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe TypeQ -&gt; TypeQ) -&gt; (TypeQ -&gt; Maybe TypeQ) -&gt; TypeQ -&gt; TypeQ
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; Maybe TypeQ
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span>
</span><span id="line-457"></span><span>
</span><span id="line-458"></span><span class="hs-comment">-- | Generates the full 'Rep1' type inline. Since this type can be quite</span><span>
</span><span id="line-459"></span><span class="hs-comment">-- large, it is recommended you only use this to define 'Rep1', e.g.,</span><span>
</span><span id="line-460"></span><span class="hs-comment">--</span><span>
</span><span id="line-461"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-462"></span><span class="hs-comment">-- type Rep1 (Foo (a :: k)) = $('makeRep0Inline' ''Foo [t| Foo (a :: k) |])</span><span>
</span><span id="line-463"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-464"></span><span class="hs-comment">--</span><span>
</span><span id="line-465"></span><span class="hs-comment">-- You can then simply refer to @Rep1 (Foo a)@ elsewhere.</span><span>
</span><span id="line-466"></span><span class="hs-comment">--</span><span>
</span><span id="line-467"></span><span class="hs-comment">-- Note that the type passed as an argument to 'makeRep1Inline' must match the</span><span>
</span><span id="line-468"></span><span class="hs-comment">-- type argument of 'Rep1' exactly, even up to including the explicit kind</span><span>
</span><span id="line-469"></span><span class="hs-comment">-- signature on @a@. This is due to a limitation of Template Haskell&#8212;without</span><span>
</span><span id="line-470"></span><span class="hs-comment">-- the kind signature, 'makeRep1Inline' has no way of figuring out the kind of</span><span>
</span><span id="line-471"></span><span class="hs-comment">-- @a@, and the generated type might be completely wrong as a result!</span><span>
</span><span id="line-472"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep1Inline"><span class="hs-identifier hs-type">makeRep1Inline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-473"></span><span id="makeRep1Inline"><span class="annot"><span class="annottext">makeRep1Inline :: Name -&gt; TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRep1Inline"><span class="hs-identifier hs-var hs-var">makeRep1Inline</span></a></span></span><span> </span><span id="local-6989586621679127052"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127052"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; RepOptions -&gt; Name -&gt; Maybe TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepCommon"><span class="hs-identifier hs-var">makeRepCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic1"><span class="hs-identifier hs-var">Generic1</span></a></span><span> </span><span class="annot"><span class="annottext">RepOptions
</span><a href="Generics.Deriving.TH.html#InlineRep"><span class="hs-identifier hs-var">InlineRep</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127052"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe TypeQ -&gt; TypeQ) -&gt; (TypeQ -&gt; Maybe TypeQ) -&gt; TypeQ -&gt; TypeQ
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; Maybe TypeQ
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span class="hs-comment">-- | Generates the 'Rep' type synonym constructor (as opposed to 'deriveRep0',</span><span>
</span><span id="line-476"></span><span class="hs-comment">-- which generates the type synonym declaration). After splicing it into</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- Haskell source, it expects types as arguments. For example:</span><span>
</span><span id="line-478"></span><span class="hs-comment">--</span><span>
</span><span id="line-479"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-480"></span><span class="hs-comment">-- type Rep (Foo a b) = $('makeRep0' ''Foo) a b</span><span>
</span><span id="line-481"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-482"></span><span class="hs-comment">--</span><span>
</span><span id="line-483"></span><span class="hs-comment">-- The use of 'makeRep0' is generally discouraged, as it can sometimes be</span><span>
</span><span id="line-484"></span><span class="hs-comment">-- difficult to predict the order in which you are expected to pass type</span><span>
</span><span id="line-485"></span><span class="hs-comment">-- variables. As a result, 'makeRep0Inline' is recommended instead. However,</span><span>
</span><span id="line-486"></span><span class="hs-comment">-- 'makeRep0Inline' is not usable on GHC 7.0, 7.2, or 7.4 due to a GHC bug,</span><span>
</span><span id="line-487"></span><span class="hs-comment">-- so 'makeRep0' still exists for GHC 7.0, 7.2, and 7.4 users.</span><span>
</span><span id="line-488"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep0"><span class="hs-identifier hs-type">makeRep0</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-489"></span><span id="makeRep0"><span class="annot"><span class="annottext">makeRep0 :: Name -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRep0"><span class="hs-identifier hs-var hs-var">makeRep0</span></a></span></span><span> </span><span id="local-6989586621679127051"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127051"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; RepOptions -&gt; Name -&gt; Maybe TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepCommon"><span class="hs-identifier hs-var">makeRepCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic"><span class="hs-identifier hs-var">Generic</span></a></span><span> </span><span class="annot"><span class="annottext">RepOptions
</span><a href="Generics.Deriving.TH.html#TypeSynonymRep"><span class="hs-identifier hs-var">TypeSynonymRep</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127051"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TypeQ
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="hs-comment">-- | Generates the 'Rep1' type synonym constructor (as opposed to 'deriveRep1',</span><span>
</span><span id="line-492"></span><span class="hs-comment">-- which generates the type synonym declaration). After splicing it into</span><span>
</span><span id="line-493"></span><span class="hs-comment">-- Haskell source, it expects types as arguments. For example:</span><span>
</span><span id="line-494"></span><span class="hs-comment">--</span><span>
</span><span id="line-495"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-496"></span><span class="hs-comment">-- type Rep1 (Foo a) = $('makeRep1' ''Foo) a</span><span>
</span><span id="line-497"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-498"></span><span class="hs-comment">--</span><span>
</span><span id="line-499"></span><span class="hs-comment">-- The use of 'makeRep1' is generally discouraged, as it can sometimes be</span><span>
</span><span id="line-500"></span><span class="hs-comment">-- difficult to predict the order in which you are expected to pass type</span><span>
</span><span id="line-501"></span><span class="hs-comment">-- variables. As a result, 'makeRep1Inline' is recommended instead. However,</span><span>
</span><span id="line-502"></span><span class="hs-comment">-- 'makeRep1Inline' is not usable on GHC 7.0, 7.2, or 7.4 due to a GHC bug,</span><span>
</span><span id="line-503"></span><span class="hs-comment">-- so 'makeRep1' still exists for GHC 7.0, 7.2, and 7.4 users.</span><span>
</span><span id="line-504"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep1"><span class="hs-identifier hs-type">makeRep1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-505"></span><span id="makeRep1"><span class="annot"><span class="annottext">makeRep1 :: Name -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRep1"><span class="hs-identifier hs-var hs-var">makeRep1</span></a></span></span><span> </span><span id="local-6989586621679127050"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127050"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; RepOptions -&gt; Name -&gt; Maybe TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepCommon"><span class="hs-identifier hs-var">makeRepCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic1"><span class="hs-identifier hs-var">Generic1</span></a></span><span> </span><span class="annot"><span class="annottext">RepOptions
</span><a href="Generics.Deriving.TH.html#TypeSynonymRep"><span class="hs-identifier hs-var">TypeSynonymRep</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127050"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TypeQ
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span class="hs-comment">-- | Generates the 'Rep' type synonym constructor (as opposed to 'deriveRep0',</span><span>
</span><span id="line-508"></span><span class="hs-comment">-- which generates the type synonym declaration) applied to its type arguments.</span><span>
</span><span id="line-509"></span><span class="hs-comment">-- Unlike 'makeRep0', this also takes a quoted 'Type' as an argument, e.g.,</span><span>
</span><span id="line-510"></span><span class="hs-comment">--</span><span>
</span><span id="line-511"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-512"></span><span class="hs-comment">-- type Rep (Foo (a :: k) b) = $('makeRep0FromType' ''Foo [t| Foo (a :: k) b |])</span><span>
</span><span id="line-513"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-514"></span><span class="hs-comment">--</span><span>
</span><span id="line-515"></span><span class="hs-comment">-- Note that the type passed as an argument to 'makeRep0FromType' must match the</span><span>
</span><span id="line-516"></span><span class="hs-comment">-- type argument of 'Rep' exactly, even up to including the explicit kind</span><span>
</span><span id="line-517"></span><span class="hs-comment">-- signature on @a@. This is due to a limitation of Template Haskell&#8212;without</span><span>
</span><span id="line-518"></span><span class="hs-comment">-- the kind signature, 'makeRep0FromType' has no way of figuring out the kind of</span><span>
</span><span id="line-519"></span><span class="hs-comment">-- @a@, and the generated type might be completely wrong as a result!</span><span>
</span><span id="line-520"></span><span class="hs-comment">--</span><span>
</span><span id="line-521"></span><span class="hs-comment">-- The use of 'makeRep0FromType' is generally discouraged, since 'makeRep0Inline'</span><span>
</span><span id="line-522"></span><span class="hs-comment">-- does exactly the same thing but without having to go through an intermediate</span><span>
</span><span id="line-523"></span><span class="hs-comment">-- type synonym, and as a result, 'makeRep0Inline' tends to be less buggy.</span><span>
</span><span id="line-524"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep0FromType"><span class="hs-identifier hs-type">makeRep0FromType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-525"></span><span id="makeRep0FromType"><span class="annot"><span class="annottext">makeRep0FromType :: Name -&gt; TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRep0FromType"><span class="hs-identifier hs-var hs-var">makeRep0FromType</span></a></span></span><span> </span><span id="local-6989586621679127049"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127049"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; RepOptions -&gt; Name -&gt; Maybe TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepCommon"><span class="hs-identifier hs-var">makeRepCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic"><span class="hs-identifier hs-var">Generic</span></a></span><span> </span><span class="annot"><span class="annottext">RepOptions
</span><a href="Generics.Deriving.TH.html#TypeSynonymRep"><span class="hs-identifier hs-var">TypeSynonymRep</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127049"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe TypeQ -&gt; TypeQ) -&gt; (TypeQ -&gt; Maybe TypeQ) -&gt; TypeQ -&gt; TypeQ
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; Maybe TypeQ
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span>
</span><span id="line-526"></span><span>
</span><span id="line-527"></span><span class="hs-comment">-- | Generates the 'Rep1' type synonym constructor (as opposed to 'deriveRep1',</span><span>
</span><span id="line-528"></span><span class="hs-comment">-- which generates the type synonym declaration) applied to its type arguments.</span><span>
</span><span id="line-529"></span><span class="hs-comment">-- Unlike 'makeRep1', this also takes a quoted 'Type' as an argument, e.g.,</span><span>
</span><span id="line-530"></span><span class="hs-comment">--</span><span>
</span><span id="line-531"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-532"></span><span class="hs-comment">-- type Rep1 (Foo (a :: k)) = $('makeRep1FromType' ''Foo [t| Foo (a :: k) |])</span><span>
</span><span id="line-533"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-534"></span><span class="hs-comment">--</span><span>
</span><span id="line-535"></span><span class="hs-comment">-- Note that the type passed as an argument to 'makeRep1FromType' must match the</span><span>
</span><span id="line-536"></span><span class="hs-comment">-- type argument of 'Rep' exactly, even up to including the explicit kind</span><span>
</span><span id="line-537"></span><span class="hs-comment">-- signature on @a@. This is due to a limitation of Template Haskell&#8212;without</span><span>
</span><span id="line-538"></span><span class="hs-comment">-- the kind signature, 'makeRep1FromType' has no way of figuring out the kind of</span><span>
</span><span id="line-539"></span><span class="hs-comment">-- @a@, and the generated type might be completely wrong as a result!</span><span>
</span><span id="line-540"></span><span class="hs-comment">--</span><span>
</span><span id="line-541"></span><span class="hs-comment">-- The use of 'makeRep1FromType' is generally discouraged, since 'makeRep1Inline'</span><span>
</span><span id="line-542"></span><span class="hs-comment">-- does exactly the same thing but without having to go through an intermediate</span><span>
</span><span id="line-543"></span><span class="hs-comment">-- type synonym, and as a result, 'makeRep1Inline' tends to be less buggy.</span><span>
</span><span id="line-544"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeRep1FromType"><span class="hs-identifier hs-type">makeRep1FromType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-545"></span><span id="makeRep1FromType"><span class="annot"><span class="annottext">makeRep1FromType :: Name -&gt; TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRep1FromType"><span class="hs-identifier hs-var hs-var">makeRep1FromType</span></a></span></span><span> </span><span id="local-6989586621679127048"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127048"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; RepOptions -&gt; Name -&gt; Maybe TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepCommon"><span class="hs-identifier hs-var">makeRepCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic1"><span class="hs-identifier hs-var">Generic1</span></a></span><span> </span><span class="annot"><span class="annottext">RepOptions
</span><a href="Generics.Deriving.TH.html#TypeSynonymRep"><span class="hs-identifier hs-var">TypeSynonymRep</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127048"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe TypeQ -&gt; TypeQ) -&gt; (TypeQ -&gt; Maybe TypeQ) -&gt; TypeQ -&gt; TypeQ
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; Maybe TypeQ
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span>
</span><span id="line-546"></span><span>
</span><span id="line-547"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeRepCommon"><span class="hs-identifier hs-type">makeRepCommon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span>
</span><span id="line-548"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#RepOptions"><span class="hs-identifier hs-type">RepOptions</span></a></span><span>
</span><span id="line-549"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-550"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-551"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-552"></span><span id="makeRepCommon"><span class="annot"><span class="annottext">makeRepCommon :: GenericClass -&gt; RepOptions -&gt; Name -&gt; Maybe TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepCommon"><span class="hs-identifier hs-var hs-var">makeRepCommon</span></a></span></span><span> </span><span id="local-6989586621679127047"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679127047"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679127046"><span class="annot"><span class="annottext">repOpts :: RepOptions
</span><a href="#local-6989586621679127046"><span class="hs-identifier hs-var">repOpts</span></a></span></span><span> </span><span id="local-6989586621679127045"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127045"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679127044"><span class="annot"><span class="annottext">mbQTy :: Maybe TypeQ
</span><a href="#local-6989586621679127044"><span class="hs-identifier hs-var">mbQTy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-553"></span><span>  </span><span id="local-6989586621679127043"><span class="annot"><span class="annottext">Either String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
</span><a href="#local-6989586621679127043"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Q (Either
        String (Name, [Type], [ConstructorInfo], DatatypeVariant_))
</span><a href="Generics.Deriving.TH.Internal.html#reifyDataInfo"><span class="hs-identifier hs-var">reifyDataInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127045"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-554"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679127042"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679127042"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127041"><span class="annot"><span class="annottext">instTys :: [Type]
</span><a href="#local-6989586621679127041"><span class="hs-identifier hs-var">instTys</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127040"><span class="annot"><span class="annottext">cons :: [ConstructorInfo]
</span><a href="#local-6989586621679127040"><span class="hs-identifier hs-var">cons</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127039"><span class="annot"><span class="annottext">dv :: DatatypeVariant_
</span><a href="#local-6989586621679127039"><span class="hs-identifier hs-var">dv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_))
-&gt; ((Name, [Type], [ConstructorInfo], DatatypeVariant_)
    -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_))
-&gt; Either
     String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
-&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(Name, [Type], [ConstructorInfo], DatatypeVariant_)
-&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">Either String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
</span><a href="#local-6989586621679127043"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-555"></span><span>  </span><span class="hs-comment">-- See Note [Forcing buildTypeInstance]</span><span>
</span><span id="line-556"></span><span>  </span><span class="hs-glyph">!</span><span class="annot"><span class="annottext">(Type, Type)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; KindSigOptions -&gt; Name -&gt; [Type] -&gt; Q (Type, Type)
</span><a href="Generics.Deriving.TH.html#buildTypeInstance"><span class="hs-identifier hs-var">buildTypeInstance</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127047"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127042"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679127041"><span class="hs-identifier hs-var">instTys</span></a></span><span>
</span><span id="line-557"></span><span>
</span><span id="line-558"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe TypeQ
</span><a href="#local-6989586621679127044"><span class="hs-identifier hs-var">mbQTy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RepOptions
</span><a href="#local-6989586621679127046"><span class="hs-identifier hs-var">repOpts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-559"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679127038"><span class="annot"><span class="annottext">qTy :: TypeQ
</span><a href="#local-6989586621679127038"><span class="hs-identifier hs-var">qTy</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#TypeSynonymRep"><span class="hs-identifier hs-type">TypeSynonymRep</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679127038"><span class="hs-identifier hs-var">qTy</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; (Type -&gt; TypeQ) -&gt; TypeQ
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; DatatypeVariant_ -&gt; Name -&gt; Type -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepTySynApp"><span class="hs-identifier hs-var">makeRepTySynApp</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127047"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679127039"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127042"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-560"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679127037"><span class="annot"><span class="annottext">qTy :: TypeQ
</span><a href="#local-6989586621679127037"><span class="hs-identifier hs-var">qTy</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#InlineRep"><span class="hs-identifier hs-type">InlineRep</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679127037"><span class="hs-identifier hs-var">qTy</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; (Type -&gt; TypeQ) -&gt; TypeQ
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">GenericClass
-&gt; DatatypeVariant_
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Type
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepInline"><span class="hs-identifier hs-var">makeRepInline</span></a></span><span>   </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127047"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679127039"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127042"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679127041"><span class="hs-identifier hs-var">instTys</span></a></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679127040"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-561"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Generics.Deriving.TH.html#TypeSynonymRep"><span class="hs-identifier hs-type">TypeSynonymRep</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; TypeQ) -&gt; Name -&gt; TypeQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; DatatypeVariant_ -&gt; Name -&gt; Name
</span><a href="Generics.Deriving.TH.html#genRepName"><span class="hs-identifier hs-var">genRepName</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127047"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679127039"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127042"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-562"></span><span>       </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Generics.Deriving.TH.html#InlineRep"><span class="hs-identifier hs-type">InlineRep</span></a></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; TypeQ
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="hs-string">&quot;makeRepCommon&quot;</span></span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeRepInline"><span class="hs-identifier hs-type">makeRepInline</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span>
</span><span id="line-565"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#DatatypeVariant_"><span class="hs-identifier hs-type">DatatypeVariant_</span></a></span><span>
</span><span id="line-566"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-567"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-568"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span class="hs-special">]</span><span>
</span><span id="line-569"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-570"></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-571"></span><span id="makeRepInline"><span class="annot"><span class="annottext">makeRepInline :: GenericClass
-&gt; DatatypeVariant_
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Type
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepInline"><span class="hs-identifier hs-var hs-var">makeRepInline</span></a></span></span><span> </span><span id="local-6989586621679127036"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679127036"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679127035"><span class="annot"><span class="annottext">dv :: DatatypeVariant_
</span><a href="#local-6989586621679127035"><span class="hs-identifier hs-var">dv</span></a></span></span><span> </span><span id="local-6989586621679127034"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679127034"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679127033"><span class="annot"><span class="annottext">instTys :: [Type]
</span><a href="#local-6989586621679127033"><span class="hs-identifier hs-var">instTys</span></a></span></span><span> </span><span id="local-6989586621679127032"><span class="annot"><span class="annottext">cons :: [ConstructorInfo]
</span><a href="#local-6989586621679127032"><span class="hs-identifier hs-var">cons</span></a></span></span><span> </span><span id="local-6989586621679127031"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621679127031"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-572"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679127030"><span class="annot"><span class="annottext">instVars :: [TyVarBndr]
</span><a href="#local-6989586621679127030"><span class="hs-identifier hs-var hs-var">instVars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; [TyVarBndr]
</span><span class="hs-identifier hs-var">freeVariablesWellScoped</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679127031"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-573"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679127028"><span class="annot"><span class="annottext">tySynVars :: [TyVarBndr]
</span><a href="#local-6989586621679127028"><span class="hs-identifier hs-var">tySynVars</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127027"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679127027"><span class="hs-identifier hs-var">gk</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; [Type] -&gt; ([TyVarBndr], GenericKind)
</span><a href="Generics.Deriving.TH.Internal.html#genericKind"><span class="hs-identifier hs-var">genericKind</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127036"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679127033"><span class="hs-identifier hs-var">instTys</span></a></span><span>
</span><span id="line-574"></span><span>
</span><span id="line-575"></span><span>      </span><span class="annot"><a href="#local-6989586621679127026"><span class="hs-identifier hs-type">typeSubst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#TypeSubst"><span class="hs-identifier hs-type">TypeSubst</span></a></span><span>
</span><span id="line-576"></span><span>      </span><span id="local-6989586621679127026"><span class="annot"><span class="annottext">typeSubst :: TypeSubst
</span><a href="#local-6989586621679127026"><span class="hs-identifier hs-var hs-var">typeSubst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Name, Type)] -&gt; TypeSubst
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(Name, Type)] -&gt; TypeSubst) -&gt; [(Name, Type)] -&gt; TypeSubst
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-577"></span><span>        </span><span class="annot"><span class="annottext">[Name] -&gt; [Type] -&gt; [(Name, Type)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TyVarBndr -&gt; Name) -&gt; [TyVarBndr] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">TyVarBndr -&gt; Name
</span><span class="hs-identifier hs-var">tvName</span></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679127028"><span class="hs-identifier hs-var">tySynVars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-578"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TyVarBndr -&gt; Type) -&gt; [TyVarBndr] -&gt; [Type]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Type
</span><span class="hs-identifier hs-var">VarT</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Type) -&gt; (TyVarBndr -&gt; Name) -&gt; TyVarBndr -&gt; Type
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TyVarBndr -&gt; Name
</span><span class="hs-identifier hs-var">tvName</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679127030"><span class="hs-identifier hs-var">instVars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-579"></span><span>
</span><span id="line-580"></span><span>  </span><span class="annot"><span class="annottext">GenericKind
-&gt; DatatypeVariant_
-&gt; Name
-&gt; TypeSubst
-&gt; [ConstructorInfo]
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repType"><span class="hs-identifier hs-var">repType</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679127027"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679127035"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127034"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSubst
</span><a href="#local-6989586621679127026"><span class="hs-identifier hs-var">typeSubst</span></a></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679127032"><span class="hs-identifier hs-var">cons</span></a></span><span>
</span><span id="line-581"></span><span>
</span><span id="line-582"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeRepTySynApp"><span class="hs-identifier hs-type">makeRepTySynApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#DatatypeVariant_"><span class="hs-identifier hs-type">DatatypeVariant_</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-583"></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-584"></span><span id="makeRepTySynApp"><span class="annot"><span class="annottext">makeRepTySynApp :: GenericClass -&gt; DatatypeVariant_ -&gt; Name -&gt; Type -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#makeRepTySynApp"><span class="hs-identifier hs-var hs-var">makeRepTySynApp</span></a></span></span><span> </span><span id="local-6989586621679127023"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679127023"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679127022"><span class="annot"><span class="annottext">dv :: DatatypeVariant_
</span><a href="#local-6989586621679127022"><span class="hs-identifier hs-var">dv</span></a></span></span><span> </span><span id="local-6989586621679127021"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679127021"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679127020"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621679127020"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-585"></span><span>  </span><span class="hs-comment">-- Here, we figure out the distinct type variables (in order from left-to-right)</span><span>
</span><span id="line-586"></span><span>  </span><span class="hs-comment">-- of the LHS of the Rep(1) instance. We call unKindedTV because the kind</span><span>
</span><span id="line-587"></span><span>  </span><span class="hs-comment">-- inferencer can figure out the kinds perfectly well, so we don't need to</span><span>
</span><span id="line-588"></span><span>  </span><span class="hs-comment">-- give anything here explicit kind signatures.</span><span>
</span><span id="line-589"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679127019"><span class="annot"><span class="annottext">instTvbs :: [TyVarBndr]
</span><a href="#local-6989586621679127019"><span class="hs-identifier hs-var hs-var">instTvbs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TyVarBndr -&gt; TyVarBndr) -&gt; [TyVarBndr] -&gt; [TyVarBndr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">TyVarBndr -&gt; TyVarBndr
</span><a href="Generics.Deriving.TH.Internal.html#unKindedTV"><span class="hs-identifier hs-var">unKindedTV</span></a></span><span> </span><span class="annot"><span class="annottext">([TyVarBndr] -&gt; [TyVarBndr]) -&gt; [TyVarBndr] -&gt; [TyVarBndr]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; [TyVarBndr]
</span><span class="hs-identifier hs-var">freeVariablesWellScoped</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679127020"><span class="hs-identifier hs-var">ty</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-590"></span><span>  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TypeQ) -&gt; Type -&gt; TypeQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; [TyVarBndr] -&gt; Type
</span><a href="Generics.Deriving.TH.Internal.html#applyTyToTvbs"><span class="hs-identifier hs-var">applyTyToTvbs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericClass -&gt; DatatypeVariant_ -&gt; Name -&gt; Name
</span><a href="Generics.Deriving.TH.html#genRepName"><span class="hs-identifier hs-var">genRepName</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127023"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679127022"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127021"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679127019"><span class="hs-identifier hs-var">instTvbs</span></a></span><span>
</span><span id="line-591"></span><span>
</span><span id="line-592"></span><span class="hs-comment">-- | A backwards-compatible synonym for 'makeFrom0'.</span><span>
</span><span id="line-593"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeFrom"><span class="hs-identifier hs-type">makeFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-594"></span><span id="makeFrom"><span class="annot"><span class="annottext">makeFrom :: Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFrom"><span class="hs-identifier hs-var hs-var">makeFrom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFrom0"><span class="hs-identifier hs-var">makeFrom0</span></a></span><span>
</span><span id="line-595"></span><span>
</span><span id="line-596"></span><span class="hs-comment">-- | Generates a lambda expression which behaves like 'from'.</span><span>
</span><span id="line-597"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeFrom0"><span class="hs-identifier hs-type">makeFrom0</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-598"></span><span id="makeFrom0"><span class="annot"><span class="annottext">makeFrom0 :: Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFrom0"><span class="hs-identifier hs-var hs-var">makeFrom0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFrom0Options"><span class="hs-identifier hs-var">makeFrom0Options</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="Generics.Deriving.TH.html#defaultEmptyCaseOptions"><span class="hs-identifier hs-var">defaultEmptyCaseOptions</span></a></span><span>
</span><span id="line-599"></span><span>
</span><span id="line-600"></span><span class="hs-comment">-- | Like 'makeFrom0Options', but takes an 'EmptyCaseOptions' argument.</span><span>
</span><span id="line-601"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeFrom0Options"><span class="hs-identifier hs-type">makeFrom0Options</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-602"></span><span id="makeFrom0Options"><span class="annot"><span class="annottext">makeFrom0Options :: KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFrom0Options"><span class="hs-identifier hs-var hs-var">makeFrom0Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenericClass
 -&gt; KindSigOptions
 -&gt; Int
 -&gt; Int
 -&gt; Name
 -&gt; [Type]
 -&gt; [ConstructorInfo]
 -&gt; Q Match)
-&gt; GenericClass -&gt; KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFunCommon"><span class="hs-identifier hs-var">makeFunCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="Generics.Deriving.TH.html#mkFrom"><span class="hs-identifier hs-var">mkFrom</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic"><span class="hs-identifier hs-var">Generic</span></a></span><span>
</span><span id="line-603"></span><span>
</span><span id="line-604"></span><span class="hs-comment">-- | A backwards-compatible synonym for 'makeTo0'.</span><span>
</span><span id="line-605"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeTo"><span class="hs-identifier hs-type">makeTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-606"></span><span id="makeTo"><span class="annot"><span class="annottext">makeTo :: Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeTo"><span class="hs-identifier hs-var hs-var">makeTo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeTo0"><span class="hs-identifier hs-var">makeTo0</span></a></span><span>
</span><span id="line-607"></span><span>
</span><span id="line-608"></span><span class="hs-comment">-- | Generates a lambda expression which behaves like 'to'.</span><span>
</span><span id="line-609"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeTo0"><span class="hs-identifier hs-type">makeTo0</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-610"></span><span id="makeTo0"><span class="annot"><span class="annottext">makeTo0 :: Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeTo0"><span class="hs-identifier hs-var hs-var">makeTo0</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeTo0Options"><span class="hs-identifier hs-var">makeTo0Options</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="Generics.Deriving.TH.html#defaultEmptyCaseOptions"><span class="hs-identifier hs-var">defaultEmptyCaseOptions</span></a></span><span>
</span><span id="line-611"></span><span>
</span><span id="line-612"></span><span class="hs-comment">-- | Like 'makeTo0Options', but takes an 'EmptyCaseOptions' argument.</span><span>
</span><span id="line-613"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeTo0Options"><span class="hs-identifier hs-type">makeTo0Options</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-614"></span><span id="makeTo0Options"><span class="annot"><span class="annottext">makeTo0Options :: KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeTo0Options"><span class="hs-identifier hs-var hs-var">makeTo0Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenericClass
 -&gt; KindSigOptions
 -&gt; Int
 -&gt; Int
 -&gt; Name
 -&gt; [Type]
 -&gt; [ConstructorInfo]
 -&gt; Q Match)
-&gt; GenericClass -&gt; KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFunCommon"><span class="hs-identifier hs-var">makeFunCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="Generics.Deriving.TH.html#mkTo"><span class="hs-identifier hs-var">mkTo</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic"><span class="hs-identifier hs-var">Generic</span></a></span><span>
</span><span id="line-615"></span><span>
</span><span id="line-616"></span><span class="hs-comment">-- | Generates a lambda expression which behaves like 'from1'.</span><span>
</span><span id="line-617"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeFrom1"><span class="hs-identifier hs-type">makeFrom1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-618"></span><span id="makeFrom1"><span class="annot"><span class="annottext">makeFrom1 :: Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFrom1"><span class="hs-identifier hs-var hs-var">makeFrom1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFrom1Options"><span class="hs-identifier hs-var">makeFrom1Options</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="Generics.Deriving.TH.html#defaultEmptyCaseOptions"><span class="hs-identifier hs-var">defaultEmptyCaseOptions</span></a></span><span>
</span><span id="line-619"></span><span>
</span><span id="line-620"></span><span class="hs-comment">-- | Like 'makeFrom1Options', but takes an 'EmptyCaseOptions' argument.</span><span>
</span><span id="line-621"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeFrom1Options"><span class="hs-identifier hs-type">makeFrom1Options</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-622"></span><span id="makeFrom1Options"><span class="annot"><span class="annottext">makeFrom1Options :: KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFrom1Options"><span class="hs-identifier hs-var hs-var">makeFrom1Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenericClass
 -&gt; KindSigOptions
 -&gt; Int
 -&gt; Int
 -&gt; Name
 -&gt; [Type]
 -&gt; [ConstructorInfo]
 -&gt; Q Match)
-&gt; GenericClass -&gt; KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFunCommon"><span class="hs-identifier hs-var">makeFunCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="Generics.Deriving.TH.html#mkFrom"><span class="hs-identifier hs-var">mkFrom</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic1"><span class="hs-identifier hs-var">Generic1</span></a></span><span>
</span><span id="line-623"></span><span>
</span><span id="line-624"></span><span class="hs-comment">-- | Generates a lambda expression which behaves like 'to1'.</span><span>
</span><span id="line-625"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeTo1"><span class="hs-identifier hs-type">makeTo1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-626"></span><span id="makeTo1"><span class="annot"><span class="annottext">makeTo1 :: Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeTo1"><span class="hs-identifier hs-var hs-var">makeTo1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeTo1Options"><span class="hs-identifier hs-var">makeTo1Options</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="Generics.Deriving.TH.html#defaultEmptyCaseOptions"><span class="hs-identifier hs-var">defaultEmptyCaseOptions</span></a></span><span>
</span><span id="line-627"></span><span>
</span><span id="line-628"></span><span class="hs-comment">-- | Like 'makeTo1Options', but takes an 'EmptyCaseOptions' argument.</span><span>
</span><span id="line-629"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeTo1Options"><span class="hs-identifier hs-type">makeTo1Options</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-630"></span><span id="makeTo1Options"><span class="annot"><span class="annottext">makeTo1Options :: KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeTo1Options"><span class="hs-identifier hs-var hs-var">makeTo1Options</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(GenericClass
 -&gt; KindSigOptions
 -&gt; Int
 -&gt; Int
 -&gt; Name
 -&gt; [Type]
 -&gt; [ConstructorInfo]
 -&gt; Q Match)
-&gt; GenericClass -&gt; KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFunCommon"><span class="hs-identifier hs-var">makeFunCommon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="Generics.Deriving.TH.html#mkTo"><span class="hs-identifier hs-var">mkTo</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="Generics.Deriving.TH.Internal.html#Generic1"><span class="hs-identifier hs-var">Generic1</span></a></span><span>
</span><span id="line-631"></span><span>
</span><span id="line-632"></span><span class="annot"><a href="Generics.Deriving.TH.html#makeFunCommon"><span class="hs-identifier hs-type">makeFunCommon</span></a></span><span>
</span><span id="line-633"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-634"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Match</span></span><span class="hs-special">)</span><span>
</span><span id="line-635"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-636"></span><span id="makeFunCommon"><span class="annot"><span class="annottext">makeFunCommon :: (GenericClass
 -&gt; KindSigOptions
 -&gt; Int
 -&gt; Int
 -&gt; Name
 -&gt; [Type]
 -&gt; [ConstructorInfo]
 -&gt; Q Match)
-&gt; GenericClass -&gt; KindSigOptions -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#makeFunCommon"><span class="hs-identifier hs-var hs-var">makeFunCommon</span></a></span></span><span> </span><span id="local-6989586621679127016"><span class="annot"><span class="annottext">maker :: GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="#local-6989586621679127016"><span class="hs-identifier hs-var">maker</span></a></span></span><span> </span><span id="local-6989586621679127015"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679127015"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679127014"><span class="annot"><span class="annottext">ecOptions :: KindSigOptions
</span><a href="#local-6989586621679127014"><span class="hs-identifier hs-var">ecOptions</span></a></span></span><span> </span><span id="local-6989586621679127013"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127013"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-637"></span><span>  </span><span id="local-6989586621679127012"><span class="annot"><span class="annottext">Either String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
</span><a href="#local-6989586621679127012"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Q (Either
        String (Name, [Type], [ConstructorInfo], DatatypeVariant_))
</span><a href="Generics.Deriving.TH.Internal.html#reifyDataInfo"><span class="hs-identifier hs-var">reifyDataInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127013"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-638"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679127011"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679127011"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127010"><span class="annot"><span class="annottext">instTys :: [Type]
</span><a href="#local-6989586621679127010"><span class="hs-identifier hs-var">instTys</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679127009"><span class="annot"><span class="annottext">cons :: [ConstructorInfo]
</span><a href="#local-6989586621679127009"><span class="hs-identifier hs-var">cons</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_))
-&gt; ((Name, [Type], [ConstructorInfo], DatatypeVariant_)
    -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_))
-&gt; Either
     String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
-&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(Name, [Type], [ConstructorInfo], DatatypeVariant_)
-&gt; (Name, [Type], [ConstructorInfo], DatatypeVariant_)
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">Either String (Name, [Type], [ConstructorInfo], DatatypeVariant_)
</span><a href="#local-6989586621679127012"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-639"></span><span>  </span><span class="hs-comment">-- See Note [Forcing buildTypeInstance]</span><span>
</span><span id="line-640"></span><span>  </span><span class="annot"><span class="annottext">GenericClass -&gt; KindSigOptions -&gt; Name -&gt; [Type] -&gt; Q (Type, Type)
</span><a href="Generics.Deriving.TH.html#buildTypeInstance"><span class="hs-identifier hs-var">buildTypeInstance</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127015"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127011"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679127010"><span class="hs-identifier hs-var">instTys</span></a></span><span>
</span><span id="line-641"></span><span>    </span><span class="annot"><span class="annottext">Q (Type, Type) -&gt; ExpQ -&gt; ExpQ
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">GenericClass
-&gt; KindSigOptions
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; (GenericClass
    -&gt; KindSigOptions
    -&gt; Int
    -&gt; Int
    -&gt; Name
    -&gt; [Type]
    -&gt; [ConstructorInfo]
    -&gt; Q Match)
-&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#mkCaseExp"><span class="hs-identifier hs-var">mkCaseExp</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127015"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679127014"><span class="hs-identifier hs-var">ecOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127011"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679127010"><span class="hs-identifier hs-var">instTys</span></a></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679127009"><span class="hs-identifier hs-var">cons</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="#local-6989586621679127016"><span class="hs-identifier hs-var">maker</span></a></span><span>
</span><span id="line-642"></span><span>
</span><span id="line-643"></span><span class="annot"><a href="Generics.Deriving.TH.html#genRepName"><span class="hs-identifier hs-type">genRepName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#DatatypeVariant_"><span class="hs-identifier hs-type">DatatypeVariant_</span></a></span><span>
</span><span id="line-644"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-645"></span><span id="genRepName"><span class="annot"><span class="annottext">genRepName :: GenericClass -&gt; DatatypeVariant_ -&gt; Name -&gt; Name
</span><a href="Generics.Deriving.TH.html#genRepName"><span class="hs-identifier hs-var hs-var">genRepName</span></a></span></span><span> </span><span id="local-6989586621679127008"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679127008"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679127007"><span class="annot"><span class="annottext">dv :: DatatypeVariant_
</span><a href="#local-6989586621679127007"><span class="hs-identifier hs-var">dv</span></a></span></span><span> </span><span id="local-6989586621679127006"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679127006"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-646"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Name
</span><span class="hs-identifier hs-var">mkName</span></span><span>
</span><span id="line-647"></span><span>  </span><span class="annot"><span class="annottext">(String -&gt; Name) -&gt; ShowS -&gt; String -&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_ -&gt; ShowS
</span><a href="Generics.Deriving.TH.Internal.html#showsDatatypeVariant"><span class="hs-identifier hs-var">showsDatatypeVariant</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679127007"><span class="hs-identifier hs-var">dv</span></a></span><span>
</span><span id="line-648"></span><span>  </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;Rep&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericClass -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679127008"><span class="hs-identifier hs-var">gClass</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span>
</span><span id="line-649"></span><span>  </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; String
</span><a href="Generics.Deriving.TH.Internal.html#showNameQual"><span class="hs-identifier hs-var">showNameQual</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127006"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span>
</span><span id="line-650"></span><span>  </span><span class="annot"><span class="annottext">ShowS -&gt; ShowS -&gt; ShowS
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="Generics.Deriving.TH.Internal.html#sanitizeName"><span class="hs-identifier hs-var">sanitizeName</span></a></span><span>
</span><span id="line-651"></span><span>  </span><span class="annot"><span class="annottext">(String -&gt; Name) -&gt; String -&gt; Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; String
</span><span class="hs-identifier hs-var">nameBase</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679127006"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-652"></span><span>
</span><span id="line-653"></span><span class="annot"><a href="Generics.Deriving.TH.html#repType"><span class="hs-identifier hs-type">repType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span>
</span><span id="line-654"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#DatatypeVariant_"><span class="hs-identifier hs-type">DatatypeVariant_</span></a></span><span>
</span><span id="line-655"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-656"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#TypeSubst"><span class="hs-identifier hs-type">TypeSubst</span></a></span><span>
</span><span id="line-657"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span class="hs-special">]</span><span>
</span><span id="line-658"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-659"></span><span id="repType"><span class="annot"><span class="annottext">repType :: GenericKind
-&gt; DatatypeVariant_
-&gt; Name
-&gt; TypeSubst
-&gt; [ConstructorInfo]
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repType"><span class="hs-identifier hs-var hs-var">repType</span></a></span></span><span> </span><span id="local-6989586621679126999"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126999"><span class="hs-identifier hs-var">gk</span></a></span></span><span> </span><span id="local-6989586621679126998"><span class="annot"><span class="annottext">dv :: DatatypeVariant_
</span><a href="#local-6989586621679126998"><span class="hs-identifier hs-var">dv</span></a></span></span><span> </span><span id="local-6989586621679126997"><span class="annot"><span class="annottext">dt :: Name
</span><a href="#local-6989586621679126997"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span id="local-6989586621679126996"><span class="annot"><span class="annottext">typeSubst :: TypeSubst
</span><a href="#local-6989586621679126996"><span class="hs-identifier hs-var">typeSubst</span></a></span></span><span> </span><span id="local-6989586621679126995"><span class="annot"><span class="annottext">cs :: [ConstructorInfo]
</span><a href="#local-6989586621679126995"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-660"></span><span>    </span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#d1TypeName"><span class="hs-identifier hs-var">d1TypeName</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_ -&gt; Name -&gt; TypeQ
</span><a href="Generics.Deriving.TH.Post4_9.html#mkMetaDataType"><span class="hs-identifier hs-var">mkMetaDataType</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679126998"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126997"><span class="hs-identifier hs-var">dt</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span>
</span><span id="line-661"></span><span>      </span><span class="annot"><span class="annottext">(TypeQ -&gt; TypeQ -&gt; TypeQ) -&gt; TypeQ -&gt; [TypeQ] -&gt; TypeQ
forall a. (a -&gt; a -&gt; a) -&gt; a -&gt; [a] -&gt; a
</span><a href="Generics.Deriving.TH.Internal.html#foldBal"><span class="hs-identifier hs-var">foldBal</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><a href="#local-6989586621679126991"><span class="hs-identifier hs-var">sum'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#v1TypeName"><span class="hs-identifier hs-var">v1TypeName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ConstructorInfo -&gt; TypeQ) -&gt; [ConstructorInfo] -&gt; [TypeQ]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericKind
-&gt; DatatypeVariant_
-&gt; Name
-&gt; TypeSubst
-&gt; ConstructorInfo
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repCon"><span class="hs-identifier hs-var">repCon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126999"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679126998"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126997"><span class="hs-identifier hs-var">dt</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSubst
</span><a href="#local-6989586621679126996"><span class="hs-identifier hs-var">typeSubst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679126995"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-662"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-663"></span><span>    </span><span class="annot"><a href="#local-6989586621679126991"><span class="hs-identifier hs-type">sum'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-664"></span><span>    </span><span id="local-6989586621679126991"><span class="annot"><span class="annottext">sum' :: TypeQ -&gt; TypeQ -&gt; TypeQ
</span><a href="#local-6989586621679126991"><span class="hs-identifier hs-var hs-var">sum'</span></a></span></span><span> </span><span id="local-6989586621679126988"><span class="annot"><span class="annottext">a :: TypeQ
</span><a href="#local-6989586621679126988"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679126987"><span class="annot"><span class="annottext">b :: TypeQ
</span><a href="#local-6989586621679126987"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#sumTypeName"><span class="hs-identifier hs-var">sumTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679126988"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679126987"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-665"></span><span>
</span><span id="line-666"></span><span class="annot"><a href="Generics.Deriving.TH.html#repCon"><span class="hs-identifier hs-type">repCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span>
</span><span id="line-667"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#DatatypeVariant_"><span class="hs-identifier hs-type">DatatypeVariant_</span></a></span><span>
</span><span id="line-668"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-669"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#TypeSubst"><span class="hs-identifier hs-type">TypeSubst</span></a></span><span>
</span><span id="line-670"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span>
</span><span id="line-671"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-672"></span><span id="repCon"><span class="annot"><span class="annottext">repCon :: GenericKind
-&gt; DatatypeVariant_
-&gt; Name
-&gt; TypeSubst
-&gt; ConstructorInfo
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repCon"><span class="hs-identifier hs-var hs-var">repCon</span></a></span></span><span> </span><span id="local-6989586621679126985"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126985"><span class="hs-identifier hs-var">gk</span></a></span></span><span> </span><span id="local-6989586621679126984"><span class="annot"><span class="annottext">dv :: DatatypeVariant_
</span><a href="#local-6989586621679126984"><span class="hs-identifier hs-var">dv</span></a></span></span><span> </span><span id="local-6989586621679126983"><span class="annot"><span class="annottext">dt :: Name
</span><a href="#local-6989586621679126983"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span id="local-6989586621679126982"><span class="annot"><span class="annottext">typeSubst :: TypeSubst
</span><a href="#local-6989586621679126982"><span class="hs-identifier hs-var">typeSubst</span></a></span></span><span>
</span><span id="line-673"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">constructorName :: ConstructorInfo -&gt; Name
</span><span class="hs-identifier hs-var">constructorName</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126979"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126979"><span class="hs-identifier hs-var">n</span></a></span></span><span>
</span><span id="line-674"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorVars :: ConstructorInfo -&gt; [TyVarBndr]
</span><span class="hs-identifier hs-var">constructorVars</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126977"><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679126977"><span class="hs-identifier hs-var">vars</span></a></span></span><span>
</span><span id="line-675"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorContext :: ConstructorInfo -&gt; [Type]
</span><span class="hs-identifier hs-var">constructorContext</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126975"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126975"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span>
</span><span id="line-676"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorStrictness :: ConstructorInfo -&gt; [FieldStrictness]
</span><span class="hs-identifier hs-var">constructorStrictness</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126973"><span class="annot"><span class="annottext">[FieldStrictness]
</span><a href="#local-6989586621679126973"><span class="hs-identifier hs-var">bangs</span></a></span></span><span>
</span><span id="line-677"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorFields :: ConstructorInfo -&gt; [Type]
</span><span class="hs-identifier hs-var">constructorFields</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126971"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126971"><span class="hs-identifier hs-var">ts</span></a></span></span><span>
</span><span id="line-678"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorVariant :: ConstructorInfo -&gt; ConstructorVariant
</span><span class="hs-identifier hs-var">constructorVariant</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126969"><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="#local-6989586621679126969"><span class="hs-identifier hs-var">cv</span></a></span></span><span>
</span><span id="line-679"></span><span>                   </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-680"></span><span>  </span><span class="annot"><span class="annottext">Name -&gt; [TyVarBndr] -&gt; [Type] -&gt; Q ()
</span><a href="Generics.Deriving.TH.Internal.html#checkExistentialContext"><span class="hs-identifier hs-var">checkExistentialContext</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126979"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679126977"><span class="hs-identifier hs-var">vars</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126975"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-681"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679126967"><span class="annot"><span class="annottext">mbSelNames :: Maybe [Name]
</span><a href="#local-6989586621679126967"><span class="hs-identifier hs-var hs-var">mbSelNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="#local-6989586621679126969"><span class="hs-identifier hs-var">cv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-682"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">NormalConstructor</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe [Name]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-683"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">InfixConstructor</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe [Name]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-684"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">RecordConstructor</span></span><span> </span><span id="local-6989586621679126963"><span class="annot"><span class="annottext">selNames :: [Name]
</span><a href="#local-6989586621679126963"><span class="hs-identifier hs-var">selNames</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; Maybe [Name]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679126963"><span class="hs-identifier hs-var">selNames</span></a></span><span>
</span><span id="line-685"></span><span>      </span><span id="local-6989586621679126962"><span class="annot"><span class="annottext">isRecord :: KindSigOptions
</span><a href="#local-6989586621679126962"><span class="hs-identifier hs-var hs-var">isRecord</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="#local-6989586621679126969"><span class="hs-identifier hs-var">cv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-686"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">NormalConstructor</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-687"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">InfixConstructor</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-688"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">RecordConstructor</span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-689"></span><span>      </span><span id="local-6989586621679126961"><span class="annot"><span class="annottext">isInfix :: KindSigOptions
</span><a href="#local-6989586621679126961"><span class="hs-identifier hs-var hs-var">isInfix</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ConstructorVariant
</span><a href="#local-6989586621679126969"><span class="hs-identifier hs-var">cv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-690"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">NormalConstructor</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-691"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">InfixConstructor</span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-692"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">RecordConstructor</span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-693"></span><span>  </span><span id="local-6989586621679126960"><span class="annot"><span class="annottext">[SelStrictInfo]
</span><a href="#local-6989586621679126960"><span class="hs-identifier hs-var">ssis</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [FieldStrictness] -&gt; Q [SelStrictInfo]
</span><a href="Generics.Deriving.TH.Post4_9.html#reifySelStrictInfo"><span class="hs-identifier hs-var">reifySelStrictInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126979"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldStrictness]
</span><a href="#local-6989586621679126973"><span class="hs-identifier hs-var">bangs</span></a></span><span>
</span><span id="line-694"></span><span>  </span><span class="annot"><span class="annottext">GenericKind
-&gt; DatatypeVariant_
-&gt; Name
-&gt; Name
-&gt; TypeSubst
-&gt; Maybe [Name]
-&gt; [SelStrictInfo]
-&gt; [Type]
-&gt; KindSigOptions
-&gt; KindSigOptions
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repConWith"><span class="hs-identifier hs-var">repConWith</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126985"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679126984"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126983"><span class="hs-identifier hs-var">dt</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126979"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSubst
</span><a href="#local-6989586621679126982"><span class="hs-identifier hs-var">typeSubst</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [Name]
</span><a href="#local-6989586621679126967"><span class="hs-identifier hs-var">mbSelNames</span></a></span><span> </span><span class="annot"><span class="annottext">[SelStrictInfo]
</span><a href="#local-6989586621679126960"><span class="hs-identifier hs-var">ssis</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126971"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126962"><span class="hs-identifier hs-var">isRecord</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126961"><span class="hs-identifier hs-var">isInfix</span></a></span><span>
</span><span id="line-695"></span><span>
</span><span id="line-696"></span><span class="annot"><a href="Generics.Deriving.TH.html#repConWith"><span class="hs-identifier hs-type">repConWith</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span>
</span><span id="line-697"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#DatatypeVariant_"><span class="hs-identifier hs-type">DatatypeVariant_</span></a></span><span>
</span><span id="line-698"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-699"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-700"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#TypeSubst"><span class="hs-identifier hs-type">TypeSubst</span></a></span><span>
</span><span id="line-701"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span class="hs-special">]</span><span>
</span><span id="line-702"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#SelStrictInfo"><span class="hs-identifier hs-type">SelStrictInfo</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-703"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-704"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-705"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-706"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-707"></span><span id="repConWith"><span class="annot"><span class="annottext">repConWith :: GenericKind
-&gt; DatatypeVariant_
-&gt; Name
-&gt; Name
-&gt; TypeSubst
-&gt; Maybe [Name]
-&gt; [SelStrictInfo]
-&gt; [Type]
-&gt; KindSigOptions
-&gt; KindSigOptions
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repConWith"><span class="hs-identifier hs-var hs-var">repConWith</span></a></span></span><span> </span><span id="local-6989586621679126957"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126957"><span class="hs-identifier hs-var">gk</span></a></span></span><span> </span><span id="local-6989586621679126956"><span class="annot"><span class="annottext">dv :: DatatypeVariant_
</span><a href="#local-6989586621679126956"><span class="hs-identifier hs-var">dv</span></a></span></span><span> </span><span id="local-6989586621679126955"><span class="annot"><span class="annottext">dt :: Name
</span><a href="#local-6989586621679126955"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span id="local-6989586621679126954"><span class="annot"><span class="annottext">n :: Name
</span><a href="#local-6989586621679126954"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679126953"><span class="annot"><span class="annottext">typeSubst :: TypeSubst
</span><a href="#local-6989586621679126953"><span class="hs-identifier hs-var">typeSubst</span></a></span></span><span> </span><span id="local-6989586621679126952"><span class="annot"><span class="annottext">mbSelNames :: Maybe [Name]
</span><a href="#local-6989586621679126952"><span class="hs-identifier hs-var">mbSelNames</span></a></span></span><span> </span><span id="local-6989586621679126951"><span class="annot"><span class="annottext">ssis :: [SelStrictInfo]
</span><a href="#local-6989586621679126951"><span class="hs-identifier hs-var">ssis</span></a></span></span><span> </span><span id="local-6989586621679126950"><span class="annot"><span class="annottext">ts :: [Type]
</span><a href="#local-6989586621679126950"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span id="local-6989586621679126949"><span class="annot"><span class="annottext">isRecord :: KindSigOptions
</span><a href="#local-6989586621679126949"><span class="hs-identifier hs-var">isRecord</span></a></span></span><span> </span><span id="local-6989586621679126948"><span class="annot"><span class="annottext">isInfix :: KindSigOptions
</span><a href="#local-6989586621679126948"><span class="hs-identifier hs-var">isInfix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-708"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679126947"><span class="hs-identifier hs-type">structureType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-709"></span><span>        </span><span id="local-6989586621679126947"><span class="annot"><span class="annottext">structureType :: TypeQ
</span><a href="#local-6989586621679126947"><span class="hs-identifier hs-var hs-var">structureType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TypeQ -&gt; TypeQ -&gt; TypeQ) -&gt; TypeQ -&gt; [TypeQ] -&gt; TypeQ
forall a. (a -&gt; a -&gt; a) -&gt; a -&gt; [a] -&gt; a
</span><a href="Generics.Deriving.TH.Internal.html#foldBal"><span class="hs-identifier hs-var">foldBal</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#prodT"><span class="hs-identifier hs-var">prodT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#u1TypeName"><span class="hs-identifier hs-var">u1TypeName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[TypeQ]
</span><a href="#local-6989586621679126944"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-710"></span><span>
</span><span id="line-711"></span><span>        </span><span class="annot"><a href="#local-6989586621679126944"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-712"></span><span>        </span><span id="local-6989586621679126944"><span class="annot"><span class="annottext">f :: [TypeQ]
</span><a href="#local-6989586621679126944"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe [Name]
</span><a href="#local-6989586621679126952"><span class="hs-identifier hs-var">mbSelNames</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-713"></span><span>                 </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679126943"><span class="annot"><span class="annottext">selNames :: [Name]
</span><a href="#local-6989586621679126943"><span class="hs-identifier hs-var">selNames</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; SelStrictInfo -&gt; Type -&gt; TypeQ)
-&gt; [Name] -&gt; [SelStrictInfo] -&gt; [Type] -&gt; [TypeQ]
forall a b c d. (a -&gt; b -&gt; c -&gt; d) -&gt; [a] -&gt; [b] -&gt; [c] -&gt; [d]
</span><span class="hs-identifier hs-var">zipWith3</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericKind
-&gt; DatatypeVariant_
-&gt; Name
-&gt; Name
-&gt; TypeSubst
-&gt; Maybe Name
-&gt; SelStrictInfo
-&gt; Type
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repField"><span class="hs-identifier hs-var">repField</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126957"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679126956"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126955"><span class="hs-identifier hs-var">dt</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126954"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSubst
</span><a href="#local-6989586621679126953"><span class="hs-identifier hs-var">typeSubst</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Name -&gt; SelStrictInfo -&gt; Type -&gt; TypeQ)
-&gt; (Name -&gt; Maybe Name) -&gt; Name -&gt; SelStrictInfo -&gt; Type -&gt; TypeQ
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span class="hs-special">)</span><span>
</span><span id="line-714"></span><span>                                           </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679126943"><span class="hs-identifier hs-var">selNames</span></a></span><span> </span><span class="annot"><span class="annottext">[SelStrictInfo]
</span><a href="#local-6989586621679126951"><span class="hs-identifier hs-var">ssis</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126950"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-715"></span><span>                 </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SelStrictInfo -&gt; Type -&gt; TypeQ)
-&gt; [SelStrictInfo] -&gt; [Type] -&gt; [TypeQ]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericKind
-&gt; DatatypeVariant_
-&gt; Name
-&gt; Name
-&gt; TypeSubst
-&gt; Maybe Name
-&gt; SelStrictInfo
-&gt; Type
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repField"><span class="hs-identifier hs-var">repField</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126957"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679126956"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126955"><span class="hs-identifier hs-var">dt</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126954"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSubst
</span><a href="#local-6989586621679126953"><span class="hs-identifier hs-var">typeSubst</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-716"></span><span>                                           </span><span class="annot"><span class="annottext">[SelStrictInfo]
</span><a href="#local-6989586621679126951"><span class="hs-identifier hs-var">ssis</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126950"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-717"></span><span>
</span><span id="line-718"></span><span>    </span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#c1TypeName"><span class="hs-identifier hs-var">c1TypeName</span></a></span><span>
</span><span id="line-719"></span><span>      </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
-&gt; Name -&gt; Name -&gt; KindSigOptions -&gt; KindSigOptions -&gt; TypeQ
</span><a href="Generics.Deriving.TH.Post4_9.html#mkMetaConsType"><span class="hs-identifier hs-var">mkMetaConsType</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679126956"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126955"><span class="hs-identifier hs-var">dt</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126954"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126949"><span class="hs-identifier hs-var">isRecord</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126948"><span class="hs-identifier hs-var">isInfix</span></a></span><span>
</span><span id="line-720"></span><span>      </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679126947"><span class="hs-identifier hs-var">structureType</span></a></span><span>
</span><span id="line-721"></span><span>
</span><span id="line-722"></span><span class="annot"><a href="Generics.Deriving.TH.html#prodT"><span class="hs-identifier hs-type">prodT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-723"></span><span id="prodT"><span class="annot"><span class="annottext">prodT :: TypeQ -&gt; TypeQ -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#prodT"><span class="hs-identifier hs-var hs-var">prodT</span></a></span></span><span> </span><span id="local-6989586621679126937"><span class="annot"><span class="annottext">a :: TypeQ
</span><a href="#local-6989586621679126937"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679126936"><span class="annot"><span class="annottext">b :: TypeQ
</span><a href="#local-6989586621679126936"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#productTypeName"><span class="hs-identifier hs-var">productTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679126937"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679126936"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-724"></span><span>
</span><span id="line-725"></span><span class="annot"><a href="Generics.Deriving.TH.html#repField"><span class="hs-identifier hs-type">repField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span>
</span><span id="line-726"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#DatatypeVariant_"><span class="hs-identifier hs-type">DatatypeVariant_</span></a></span><span>
</span><span id="line-727"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-728"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-729"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#TypeSubst"><span class="hs-identifier hs-type">TypeSubst</span></a></span><span>
</span><span id="line-730"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-731"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Post4_9.html#SelStrictInfo"><span class="hs-identifier hs-type">SelStrictInfo</span></a></span><span>
</span><span id="line-732"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-733"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-734"></span><span id="repField"><span class="annot"><span class="annottext">repField :: GenericKind
-&gt; DatatypeVariant_
-&gt; Name
-&gt; Name
-&gt; TypeSubst
-&gt; Maybe Name
-&gt; SelStrictInfo
-&gt; Type
-&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repField"><span class="hs-identifier hs-var hs-var">repField</span></a></span></span><span> </span><span id="local-6989586621679126934"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126934"><span class="hs-identifier hs-var">gk</span></a></span></span><span> </span><span id="local-6989586621679126933"><span class="annot"><span class="annottext">dv :: DatatypeVariant_
</span><a href="#local-6989586621679126933"><span class="hs-identifier hs-var">dv</span></a></span></span><span> </span><span id="local-6989586621679126932"><span class="annot"><span class="annottext">dt :: Name
</span><a href="#local-6989586621679126932"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span id="local-6989586621679126931"><span class="annot"><span class="annottext">ns :: Name
</span><a href="#local-6989586621679126931"><span class="hs-identifier hs-var">ns</span></a></span></span><span> </span><span id="local-6989586621679126930"><span class="annot"><span class="annottext">typeSubst :: TypeSubst
</span><a href="#local-6989586621679126930"><span class="hs-identifier hs-var">typeSubst</span></a></span></span><span> </span><span id="local-6989586621679126929"><span class="annot"><span class="annottext">mbF :: Maybe Name
</span><a href="#local-6989586621679126929"><span class="hs-identifier hs-var">mbF</span></a></span></span><span> </span><span id="local-6989586621679126928"><span class="annot"><span class="annottext">ssi :: SelStrictInfo
</span><a href="#local-6989586621679126928"><span class="hs-identifier hs-var">ssi</span></a></span></span><span> </span><span id="local-6989586621679126927"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126927"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-735"></span><span>           </span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#s1TypeName"><span class="hs-identifier hs-var">s1TypeName</span></a></span><span>
</span><span id="line-736"></span><span>    </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
-&gt; Name -&gt; Name -&gt; Maybe Name -&gt; SelStrictInfo -&gt; TypeQ
</span><a href="Generics.Deriving.TH.Post4_9.html#mkMetaSelType"><span class="hs-identifier hs-var">mkMetaSelType</span></a></span><span> </span><span class="annot"><span class="annottext">DatatypeVariant_
</span><a href="#local-6989586621679126933"><span class="hs-identifier hs-var">dv</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126932"><span class="hs-identifier hs-var">dt</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126931"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621679126929"><span class="hs-identifier hs-var">mbF</span></a></span><span> </span><span class="annot"><span class="annottext">SelStrictInfo
</span><a href="#local-6989586621679126928"><span class="hs-identifier hs-var">ssi</span></a></span><span>
</span><span id="line-737"></span><span>    </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericKind -&gt; Type -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repFieldArg"><span class="hs-identifier hs-var">repFieldArg</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126934"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TypeQ) -&gt; TypeQ -&gt; TypeQ
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
</span><span class="hs-identifier hs-var">resolveTypeSynonyms</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126921"><span class="hs-identifier hs-var">t''</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-738"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-739"></span><span>    </span><span class="hs-comment">-- See Note [Generic1 is polykinded in base-4.10]</span><span>
</span><span id="line-740"></span><span>    </span><span class="annot"><a href="#local-6989586621679126920"><span class="hs-identifier hs-type">t'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679126921"><span class="hs-identifier hs-type">t''</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-741"></span><span>    </span><span id="local-6989586621679126920"><span class="annot"><span class="annottext">t' :: Type
</span><a href="#local-6989586621679126920"><span class="hs-identifier hs-var hs-var">t'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126934"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-742"></span><span>              </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Gen1"><span class="hs-identifier hs-type">Gen1</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679126918"><span class="annot"><span class="annottext">_kvName :: Name
</span><a href="#local-6989586621679126918"><span class="hs-identifier hs-var">_kvName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span class="hs-cpp">
#if MIN_VERSION_base(4,10,0)
</span><span>                </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126927"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-cpp">
#else
</span><span>                </span><span class="hs-identifier">substNameWithKind</span><span> </span><span class="hs-identifier">_kvName</span><span> </span><span class="hs-identifier">starK</span><span> </span><span class="hs-identifier">t</span><span class="hs-cpp">
#endif
</span><span>              </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126927"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-749"></span><span>    </span><span id="local-6989586621679126921"><span class="annot"><span class="annottext">t'' :: Type
</span><a href="#local-6989586621679126921"><span class="hs-identifier hs-var hs-var">t''</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeSubst -&gt; Type -&gt; Type
forall a. TypeSubstitution a =&gt; TypeSubst -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">applySubstitution</span></span><span> </span><span class="annot"><span class="annottext">TypeSubst
</span><a href="#local-6989586621679126930"><span class="hs-identifier hs-var">typeSubst</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126920"><span class="hs-identifier hs-var">t'</span></a></span><span>
</span><span id="line-750"></span><span>
</span><span id="line-751"></span><span class="annot"><a href="Generics.Deriving.TH.html#repFieldArg"><span class="hs-identifier hs-type">repFieldArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-752"></span><span id="repFieldArg"><span class="annot"><span class="annottext">repFieldArg :: GenericKind -&gt; Type -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repFieldArg"><span class="hs-identifier hs-var hs-var">repFieldArg</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ForallT</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeQ
forall a. a
</span><a href="Generics.Deriving.TH.Internal.html#rankNError"><span class="hs-identifier hs-var">rankNError</span></a></span><span>
</span><span id="line-753"></span><span class="annot"><a href="Generics.Deriving.TH.html#repFieldArg"><span class="hs-identifier hs-var">repFieldArg</span></a></span><span> </span><span id="local-6989586621679126914"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126914"><span class="hs-identifier hs-var">gk</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SigT</span></span><span> </span><span id="local-6989586621679126913"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126913"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericKind -&gt; Type -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repFieldArg"><span class="hs-identifier hs-var">repFieldArg</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126914"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126913"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-754"></span><span class="annot"><a href="Generics.Deriving.TH.html#repFieldArg"><span class="hs-identifier hs-var">repFieldArg</span></a></span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Gen0"><span class="hs-identifier hs-type">Gen0</span></a></span><span> </span><span id="local-6989586621679126911"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126911"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#boxT"><span class="hs-identifier hs-var">boxT</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126911"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-755"></span><span class="annot"><a href="Generics.Deriving.TH.html#repFieldArg"><span class="hs-identifier hs-var">repFieldArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Gen1"><span class="hs-identifier hs-type">Gen1</span></a></span><span> </span><span id="local-6989586621679126909"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679126909"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">VarT</span></span><span> </span><span id="local-6989586621679126908"><span class="annot"><span class="annottext">t :: Name
</span><a href="#local-6989586621679126908"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126908"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126909"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#par1TypeName"><span class="hs-identifier hs-var">par1TypeName</span></a></span><span>
</span><span id="line-756"></span><span class="annot"><a href="Generics.Deriving.TH.html#repFieldArg"><span class="hs-identifier hs-var">repFieldArg</span></a></span><span> </span><span id="local-6989586621679126906"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126906"><span class="hs-identifier hs-var">gk</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Gen1"><span class="hs-identifier hs-type">Gen1</span></a></span><span> </span><span id="local-6989586621679126905"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679126905"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679126904"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126904"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-757"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679126903"><span class="annot"><span class="annottext">tyHead :: Type
</span><a href="#local-6989586621679126903"><span class="hs-identifier hs-var">tyHead</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679126902"><span class="annot"><span class="annottext">tyArgs :: [Type]
</span><a href="#local-6989586621679126902"><span class="hs-identifier hs-var">tyArgs</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; [Type]
</span><a href="Generics.Deriving.TH.Internal.html#unapplyTy"><span class="hs-identifier hs-var">unapplyTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126904"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-758"></span><span>      </span><span id="local-6989586621679126900"><span class="annot"><span class="annottext">numLastArgs :: Int
</span><a href="#local-6989586621679126900"><span class="hs-identifier hs-var hs-var">numLastArgs</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; Int -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126902"><span class="hs-identifier hs-var">tyArgs</span></a></span><span>
</span><span id="line-759"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679126897"><span class="annot"><span class="annottext">lhsArgs :: [Type]
</span><a href="#local-6989586621679126897"><span class="hs-identifier hs-var">lhsArgs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679126896"><span class="annot"><span class="annottext">rhsArgs :: [Type]
</span><a href="#local-6989586621679126896"><span class="hs-identifier hs-var">rhsArgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Type] -&gt; ([Type], [Type])
forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">splitAt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126902"><span class="hs-identifier hs-var">tyArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126900"><span class="hs-identifier hs-var">numLastArgs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126902"><span class="hs-identifier hs-var">tyArgs</span></a></span><span>
</span><span id="line-760"></span><span>      </span><span id="local-6989586621679126894"><span class="annot"><span class="annottext">rec0Type :: TypeQ
</span><a href="#local-6989586621679126894"><span class="hs-identifier hs-var hs-var">rec0Type</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#boxT"><span class="hs-identifier hs-var">boxT</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126904"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-761"></span><span>      </span><span id="local-6989586621679126893"><span class="annot"><span class="annottext">phiType :: TypeQ
</span><a href="#local-6989586621679126893"><span class="hs-identifier hs-var hs-var">phiType</span></a></span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TypeQ) -&gt; Type -&gt; TypeQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; [Type] -&gt; Type
</span><a href="Generics.Deriving.TH.Internal.html#applyTyToTys"><span class="hs-identifier hs-var">applyTyToTys</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126903"><span class="hs-identifier hs-var">tyHead</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126897"><span class="hs-identifier hs-var">lhsArgs</span></a></span><span>
</span><span id="line-762"></span><span>
</span><span id="line-763"></span><span>      </span><span class="annot"><a href="#local-6989586621679126891"><span class="hs-identifier hs-type">inspectTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-764"></span><span>      </span><span id="local-6989586621679126891"><span class="annot"><span class="annottext">inspectTy :: Type -&gt; TypeQ
</span><a href="#local-6989586621679126891"><span class="hs-identifier hs-var hs-var">inspectTy</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">VarT</span></span><span> </span><span id="local-6989586621679126890"><span class="annot"><span class="annottext">a :: Name
</span><a href="#local-6989586621679126890"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-765"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126890"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126905"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-766"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#rec1TypeName"><span class="hs-identifier hs-var">rec1TypeName</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679126893"><span class="hs-identifier hs-var">phiType</span></a></span><span>
</span><span id="line-767"></span><span>      </span><span class="annot"><a href="#local-6989586621679126891"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SigT</span></span><span> </span><span id="local-6989586621679126888"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621679126888"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
</span><a href="#local-6989586621679126891"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126888"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-768"></span><span>      </span><span class="annot"><a href="#local-6989586621679126891"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span id="local-6989586621679126887"><span class="annot"><span class="annottext">beta :: Type
</span><a href="#local-6989586621679126887"><span class="hs-identifier hs-var">beta</span></a></span></span><span>
</span><span id="line-769"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#ground"><span class="hs-identifier hs-var">ground</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126887"><span class="hs-identifier hs-var">beta</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126905"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-770"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#composeTypeName"><span class="hs-identifier hs-var">composeTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679126893"><span class="hs-identifier hs-var">phiType</span></a></span><span>
</span><span id="line-771"></span><span>                               </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">GenericKind -&gt; Type -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#repFieldArg"><span class="hs-identifier hs-var">repFieldArg</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126906"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126887"><span class="hs-identifier hs-var">beta</span></a></span><span>
</span><span id="line-772"></span><span>      </span><span class="annot"><a href="#local-6989586621679126891"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679126894"><span class="hs-identifier hs-var">rec0Type</span></a></span><span>
</span><span id="line-773"></span><span>
</span><span id="line-774"></span><span>  </span><span id="local-6989586621679126883"><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126883"><span class="hs-identifier hs-var">itf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Q KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#isTyFamily"><span class="hs-identifier hs-var">isTyFamily</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126903"><span class="hs-identifier hs-var">tyHead</span></a></span><span>
</span><span id="line-775"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">(Type -&gt; KindSigOptions) -&gt; [Type] -&gt; KindSigOptions
forall (t :: * -&gt; *) a.
Foldable t =&gt;
(a -&gt; KindSigOptions) -&gt; t a -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(KindSigOptions -&gt; KindSigOptions)
-&gt; (Type -&gt; KindSigOptions) -&gt; Type -&gt; KindSigOptions
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#ground"><span class="hs-operator hs-var">`ground`</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126905"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126897"><span class="hs-identifier hs-var">lhsArgs</span></a></span><span>
</span><span id="line-776"></span><span>       </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; KindSigOptions
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; KindSigOptions) -&gt; [Type] -&gt; KindSigOptions
forall (t :: * -&gt; *) a.
Foldable t =&gt;
(a -&gt; KindSigOptions) -&gt; t a -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(KindSigOptions -&gt; KindSigOptions)
-&gt; (Type -&gt; KindSigOptions) -&gt; Type -&gt; KindSigOptions
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#ground"><span class="hs-operator hs-var">`ground`</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126905"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126902"><span class="hs-identifier hs-var">tyArgs</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; KindSigOptions
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126883"><span class="hs-identifier hs-var">itf</span></a></span><span>
</span><span id="line-777"></span><span>     </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">TypeQ
forall a. Q a
</span><a href="Generics.Deriving.TH.Internal.html#outOfPlaceTyVarError"><span class="hs-identifier hs-var">outOfPlaceTyVarError</span></a></span><span>
</span><span id="line-778"></span><span>     </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126896"><span class="hs-identifier hs-var">rhsArgs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-779"></span><span>          </span><span class="hs-special">[</span><span class="hs-special">]</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeQ
</span><a href="#local-6989586621679126894"><span class="hs-identifier hs-var">rec0Type</span></a></span><span>
</span><span id="line-780"></span><span>          </span><span id="local-6989586621679126877"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621679126877"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
</span><a href="#local-6989586621679126891"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126877"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-781"></span><span>
</span><span id="line-782"></span><span class="annot"><a href="Generics.Deriving.TH.html#boxT"><span class="hs-identifier hs-type">boxT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-783"></span><span id="boxT"><span class="annot"><span class="annottext">boxT :: Type -&gt; TypeQ
</span><a href="Generics.Deriving.TH.html#boxT"><span class="hs-identifier hs-var hs-var">boxT</span></a></span></span><span> </span><span id="local-6989586621679126876"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621679126876"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Maybe (Name, Name, Name)
</span><a href="Generics.Deriving.TH.html#unboxedRepNames"><span class="hs-identifier hs-var">unboxedRepNames</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126876"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-784"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679126874"><span class="annot"><span class="annottext">boxTyName :: Name
</span><a href="#local-6989586621679126874"><span class="hs-identifier hs-var">boxTyName</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126874"><span class="hs-identifier hs-var">boxTyName</span></a></span><span>
</span><span id="line-785"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; TypeQ
</span><span class="hs-identifier hs-var">conT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#rec0TypeName"><span class="hs-identifier hs-var">rec0TypeName</span></a></span><span> </span><span class="annot"><span class="annottext">TypeQ -&gt; TypeQ -&gt; TypeQ
</span><span class="hs-operator hs-var">`appT`</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126876"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-786"></span><span>
</span><span id="line-787"></span><span class="annot"><a href="Generics.Deriving.TH.html#mkCaseExp"><span class="hs-identifier hs-type">mkCaseExp</span></a></span><span>
</span><span id="line-788"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span class="hs-special">]</span><span>
</span><span id="line-789"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-790"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Match</span></span><span class="hs-special">)</span><span>
</span><span id="line-791"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-792"></span><span id="mkCaseExp"><span class="annot"><span class="annottext">mkCaseExp :: GenericClass
-&gt; KindSigOptions
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; (GenericClass
    -&gt; KindSigOptions
    -&gt; Int
    -&gt; Int
    -&gt; Name
    -&gt; [Type]
    -&gt; [ConstructorInfo]
    -&gt; Q Match)
-&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#mkCaseExp"><span class="hs-identifier hs-var hs-var">mkCaseExp</span></a></span></span><span> </span><span id="local-6989586621679126872"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679126872"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679126871"><span class="annot"><span class="annottext">ecOptions :: KindSigOptions
</span><a href="#local-6989586621679126871"><span class="hs-identifier hs-var">ecOptions</span></a></span></span><span> </span><span id="local-6989586621679126870"><span class="annot"><span class="annottext">dt :: Name
</span><a href="#local-6989586621679126870"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span id="local-6989586621679126869"><span class="annot"><span class="annottext">instTys :: [Type]
</span><a href="#local-6989586621679126869"><span class="hs-identifier hs-var">instTys</span></a></span></span><span> </span><span id="local-6989586621679126868"><span class="annot"><span class="annottext">cs :: [ConstructorInfo]
</span><a href="#local-6989586621679126868"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span id="local-6989586621679126867"><span class="annot"><span class="annottext">matchmaker :: GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="#local-6989586621679126867"><span class="hs-identifier hs-var">matchmaker</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-793"></span><span>  </span><span id="local-6989586621679126866"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126866"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Q Name
</span><span class="hs-identifier hs-var">newName</span></span><span> </span><span class="annot"><span class="hs-string">&quot;val&quot;</span></span><span>
</span><span id="line-794"></span><span>  </span><span class="annot"><span class="annottext">PatQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-identifier hs-var">lam1E</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; PatQ
</span><span class="hs-identifier hs-var">varP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126866"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ExpQ -&gt; ExpQ) -&gt; ExpQ -&gt; ExpQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; [Q Match] -&gt; ExpQ
</span><span class="hs-identifier hs-var">caseE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126866"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="#local-6989586621679126867"><span class="hs-identifier hs-var">matchmaker</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679126872"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126871"><span class="hs-identifier hs-var">ecOptions</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126870"><span class="hs-identifier hs-var">dt</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126869"><span class="hs-identifier hs-var">instTys</span></a></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679126868"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-795"></span><span>
</span><span id="line-796"></span><span class="annot"><a href="Generics.Deriving.TH.html#mkFrom"><span class="hs-identifier hs-type">mkFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-797"></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Match</span></span><span>
</span><span id="line-798"></span><span id="mkFrom"><span class="annot"><span class="annottext">mkFrom :: GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="Generics.Deriving.TH.html#mkFrom"><span class="hs-identifier hs-var hs-var">mkFrom</span></a></span></span><span> </span><span id="local-6989586621679126864"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679126864"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679126863"><span class="annot"><span class="annottext">ecOptions :: KindSigOptions
</span><a href="#local-6989586621679126863"><span class="hs-identifier hs-var">ecOptions</span></a></span></span><span> </span><span id="local-6989586621679126862"><span class="annot"><span class="annottext">m :: Int
</span><a href="#local-6989586621679126862"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679126861"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621679126861"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679126860"><span class="annot"><span class="annottext">dt :: Name
</span><a href="#local-6989586621679126860"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span id="local-6989586621679126859"><span class="annot"><span class="annottext">instTys :: [Type]
</span><a href="#local-6989586621679126859"><span class="hs-identifier hs-var">instTys</span></a></span></span><span> </span><span id="local-6989586621679126858"><span class="annot"><span class="annottext">cs :: [ConstructorInfo]
</span><a href="#local-6989586621679126858"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-799"></span><span>    </span><span id="local-6989586621679126857"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126857"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Q Name
</span><span class="hs-identifier hs-var">newName</span></span><span> </span><span class="annot"><span class="hs-string">&quot;y&quot;</span></span><span>
</span><span id="line-800"></span><span>    </span><span class="annot"><span class="annottext">PatQ -&gt; BodyQ -&gt; [Q Dec] -&gt; Q Match
</span><span class="hs-identifier hs-var">match</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; PatQ
</span><span class="hs-identifier hs-var">varP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126857"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-801"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExpQ -&gt; BodyQ
</span><span class="hs-identifier hs-var">normalB</span></span><span> </span><span class="annot"><span class="annottext">(ExpQ -&gt; BodyQ) -&gt; ExpQ -&gt; BodyQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#m1DataName"><span class="hs-identifier hs-var">m1DataName</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; [Q Match] -&gt; ExpQ
</span><span class="hs-identifier hs-var">caseE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126857"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Q Match]
</span><a href="#local-6989586621679126855"><span class="hs-identifier hs-var">cases</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-802"></span><span>          </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-803"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-804"></span><span>    </span><span id="local-6989586621679126855"><span class="annot"><span class="annottext">cases :: [Q Match]
</span><a href="#local-6989586621679126855"><span class="hs-identifier hs-var hs-var">cases</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679126858"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-805"></span><span>              </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; Name -&gt; [Q Match]
</span><a href="Generics.Deriving.TH.html#errorFrom"><span class="hs-identifier hs-var">errorFrom</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126863"><span class="hs-identifier hs-var">ecOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126860"><span class="hs-identifier hs-var">dt</span></a></span><span>
</span><span id="line-806"></span><span>              </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; ConstructorInfo -&gt; Q Match)
-&gt; [Int] -&gt; [ConstructorInfo] -&gt; [Q Match]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericKind
-&gt; (ExpQ -&gt; ExpQ) -&gt; Int -&gt; Int -&gt; ConstructorInfo -&gt; Q Match
</span><a href="Generics.Deriving.TH.html#fromCon"><span class="hs-identifier hs-var">fromCon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126852"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ
</span><a href="#local-6989586621679126851"><span class="hs-identifier hs-var">wrapE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ConstructorInfo] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679126858"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679126858"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-807"></span><span>    </span><span id="local-6989586621679126851"><span class="annot"><span class="annottext">wrapE :: ExpQ -&gt; ExpQ
</span><a href="#local-6989586621679126851"><span class="hs-identifier hs-var hs-var">wrapE</span></a></span></span><span> </span><span id="local-6989586621679126850"><span class="annot"><span class="annottext">e :: ExpQ
</span><a href="#local-6989586621679126850"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ExpQ -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#lrE"><span class="hs-identifier hs-var">lrE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126861"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126862"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ
</span><a href="#local-6989586621679126850"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-808"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679126852"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126852"><span class="hs-identifier hs-var">gk</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; [Type] -&gt; ([TyVarBndr], GenericKind)
</span><a href="Generics.Deriving.TH.Internal.html#genericKind"><span class="hs-identifier hs-var">genericKind</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679126864"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126859"><span class="hs-identifier hs-var">instTys</span></a></span><span>
</span><span id="line-809"></span><span>
</span><span id="line-810"></span><span class="annot"><a href="Generics.Deriving.TH.html#errorFrom"><span class="hs-identifier hs-type">errorFrom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Match</span></span><span class="hs-special">]</span><span>
</span><span id="line-811"></span><span id="errorFrom"><span class="annot"><span class="annottext">errorFrom :: KindSigOptions -&gt; Name -&gt; [Q Match]
</span><a href="Generics.Deriving.TH.html#errorFrom"><span class="hs-identifier hs-var hs-var">errorFrom</span></a></span></span><span> </span><span id="local-6989586621679126848"><span class="annot"><span class="annottext">useEmptyCase :: KindSigOptions
</span><a href="#local-6989586621679126848"><span class="hs-identifier hs-var">useEmptyCase</span></a></span></span><span> </span><span id="local-6989586621679126847"><span class="annot"><span class="annottext">dt :: Name
</span><a href="#local-6989586621679126847"><span class="hs-identifier hs-var">dt</span></a></span></span><span>
</span><span id="line-812"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126848"><span class="hs-identifier hs-var">useEmptyCase</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; KindSigOptions
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="Generics.Deriving.TH.html#ghc7%278OrLater"><span class="hs-identifier hs-var">ghc7'8OrLater</span></a></span><span>
</span><span id="line-813"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-814"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-815"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679126845"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126845"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Q Name
</span><span class="hs-identifier hs-var">newName</span></span><span> </span><span class="annot"><span class="hs-string">&quot;z&quot;</span></span><span>
</span><span id="line-816"></span><span>        </span><span class="annot"><span class="annottext">PatQ -&gt; BodyQ -&gt; [Q Dec] -&gt; Q Match
</span><span class="hs-identifier hs-var">match</span></span><span>
</span><span id="line-817"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; PatQ
</span><span class="hs-identifier hs-var">varP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126845"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-818"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExpQ -&gt; BodyQ
</span><span class="hs-identifier hs-var">normalB</span></span><span> </span><span class="annot"><span class="annottext">(ExpQ -&gt; BodyQ) -&gt; ExpQ -&gt; BodyQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-819"></span><span>            </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-identifier hs-var">appE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#seqValName"><span class="hs-identifier hs-var">seqValName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126845"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span>
</span><span id="line-820"></span><span>            </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-identifier hs-var">appE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#errorValName"><span class="hs-identifier hs-var">errorValName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-821"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ExpQ
</span><span class="hs-identifier hs-var">stringE</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; ExpQ) -&gt; String -&gt; ExpQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;No generic representation for empty datatype &quot;</span></span><span>
</span><span id="line-822"></span><span>                          </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; String
</span><span class="hs-identifier hs-var">nameBase</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126847"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-823"></span><span>          </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-824"></span><span>
</span><span id="line-825"></span><span class="annot"><a href="Generics.Deriving.TH.html#mkTo"><span class="hs-identifier hs-type">mkTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-826"></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Match</span></span><span>
</span><span id="line-827"></span><span id="mkTo"><span class="annot"><span class="annottext">mkTo :: GenericClass
-&gt; KindSigOptions
-&gt; Int
-&gt; Int
-&gt; Name
-&gt; [Type]
-&gt; [ConstructorInfo]
-&gt; Q Match
</span><a href="Generics.Deriving.TH.html#mkTo"><span class="hs-identifier hs-var hs-var">mkTo</span></a></span></span><span> </span><span id="local-6989586621679126841"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679126841"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679126840"><span class="annot"><span class="annottext">ecOptions :: KindSigOptions
</span><a href="#local-6989586621679126840"><span class="hs-identifier hs-var">ecOptions</span></a></span></span><span> </span><span id="local-6989586621679126839"><span class="annot"><span class="annottext">m :: Int
</span><a href="#local-6989586621679126839"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679126838"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621679126838"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679126837"><span class="annot"><span class="annottext">dt :: Name
</span><a href="#local-6989586621679126837"><span class="hs-identifier hs-var">dt</span></a></span></span><span> </span><span id="local-6989586621679126836"><span class="annot"><span class="annottext">instTys :: [Type]
</span><a href="#local-6989586621679126836"><span class="hs-identifier hs-var">instTys</span></a></span></span><span> </span><span id="local-6989586621679126835"><span class="annot"><span class="annottext">cs :: [ConstructorInfo]
</span><a href="#local-6989586621679126835"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-828"></span><span>    </span><span id="local-6989586621679126834"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126834"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Q Name
</span><span class="hs-identifier hs-var">newName</span></span><span> </span><span class="annot"><span class="hs-string">&quot;y&quot;</span></span><span>
</span><span id="line-829"></span><span>    </span><span class="annot"><span class="annottext">PatQ -&gt; BodyQ -&gt; [Q Dec] -&gt; Q Match
</span><span class="hs-identifier hs-var">match</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; [PatQ] -&gt; PatQ
</span><span class="hs-identifier hs-var">conP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#m1DataName"><span class="hs-identifier hs-var">m1DataName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name -&gt; PatQ
</span><span class="hs-identifier hs-var">varP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126834"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-830"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExpQ -&gt; BodyQ
</span><span class="hs-identifier hs-var">normalB</span></span><span> </span><span class="annot"><span class="annottext">(ExpQ -&gt; BodyQ) -&gt; ExpQ -&gt; BodyQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; [Q Match] -&gt; ExpQ
</span><span class="hs-identifier hs-var">caseE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126834"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Q Match]
</span><a href="#local-6989586621679126833"><span class="hs-identifier hs-var">cases</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-831"></span><span>          </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-832"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-833"></span><span>    </span><span id="local-6989586621679126833"><span class="annot"><span class="annottext">cases :: [Q Match]
</span><a href="#local-6989586621679126833"><span class="hs-identifier hs-var hs-var">cases</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679126835"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-834"></span><span>              </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; Name -&gt; [Q Match]
</span><a href="Generics.Deriving.TH.html#errorTo"><span class="hs-identifier hs-var">errorTo</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126840"><span class="hs-identifier hs-var">ecOptions</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126837"><span class="hs-identifier hs-var">dt</span></a></span><span>
</span><span id="line-835"></span><span>              </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; ConstructorInfo -&gt; Q Match)
-&gt; [Int] -&gt; [ConstructorInfo] -&gt; [Q Match]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericKind
-&gt; (PatQ -&gt; PatQ) -&gt; Int -&gt; Int -&gt; ConstructorInfo -&gt; Q Match
</span><a href="Generics.Deriving.TH.html#toCon"><span class="hs-identifier hs-var">toCon</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126830"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">PatQ -&gt; PatQ
</span><a href="#local-6989586621679126829"><span class="hs-identifier hs-var">wrapP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[ConstructorInfo] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679126835"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[ConstructorInfo]
</span><a href="#local-6989586621679126835"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-836"></span><span>    </span><span id="local-6989586621679126829"><span class="annot"><span class="annottext">wrapP :: PatQ -&gt; PatQ
</span><a href="#local-6989586621679126829"><span class="hs-identifier hs-var hs-var">wrapP</span></a></span></span><span> </span><span id="local-6989586621679126828"><span class="annot"><span class="annottext">p :: PatQ
</span><a href="#local-6989586621679126828"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; PatQ -&gt; PatQ
</span><a href="Generics.Deriving.TH.html#lrP"><span class="hs-identifier hs-var">lrP</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126838"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126839"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">PatQ
</span><a href="#local-6989586621679126828"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-837"></span><span>    </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621679126830"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126830"><span class="hs-identifier hs-var">gk</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; [Type] -&gt; ([TyVarBndr], GenericKind)
</span><a href="Generics.Deriving.TH.Internal.html#genericKind"><span class="hs-identifier hs-var">genericKind</span></a></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679126841"><span class="hs-identifier hs-var">gClass</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126836"><span class="hs-identifier hs-var">instTys</span></a></span><span>
</span><span id="line-838"></span><span>
</span><span id="line-839"></span><span class="annot"><a href="Generics.Deriving.TH.html#errorTo"><span class="hs-identifier hs-type">errorTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#EmptyCaseOptions"><span class="hs-identifier hs-type">EmptyCaseOptions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Match</span></span><span class="hs-special">]</span><span>
</span><span id="line-840"></span><span id="errorTo"><span class="annot"><span class="annottext">errorTo :: KindSigOptions -&gt; Name -&gt; [Q Match]
</span><a href="Generics.Deriving.TH.html#errorTo"><span class="hs-identifier hs-var hs-var">errorTo</span></a></span></span><span> </span><span id="local-6989586621679126826"><span class="annot"><span class="annottext">useEmptyCase :: KindSigOptions
</span><a href="#local-6989586621679126826"><span class="hs-identifier hs-var">useEmptyCase</span></a></span></span><span> </span><span id="local-6989586621679126825"><span class="annot"><span class="annottext">dt :: Name
</span><a href="#local-6989586621679126825"><span class="hs-identifier hs-var">dt</span></a></span></span><span>
</span><span id="line-841"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126826"><span class="hs-identifier hs-var">useEmptyCase</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; KindSigOptions
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="Generics.Deriving.TH.html#ghc7%278OrLater"><span class="hs-identifier hs-var">ghc7'8OrLater</span></a></span><span>
</span><span id="line-842"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-843"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">otherwise</span></span><span>
</span><span id="line-844"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679126824"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126824"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Q Name
</span><span class="hs-identifier hs-var">newName</span></span><span> </span><span class="annot"><span class="hs-string">&quot;z&quot;</span></span><span>
</span><span id="line-845"></span><span>        </span><span class="annot"><span class="annottext">PatQ -&gt; BodyQ -&gt; [Q Dec] -&gt; Q Match
</span><span class="hs-identifier hs-var">match</span></span><span>
</span><span id="line-846"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; PatQ
</span><span class="hs-identifier hs-var">varP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126824"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-847"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExpQ -&gt; BodyQ
</span><span class="hs-identifier hs-var">normalB</span></span><span> </span><span class="annot"><span class="annottext">(ExpQ -&gt; BodyQ) -&gt; ExpQ -&gt; BodyQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-848"></span><span>            </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-identifier hs-var">appE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#seqValName"><span class="hs-identifier hs-var">seqValName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126824"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span>
</span><span id="line-849"></span><span>            </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-identifier hs-var">appE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#errorValName"><span class="hs-identifier hs-var">errorValName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-850"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; ExpQ
</span><span class="hs-identifier hs-var">stringE</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; ExpQ) -&gt; String -&gt; ExpQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;No values for empty datatype &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; String
</span><span class="hs-identifier hs-var">nameBase</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126825"><span class="hs-identifier hs-var">dt</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-851"></span><span>          </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-852"></span><span>
</span><span id="line-853"></span><span class="annot"><a href="Generics.Deriving.TH.html#ghc7%278OrLater"><span class="hs-identifier hs-type">ghc7'8OrLater</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-cpp">
#if __GLASGOW_HASKELL__ &gt;= 708
</span><span id="ghc7%278OrLater"><span class="annot"><span class="annottext">ghc7'8OrLater :: KindSigOptions
</span><a href="Generics.Deriving.TH.html#ghc7%278OrLater"><span class="hs-identifier hs-var hs-var">ghc7'8OrLater</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-cpp">
#else
</span><span class="hs-identifier">ghc7'8OrLater</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">False</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-860"></span><span class="annot"><a href="Generics.Deriving.TH.html#fromCon"><span class="hs-identifier hs-type">fromCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-861"></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Match</span></span><span>
</span><span id="line-862"></span><span id="fromCon"><span class="annot"><span class="annottext">fromCon :: GenericKind
-&gt; (ExpQ -&gt; ExpQ) -&gt; Int -&gt; Int -&gt; ConstructorInfo -&gt; Q Match
</span><a href="Generics.Deriving.TH.html#fromCon"><span class="hs-identifier hs-var hs-var">fromCon</span></a></span></span><span> </span><span id="local-6989586621679126823"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126823"><span class="hs-identifier hs-var">gk</span></a></span></span><span> </span><span id="local-6989586621679126822"><span class="annot"><span class="annottext">wrap :: ExpQ -&gt; ExpQ
</span><a href="#local-6989586621679126822"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span id="local-6989586621679126821"><span class="annot"><span class="annottext">m :: Int
</span><a href="#local-6989586621679126821"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679126820"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621679126820"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-863"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">constructorName :: ConstructorInfo -&gt; Name
</span><span class="hs-identifier hs-var">constructorName</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126819"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126819"><span class="hs-identifier hs-var">cn</span></a></span></span><span>
</span><span id="line-864"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorVars :: ConstructorInfo -&gt; [TyVarBndr]
</span><span class="hs-identifier hs-var">constructorVars</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126818"><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679126818"><span class="hs-identifier hs-var">vars</span></a></span></span><span>
</span><span id="line-865"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorContext :: ConstructorInfo -&gt; [Type]
</span><span class="hs-identifier hs-var">constructorContext</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126817"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126817"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span>
</span><span id="line-866"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorFields :: ConstructorInfo -&gt; [Type]
</span><span class="hs-identifier hs-var">constructorFields</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126816"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126816"><span class="hs-identifier hs-var">ts</span></a></span></span><span>
</span><span id="line-867"></span><span>                   </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-868"></span><span>  </span><span class="annot"><span class="annottext">Name -&gt; [TyVarBndr] -&gt; [Type] -&gt; Q ()
</span><a href="Generics.Deriving.TH.Internal.html#checkExistentialContext"><span class="hs-identifier hs-var">checkExistentialContext</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126819"><span class="hs-identifier hs-var">cn</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679126818"><span class="hs-identifier hs-var">vars</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126817"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-869"></span><span>  </span><span id="local-6989586621679126815"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679126815"><span class="hs-identifier hs-var">fNames</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; Q [Name]
</span><a href="Generics.Deriving.TH.Internal.html#newNameList"><span class="hs-identifier hs-var">newNameList</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;f&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Q [Name]) -&gt; Int -&gt; Q [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126816"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-870"></span><span>  </span><span class="annot"><span class="annottext">PatQ -&gt; BodyQ -&gt; [Q Dec] -&gt; Q Match
</span><span class="hs-identifier hs-var">match</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; [PatQ] -&gt; PatQ
</span><span class="hs-identifier hs-var">conP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126819"><span class="hs-identifier hs-var">cn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; PatQ) -&gt; [Name] -&gt; [PatQ]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; PatQ
</span><span class="hs-identifier hs-var">varP</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679126815"><span class="hs-identifier hs-var">fNames</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-871"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExpQ -&gt; BodyQ
</span><span class="hs-identifier hs-var">normalB</span></span><span> </span><span class="annot"><span class="annottext">(ExpQ -&gt; BodyQ) -&gt; ExpQ -&gt; BodyQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ
</span><a href="#local-6989586621679126822"><span class="hs-identifier hs-var">wrap</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpQ -&gt; ExpQ) -&gt; ExpQ -&gt; ExpQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ExpQ -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#lrE"><span class="hs-identifier hs-var">lrE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126820"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126821"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">(ExpQ -&gt; ExpQ) -&gt; ExpQ -&gt; ExpQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#m1DataName"><span class="hs-identifier hs-var">m1DataName</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span>
</span><span id="line-872"></span><span>          </span><span class="annot"><span class="annottext">(ExpQ -&gt; ExpQ -&gt; ExpQ) -&gt; ExpQ -&gt; [ExpQ] -&gt; ExpQ
forall a. (a -&gt; a -&gt; a) -&gt; a -&gt; [a] -&gt; a
</span><a href="Generics.Deriving.TH.Internal.html#foldBal"><span class="hs-identifier hs-var">foldBal</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#prodE"><span class="hs-identifier hs-var">prodE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#u1DataName"><span class="hs-identifier hs-var">u1DataName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Type -&gt; ExpQ) -&gt; [Name] -&gt; [Type] -&gt; [ExpQ]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericKind -&gt; Name -&gt; Type -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#fromField"><span class="hs-identifier hs-var">fromField</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126823"><span class="hs-identifier hs-var">gk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679126815"><span class="hs-identifier hs-var">fNames</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126816"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-873"></span><span>
</span><span id="line-874"></span><span class="annot"><a href="Generics.Deriving.TH.html#prodE"><span class="hs-identifier hs-type">prodE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-875"></span><span id="prodE"><span class="annot"><span class="annottext">prodE :: ExpQ -&gt; ExpQ -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#prodE"><span class="hs-identifier hs-var hs-var">prodE</span></a></span></span><span> </span><span id="local-6989586621679126810"><span class="annot"><span class="annottext">x :: ExpQ
</span><a href="#local-6989586621679126810"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679126809"><span class="annot"><span class="annottext">y :: ExpQ
</span><a href="#local-6989586621679126809"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#productDataName"><span class="hs-identifier hs-var">productDataName</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span> </span><span class="annot"><span class="annottext">ExpQ
</span><a href="#local-6989586621679126810"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span> </span><span class="annot"><span class="annottext">ExpQ
</span><a href="#local-6989586621679126809"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-876"></span><span>
</span><span id="line-877"></span><span class="annot"><a href="Generics.Deriving.TH.html#fromField"><span class="hs-identifier hs-type">fromField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-878"></span><span id="fromField"><span class="annot"><span class="annottext">fromField :: GenericKind -&gt; Name -&gt; Type -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#fromField"><span class="hs-identifier hs-var hs-var">fromField</span></a></span></span><span> </span><span id="local-6989586621679126807"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126807"><span class="hs-identifier hs-var">gk</span></a></span></span><span> </span><span id="local-6989586621679126806"><span class="annot"><span class="annottext">nr :: Name
</span><a href="#local-6989586621679126806"><span class="hs-identifier hs-var">nr</span></a></span></span><span> </span><span id="local-6989586621679126805"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126805"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#m1DataName"><span class="hs-identifier hs-var">m1DataName</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericKind -&gt; Name -&gt; Type -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#fromFieldWrap"><span class="hs-identifier hs-var">fromFieldWrap</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126807"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126806"><span class="hs-identifier hs-var">nr</span></a></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; ExpQ) -&gt; TypeQ -&gt; ExpQ
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
</span><span class="hs-identifier hs-var">resolveTypeSynonyms</span></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126805"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-879"></span><span>
</span><span id="line-880"></span><span class="annot"><a href="Generics.Deriving.TH.html#fromFieldWrap"><span class="hs-identifier hs-type">fromFieldWrap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-881"></span><span id="fromFieldWrap"><span class="annot"><span class="annottext">fromFieldWrap :: GenericKind -&gt; Name -&gt; Type -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#fromFieldWrap"><span class="hs-identifier hs-var hs-var">fromFieldWrap</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-identifier">_</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ForallT</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpQ
forall a. a
</span><a href="Generics.Deriving.TH.Internal.html#rankNError"><span class="hs-identifier hs-var">rankNError</span></a></span><span>
</span><span id="line-882"></span><span class="annot"><a href="Generics.Deriving.TH.html#fromFieldWrap"><span class="hs-identifier hs-var">fromFieldWrap</span></a></span><span> </span><span id="local-6989586621679126803"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126803"><span class="hs-identifier hs-var">gk</span></a></span></span><span>            </span><span id="local-6989586621679126802"><span class="annot"><span class="annottext">nr :: Name
</span><a href="#local-6989586621679126802"><span class="hs-identifier hs-var">nr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SigT</span></span><span> </span><span id="local-6989586621679126801"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126801"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GenericKind -&gt; Name -&gt; Type -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#fromFieldWrap"><span class="hs-identifier hs-var">fromFieldWrap</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126803"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126802"><span class="hs-identifier hs-var">nr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126801"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-883"></span><span class="annot"><a href="Generics.Deriving.TH.html#fromFieldWrap"><span class="hs-identifier hs-var">fromFieldWrap</span></a></span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Gen0"><span class="hs-identifier hs-type">Gen0</span></a></span><span>          </span><span id="local-6989586621679126800"><span class="annot"><span class="annottext">nr :: Name
</span><a href="#local-6989586621679126800"><span class="hs-identifier hs-var">nr</span></a></span></span><span> </span><span id="local-6989586621679126799"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126799"><span class="hs-identifier hs-var">t</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Name
</span><a href="Generics.Deriving.TH.html#boxRepName"><span class="hs-identifier hs-var">boxRepName</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126799"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126800"><span class="hs-identifier hs-var">nr</span></a></span><span>
</span><span id="line-884"></span><span class="annot"><a href="Generics.Deriving.TH.html#fromFieldWrap"><span class="hs-identifier hs-var">fromFieldWrap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Gen1"><span class="hs-identifier hs-type">Gen1</span></a></span><span> </span><span id="local-6989586621679126797"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679126797"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679126796"><span class="annot"><span class="annottext">nr :: Name
</span><a href="#local-6989586621679126796"><span class="hs-identifier hs-var">nr</span></a></span></span><span> </span><span id="local-6989586621679126795"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126795"><span class="hs-identifier hs-var">t</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#wC"><span class="hs-identifier hs-var">wC</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126795"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126797"><span class="hs-identifier hs-var">name</span></a></span><span>           </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126796"><span class="hs-identifier hs-var">nr</span></a></span><span>
</span><span id="line-885"></span><span>
</span><span id="line-886"></span><span class="annot"><a href="Generics.Deriving.TH.html#wC"><span class="hs-identifier hs-type">wC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-887"></span><span id="wC"><span class="annot"><span class="annottext">wC :: Type -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#wC"><span class="hs-identifier hs-var hs-var">wC</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">VarT</span></span><span> </span><span id="local-6989586621679126793"><span class="annot"><span class="annottext">t :: Name
</span><a href="#local-6989586621679126793"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679126792"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679126792"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126793"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126792"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#par1DataName"><span class="hs-identifier hs-var">par1DataName</span></a></span><span>
</span><span id="line-888"></span><span class="annot"><a href="Generics.Deriving.TH.html#wC"><span class="hs-identifier hs-var">wC</span></a></span><span> </span><span id="local-6989586621679126790"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126790"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679126789"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679126789"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-889"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#ground"><span class="hs-identifier hs-var">ground</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126790"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126789"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; ExpQ) -&gt; Name -&gt; ExpQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name
</span><a href="Generics.Deriving.TH.html#boxRepName"><span class="hs-identifier hs-var">boxRepName</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126790"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-890"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-891"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679126788"><span class="annot"><span class="annottext">tyHead :: Type
</span><a href="#local-6989586621679126788"><span class="hs-identifier hs-var">tyHead</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679126787"><span class="annot"><span class="annottext">tyArgs :: [Type]
</span><a href="#local-6989586621679126787"><span class="hs-identifier hs-var">tyArgs</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; [Type]
</span><a href="Generics.Deriving.TH.Internal.html#unapplyTy"><span class="hs-identifier hs-var">unapplyTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126790"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-892"></span><span>          </span><span id="local-6989586621679126786"><span class="annot"><span class="annottext">numLastArgs :: Int
</span><a href="#local-6989586621679126786"><span class="hs-identifier hs-var hs-var">numLastArgs</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; Int -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126787"><span class="hs-identifier hs-var">tyArgs</span></a></span><span>
</span><span id="line-893"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679126785"><span class="annot"><span class="annottext">lhsArgs :: [Type]
</span><a href="#local-6989586621679126785"><span class="hs-identifier hs-var">lhsArgs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679126784"><span class="annot"><span class="annottext">rhsArgs :: [Type]
</span><a href="#local-6989586621679126784"><span class="hs-identifier hs-var">rhsArgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Type] -&gt; ([Type], [Type])
forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">splitAt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126787"><span class="hs-identifier hs-var">tyArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126786"><span class="hs-identifier hs-var">numLastArgs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126787"><span class="hs-identifier hs-var">tyArgs</span></a></span><span>
</span><span id="line-894"></span><span>
</span><span id="line-895"></span><span>          </span><span class="annot"><a href="#local-6989586621679126783"><span class="hs-identifier hs-type">inspectTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-896"></span><span>          </span><span id="local-6989586621679126783"><span class="annot"><span class="annottext">inspectTy :: Type -&gt; ExpQ
</span><a href="#local-6989586621679126783"><span class="hs-identifier hs-var hs-var">inspectTy</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ForallT</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpQ
forall a. a
</span><a href="Generics.Deriving.TH.Internal.html#rankNError"><span class="hs-identifier hs-var">rankNError</span></a></span><span>
</span><span id="line-897"></span><span>          </span><span class="annot"><a href="#local-6989586621679126783"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SigT</span></span><span> </span><span id="local-6989586621679126782"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621679126782"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; ExpQ
</span><a href="#local-6989586621679126783"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126782"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-898"></span><span>          </span><span class="annot"><a href="#local-6989586621679126783"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">VarT</span></span><span> </span><span id="local-6989586621679126781"><span class="annot"><span class="annottext">a :: Name
</span><a href="#local-6989586621679126781"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-899"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126781"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126789"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-900"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#rec1DataName"><span class="hs-identifier hs-var">rec1DataName</span></a></span><span>
</span><span id="line-901"></span><span>          </span><span class="annot"><a href="#local-6989586621679126783"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span id="local-6989586621679126779"><span class="annot"><span class="annottext">beta :: Type
</span><a href="#local-6989586621679126779"><span class="hs-identifier hs-var">beta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-identifier hs-var">infixApp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#comp1DataName"><span class="hs-identifier hs-var">comp1DataName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-902"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#composeValName"><span class="hs-identifier hs-var">composeValName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-903"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#fmapValName"><span class="hs-identifier hs-var">fmapValName</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#wC"><span class="hs-identifier hs-var">wC</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126779"><span class="hs-identifier hs-var">beta</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126789"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-904"></span><span>
</span><span id="line-905"></span><span>      </span><span id="local-6989586621679126775"><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126775"><span class="hs-identifier hs-var">itf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Q KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#isTyFamily"><span class="hs-identifier hs-var">isTyFamily</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126788"><span class="hs-identifier hs-var">tyHead</span></a></span><span>
</span><span id="line-906"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">(Type -&gt; KindSigOptions) -&gt; [Type] -&gt; KindSigOptions
forall (t :: * -&gt; *) a.
Foldable t =&gt;
(a -&gt; KindSigOptions) -&gt; t a -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(KindSigOptions -&gt; KindSigOptions)
-&gt; (Type -&gt; KindSigOptions) -&gt; Type -&gt; KindSigOptions
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#ground"><span class="hs-operator hs-var">`ground`</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126789"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126785"><span class="hs-identifier hs-var">lhsArgs</span></a></span><span>
</span><span id="line-907"></span><span>           </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; KindSigOptions
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; KindSigOptions) -&gt; [Type] -&gt; KindSigOptions
forall (t :: * -&gt; *) a.
Foldable t =&gt;
(a -&gt; KindSigOptions) -&gt; t a -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(KindSigOptions -&gt; KindSigOptions)
-&gt; (Type -&gt; KindSigOptions) -&gt; Type -&gt; KindSigOptions
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#ground"><span class="hs-operator hs-var">`ground`</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126789"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126787"><span class="hs-identifier hs-var">tyArgs</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; KindSigOptions
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126775"><span class="hs-identifier hs-var">itf</span></a></span><span>
</span><span id="line-908"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ExpQ
forall a. Q a
</span><a href="Generics.Deriving.TH.Internal.html#outOfPlaceTyVarError"><span class="hs-identifier hs-var">outOfPlaceTyVarError</span></a></span><span>
</span><span id="line-909"></span><span>         </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126784"><span class="hs-identifier hs-var">rhsArgs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-910"></span><span>              </span><span class="hs-special">[</span><span class="hs-special">]</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; ExpQ) -&gt; Name -&gt; ExpQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name
</span><a href="Generics.Deriving.TH.html#boxRepName"><span class="hs-identifier hs-var">boxRepName</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126790"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-911"></span><span>              </span><span id="local-6989586621679126774"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621679126774"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; ExpQ
</span><a href="#local-6989586621679126783"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126774"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-912"></span><span>
</span><span id="line-913"></span><span class="annot"><a href="Generics.Deriving.TH.html#boxRepName"><span class="hs-identifier hs-type">boxRepName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-914"></span><span id="boxRepName"><span class="annot"><span class="annottext">boxRepName :: Type -&gt; Name
</span><a href="Generics.Deriving.TH.html#boxRepName"><span class="hs-identifier hs-var hs-var">boxRepName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; ((Name, Name, Name) -&gt; Name) -&gt; Maybe (Name, Name, Name) -&gt; Name
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#k1DataName"><span class="hs-identifier hs-var">k1DataName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name, Name, Name) -&gt; Name
forall a b c. (a, b, c) -&gt; b
</span><a href="Generics.Deriving.TH.Internal.html#snd3"><span class="hs-identifier hs-var">snd3</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Name, Name, Name) -&gt; Name)
-&gt; (Type -&gt; Maybe (Name, Name, Name)) -&gt; Type -&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Maybe (Name, Name, Name)
</span><a href="Generics.Deriving.TH.html#unboxedRepNames"><span class="hs-identifier hs-var">unboxedRepNames</span></a></span><span>
</span><span id="line-915"></span><span>
</span><span id="line-916"></span><span class="annot"><a href="Generics.Deriving.TH.html#toCon"><span class="hs-identifier hs-type">toCon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pat</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pat</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-917"></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Match</span></span><span>
</span><span id="line-918"></span><span id="toCon"><span class="annot"><span class="annottext">toCon :: GenericKind
-&gt; (PatQ -&gt; PatQ) -&gt; Int -&gt; Int -&gt; ConstructorInfo -&gt; Q Match
</span><a href="Generics.Deriving.TH.html#toCon"><span class="hs-identifier hs-var hs-var">toCon</span></a></span></span><span> </span><span id="local-6989586621679126770"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126770"><span class="hs-identifier hs-var">gk</span></a></span></span><span> </span><span id="local-6989586621679126769"><span class="annot"><span class="annottext">wrap :: PatQ -&gt; PatQ
</span><a href="#local-6989586621679126769"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span id="local-6989586621679126768"><span class="annot"><span class="annottext">m :: Int
</span><a href="#local-6989586621679126768"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679126767"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621679126767"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-919"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ConstructorInfo</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">constructorName :: ConstructorInfo -&gt; Name
</span><span class="hs-identifier hs-var">constructorName</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126766"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126766"><span class="hs-identifier hs-var">cn</span></a></span></span><span>
</span><span id="line-920"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorVars :: ConstructorInfo -&gt; [TyVarBndr]
</span><span class="hs-identifier hs-var">constructorVars</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126765"><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679126765"><span class="hs-identifier hs-var">vars</span></a></span></span><span>
</span><span id="line-921"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorContext :: ConstructorInfo -&gt; [Type]
</span><span class="hs-identifier hs-var">constructorContext</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126764"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126764"><span class="hs-identifier hs-var">ctxt</span></a></span></span><span>
</span><span id="line-922"></span><span>                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">constructorFields :: ConstructorInfo -&gt; [Type]
</span><span class="hs-identifier hs-var">constructorFields</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679126763"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126763"><span class="hs-identifier hs-var">ts</span></a></span></span><span>
</span><span id="line-923"></span><span>                   </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-924"></span><span>  </span><span class="annot"><span class="annottext">Name -&gt; [TyVarBndr] -&gt; [Type] -&gt; Q ()
</span><a href="Generics.Deriving.TH.Internal.html#checkExistentialContext"><span class="hs-identifier hs-var">checkExistentialContext</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126766"><span class="hs-identifier hs-var">cn</span></a></span><span> </span><span class="annot"><span class="annottext">[TyVarBndr]
</span><a href="#local-6989586621679126765"><span class="hs-identifier hs-var">vars</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126764"><span class="hs-identifier hs-var">ctxt</span></a></span><span>
</span><span id="line-925"></span><span>  </span><span id="local-6989586621679126762"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679126762"><span class="hs-identifier hs-var">fNames</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; Q [Name]
</span><a href="Generics.Deriving.TH.Internal.html#newNameList"><span class="hs-identifier hs-var">newNameList</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;f&quot;</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Q [Name]) -&gt; Int -&gt; Q [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126763"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-926"></span><span>  </span><span class="annot"><span class="annottext">PatQ -&gt; BodyQ -&gt; [Q Dec] -&gt; Q Match
</span><span class="hs-identifier hs-var">match</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PatQ -&gt; PatQ
</span><a href="#local-6989586621679126769"><span class="hs-identifier hs-var">wrap</span></a></span><span> </span><span class="annot"><span class="annottext">(PatQ -&gt; PatQ) -&gt; PatQ -&gt; PatQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; PatQ -&gt; PatQ
</span><a href="Generics.Deriving.TH.html#lrP"><span class="hs-identifier hs-var">lrP</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126767"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126768"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">(PatQ -&gt; PatQ) -&gt; PatQ -&gt; PatQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; [PatQ] -&gt; PatQ
</span><span class="hs-identifier hs-var">conP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#m1DataName"><span class="hs-identifier hs-var">m1DataName</span></a></span><span>
</span><span id="line-927"></span><span>          </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(PatQ -&gt; PatQ -&gt; PatQ) -&gt; PatQ -&gt; [PatQ] -&gt; PatQ
forall a. (a -&gt; a -&gt; a) -&gt; a -&gt; [a] -&gt; a
</span><a href="Generics.Deriving.TH.Internal.html#foldBal"><span class="hs-identifier hs-var">foldBal</span></a></span><span> </span><span class="annot"><span class="annottext">PatQ -&gt; PatQ -&gt; PatQ
</span><a href="#local-6989586621679126761"><span class="hs-identifier hs-var">prod</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; [PatQ] -&gt; PatQ
</span><span class="hs-identifier hs-var">conP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#u1DataName"><span class="hs-identifier hs-var">u1DataName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Type -&gt; PatQ) -&gt; [Name] -&gt; [Type] -&gt; [PatQ]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GenericKind -&gt; Name -&gt; Type -&gt; PatQ
</span><a href="Generics.Deriving.TH.html#toField"><span class="hs-identifier hs-var">toField</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126770"><span class="hs-identifier hs-var">gk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679126762"><span class="hs-identifier hs-var">fNames</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126763"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-928"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ExpQ -&gt; BodyQ
</span><span class="hs-identifier hs-var">normalB</span></span><span> </span><span class="annot"><span class="annottext">(ExpQ -&gt; BodyQ) -&gt; ExpQ -&gt; BodyQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(ExpQ -&gt; ExpQ -&gt; ExpQ) -&gt; ExpQ -&gt; [ExpQ] -&gt; ExpQ
forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldl</span></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-identifier hs-var">appE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126766"><span class="hs-identifier hs-var">cn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-929"></span><span>                         </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Type -&gt; ExpQ) -&gt; [Name] -&gt; [Type] -&gt; [ExpQ]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679126758"><span class="annot"><span class="annottext">nr :: Name
</span><a href="#local-6989586621679126758"><span class="hs-identifier hs-var">nr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
</span><span class="hs-identifier hs-var">resolveTypeSynonyms</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TypeQ) -&gt; (Type -&gt; ExpQ) -&gt; Type -&gt; ExpQ
forall (m :: * -&gt; *) a b c.
Monad m =&gt;
(a -&gt; m b) -&gt; (b -&gt; m c) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&gt;=&gt;</span></span><span> </span><span class="annot"><span class="annottext">GenericKind -&gt; Name -&gt; Type -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#toConUnwC"><span class="hs-identifier hs-var">toConUnwC</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126770"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126758"><span class="hs-identifier hs-var">nr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-930"></span><span>                         </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621679126762"><span class="hs-identifier hs-var">fNames</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126763"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-931"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679126761"><span class="annot"><span class="annottext">prod :: PatQ -&gt; PatQ -&gt; PatQ
</span><a href="#local-6989586621679126761"><span class="hs-identifier hs-var hs-var">prod</span></a></span></span><span> </span><span id="local-6989586621679126756"><span class="annot"><span class="annottext">x :: PatQ
</span><a href="#local-6989586621679126756"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679126755"><span class="annot"><span class="annottext">y :: PatQ
</span><a href="#local-6989586621679126755"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [PatQ] -&gt; PatQ
</span><span class="hs-identifier hs-var">conP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#productDataName"><span class="hs-identifier hs-var">productDataName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">PatQ
</span><a href="#local-6989586621679126756"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">PatQ
</span><a href="#local-6989586621679126755"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-932"></span><span>
</span><span id="line-933"></span><span class="annot"><a href="Generics.Deriving.TH.html#toConUnwC"><span class="hs-identifier hs-type">toConUnwC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-934"></span><span id="toConUnwC"><span class="annot"><span class="annottext">toConUnwC :: GenericKind -&gt; Name -&gt; Type -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#toConUnwC"><span class="hs-identifier hs-var hs-var">toConUnwC</span></a></span></span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Gen0"><span class="hs-identifier hs-type">Gen0</span></a></span><span>          </span><span id="local-6989586621679126754"><span class="annot"><span class="annottext">nr :: Name
</span><a href="#local-6989586621679126754"><span class="hs-identifier hs-var">nr</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126754"><span class="hs-identifier hs-var">nr</span></a></span><span>
</span><span id="line-935"></span><span class="annot"><a href="Generics.Deriving.TH.html#toConUnwC"><span class="hs-identifier hs-var">toConUnwC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Gen1"><span class="hs-identifier hs-type">Gen1</span></a></span><span> </span><span id="local-6989586621679126753"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679126753"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679126752"><span class="annot"><span class="annottext">nr :: Name
</span><a href="#local-6989586621679126752"><span class="hs-identifier hs-var">nr</span></a></span></span><span> </span><span id="local-6989586621679126751"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126751"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#unwC"><span class="hs-identifier hs-var">unwC</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126751"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126753"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126752"><span class="hs-identifier hs-var">nr</span></a></span><span>
</span><span id="line-936"></span><span>
</span><span id="line-937"></span><span class="annot"><a href="Generics.Deriving.TH.html#toField"><span class="hs-identifier hs-type">toField</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pat</span></span><span>
</span><span id="line-938"></span><span id="toField"><span class="annot"><span class="annottext">toField :: GenericKind -&gt; Name -&gt; Type -&gt; PatQ
</span><a href="Generics.Deriving.TH.html#toField"><span class="hs-identifier hs-var hs-var">toField</span></a></span></span><span> </span><span id="local-6989586621679126749"><span class="annot"><span class="annottext">gk :: GenericKind
</span><a href="#local-6989586621679126749"><span class="hs-identifier hs-var">gk</span></a></span></span><span> </span><span id="local-6989586621679126748"><span class="annot"><span class="annottext">nr :: Name
</span><a href="#local-6989586621679126748"><span class="hs-identifier hs-var">nr</span></a></span></span><span> </span><span id="local-6989586621679126747"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126747"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [PatQ] -&gt; PatQ
</span><span class="hs-identifier hs-var">conP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#m1DataName"><span class="hs-identifier hs-var">m1DataName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">GenericKind -&gt; Name -&gt; Type -&gt; PatQ
</span><a href="Generics.Deriving.TH.html#toFieldWrap"><span class="hs-identifier hs-var">toFieldWrap</span></a></span><span> </span><span class="annot"><span class="annottext">GenericKind
</span><a href="#local-6989586621679126749"><span class="hs-identifier hs-var">gk</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126748"><span class="hs-identifier hs-var">nr</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126747"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-939"></span><span>
</span><span id="line-940"></span><span class="annot"><a href="Generics.Deriving.TH.html#toFieldWrap"><span class="hs-identifier hs-type">toFieldWrap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericKind"><span class="hs-identifier hs-type">GenericKind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pat</span></span><span>
</span><span id="line-941"></span><span id="toFieldWrap"><span class="annot"><span class="annottext">toFieldWrap :: GenericKind -&gt; Name -&gt; Type -&gt; PatQ
</span><a href="Generics.Deriving.TH.html#toFieldWrap"><span class="hs-identifier hs-var hs-var">toFieldWrap</span></a></span></span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Gen0"><span class="hs-identifier hs-type">Gen0</span></a></span><span>   </span><span id="local-6989586621679126745"><span class="annot"><span class="annottext">nr :: Name
</span><a href="#local-6989586621679126745"><span class="hs-identifier hs-var">nr</span></a></span></span><span> </span><span id="local-6989586621679126744"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126744"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [PatQ] -&gt; PatQ
</span><span class="hs-identifier hs-var">conP</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Name
</span><a href="Generics.Deriving.TH.html#boxRepName"><span class="hs-identifier hs-var">boxRepName</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126744"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name -&gt; PatQ
</span><span class="hs-identifier hs-var">varP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126745"><span class="hs-identifier hs-var">nr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-942"></span><span class="annot"><a href="Generics.Deriving.TH.html#toFieldWrap"><span class="hs-identifier hs-var">toFieldWrap</span></a></span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#Gen1"><span class="hs-identifier hs-type">Gen1</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span id="local-6989586621679126743"><span class="annot"><span class="annottext">nr :: Name
</span><a href="#local-6989586621679126743"><span class="hs-identifier hs-var">nr</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; PatQ
</span><span class="hs-identifier hs-var">varP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126743"><span class="hs-identifier hs-var">nr</span></a></span><span>
</span><span id="line-943"></span><span>
</span><span id="line-944"></span><span class="annot"><a href="Generics.Deriving.TH.html#unwC"><span class="hs-identifier hs-type">unwC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-945"></span><span id="unwC"><span class="annot"><span class="annottext">unwC :: Type -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#unwC"><span class="hs-identifier hs-var hs-var">unwC</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SigT</span></span><span> </span><span id="local-6989586621679126742"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126742"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679126741"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679126741"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#unwC"><span class="hs-identifier hs-var">unwC</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126742"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126741"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-946"></span><span class="annot"><a href="Generics.Deriving.TH.html#unwC"><span class="hs-identifier hs-var">unwC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">VarT</span></span><span> </span><span id="local-6989586621679126740"><span class="annot"><span class="annottext">t :: Name
</span><a href="#local-6989586621679126740"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span>   </span><span id="local-6989586621679126739"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679126739"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126740"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126739"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#unPar1ValName"><span class="hs-identifier hs-var">unPar1ValName</span></a></span><span>
</span><span id="line-947"></span><span class="annot"><a href="Generics.Deriving.TH.html#unwC"><span class="hs-identifier hs-var">unwC</span></a></span><span> </span><span id="local-6989586621679126737"><span class="annot"><span class="annottext">t :: Type
</span><a href="#local-6989586621679126737"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621679126736"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621679126736"><span class="hs-identifier hs-var">name</span></a></span></span><span>
</span><span id="line-948"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#ground"><span class="hs-identifier hs-var">ground</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126737"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126736"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; ExpQ) -&gt; Name -&gt; ExpQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name
</span><a href="Generics.Deriving.TH.html#unboxRepName"><span class="hs-identifier hs-var">unboxRepName</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126737"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-949"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-950"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679126734"><span class="annot"><span class="annottext">tyHead :: Type
</span><a href="#local-6989586621679126734"><span class="hs-identifier hs-var">tyHead</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679126733"><span class="annot"><span class="annottext">tyArgs :: [Type]
</span><a href="#local-6989586621679126733"><span class="hs-identifier hs-var">tyArgs</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; [Type]
</span><a href="Generics.Deriving.TH.Internal.html#unapplyTy"><span class="hs-identifier hs-var">unapplyTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126737"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-951"></span><span>          </span><span id="local-6989586621679126732"><span class="annot"><span class="annottext">numLastArgs :: Int
</span><a href="#local-6989586621679126732"><span class="hs-identifier hs-var hs-var">numLastArgs</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; Int -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126733"><span class="hs-identifier hs-var">tyArgs</span></a></span><span>
</span><span id="line-952"></span><span>          </span><span class="hs-special">(</span><span id="local-6989586621679126731"><span class="annot"><span class="annottext">lhsArgs :: [Type]
</span><a href="#local-6989586621679126731"><span class="hs-identifier hs-var">lhsArgs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679126730"><span class="annot"><span class="annottext">rhsArgs :: [Type]
</span><a href="#local-6989586621679126730"><span class="hs-identifier hs-var">rhsArgs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Type] -&gt; ([Type], [Type])
forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">splitAt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126733"><span class="hs-identifier hs-var">tyArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126732"><span class="hs-identifier hs-var">numLastArgs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126733"><span class="hs-identifier hs-var">tyArgs</span></a></span><span>
</span><span id="line-953"></span><span>
</span><span id="line-954"></span><span>          </span><span class="annot"><a href="#local-6989586621679126729"><span class="hs-identifier hs-type">inspectTy</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span>
</span><span id="line-955"></span><span>          </span><span id="local-6989586621679126729"><span class="annot"><span class="annottext">inspectTy :: Type -&gt; ExpQ
</span><a href="#local-6989586621679126729"><span class="hs-identifier hs-var hs-var">inspectTy</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ForallT</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpQ
forall a. a
</span><a href="Generics.Deriving.TH.Internal.html#rankNError"><span class="hs-identifier hs-var">rankNError</span></a></span><span>
</span><span id="line-956"></span><span>          </span><span class="annot"><a href="#local-6989586621679126729"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">SigT</span></span><span> </span><span id="local-6989586621679126728"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621679126728"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; ExpQ
</span><a href="#local-6989586621679126729"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126728"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-957"></span><span>          </span><span class="annot"><a href="#local-6989586621679126729"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">VarT</span></span><span> </span><span id="local-6989586621679126727"><span class="annot"><span class="annottext">a :: Name
</span><a href="#local-6989586621679126727"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-958"></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126727"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126736"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-959"></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#unRec1ValName"><span class="hs-identifier hs-var">unRec1ValName</span></a></span><span>
</span><span id="line-960"></span><span>          </span><span class="annot"><a href="#local-6989586621679126729"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span id="local-6989586621679126725"><span class="annot"><span class="annottext">beta :: Type
</span><a href="#local-6989586621679126725"><span class="hs-identifier hs-var">beta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-identifier hs-var">infixApp</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#fmapValName"><span class="hs-identifier hs-var">fmapValName</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#unwC"><span class="hs-identifier hs-var">unwC</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126725"><span class="hs-identifier hs-var">beta</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126736"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-961"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#composeValName"><span class="hs-identifier hs-var">composeValName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-962"></span><span>                                    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#unComp1ValName"><span class="hs-identifier hs-var">unComp1ValName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-963"></span><span>
</span><span id="line-964"></span><span>      </span><span id="local-6989586621679126723"><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126723"><span class="hs-identifier hs-var">itf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Type -&gt; Q KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#isTyFamily"><span class="hs-identifier hs-var">isTyFamily</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126734"><span class="hs-identifier hs-var">tyHead</span></a></span><span>
</span><span id="line-965"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">(Type -&gt; KindSigOptions) -&gt; [Type] -&gt; KindSigOptions
forall (t :: * -&gt; *) a.
Foldable t =&gt;
(a -&gt; KindSigOptions) -&gt; t a -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(KindSigOptions -&gt; KindSigOptions)
-&gt; (Type -&gt; KindSigOptions) -&gt; Type -&gt; KindSigOptions
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#ground"><span class="hs-operator hs-var">`ground`</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126736"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126731"><span class="hs-identifier hs-var">lhsArgs</span></a></span><span>
</span><span id="line-966"></span><span>           </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; KindSigOptions
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">(Type -&gt; KindSigOptions) -&gt; [Type] -&gt; KindSigOptions
forall (t :: * -&gt; *) a.
Foldable t =&gt;
(a -&gt; KindSigOptions) -&gt; t a -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(KindSigOptions -&gt; KindSigOptions)
-&gt; (Type -&gt; KindSigOptions) -&gt; Type -&gt; KindSigOptions
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type -&gt; Name -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#ground"><span class="hs-operator hs-var">`ground`</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126736"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126733"><span class="hs-identifier hs-var">tyArgs</span></a></span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; KindSigOptions
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126723"><span class="hs-identifier hs-var">itf</span></a></span><span>
</span><span id="line-967"></span><span>         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">ExpQ
forall a. Q a
</span><a href="Generics.Deriving.TH.Internal.html#outOfPlaceTyVarError"><span class="hs-identifier hs-var">outOfPlaceTyVarError</span></a></span><span>
</span><span id="line-968"></span><span>         </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126730"><span class="hs-identifier hs-var">rhsArgs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-969"></span><span>              </span><span class="hs-special">[</span><span class="hs-special">]</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">varE</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; ExpQ) -&gt; Name -&gt; ExpQ
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Name
</span><a href="Generics.Deriving.TH.html#unboxRepName"><span class="hs-identifier hs-var">unboxRepName</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126737"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-970"></span><span>              </span><span id="local-6989586621679126722"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621679126722"><span class="hs-identifier hs-var">ty</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Type -&gt; ExpQ
</span><a href="#local-6989586621679126729"><span class="hs-identifier hs-var">inspectTy</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126722"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-971"></span><span>
</span><span id="line-972"></span><span class="annot"><a href="Generics.Deriving.TH.html#unboxRepName"><span class="hs-identifier hs-type">unboxRepName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-973"></span><span id="unboxRepName"><span class="annot"><span class="annottext">unboxRepName :: Type -&gt; Name
</span><a href="Generics.Deriving.TH.html#unboxRepName"><span class="hs-identifier hs-var hs-var">unboxRepName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; ((Name, Name, Name) -&gt; Name) -&gt; Maybe (Name, Name, Name) -&gt; Name
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#unK1ValName"><span class="hs-identifier hs-var">unK1ValName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name, Name, Name) -&gt; Name
forall a b c. (a, b, c) -&gt; c
</span><a href="Generics.Deriving.TH.Internal.html#trd3"><span class="hs-identifier hs-var">trd3</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (Name, Name, Name) -&gt; Name)
-&gt; (Type -&gt; Maybe (Name, Name, Name)) -&gt; Type -&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Maybe (Name, Name, Name)
</span><a href="Generics.Deriving.TH.html#unboxedRepNames"><span class="hs-identifier hs-var">unboxedRepNames</span></a></span><span>
</span><span id="line-974"></span><span>
</span><span id="line-975"></span><span class="annot"><a href="Generics.Deriving.TH.html#lrP"><span class="hs-identifier hs-type">lrP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pat</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Pat</span></span><span class="hs-special">)</span><span>
</span><span id="line-976"></span><span id="lrP"><span class="annot"><span class="annottext">lrP :: Int -&gt; Int -&gt; PatQ -&gt; PatQ
</span><a href="Generics.Deriving.TH.html#lrP"><span class="hs-identifier hs-var hs-var">lrP</span></a></span></span><span> </span><span id="local-6989586621679126719"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621679126719"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679126718"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679126718"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679126717"><span class="annot"><span class="annottext">p :: PatQ
</span><a href="#local-6989586621679126717"><span class="hs-identifier hs-var">p</span></a></span></span><span>
</span><span id="line-977"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126718"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; PatQ
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="hs-string">&quot;lrP: impossible&quot;</span></span><span>
</span><span id="line-978"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126718"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PatQ
</span><a href="#local-6989586621679126717"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-979"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126719"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; KindSigOptions
forall a. Ord a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">div</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126718"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [PatQ] -&gt; PatQ
</span><span class="hs-identifier hs-var">conP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#l1DataName"><span class="hs-identifier hs-var">l1DataName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; PatQ -&gt; PatQ
</span><a href="Generics.Deriving.TH.html#lrP"><span class="hs-identifier hs-var">lrP</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126719"><span class="hs-identifier hs-var">i</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">div</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126718"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">PatQ
</span><a href="#local-6989586621679126717"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-980"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; [PatQ] -&gt; PatQ
</span><span class="hs-identifier hs-var">conP</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#r1DataName"><span class="hs-identifier hs-var">r1DataName</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; PatQ -&gt; PatQ
</span><a href="Generics.Deriving.TH.html#lrP"><span class="hs-identifier hs-var">lrP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126719"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126712"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126718"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126712"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>     </span><span class="annot"><span class="annottext">PatQ
</span><a href="#local-6989586621679126717"><span class="hs-identifier hs-var">p</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-981"></span><span>                     </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679126712"><span class="annot"><span class="annottext">m :: Int
</span><a href="#local-6989586621679126712"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">div</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126718"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span>
</span><span id="line-982"></span><span>
</span><span id="line-983"></span><span class="annot"><a href="Generics.Deriving.TH.html#lrE"><span class="hs-identifier hs-type">lrE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Exp</span></span><span class="hs-special">)</span><span>
</span><span id="line-984"></span><span id="lrE"><span class="annot"><span class="annottext">lrE :: Int -&gt; Int -&gt; ExpQ -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#lrE"><span class="hs-identifier hs-var hs-var">lrE</span></a></span></span><span> </span><span id="local-6989586621679126711"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621679126711"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621679126710"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621679126710"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679126709"><span class="annot"><span class="annottext">e :: ExpQ
</span><a href="#local-6989586621679126709"><span class="hs-identifier hs-var">e</span></a></span></span><span>
</span><span id="line-985"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126710"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; ExpQ
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="hs-string">&quot;lrE: impossible&quot;</span></span><span>
</span><span id="line-986"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126710"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExpQ
</span><a href="#local-6989586621679126709"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-987"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126711"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; KindSigOptions
forall a. Ord a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">div</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126710"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#l1DataName"><span class="hs-identifier hs-var">l1DataName</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ExpQ -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#lrE"><span class="hs-identifier hs-var">lrE</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126711"><span class="hs-identifier hs-var">i</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">div</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126710"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ExpQ
</span><a href="#local-6989586621679126709"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-988"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; ExpQ
</span><span class="hs-identifier hs-var">conE</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#r1DataName"><span class="hs-identifier hs-var">r1DataName</span></a></span><span> </span><span class="annot"><span class="annottext">ExpQ -&gt; ExpQ -&gt; ExpQ
</span><span class="hs-operator hs-var">`appE`</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; ExpQ -&gt; ExpQ
</span><a href="Generics.Deriving.TH.html#lrE"><span class="hs-identifier hs-var">lrE</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126711"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126708"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126710"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126708"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>     </span><span class="annot"><span class="annottext">ExpQ
</span><a href="#local-6989586621679126709"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-989"></span><span>                     </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679126708"><span class="annot"><span class="annottext">m :: Int
</span><a href="#local-6989586621679126708"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">div</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126710"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span>
</span><span id="line-990"></span><span>
</span><span id="line-991"></span><span class="annot"><a href="Generics.Deriving.TH.html#unboxedRepNames"><span class="hs-identifier hs-type">unboxedRepNames</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-992"></span><span id="unboxedRepNames"><span class="annot"><span class="annottext">unboxedRepNames :: Type -&gt; Maybe (Name, Name, Name)
</span><a href="Generics.Deriving.TH.html#unboxedRepNames"><span class="hs-identifier hs-var hs-var">unboxedRepNames</span></a></span></span><span> </span><span id="local-6989586621679126707"><span class="annot"><span class="annottext">ty :: Type
</span><a href="#local-6989586621679126707"><span class="hs-identifier hs-var">ty</span></a></span></span><span>
</span><span id="line-993"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126707"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><span class="hs-identifier hs-var">ConT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#addrHashTypeName"><span class="hs-identifier hs-var">addrHashTypeName</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name, Name, Name) -&gt; Maybe (Name, Name, Name)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uAddrTypeName"><span class="hs-identifier hs-var">uAddrTypeName</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uAddrDataName"><span class="hs-identifier hs-var">uAddrDataName</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uAddrHashValName"><span class="hs-identifier hs-var">uAddrHashValName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-994"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126707"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><span class="hs-identifier hs-var">ConT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#charHashTypeName"><span class="hs-identifier hs-var">charHashTypeName</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name, Name, Name) -&gt; Maybe (Name, Name, Name)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uCharTypeName"><span class="hs-identifier hs-var">uCharTypeName</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uCharDataName"><span class="hs-identifier hs-var">uCharDataName</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uCharHashValName"><span class="hs-identifier hs-var">uCharHashValName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-995"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126707"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><span class="hs-identifier hs-var">ConT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#doubleHashTypeName"><span class="hs-identifier hs-var">doubleHashTypeName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name, Name, Name) -&gt; Maybe (Name, Name, Name)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uDoubleTypeName"><span class="hs-identifier hs-var">uDoubleTypeName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uDoubleDataName"><span class="hs-identifier hs-var">uDoubleDataName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uDoubleHashValName"><span class="hs-identifier hs-var">uDoubleHashValName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-996"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126707"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><span class="hs-identifier hs-var">ConT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#floatHashTypeName"><span class="hs-identifier hs-var">floatHashTypeName</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name, Name, Name) -&gt; Maybe (Name, Name, Name)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uFloatTypeName"><span class="hs-identifier hs-var">uFloatTypeName</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uFloatDataName"><span class="hs-identifier hs-var">uFloatDataName</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uFloatHashValName"><span class="hs-identifier hs-var">uFloatHashValName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-997"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126707"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><span class="hs-identifier hs-var">ConT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#intHashTypeName"><span class="hs-identifier hs-var">intHashTypeName</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name, Name, Name) -&gt; Maybe (Name, Name, Name)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uIntTypeName"><span class="hs-identifier hs-var">uIntTypeName</span></a></span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uIntDataName"><span class="hs-identifier hs-var">uIntDataName</span></a></span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uIntHashValName"><span class="hs-identifier hs-var">uIntHashValName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-998"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126707"><span class="hs-identifier hs-var">ty</span></a></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Type
</span><span class="hs-identifier hs-var">ConT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#wordHashTypeName"><span class="hs-identifier hs-var">wordHashTypeName</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name, Name, Name) -&gt; Maybe (Name, Name, Name)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uWordTypeName"><span class="hs-identifier hs-var">uWordTypeName</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uWordDataName"><span class="hs-identifier hs-var">uWordDataName</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">Name
</span><a href="Generics.Deriving.TH.Internal.html#uWordHashValName"><span class="hs-identifier hs-var">uWordHashValName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-999"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Name, Name, Name)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1000"></span><span>
</span><span id="line-1001"></span><span class="hs-comment">-- For the given Types, deduces the instance type (and kind) to use for a</span><span>
</span><span id="line-1002"></span><span class="hs-comment">-- Generic(1) instance. Coming up with the instance type isn't as simple as</span><span>
</span><span id="line-1003"></span><span class="hs-comment">-- dropping the last types, as you need to be wary of kinds being instantiated</span><span>
</span><span id="line-1004"></span><span class="hs-comment">-- with *.</span><span>
</span><span id="line-1005"></span><span class="hs-comment">-- See Note [Type inference in derived instances]</span><span>
</span><span id="line-1006"></span><span class="annot"><a href="Generics.Deriving.TH.html#buildTypeInstance"><span class="hs-identifier hs-type">buildTypeInstance</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#GenericClass"><span class="hs-identifier hs-type">GenericClass</span></a></span><span>
</span><span id="line-1007"></span><span>                  </span><span class="hs-comment">-- ^ Generic or Generic1</span><span>
</span><span id="line-1008"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Generics.Deriving.TH.html#KindSigOptions"><span class="hs-identifier hs-type">KindSigOptions</span></a></span><span>
</span><span id="line-1009"></span><span>                  </span><span class="hs-comment">-- ^ Whether or not to use explicit kind signatures in the instance type</span><span>
</span><span id="line-1010"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Name</span></span><span>
</span><span id="line-1011"></span><span>                  </span><span class="hs-comment">-- ^ The type constructor or data family name</span><span>
</span><span id="line-1012"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-1013"></span><span>                  </span><span class="hs-comment">-- ^ The types to instantiate the instance with</span><span>
</span><span id="line-1014"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Q</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Kind</span></span><span class="hs-special">)</span><span>
</span><span id="line-1015"></span><span id="buildTypeInstance"><span class="annot"><span class="annottext">buildTypeInstance :: GenericClass -&gt; KindSigOptions -&gt; Name -&gt; [Type] -&gt; Q (Type, Type)
</span><a href="Generics.Deriving.TH.html#buildTypeInstance"><span class="hs-identifier hs-var hs-var">buildTypeInstance</span></a></span></span><span> </span><span id="local-6989586621679126680"><span class="annot"><span class="annottext">gClass :: GenericClass
</span><a href="#local-6989586621679126680"><span class="hs-identifier hs-var">gClass</span></a></span></span><span> </span><span id="local-6989586621679126679"><span class="annot"><span class="annottext">useKindSigs :: KindSigOptions
</span><a href="#local-6989586621679126679"><span class="hs-identifier hs-var">useKindSigs</span></a></span></span><span> </span><span id="local-6989586621679126678"><span class="annot"><span class="annottext">tyConName :: Name
</span><a href="#local-6989586621679126678"><span class="hs-identifier hs-var">tyConName</span></a></span></span><span> </span><span id="local-6989586621679126677"><span class="annot"><span class="annottext">varTysOrig :: [Type]
</span><a href="#local-6989586621679126677"><span class="hs-identifier hs-var">varTysOrig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1016"></span><span>    </span><span class="hs-comment">-- Make sure to expand through type/kind synonyms! Otherwise, the</span><span>
</span><span id="line-1017"></span><span>    </span><span class="hs-comment">-- eta-reduction check might get tripped up over type variables in a</span><span>
</span><span id="line-1018"></span><span>    </span><span class="hs-comment">-- synonym that are actually dropped.</span><span>
</span><span id="line-1019"></span><span>    </span><span class="hs-comment">-- (See GHC Trac #11416 for a scenario where this actually happened.)</span><span>
</span><span id="line-1020"></span><span>    </span><span id="local-6989586621679126676"><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126676"><span class="hs-identifier hs-var">varTysExp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Type -&gt; TypeQ) -&gt; [Type] -&gt; CxtQ
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; TypeQ
</span><span class="hs-identifier hs-var">resolveTypeSynonyms</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126677"><span class="hs-identifier hs-var">varTysOrig</span></a></span><span>
</span><span id="line-1021"></span><span>
</span><span id="line-1022"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679126674"><span class="hs-identifier hs-type">remainingLength</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-1023"></span><span>        </span><span id="local-6989586621679126674"><span class="annot"><span class="annottext">remainingLength :: Int
</span><a href="#local-6989586621679126674"><span class="hs-identifier hs-var hs-var">remainingLength</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126677"><span class="hs-identifier hs-var">varTysOrig</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">GenericClass -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">GenericClass
</span><a href="#local-6989586621679126680"><span class="hs-identifier hs-var">gClass</span></a></span><span>
</span><span id="line-1024"></span><span>
</span><span id="line-1025"></span><span>        </span><span class="annot"><a href="#local-6989586621679126673"><span class="hs-identifier hs-type">droppedTysExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-1026"></span><span>        </span><span id="local-6989586621679126673"><span class="annot"><span class="annottext">droppedTysExp :: [Type]
</span><a href="#local-6989586621679126673"><span class="hs-identifier hs-var hs-var">droppedTysExp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Type] -&gt; [Type]
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126674"><span class="hs-identifier hs-var">remainingLength</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126676"><span class="hs-identifier hs-var">varTysExp</span></a></span><span>
</span><span id="line-1027"></span><span>
</span><span id="line-1028"></span><span>        </span><span class="annot"><a href="#local-6989586621679126671"><span class="hs-identifier hs-type">droppedStarKindStati</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Generics.Deriving.TH.Internal.html#StarKindStatus"><span class="hs-identifier hs-type">StarKindStatus</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1029"></span><span>        </span><span id="local-6989586621679126671"><span class="annot"><span class="annottext">droppedStarKindStati :: [StarKindStatus]
</span><a href="#local-6989586621679126671"><span class="hs-identifier hs-var hs-var">droppedStarKindStati</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Type -&gt; StarKindStatus) -&gt; [Type] -&gt; [StarKindStatus]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; StarKindStatus
</span><a href="Generics.Deriving.TH.Internal.html#canRealizeKindStar"><span class="hs-identifier hs-var">canRealizeKindStar</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126673"><span class="hs-identifier hs-var">droppedTysExp</span></a></span><span>
</span><span id="line-1030"></span><span>
</span><span id="line-1031"></span><span>    </span><span class="hs-comment">-- Check there are enough types to drop and that all of them are either of</span><span>
</span><span id="line-1032"></span><span>    </span><span class="hs-comment">-- kind * or kind k (for some kind variable k). If not, throw an error.</span><span>
</span><span id="line-1033"></span><span>    </span><span class="annot"><span class="annottext">KindSigOptions -&gt; Q () -&gt; Q ()
forall (f :: * -&gt; *).
Applicative f =&gt;
KindSigOptions -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126674"><span class="hs-identifier hs-var">remainingLength</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; KindSigOptions
forall a. Ord a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">KindSigOptions -&gt; KindSigOptions -&gt; KindSigOptions
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">(StarKindStatus -&gt; KindSigOptions)
-&gt; [StarKindStatus] -&gt; KindSigOptions
forall (t :: * -&gt; *) a.
Foldable t =&gt;
(a -&gt; KindSigOptions) -&gt; t a -&gt; KindSigOptions
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">StarKindStatus -&gt; StarKindStatus -&gt; KindSigOptions
forall a. Eq a =&gt; a -&gt; a -&gt; KindSigOptions
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">StarKindStatus
</span><a href="Generics.Deriving.TH.Internal.html#NotKindStar"><span class="hs-identifier hs-var">NotKindStar</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[StarKindStatus]
</span><a href="#local-6989586621679126671"><span class="hs-identifier hs-var">droppedStarKindStati</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Q () -&gt; Q ()) -&gt; Q () -&gt; Q ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1034"></span><span>      </span><span class="annot"><span class="annottext">Name -&gt; Q ()
forall a. Name -&gt; Q a
</span><a href="Generics.Deriving.TH.Internal.html#derivingKindError"><span class="hs-identifier hs-var">derivingKindError</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126678"><span class="hs-identifier hs-var">tyConName</span></a></span><span>
</span><span id="line-1035"></span><span>
</span><span id="line-1036"></span><span>        </span><span class="hs-comment">-- Substitute kind * for any dropped kind variables</span><span>
</span><span id="line-1037"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679126666"><span class="hs-identifier hs-type">varTysExpSubst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-1038"></span><span class="hs-comment">-- See Note [Generic1 is polykinded in base-4.10]</span><span class="hs-cpp">
#if MIN_VERSION_base(4,10,0)
</span><span>        </span><span id="local-6989586621679126666"><span class="annot"><span class="annottext">varTysExpSubst :: [Type]
</span><a href="#local-6989586621679126666"><span class="hs-identifier hs-var hs-var">varTysExpSubst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126676"><span class="hs-identifier hs-var">varTysExp</span></a></span><span class="hs-cpp">
#else
</span><span>        </span><span class="hs-identifier">varTysExpSubst</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">substNamesWithKindStar</span><span> </span><span class="hs-identifier">droppedKindVarNames</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">varTysExp</span><span>
</span><span id="line-1043"></span><span>
</span><span id="line-1044"></span><span>        </span><span class="hs-identifier">droppedKindVarNames</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-identifier">Name</span><span class="hs-special">]</span><span>
</span><span id="line-1045"></span><span>        </span><span class="hs-identifier">droppedKindVarNames</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">catKindVarNames</span><span> </span><span class="hs-identifier">droppedStarKindStati</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-1048"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679126665"><span class="hs-identifier hs-type">remainingTysExpSubst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679126664"><span class="hs-identifier hs-type">droppedTysExpSubst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-1049"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679126665"><span class="annot"><span class="annottext">remainingTysExpSubst :: [Type]
</span><a href="#local-6989586621679126665"><span class="hs-identifier hs-var">remainingTysExpSubst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679126664"><span class="annot"><span class="annottext">droppedTysExpSubst :: [Type]
</span><a href="#local-6989586621679126664"><span class="hs-identifier hs-var">droppedTysExpSubst</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1050"></span><span>          </span><span class="annot"><span class="annottext">Int -&gt; [Type] -&gt; ([Type], [Type])
forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">splitAt</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126674"><span class="hs-identifier hs-var">remainingLength</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126666"><span class="hs-identifier hs-var">varTysExpSubst</span></a></span><span>
</span><span id="line-1051"></span><span>
</span><span id="line-1052"></span><span class="hs-comment">-- See Note [Generic1 is polykinded in base-4.10]</span><span class="hs-cpp">
#if !(MIN_VERSION_base(4,10,0))
</span><span>    </span><span class="hs-comment">-- If any of the dropped types were polykinded, ensure that there are of</span><span>
</span><span id="line-1055"></span><span>    </span><span class="hs-comment">-- kind * after substituting * for the dropped kind variables. If not,</span><span>
</span><span id="line-1056"></span><span>    </span><span class="hs-comment">-- throw an error.</span><span>
</span><span id="line-1057"></span><span>    </span><span class="hs-identifier">unless</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">all</span><span> </span><span class="hs-identifier">hasKindStar</span><span> </span><span class="hs-identifier">droppedTysExpSubst</span><span class="hs-special">)</span><span> </span><span class="hs-operator">$</span><span>
</span><span id="line-1058"></span><span>      </span><span class="hs-identifier">derivingKindError</span><span> </span><span class="hs-identifier">tyConName</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-1061"></span><span>        </span><span class="hs-comment">-- We now substitute all of the specialized-to-* kind variable names</span><span>
</span><span id="line-1062"></span><span>        </span><span class="hs-comment">-- with *, but in the original types, not the synonym-expanded types. The reason</span><span>
</span><span id="line-1063"></span><span>        </span><span class="hs-comment">-- we do this is a superficial one: we want the derived instance to resemble</span><span>
</span><span id="line-1064"></span><span>        </span><span class="hs-comment">-- the datatype written in source code as closely as possible. For example,</span><span>
</span><span id="line-1065"></span><span>        </span><span class="hs-comment">-- for the following data family instance:</span><span>
</span><span id="line-1066"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1067"></span><span>        </span><span class="hs-comment">--   data family Fam a</span><span>
</span><span id="line-1068"></span><span>        </span><span class="hs-comment">--   newtype instance Fam String = Fam String</span><span>
</span><span id="line-1069"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1070"></span><span>        </span><span class="hs-comment">-- We'd want to generate the instance:</span><span>
</span><span id="line-1071"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1072"></span><span>        </span><span class="hs-comment">--   instance C (Fam String)</span><span>
</span><span id="line-1073"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1074"></span><span>        </span><span class="hs-comment">-- Not:</span><span>
</span><span id="line-1075"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1076"></span><span>        </span><span class="hs-comment">--   instance C (Fam [Char])</span><span>
</span><span id="line-1077"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679126663"><span class="hs-identifier hs-type">varTysOrigSubst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-1078"></span><span>        </span><span id="local-6989586621679126663"><span class="annot"><span class="annottext">varTysOrigSubst :: [Type]
</span><a href="#local-6989586621679126663"><span class="hs-identifier hs-var hs-var">varTysOrigSubst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1079"></span><span class="hs-comment">-- See Note [Generic1 is polykinded in base-4.10]</span><span class="hs-cpp">
#if MIN_VERSION_base(4,10,0)
</span><span>          </span><span class="annot"><span class="annottext">[Type] -&gt; [Type]
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span class="hs-cpp">
#else
</span><span>          </span><span class="hs-identifier">map</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">substNamesWithKindStar</span><span> </span><span class="hs-identifier">droppedKindVarNames</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span>            </span><span class="annot"><span class="annottext">([Type] -&gt; [Type]) -&gt; [Type] -&gt; [Type]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126677"><span class="hs-identifier hs-var">varTysOrig</span></a></span><span>
</span><span id="line-1086"></span><span>
</span><span id="line-1087"></span><span>        </span><span class="annot"><a href="#local-6989586621679126662"><span class="hs-identifier hs-type">remainingTysOrigSubst</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621679126661"><span class="hs-identifier hs-type">droppedTysOrigSubst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-1088"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679126662"><span class="annot"><span class="annottext">remainingTysOrigSubst :: [Type]
</span><a href="#local-6989586621679126662"><span class="hs-identifier hs-var">remainingTysOrigSubst</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679126661"><span class="annot"><span class="annottext">droppedTysOrigSubst :: [Type]
</span><a href="#local-6989586621679126661"><span class="hs-identifier hs-var">droppedTysOrigSubst</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1089"></span><span>            </span><span class="annot"><span class="annottext">Int -&gt; [Type] -&gt; ([Type], [Type])
forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">splitAt</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679126674"><span class="hs-identifier hs-var">remainingLength</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126663"><span class="hs-identifier hs-var">varTysOrigSubst</span></a></span><span>
</span><span id="line-1090"></span><span>
</span><span id="line-1091"></span><span>        </span><span class="annot"><a href="#local-6989586621679126660"><span class="hs-identifier hs-type">remainingTysOrigSubst'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span class="hs-special">]</span><span>
</span><span id="line-1092"></span><span>        </span><span class="hs-comment">-- See Note [Kind signatures in derived instances] for an explanation</span><span>
</span><span id="line-1093"></span><span>        </span><span class="hs-comment">-- of the useKindSigs check.</span><span>
</span><span id="line-1094"></span><span>        </span><span id="local-6989586621679126660"><span class="annot"><span class="annottext">remainingTysOrigSubst' :: [Type]
</span><a href="#local-6989586621679126660"><span class="hs-identifier hs-var hs-var">remainingTysOrigSubst'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1095"></span><span>          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">KindSigOptions
</span><a href="#local-6989586621679126679"><span class="hs-identifier hs-var">useKindSigs</span></a></span><span>
</span><span id="line-1096"></span><span>             </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126662"><span class="hs-identifier hs-var">remainingTysOrigSubst</span></a></span><span>
</span><span id="line-1097"></span><span>             </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; [Type] -&gt; [Type]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="Generics.Deriving.TH.Internal.html#unSigT"><span class="hs-identifier hs-var">unSigT</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126662"><span class="hs-identifier hs-var">remainingTysOrigSubst</span></a></span><span>
</span><span id="line-1098"></span><span>
</span><span id="line-1099"></span><span>        </span><span class="annot"><a href="#local-6989586621679126658"><span class="hs-identifier hs-type">instanceType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-1100"></span><span>        </span><span id="local-6989586621679126658"><span class="annot"><span class="annottext">instanceType :: Type
</span><a href="#local-6989586621679126658"><span class="hs-identifier hs-var hs-var">instanceType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Type -&gt; [Type] -&gt; Type
</span><a href="Generics.Deriving.TH.Internal.html#applyTyToTys"><span class="hs-identifier hs-var">applyTyToTys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Type
</span><span class="hs-identifier hs-var">ConT</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621679126678"><span class="hs-identifier hs-var">tyConName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126660"><span class="hs-identifier hs-var">remainingTysOrigSubst'</span></a></span><span>
</span><span id="line-1101"></span><span>
</span><span id="line-1102"></span><span>        </span><span class="hs-comment">-- See Note [Kind signatures in derived instances]</span><span>
</span><span id="line-1103"></span><span>        </span><span class="annot"><a href="#local-6989586621679126657"><span class="hs-identifier hs-type">instanceKind</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Kind</span></span><span>
</span><span id="line-1104"></span><span>        </span><span id="local-6989586621679126657"><span class="annot"><span class="annottext">instanceKind :: Type
</span><a href="#local-6989586621679126657"><span class="hs-identifier hs-var hs-var">instanceKind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Type] -&gt; Type -&gt; Type
</span><a href="Generics.Deriving.TH.Internal.html#makeFunKind"><span class="hs-identifier hs-var">makeFunKind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Type -&gt; Type) -&gt; [Type] -&gt; [Type]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Type -&gt; Type
</span><a href="Generics.Deriving.TH.Internal.html#typeKind"><span class="hs-identifier hs-var">typeKind</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126661"><span class="hs-identifier hs-var">droppedTysOrigSubst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Type
</span><span class="hs-identifier hs-var">starK</span></span><span>
</span><span id="line-1105"></span><span>
</span><span id="line-1106"></span><span>    </span><span class="hs-comment">-- Ensure the dropped types can be safely eta-reduced. Otherwise,</span><span>
</span><span id="line-1107"></span><span>    </span><span class="hs-comment">-- throw an error.</span><span>
</span><span id="line-1108"></span><span>    </span><span class="annot"><span class="annottext">KindSigOptions -&gt; Q () -&gt; Q ()
forall (f :: * -&gt; *).
Applicative f =&gt;
KindSigOptions -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Type] -&gt; [Type] -&gt; KindSigOptions
</span><a href="Generics.Deriving.TH.Internal.html#canEtaReduce"><span class="hs-identifier hs-var">canEtaReduce</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126665"><span class="hs-identifier hs-var">remainingTysExpSubst</span></a></span><span> </span><span class="annot"><span class="annottext">[Type]
</span><a href="#local-6989586621679126664"><span class="hs-identifier hs-var">droppedTysExpSubst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Q () -&gt; Q ()) -&gt; Q () -&gt; Q ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1109"></span><span>      </span><span class="annot"><span class="annottext">Type -&gt; Q ()
forall a. Type -&gt; Q a
</span><a href="Generics.Deriving.TH.Internal.html#etaReductionError"><span class="hs-identifier hs-var">etaReductionError</span></a></span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126658"><span class="hs-identifier hs-var">instanceType</span></a></span><span>
</span><span id="line-1110"></span><span>    </span><span class="annot"><span class="annottext">(Type, Type) -&gt; Q (Type, Type)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126658"><span class="hs-identifier hs-var">instanceType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Type
</span><a href="#local-6989586621679126657"><span class="hs-identifier hs-var">instanceKind</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1111"></span><span>
</span><span id="line-1112"></span><span class="hs-comment">{-
Note [Forcing buildTypeInstance]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Sometimes, we don't explicitly need to generate a Generic(1) type instance, but
we force buildTypeInstance nevertheless. This is because it performs some checks
for whether or not the provided datatype can actually have Generic(1) implemented for
it, and produces errors if it can't. Otherwise, laziness would cause these checks
to be skipped entirely, which could result in some indecipherable type errors
down the road.

Note [Kind signatures in derived instances]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

We generally include explicit type signatures in derived instances. One reason for
doing so is that in the case of certain data family instances, not including kind
signatures can result in ambiguity. For example, consider the following two data
family instances that are distinguished by their kinds:

  data family Fam (a :: k)
  data instance Fam (a :: * -&gt; *)
  data instance Fam (a :: *)

If we dropped the kind signature for a in a derived instance for Fam a, then GHC
would have no way of knowing which instance we are talking about.

Another motivation for explicit kind signatures is the -XTypeInType extension.
With -XTypeInType, dropping kind signatures can completely change the meaning
of some data types. For example, there is a substantial difference between these
two data types:

  data T k (a :: k) = T k
  data T k a        = T k

In addition to using explicit kind signatures on type variables, we also put
explicit return kinds in the instance head, so generated instances will look
something like this:

  data S (a :: k) = S k
  instance Generic1 (S :: k -&gt; *) where
    type Rep1 (S :: k -&gt; *) = ... (Rec0 k)

Why do we do this? Imagine what the instance would be without the explicit return kind:

  instance Generic1 S where
    type Rep1 S = ... (Rec0 k)

This is an error, since the variable k is now out-of-scope!

Although explicit kind signatures are the right thing to do in most cases, there
are sadly some degenerate cases where this isn't true. Consider this example:

  newtype Compose (f :: k2 -&gt; *) (g :: k1 -&gt; k2) (a :: k1) = Compose (f (g a))

The Rep1 type instance in a Generic1 instance for Compose would involve the type
(f :.: Rec1 g), which forces (f :: * -&gt; *). But this library doesn't have very
sophisticated kind inference machinery (other than what is mentioned in
Note [Generic1 is polykinded in base-4.10]), so at the moment we
have no way of actually unifying k1 with *. So the na&#239;ve generated Generic1
instance would be:

  instance Generic1 (Compose (f :: k2 -&gt; *) (g :: k1 -&gt; k2)) where
    type Rep1 (Compose f g) = ... (f :.: Rec1 g)

This is wrong, since f's kind is overly generalized. To get around this issue,
there are variants of the TH functions that allow you to configure the KindSigOptions.
If KindSigOptions is set to False, then generated instances will not include
explicit kind signatures, leaving it up to GHC's kind inference machinery to
figure out the correct kinds.

Note [Generic1 is polykinded in base-4.10]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Prior to base-4.10, Generic1 :: (* -&gt; *) -&gt; Constraint. This means that if a Generic1
instance is defined for a polykinded data type like so:

  data Proxy k (a :: k) = Proxy

Then k is unified with *, and this has an effect on the generated Generic1 instance:

  instance Generic1 (Proxy *) where ...

We must take great care to ensure that all occurrences of k are substituted with *,
or else the generated instance will be ill kinded.

In base-4.10 and later, Generic1 :: (k -&gt; *) -&gt; Constraint. This means we don't have
to do any of this kind unification trickery anymore! Hooray!
-}</span><span>
</span><span id="line-1200"></span></pre></body></html>