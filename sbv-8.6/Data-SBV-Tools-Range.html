<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.SBV.Tools.Range</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">sbv-8.6: SMT Based Verification: Symbolic Haskell theorem prover using SMT solving.</span><ul class="links" id="page-menu"><li><a href="src/Data.SBV.Tools.Range.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Levent Erkok</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>erkokl@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.SBV.Tools.Range</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Boundaries and ranges</a></li><li><a href="#g:2">Computing valid ranges</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Single variable valid range detection.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Boundary">Boundary</a> a<ul class="subs"><li>= <a href="#v:Unbounded">Unbounded</a></li><li>| <a href="#v:Open">Open</a> a</li><li>| <a href="#v:Closed">Closed</a> a</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Range">Range</a> a = <a href="#v:Range">Range</a> (<a href="Data-SBV-Tools-Range.html#t:Boundary" title="Data.SBV.Tools.Range">Boundary</a> a) (<a href="Data-SBV-Tools-Range.html#t:Boundary" title="Data.SBV.Tools.Range">Boundary</a> a)</li><li class="src short"><a href="#v:ranges">ranges</a> :: <span class="keyword">forall</span> a. (<a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a, <a href="../base-4.13.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a, <a href="Data-SBV-Internals.html#t:SymVal" title="Data.SBV.Internals">SymVal</a> a, <a href="Data-SBV-Trans-Control.html#t:SMTValue" title="Data.SBV.Trans.Control">SMTValue</a> a, <a href="Data-SBV-Trans.html#t:SatModel" title="Data.SBV.Trans">SatModel</a> a, <a href="Data-SBV-Trans.html#t:Metric" title="Data.SBV.Trans">Metric</a> a, <a href="Data-SBV-Internals.html#t:SymVal" title="Data.SBV.Internals">SymVal</a> (<a href="Data-SBV-Trans.html#t:MetricSpace" title="Data.SBV.Trans">MetricSpace</a> a), <a href="Data-SBV-Trans.html#t:SatModel" title="Data.SBV.Trans">SatModel</a> (<a href="Data-SBV-Trans.html#t:MetricSpace" title="Data.SBV.Trans">MetricSpace</a> a)) =&gt; (<a href="Data-SBV-Internals.html#t:SBV" title="Data.SBV.Internals">SBV</a> a -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a>) -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="Data-SBV-Tools-Range.html#t:Range" title="Data.SBV.Tools.Range">Range</a> a]</li><li class="src short"><a href="#v:rangesWith">rangesWith</a> :: <span class="keyword">forall</span> a. (<a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a, <a href="../base-4.13.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a, <a href="Data-SBV-Internals.html#t:SymVal" title="Data.SBV.Internals">SymVal</a> a, <a href="Data-SBV-Trans-Control.html#t:SMTValue" title="Data.SBV.Trans.Control">SMTValue</a> a, <a href="Data-SBV-Trans.html#t:SatModel" title="Data.SBV.Trans">SatModel</a> a, <a href="Data-SBV-Trans.html#t:Metric" title="Data.SBV.Trans">Metric</a> a, <a href="Data-SBV-Internals.html#t:SymVal" title="Data.SBV.Internals">SymVal</a> (<a href="Data-SBV-Trans.html#t:MetricSpace" title="Data.SBV.Trans">MetricSpace</a> a), <a href="Data-SBV-Trans.html#t:SatModel" title="Data.SBV.Trans">SatModel</a> (<a href="Data-SBV-Trans.html#t:MetricSpace" title="Data.SBV.Trans">MetricSpace</a> a)) =&gt; <a href="Data-SBV-Internals.html#t:SMTConfig" title="Data.SBV.Internals">SMTConfig</a> -&gt; (<a href="Data-SBV-Internals.html#t:SBV" title="Data.SBV.Internals">SBV</a> a -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a>) -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="Data-SBV-Tools-Range.html#t:Range" title="Data.SBV.Tools.Range">Range</a> a]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Boundaries and ranges</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Boundary" class="def">Boundary</a> a <a href="src/Data.SBV.Tools.Range.html#Boundary" class="link">Source</a> <a href="#t:Boundary" class="selflink">#</a></p><div class="doc"><p>A boundary value</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Unbounded" class="def">Unbounded</a></td><td class="doc"><p>Unbounded</p></td></tr><tr><td class="src"><a id="v:Open" class="def">Open</a> a</td><td class="doc"><p>Exclusive of the point</p></td></tr><tr><td class="src"><a id="v:Closed" class="def">Closed</a> a</td><td class="doc"><p>Inclusive of the point</p></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Range" class="def">Range</a> a <a href="src/Data.SBV.Tools.Range.html#Range" class="link">Source</a> <a href="#t:Range" class="selflink">#</a></p><div class="doc"><p>A range is a pair of boundaries: Lower and upper bounds</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Range" class="def">Range</a> (<a href="Data-SBV-Tools-Range.html#t:Boundary" title="Data.SBV.Tools.Range">Boundary</a> a) (<a href="Data-SBV-Tools-Range.html#t:Boundary" title="Data.SBV.Tools.Range">Boundary</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Range">Instances</h4><details id="i:Range" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Range:Show:1"></span> <a href="../base-4.13.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a =&gt; <a href="../base-4.13.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Data-SBV-Tools-Range.html#t:Range" title="Data.SBV.Tools.Range">Range</a> a)</span> <a href="src/Data.SBV.Tools.Range.html#line-51" class="link">Source</a> <a href="#t:Range" class="selflink">#</a></td><td class="doc"><p>Show instance for <code><a href="Data-SBV-Tools-Range.html#t:Range" title="Data.SBV.Tools.Range">Range</a></code></p></td></tr><tr><td colspan="2"><details id="i:id:Range:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Data-SBV-Tools-Range.html">Data.SBV.Tools.Range</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.13.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Data-SBV-Tools-Range.html#t:Range" title="Data.SBV.Tools.Range">Range</a> a -&gt; <a href="../base-4.13.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Data-SBV-Tools-Range.html#t:Range" title="Data.SBV.Tools.Range">Range</a> a -&gt; <a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Data-SBV-Tools-Range.html#t:Range" title="Data.SBV.Tools.Range">Range</a> a] -&gt; <a href="../base-4.13.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Computing valid ranges</h1></a><div class="top"><p class="src"><a id="v:ranges" class="def">ranges</a> :: <span class="keyword">forall</span> a. (<a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a, <a href="../base-4.13.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a, <a href="Data-SBV-Internals.html#t:SymVal" title="Data.SBV.Internals">SymVal</a> a, <a href="Data-SBV-Trans-Control.html#t:SMTValue" title="Data.SBV.Trans.Control">SMTValue</a> a, <a href="Data-SBV-Trans.html#t:SatModel" title="Data.SBV.Trans">SatModel</a> a, <a href="Data-SBV-Trans.html#t:Metric" title="Data.SBV.Trans">Metric</a> a, <a href="Data-SBV-Internals.html#t:SymVal" title="Data.SBV.Internals">SymVal</a> (<a href="Data-SBV-Trans.html#t:MetricSpace" title="Data.SBV.Trans">MetricSpace</a> a), <a href="Data-SBV-Trans.html#t:SatModel" title="Data.SBV.Trans">SatModel</a> (<a href="Data-SBV-Trans.html#t:MetricSpace" title="Data.SBV.Trans">MetricSpace</a> a)) =&gt; (<a href="Data-SBV-Internals.html#t:SBV" title="Data.SBV.Internals">SBV</a> a -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a>) -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="Data-SBV-Tools-Range.html#t:Range" title="Data.SBV.Tools.Range">Range</a> a] <a href="src/Data.SBV.Tools.Range.html#ranges" class="link">Source</a> <a href="#v:ranges" class="selflink">#</a></p><div class="doc"><p>Given a single predicate over a single variable, find the contiguous ranges over which the predicate
 is satisfied. SBV will make one call to the optimizer, and then as many calls to the solver as there are
 disjoint ranges that the predicate is satisfied over. (Linear in the number of ranges.) Note that the
 number of ranges is large, this can take a long time! Some examples:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges (\(_ :: SInteger) -&gt; sFalse)
</code></strong>[]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges (\(_ :: SInteger) -&gt; sTrue)
</code></strong>[(-oo,oo)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges (\(x :: SInteger) -&gt; sAnd [x .&lt;= 120, x .&gt;= -12, x ./= 3])
</code></strong>[[-12,3),(3,120]]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges (\(x :: SInteger) -&gt; sAnd [x .&lt;= 75, x .&gt;= 5, x ./= 6, x ./= 67])
</code></strong>[[5,6),(6,67),(67,75]]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges (\(x :: SInteger) -&gt; sAnd [x .&lt;= 75, x ./= 3, x ./= 67])
</code></strong>[(-oo,3),(3,67),(67,75]]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges (\(x :: SReal) -&gt; sAnd [x .&gt; 3.2, x .&lt;  12.7])
</code></strong>[(3.2,12.7)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges (\(x :: SReal) -&gt; sAnd [x .&gt; 3.2, x .&lt;= 12.7])
</code></strong>[(3.2,12.7]]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges (\(x :: SReal) -&gt; sAnd [x .&lt;= 12.7, x ./= 8])
</code></strong>[(-oo,8.0),(8.0,12.7]]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges (\(x :: SReal) -&gt; sAnd [x .&gt;= 12.7, x ./= 15])
</code></strong>[[12.7,15.0),(15.0,oo)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges (\(x :: SInt8) -&gt; sAnd [x .&lt;= 7, x ./= 6])
</code></strong>[[-128,6),(6,7]]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges $ \x -&gt; x .&gt; (0::SReal)
</code></strong>[(0.0,oo)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ranges $ \x -&gt; x .&lt; (0::SReal)
</code></strong>[(-oo,0.0)]
</pre></div></div><div class="top"><p class="src"><a id="v:rangesWith" class="def">rangesWith</a> :: <span class="keyword">forall</span> a. (<a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a, <a href="../base-4.13.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a, <a href="Data-SBV-Internals.html#t:SymVal" title="Data.SBV.Internals">SymVal</a> a, <a href="Data-SBV-Trans-Control.html#t:SMTValue" title="Data.SBV.Trans.Control">SMTValue</a> a, <a href="Data-SBV-Trans.html#t:SatModel" title="Data.SBV.Trans">SatModel</a> a, <a href="Data-SBV-Trans.html#t:Metric" title="Data.SBV.Trans">Metric</a> a, <a href="Data-SBV-Internals.html#t:SymVal" title="Data.SBV.Internals">SymVal</a> (<a href="Data-SBV-Trans.html#t:MetricSpace" title="Data.SBV.Trans">MetricSpace</a> a), <a href="Data-SBV-Trans.html#t:SatModel" title="Data.SBV.Trans">SatModel</a> (<a href="Data-SBV-Trans.html#t:MetricSpace" title="Data.SBV.Trans">MetricSpace</a> a)) =&gt; <a href="Data-SBV-Internals.html#t:SMTConfig" title="Data.SBV.Internals">SMTConfig</a> -&gt; (<a href="Data-SBV-Internals.html#t:SBV" title="Data.SBV.Internals">SBV</a> a -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a>) -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="Data-SBV-Tools-Range.html#t:Range" title="Data.SBV.Tools.Range">Range</a> a] <a href="src/Data.SBV.Tools.Range.html#rangesWith" class="link">Source</a> <a href="#v:rangesWith" class="selflink">#</a></p><div class="doc"><p>Compute ranges, using the given solver configuration.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>