<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Data.SBV.String</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">sbv-8.6: SMT Based Verification: Symbolic Haskell theorem prover using SMT solving.</span><ul class="links" id="page-menu"><li><a href="src/Data.SBV.String.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Joel Burget<br />Levent Erkok</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>erkokl@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Data.SBV.String</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Length, emptiness</a></li><li><a href="#g:2">Deconstructing/Reconstructing</a></li><li><a href="#g:3">Containment</a></li><li><a href="#g:4">Substrings</a></li><li><a href="#g:5">Conversion to/from naturals</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A collection of string/character utilities, useful when working
 with symbolic strings. To the extent possible, the functions
 in this module follow those of <a href="../base-4.13.0.0/Data-List.html">Data.List</a> so importing qualified
 is the recommended workflow. Also, it is recommended you use the
 <code>OverloadedStrings</code> extension to allow literal strings to be
 used as symbolic-strings.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:length">length</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a></li><li class="src short"><a href="#v:null">null</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a></li><li class="src short"><a href="#v:head">head</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a></li><li class="src short"><a href="#v:tail">tail</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:uncons">uncons</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; (<a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a>, <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a>)</li><li class="src short"><a href="#v:init">init</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:singleton">singleton</a> :: <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:strToStrAt">strToStrAt</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:strToCharAt">strToCharAt</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a></li><li class="src short"><a href="#v:.-33--33-">(.!!)</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a></li><li class="src short"><a href="#v:implode">implode</a> :: [<a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a>] -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:concat">concat</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:.:">(.:)</a> :: <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:snoc">snoc</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:nil">nil</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:.-43--43-">(.++)</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:isInfixOf">isInfixOf</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a></li><li class="src short"><a href="#v:isSuffixOf">isSuffixOf</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a></li><li class="src short"><a href="#v:isPrefixOf">isPrefixOf</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a></li><li class="src short"><a href="#v:take">take</a> :: <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:drop">drop</a> :: <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:subStr">subStr</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:replace">replace</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li><li class="src short"><a href="#v:indexOf">indexOf</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a></li><li class="src short"><a href="#v:offsetIndexOf">offsetIndexOf</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a></li><li class="src short"><a href="#v:strToNat">strToNat</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a></li><li class="src short"><a href="#v:natToStr">natToStr</a> :: <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Length, emptiness</h1></a><div class="top"><p class="src"><a id="v:length" class="def">length</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> <a href="src/Data.SBV.String.html#length" class="link">Source</a> <a href="#v:length" class="selflink">#</a></p><div class="doc"><p>Length of a string.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sat $ \s -&gt; length s .== 2
</code></strong>Satisfiable. Model:
  s0 = &quot;\NUL\NUL&quot; :: String
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sat $ \s -&gt; length s .&lt; 0
</code></strong>Unsatisfiable
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s1 s2 -&gt; length s1 + length s2 .== length (s1 .++ s2)
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:null" class="def">null</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a> <a href="src/Data.SBV.String.html#null" class="link">Source</a> <a href="#v:null" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:null" title="Data.SBV.String">null</a></code> s</code> is True iff the string is empty</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s -&gt; null s .&lt;=&gt; length s .== 0
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s -&gt; null s .&lt;=&gt; s .== &quot;&quot;
</code></strong>Q.E.D.
</pre></div></div><a href="#g:2" id="g:2"><h1>Deconstructing/Reconstructing</h1></a><div class="top"><p class="src"><a id="v:head" class="def">head</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a> <a href="src/Data.SBV.String.html#head" class="link">Source</a> <a href="#v:head" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:head" title="Data.SBV.String">head</a></code></code> returns the head of a string. Unspecified if the string is empty.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \c -&gt; head (singleton c) .== c
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:tail" class="def">tail</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#tail" class="link">Source</a> <a href="#v:tail" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:tail" title="Data.SBV.String">tail</a></code></code> returns the tail of a string. Unspecified if the string is empty.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \h s -&gt; tail (singleton h .++ s) .== s
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s -&gt; length s .&gt; 0 .=&gt; length (tail s) .== length s - 1
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s -&gt; sNot (null s) .=&gt; singleton (head s) .++ tail s .== s
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:uncons" class="def">uncons</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; (<a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a>, <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a>) <a href="src/Data.SBV.String.html#uncons" class="link">Source</a> <a href="#v:uncons" class="selflink">#</a></p><div class="doc"><p>@<code><a href="Data-SBV-String.html#v:uncons" title="Data.SBV.String">uncons</a></code> returns the pair of the first character and tail. Unspecified if the string is empty.</p></div></div><div class="top"><p class="src"><a id="v:init" class="def">init</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#init" class="link">Source</a> <a href="#v:init" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:init" title="Data.SBV.String">init</a></code></code> returns all but the last element of the list. Unspecified if the string is empty.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \c t -&gt; init (t .++ singleton c) .== t
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:singleton" class="def">singleton</a> :: <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#singleton" class="link">Source</a> <a href="#v:singleton" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:singleton" title="Data.SBV.String">singleton</a></code> c</code> is the string of length 1 that contains the only character
 whose value is the 8-bit value <code>c</code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \c -&gt; c .== literal 'A' .=&gt; singleton c .== &quot;A&quot;
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \c -&gt; length (singleton c) .== 1
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:strToStrAt" class="def">strToStrAt</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#strToStrAt" class="link">Source</a> <a href="#v:strToStrAt" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:strToStrAt" title="Data.SBV.String">strToStrAt</a></code> s offset</code>. Substring of length 1 at <code>offset</code> in <code>s</code>. Unspecified if
 offset is out of bounds.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s1 s2 -&gt; strToStrAt (s1 .++ s2) (length s1) .== strToStrAt s2 0
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sat $ \s -&gt; length s .&gt;= 2 .&amp;&amp; strToStrAt s 0 ./= strToStrAt s (length s - 1)
</code></strong>Satisfiable. Model:
  s0 = &quot;\NUL\NUL\DLE&quot; :: String
</pre></div></div><div class="top"><p class="src"><a id="v:strToCharAt" class="def">strToCharAt</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a> <a href="src/Data.SBV.String.html#strToCharAt" class="link">Source</a> <a href="#v:strToCharAt" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:strToCharAt" title="Data.SBV.String">strToCharAt</a></code> s i</code> is the 8-bit value stored at location <code>i</code>. Unspecified if
 index is out of bounds.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \i -&gt; i .&gt;= 0 .&amp;&amp; i .&lt;= 4 .=&gt; &quot;AAAAA&quot; `strToCharAt` i .== literal 'A'
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s i c -&gt; i `inRange` (0, length s - 1) .&amp;&amp; s `strToCharAt` i .== c .=&gt; indexOf s (singleton c) .&lt;= i
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:.-33--33-" class="def">(.!!)</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a> <a href="src/Data.SBV.String.html#.%21%21" class="link">Source</a> <a href="#v:.-33--33-" class="selflink">#</a></p><div class="doc"><p>Short cut for <code><a href="Data-SBV-String.html#v:strToCharAt" title="Data.SBV.String">strToCharAt</a></code></p></div></div><div class="top"><p class="src"><a id="v:implode" class="def">implode</a> :: [<a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a>] -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#implode" class="link">Source</a> <a href="#v:implode" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:implode" title="Data.SBV.String">implode</a></code> cs</code> is the string of length <code>|cs|</code> containing precisely those
 characters. Note that there is no corresponding function <code>explode</code>, since
 we wouldn't know the length of a symbolic string.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \c1 c2 c3 -&gt; length (implode [c1, c2, c3]) .== 3
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \c1 c2 c3 -&gt; map (strToCharAt (implode [c1, c2, c3])) (map literal [0 .. 2]) .== [c1, c2, c3]
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:concat" class="def">concat</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#concat" class="link">Source</a> <a href="#v:concat" class="selflink">#</a></p><div class="doc"><p>Concatenate two strings. See also <code><a href="Data-SBV-String.html#v:.-43--43-" title="Data.SBV.String">.++</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:.:" class="def">(.:)</a> :: <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <span class="fixity">infixr 5</span><span class="rightedge"></span> <a href="src/Data.SBV.String.html#.%3A" class="link">Source</a> <a href="#v:.:" class="selflink">#</a></p><div class="doc"><p>Prepend an element, the traditional <code>cons</code>.</p></div></div><div class="top"><p class="src"><a id="v:snoc" class="def">snoc</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SChar" title="Data.SBV.Internals">SChar</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#snoc" class="link">Source</a> <a href="#v:snoc" class="selflink">#</a></p><div class="doc"><p>Append an element</p></div></div><div class="top"><p class="src"><a id="v:nil" class="def">nil</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#nil" class="link">Source</a> <a href="#v:nil" class="selflink">#</a></p><div class="doc"><p>Empty string. This value has the property that it's the only string with length 0:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \l -&gt; length l .== 0 .&lt;=&gt; l .== nil
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:.-43--43-" class="def">(.++)</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <span class="fixity">infixr 5</span><span class="rightedge"></span> <a href="src/Data.SBV.String.html#.%2B%2B" class="link">Source</a> <a href="#v:.-43--43-" class="selflink">#</a></p><div class="doc"><p>Short cut for <code><a href="Data-SBV-String.html#v:concat" title="Data.SBV.String">concat</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sat $ \x y z -&gt; length x .== 5 .&amp;&amp; length y .== 1 .&amp;&amp; x .++ y .++ z .== &quot;Hello world!&quot;
</code></strong>Satisfiable. Model:
  s0 =  &quot;Hello&quot; :: String
  s1 =      &quot; &quot; :: String
  s2 = &quot;world!&quot; :: String
</pre></div></div><a href="#g:3" id="g:3"><h1>Containment</h1></a><div class="top"><p class="src"><a id="v:isInfixOf" class="def">isInfixOf</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a> <a href="src/Data.SBV.String.html#isInfixOf" class="link">Source</a> <a href="#v:isInfixOf" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:isInfixOf" title="Data.SBV.String">isInfixOf</a></code> sub s</code>. Does <code>s</code> contain the substring <code>sub</code>?</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s1 s2 s3 -&gt; s2 `isInfixOf` (s1 .++ s2 .++ s3)
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s1 s2 -&gt; s1 `isInfixOf` s2 .&amp;&amp; s2 `isInfixOf` s1 .&lt;=&gt; s1 .== s2
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:isSuffixOf" class="def">isSuffixOf</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a> <a href="src/Data.SBV.String.html#isSuffixOf" class="link">Source</a> <a href="#v:isSuffixOf" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:isSuffixOf" title="Data.SBV.String">isSuffixOf</a></code> suf s</code>. Is <code>suf</code> a suffix of <code>s</code>?</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s1 s2 -&gt; s2 `isSuffixOf` (s1 .++ s2)
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s1 s2 -&gt; s1 `isSuffixOf` s2 .=&gt; subStr s2 (length s2 - length s1) (length s1) .== s1
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:isPrefixOf" class="def">isPrefixOf</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a> <a href="src/Data.SBV.String.html#isPrefixOf" class="link">Source</a> <a href="#v:isPrefixOf" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:isPrefixOf" title="Data.SBV.String">isPrefixOf</a></code> pre s</code>. Is <code>pre</code> a prefix of <code>s</code>?</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s1 s2 -&gt; s1 `isPrefixOf` (s1 .++ s2)
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s1 s2 -&gt; s1 `isPrefixOf` s2 .=&gt; subStr s2 0 (length s1) .== s1
</code></strong>Q.E.D.
</pre></div></div><a href="#g:4" id="g:4"><h1>Substrings</h1></a><div class="top"><p class="src"><a id="v:take" class="def">take</a> :: <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#take" class="link">Source</a> <a href="#v:take" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:take" title="Data.SBV.String">take</a></code> len s</code>. Corresponds to Haskell's <code><a href="Data-SBV-String.html#v:take" title="Data.SBV.String">take</a></code> on symbolic-strings.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s i -&gt; i .&gt;= 0 .=&gt; length (take i s) .&lt;= i
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:drop" class="def">drop</a> :: <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#drop" class="link">Source</a> <a href="#v:drop" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:drop" title="Data.SBV.String">drop</a></code> len s</code>. Corresponds to Haskell's <code><a href="Data-SBV-String.html#v:drop" title="Data.SBV.String">drop</a></code> on symbolic-strings.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s i -&gt; length (drop i s) .&lt;= length s
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s i -&gt; take i s .++ drop i s .== s
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:subStr" class="def">subStr</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#subStr" class="link">Source</a> <a href="#v:subStr" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:subStr" title="Data.SBV.String">subStr</a></code> s offset len</code> is the substring of <code>s</code> at offset <code>offset</code> with length <code>len</code>.
 This function is under-specified when the offset is outside the range of positions in <code>s</code> or <code>len</code>
 is negative or <code>offset+len</code> exceeds the length of <code>s</code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s i -&gt; i .&gt;= 0 .&amp;&amp; i .&lt; length s .=&gt; subStr s 0 i .++ subStr s i (length s - i) .== s
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sat  $ \i j -&gt; subStr &quot;hello&quot; i j .== &quot;ell&quot;
</code></strong>Satisfiable. Model:
  s0 = 1 :: Integer
  s1 = 3 :: Integer
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>sat  $ \i j -&gt; subStr &quot;hell&quot; i j .== &quot;no&quot;
</code></strong>Unsatisfiable
</pre></div></div><div class="top"><p class="src"><a id="v:replace" class="def">replace</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#replace" class="link">Source</a> <a href="#v:replace" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:replace" title="Data.SBV.String">replace</a></code> s src dst</code>. Replace the first occurrence of <code>src</code> by <code>dst</code> in <code>s</code></p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s -&gt; replace &quot;hello&quot; s &quot;world&quot; .== &quot;world&quot; .=&gt; s .== &quot;hello&quot;
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s1 s2 s3 -&gt; length s2 .&gt; length s1 .=&gt; replace s1 s2 s3 .== s1
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:indexOf" class="def">indexOf</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> <a href="src/Data.SBV.String.html#indexOf" class="link">Source</a> <a href="#v:indexOf" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:indexOf" title="Data.SBV.String">indexOf</a></code> s sub</code>. Retrieves first position of <code>sub</code> in <code>s</code>, <code>-1</code> if there are no occurrences.
 Equivalent to <code><code><a href="Data-SBV-String.html#v:offsetIndexOf" title="Data.SBV.String">offsetIndexOf</a></code> s sub 0</code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s i -&gt; i .&gt; 0 .&amp;&amp; i .&lt; length s .=&gt; indexOf s (subStr s i 1) .&lt;= i
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s1 s2 -&gt; length s2 .&gt; length s1 .=&gt; indexOf s1 s2 .== -1
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:offsetIndexOf" class="def">offsetIndexOf</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> <a href="src/Data.SBV.String.html#offsetIndexOf" class="link">Source</a> <a href="#v:offsetIndexOf" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:offsetIndexOf" title="Data.SBV.String">offsetIndexOf</a></code> s sub offset</code>. Retrieves first position of <code>sub</code> at or
 after <code>offset</code> in <code>s</code>, <code>-1</code> if there are no occurrences.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s sub -&gt; offsetIndexOf s sub 0 .== indexOf s sub
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s sub i -&gt; i .&gt;= length s .&amp;&amp; length sub .&gt; 0 .=&gt; offsetIndexOf s sub i .== -1
</code></strong>Q.E.D.
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s sub i -&gt; i .&gt; length s .=&gt; offsetIndexOf s sub i .== -1
</code></strong>Q.E.D.
</pre></div></div><a href="#g:5" id="g:5"><h1>Conversion to/from naturals</h1></a><div class="top"><p class="src"><a id="v:strToNat" class="def">strToNat</a> :: <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> -&gt; <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> <a href="src/Data.SBV.String.html#strToNat" class="link">Source</a> <a href="#v:strToNat" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:strToNat" title="Data.SBV.String">strToNat</a></code> s</code>. Retrieve integer encoded by string <code>s</code> (ground rewriting only).
 Note that by definition this function only works when <code>s</code> only contains digits,
 that is, if it encodes a natural number. Otherwise, it returns '-1'.
 See <a href="http://cvc4.cs.stanford.edu/wiki/Strings">http://cvc4.cs.stanford.edu/wiki/Strings</a> for details.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \s -&gt; let n = strToNat s in length s .== 1 .=&gt; (-1) .&lt;= n .&amp;&amp; n .&lt;= 9
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:natToStr" class="def">natToStr</a> :: <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SString" title="Data.SBV.Internals">SString</a> <a href="src/Data.SBV.String.html#natToStr" class="link">Source</a> <a href="#v:natToStr" class="selflink">#</a></p><div class="doc"><p><code><code><a href="Data-SBV-String.html#v:natToStr" title="Data.SBV.String">natToStr</a></code> i</code>. Retrieve string encoded by integer <code>i</code> (ground rewriting only).
 Again, only naturals are supported, any input that is not a natural number
 produces empty string, even though we take an integer as an argument.
 See <a href="http://cvc4.cs.stanford.edu/wiki/Strings">http://cvc4.cs.stanford.edu/wiki/Strings</a> for details.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>prove $ \i -&gt; length (natToStr i) .== 3 .=&gt; i .&lt;= 999
</code></strong>Q.E.D.
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>