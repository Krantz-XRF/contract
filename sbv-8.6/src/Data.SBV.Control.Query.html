<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Module    : Data.SBV.Control.Query</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Copyright : (c) Levent Erkok</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- License   : BSD3</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Maintainer: erkokl@gmail.com</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Stability : experimental</span><span>
</span><span id="line-8"></span><span class="hs-comment">--</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Querying a solver interactively.</span><span>
</span><span id="line-10"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase          #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns      #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE Rank2Types          #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wall -Werror -fno-warn-orphans #-}</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.SBV.Control.Query</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-20"></span><span>       </span><span class="annot"><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier">send</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier">ask</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#retrieveResponse"><span class="hs-identifier">retrieveResponse</span></a></span><span>
</span><span id="line-21"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#CheckSatResult"><span class="hs-identifier">CheckSatResult</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#checkSat"><span class="hs-identifier">checkSat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#checkSatUsing"><span class="hs-identifier">checkSatUsing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#checkSatAssuming"><span class="hs-identifier">checkSatAssuming</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#checkSatAssumingWithUnsatisfiableSet"><span class="hs-identifier">checkSatAssumingWithUnsatisfiableSet</span></a></span><span>
</span><span id="line-22"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getUnsatCore"><span class="hs-identifier">getUnsatCore</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getProof"><span class="hs-identifier">getProof</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getInterpolantMathSAT"><span class="hs-identifier">getInterpolantMathSAT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getInterpolantZ3"><span class="hs-identifier">getInterpolantZ3</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getAssignment"><span class="hs-identifier">getAssignment</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getOption"><span class="hs-identifier">getOption</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#freshVar"><span class="hs-identifier">freshVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#freshVar_"><span class="hs-identifier">freshVar_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#freshArray"><span class="hs-identifier">freshArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#freshArray_"><span class="hs-identifier">freshArray_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#push"><span class="hs-identifier">push</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#pop"><span class="hs-identifier">pop</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getAssertionStackDepth"><span class="hs-identifier">getAssertionStackDepth</span></a></span><span>
</span><span id="line-23"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#inNewAssertionStack"><span class="hs-identifier">inNewAssertionStack</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#echo"><span class="hs-identifier">echo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#caseSplit"><span class="hs-identifier">caseSplit</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#resetAssertions"><span class="hs-identifier">resetAssertions</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#exit"><span class="hs-identifier">exit</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getAssertions"><span class="hs-identifier">getAssertions</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getValue"><span class="hs-identifier">getValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getUninterpretedValue"><span class="hs-identifier">getUninterpretedValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getModel"><span class="hs-identifier">getModel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getSMTResult"><span class="hs-identifier">getSMTResult</span></a></span><span>
</span><span id="line-24"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getLexicographicOptResults"><span class="hs-identifier">getLexicographicOptResults</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getIndependentOptResults"><span class="hs-identifier">getIndependentOptResults</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getParetoOptResults"><span class="hs-identifier">getParetoOptResults</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getAllSatResult"><span class="hs-identifier">getAllSatResult</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getUnknownReason"><span class="hs-identifier">getUnknownReason</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getObservables"><span class="hs-identifier">getObservables</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#ensureSat"><span class="hs-identifier">ensureSat</span></a></span><span>
</span><span id="line-25"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#SMTOption"><span class="hs-identifier">SMTOption</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#SMTInfoFlag"><span class="hs-identifier">SMTInfoFlag</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#SMTErrorBehavior"><span class="hs-identifier">SMTErrorBehavior</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#SMTReasonUnknown"><span class="hs-identifier">SMTReasonUnknown</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#SMTInfoResponse"><span class="hs-identifier">SMTInfoResponse</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getInfo"><span class="hs-identifier">getInfo</span></a></span><span>
</span><span id="line-26"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#Logic"><span class="hs-identifier">Logic</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#Assignment"><span class="hs-identifier">Assignment</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#ignoreExitCode"><span class="hs-identifier">ignoreExitCode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#timeout"><span class="hs-identifier">timeout</span></a></span><span>
</span><span id="line-28"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#%7C-%3E"><span class="hs-operator">(|-&gt;)</span></a></span><span>
</span><span id="line-29"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#mkSMTResult"><span class="hs-identifier">mkSMTResult</span></a></span><span>
</span><span id="line-30"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier">io</span></a></span><span>
</span><span id="line-31"></span><span>     </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">unless</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">when</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">zipWithM</span></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.IO.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.IORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">readIORef</span></span><span class="hs-special">)</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span>    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IntMap.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IM</span></span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">toLower</span></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">intercalate</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">nubBy</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">sortBy</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">sortOn</span></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">listToMaybe</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">catMaybes</span></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Function</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">on</span></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html"><span class="hs-identifier">Data.SBV.Core.Data</span></a></span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html"><span class="hs-identifier">Data.SBV.Core.Symbolic</span></a></span><span>   </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier">MonadQuery</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier">State</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span>                                </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#incrementInternalCounter"><span class="hs-identifier">incrementInternalCounter</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#validationRequested"><span class="hs-identifier">validationRequested</span></a></span><span>
</span><span id="line-51"></span><span>                                </span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html"><span class="hs-identifier">Data.SBV.Utils.SExpr</span></a></span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html"><span class="hs-identifier">Data.SBV.Control.Types</span></a></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html"><span class="hs-identifier">Data.SBV.Control.Utils</span></a></span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-comment">-- | An Assignment of a model binding</span><span>
</span><span id="line-59"></span><span class="hs-keyword">data</span><span> </span><span id="Assignment"><span class="annot"><a href="Data.SBV.Control.Query.html#Assignment"><span class="hs-identifier hs-var">Assignment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Assign"><span class="annot"><a href="Data.SBV.Control.Query.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-comment">-- Remove one pair of surrounding 'c's, if present</span><span>
</span><span id="line-62"></span><span class="annot"><a href="Data.SBV.Control.Query.html#noSurrounding"><span class="hs-identifier hs-type">noSurrounding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-63"></span><span id="noSurrounding"><span class="annot"><span class="annottext">noSurrounding :: Char -&gt; String -&gt; String
</span><a href="Data.SBV.Control.Query.html#noSurrounding"><span class="hs-identifier hs-var hs-var">noSurrounding</span></a></span></span><span> </span><span id="local-6989586621681139514"><span class="annot"><span class="annottext">c :: Char
</span><a href="#local-6989586621681139514"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139513"><span class="annot"><span class="annottext">c' :: Char
</span><a href="#local-6989586621681139513"><span class="hs-identifier hs-var">c'</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681139512"><span class="annot"><span class="annottext">cs :: String
</span><a href="#local-6989586621681139512"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681139514"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681139513"><span class="hs-identifier hs-var">c'</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681139514"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Char
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139512"><span class="hs-identifier hs-var">cs</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139512"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-64"></span><span class="annot"><a href="Data.SBV.Control.Query.html#noSurrounding"><span class="hs-identifier hs-var">noSurrounding</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681139508"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139508"><span class="hs-identifier hs-var">s</span></a></span></span><span>                                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139508"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-comment">-- Remove a pair of surrounding quotes</span><span>
</span><span id="line-67"></span><span class="annot"><a href="Data.SBV.Control.Query.html#unQuote"><span class="hs-identifier hs-type">unQuote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-68"></span><span id="unQuote"><span class="annot"><span class="annottext">unQuote :: String -&gt; String
</span><a href="Data.SBV.Control.Query.html#unQuote"><span class="hs-identifier hs-var hs-var">unQuote</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
</span><a href="Data.SBV.Control.Query.html#noSurrounding"><span class="hs-identifier hs-var">noSurrounding</span></a></span><span> </span><span class="annot"><span class="hs-char">'&quot;'</span></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-comment">-- Remove a pair of surrounding bars</span><span>
</span><span id="line-71"></span><span class="annot"><a href="Data.SBV.Control.Query.html#unBar"><span class="hs-identifier hs-type">unBar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-72"></span><span id="unBar"><span class="annot"><span class="annottext">unBar :: String -&gt; String
</span><a href="Data.SBV.Control.Query.html#unBar"><span class="hs-identifier hs-var hs-var">unBar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
</span><a href="Data.SBV.Control.Query.html#noSurrounding"><span class="hs-identifier hs-var">noSurrounding</span></a></span><span> </span><span class="annot"><span class="hs-char">'|'</span></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-comment">-- Is this a string? If so, return it, otherwise fail in the Maybe monad.</span><span>
</span><span id="line-75"></span><span class="annot"><a href="Data.SBV.Control.Query.html#fromECon"><span class="hs-identifier hs-type">fromECon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-76"></span><span id="fromECon"><span class="annot"><span class="annottext">fromECon :: SExpr -&gt; Maybe String
</span><a href="Data.SBV.Control.Query.html#fromECon"><span class="hs-identifier hs-var hs-var">fromECon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681139503"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139503"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139503"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-77"></span><span class="annot"><a href="Data.SBV.Control.Query.html#fromECon"><span class="hs-identifier hs-var">fromECon</span></a></span><span> </span><span class="hs-identifier">_</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-comment">-- Collect strings appearing, used in 'getOption' only</span><span>
</span><span id="line-80"></span><span class="annot"><a href="Data.SBV.Control.Query.html#stringsOf"><span class="hs-identifier hs-type">stringsOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-81"></span><span id="stringsOf"><span class="annot"><span class="annottext">stringsOf :: SExpr -&gt; [String]
</span><a href="Data.SBV.Control.Query.html#stringsOf"><span class="hs-identifier hs-var hs-var">stringsOf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681139501"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139501"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139501"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-82"></span><span class="annot"><a href="Data.SBV.Control.Query.html#stringsOf"><span class="hs-identifier hs-var">stringsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139499"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681139499"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681139499"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-83"></span><span class="annot"><a href="Data.SBV.Control.Query.html#stringsOf"><span class="hs-identifier hs-var">stringsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EReal"><span class="hs-identifier hs-type">EReal</span></a></span><span>   </span><span id="local-6989586621681139496"><span class="annot"><span class="annottext">r :: AlgReal
</span><a href="#local-6989586621681139496"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">AlgReal -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681139496"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-84"></span><span class="annot"><a href="Data.SBV.Control.Query.html#stringsOf"><span class="hs-identifier hs-var">stringsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EFloat"><span class="hs-identifier hs-type">EFloat</span></a></span><span>  </span><span id="local-6989586621681139494"><span class="annot"><span class="annottext">f :: Float
</span><a href="#local-6989586621681139494"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Float -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681139494"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-85"></span><span class="annot"><a href="Data.SBV.Control.Query.html#stringsOf"><span class="hs-identifier hs-var">stringsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EDouble"><span class="hs-identifier hs-type">EDouble</span></a></span><span> </span><span id="local-6989586621681139492"><span class="annot"><span class="annottext">d :: Double
</span><a href="#local-6989586621681139492"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Double -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681139492"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-86"></span><span class="annot"><a href="Data.SBV.Control.Query.html#stringsOf"><span class="hs-identifier hs-var">stringsOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span id="local-6989586621681139490"><span class="annot"><span class="annottext">ss :: [SExpr]
</span><a href="#local-6989586621681139490"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SExpr -&gt; [String]) -&gt; [SExpr] -&gt; [String]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; [String]
</span><a href="Data.SBV.Control.Query.html#stringsOf"><span class="hs-identifier hs-var">stringsOf</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139490"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- Sort of a light-hearted show for SExprs, for better consumption at the user level.</span><span>
</span><span id="line-89"></span><span class="annot"><a href="Data.SBV.Control.Query.html#serialize"><span class="hs-identifier hs-type">serialize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-90"></span><span id="serialize"><span class="annot"><span class="annottext">serialize :: Bool -&gt; SExpr -&gt; String
</span><a href="Data.SBV.Control.Query.html#serialize"><span class="hs-identifier hs-var hs-var">serialize</span></a></span></span><span> </span><span id="local-6989586621681139487"><span class="annot"><span class="annottext">removeQuotes :: Bool
</span><a href="#local-6989586621681139487"><span class="hs-identifier hs-var">removeQuotes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139486"><span class="hs-identifier hs-var">go</span></a></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139486"><span class="annot"><span class="annottext">go :: SExpr -&gt; String
</span><a href="#local-6989586621681139486"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681139485"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139485"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681139487"><span class="hs-identifier hs-var">removeQuotes</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="Data.SBV.Control.Query.html#unQuote"><span class="hs-identifier hs-var">unQuote</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139485"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139485"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-92"></span><span>        </span><span class="annot"><a href="#local-6989586621681139486"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139484"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681139484"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. (Show a, Num a, Ord a) =&gt; a -&gt; String
</span><a href="#local-6989586621681139483"><span class="hs-identifier hs-var">shNN</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681139484"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-93"></span><span>        </span><span class="annot"><a href="#local-6989586621681139486"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EReal"><span class="hs-identifier hs-type">EReal</span></a></span><span>   </span><span id="local-6989586621681139482"><span class="annot"><span class="annottext">r :: AlgReal
</span><a href="#local-6989586621681139482"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; String
forall a. (Show a, Num a, Ord a) =&gt; a -&gt; String
</span><a href="#local-6989586621681139483"><span class="hs-identifier hs-var">shNN</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681139482"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-94"></span><span>        </span><span class="annot"><a href="#local-6989586621681139486"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EFloat"><span class="hs-identifier hs-type">EFloat</span></a></span><span>  </span><span id="local-6989586621681139481"><span class="annot"><span class="annottext">f :: Float
</span><a href="#local-6989586621681139481"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; String
forall a. (Show a, Num a, Ord a) =&gt; a -&gt; String
</span><a href="#local-6989586621681139483"><span class="hs-identifier hs-var">shNN</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681139481"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-95"></span><span>        </span><span class="annot"><a href="#local-6989586621681139486"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EDouble"><span class="hs-identifier hs-type">EDouble</span></a></span><span> </span><span id="local-6989586621681139480"><span class="annot"><span class="annottext">d :: Double
</span><a href="#local-6989586621681139480"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; String
forall a. (Show a, Num a, Ord a) =&gt; a -&gt; String
</span><a href="#local-6989586621681139483"><span class="hs-identifier hs-var">shNN</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681139480"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-96"></span><span>        </span><span class="annot"><a href="#local-6989586621681139486"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681139479"><span class="annot"><span class="annottext">x :: SExpr
</span><a href="#local-6989586621681139479"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139486"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139479"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-97"></span><span>        </span><span class="annot"><a href="#local-6989586621681139486"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span id="local-6989586621681139478"><span class="annot"><span class="annottext">ss :: [SExpr]
</span><a href="#local-6989586621681139478"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SExpr -&gt; String) -&gt; [SExpr] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139486"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139478"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span>        </span><span class="hs-comment">-- be careful with negative number printing in SMT-Lib..</span><span>
</span><span id="line-100"></span><span>        </span><span id="local-6989586621681139808"><span class="annot"><a href="#local-6989586621681139483"><span class="hs-identifier hs-type">shNN</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621681139808"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621681139808"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621681139808"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139808"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-101"></span><span>        </span><span id="local-6989586621681139483"><span class="annot"><span class="annottext">shNN :: a -&gt; String
</span><a href="#local-6989586621681139483"><span class="hs-identifier hs-var hs-var">shNN</span></a></span></span><span> </span><span id="local-6989586621681139476"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621681139476"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-102"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681139476"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(- &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681139476"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-103"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681139476"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-104"></span><span>
</span><span id="line-105"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getInfo'</span><span>
</span><span id="line-106"></span><span id="local-6989586621681139761"><span class="annot"><a href="Data.SBV.Control.Query.html#getInfo"><span class="hs-identifier hs-type">getInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139761"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139761"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#SMTInfoFlag"><span class="hs-identifier hs-type">SMTInfoFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139761"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#SMTInfoResponse"><span class="hs-identifier hs-type">SMTInfoResponse</span></a></span></span><span>
</span><span id="line-107"></span><span id="getInfo"><span class="annot"><span class="annottext">getInfo :: SMTInfoFlag -&gt; m SMTInfoResponse
</span><a href="Data.SBV.Control.Query.html#getInfo"><span class="hs-identifier hs-var hs-var">getInfo</span></a></span></span><span> </span><span id="local-6989586621681139474"><span class="annot"><span class="annottext">flag :: SMTInfoFlag
</span><a href="#local-6989586621681139474"><span class="hs-identifier hs-var">flag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-108"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139473"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681139473"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-info &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SMTInfoFlag -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SMTInfoFlag
</span><a href="#local-6989586621681139474"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-109"></span><span>        </span><span id="local-6989586621681139472"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139472"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getInfo&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139473"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a valid get-info response&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span>        </span><span id="local-6989586621681139470"><span class="annot"><span class="annottext">isAllStatistics :: SMTInfoFlag -&gt; Bool
</span><a href="#local-6989586621681139470"><span class="hs-identifier hs-var hs-var">isAllStatistics</span></a></span></span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#AllStatistics"><span class="hs-identifier hs-type">AllStatistics</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-112"></span><span>        </span><span class="annot"><a href="#local-6989586621681139470"><span class="hs-identifier hs-var">isAllStatistics</span></a></span><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span>        </span><span id="local-6989586621681139468"><span class="annot"><span class="annottext">isAllStat :: Bool
</span><a href="#local-6989586621681139468"><span class="hs-identifier hs-var hs-var">isAllStat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTInfoFlag -&gt; Bool
</span><a href="#local-6989586621681139470"><span class="hs-identifier hs-var">isAllStatistics</span></a></span><span> </span><span class="annot"><span class="annottext">SMTInfoFlag
</span><a href="#local-6989586621681139474"><span class="hs-identifier hs-var">flag</span></a></span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span>        </span><span id="local-6989586621681139467"><span class="annot"><span class="annottext">grabAllStat :: SExpr -&gt; SExpr -&gt; (String, String)
</span><a href="#local-6989586621681139467"><span class="hs-identifier hs-var hs-var">grabAllStat</span></a></span></span><span> </span><span id="local-6989586621681139466"><span class="annot"><span class="annottext">k :: SExpr
</span><a href="#local-6989586621681139466"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681139465"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681139465"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139464"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139466"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139464"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139465"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span>        </span><span class="hs-comment">-- we're trying to do our best to get key-value pairs here, but this</span><span>
</span><span id="line-119"></span><span>        </span><span class="hs-comment">-- is necessarily a half-hearted attempt.</span><span>
</span><span id="line-120"></span><span>        </span><span id="local-6989586621681139463"><span class="annot"><span class="annottext">grabAllStats :: SExpr -&gt; [(String, String)]
</span><a href="#local-6989586621681139463"><span class="hs-identifier hs-var hs-var">grabAllStats</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span id="local-6989586621681139462"><span class="annot"><span class="annottext">xs :: [SExpr]
</span><a href="#local-6989586621681139462"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SExpr] -&gt; [(String, String)]
</span><a href="#local-6989586621681139461"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139462"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-121"></span><span>           </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139461"><span class="annot"><span class="annottext">walk :: [SExpr] -&gt; [(String, String)]
</span><a href="#local-6989586621681139461"><span class="hs-identifier hs-var hs-var">walk</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-122"></span><span>                 </span><span class="annot"><a href="#local-6989586621681139461"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681139460"><span class="annot"><span class="annottext">t :: SExpr
</span><a href="#local-6989586621681139460"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">]</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SExpr -&gt; SExpr -&gt; (String, String)
</span><a href="#local-6989586621681139467"><span class="hs-identifier hs-var">grabAllStat</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139460"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-var">ECon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-123"></span><span>                 </span><span class="annot"><a href="#local-6989586621681139461"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139459"><span class="annot"><span class="annottext">t :: SExpr
</span><a href="#local-6989586621681139459"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681139458"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681139458"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681139457"><span class="annot"><span class="annottext">rest :: [SExpr]
</span><a href="#local-6989586621681139457"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">SExpr -&gt; SExpr -&gt; (String, String)
</span><a href="#local-6989586621681139467"><span class="hs-identifier hs-var">grabAllStat</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139459"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139458"><span class="hs-identifier hs-var">v</span></a></span><span>          </span><span class="annot"><span class="annottext">(String, String) -&gt; [(String, String)] -&gt; [(String, String)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[SExpr] -&gt; [(String, String)]
</span><a href="#local-6989586621681139461"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139457"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-124"></span><span>        </span><span class="annot"><a href="#local-6989586621681139463"><span class="hs-identifier hs-var">grabAllStats</span></a></span><span> </span><span id="local-6989586621681139456"><span class="annot"><span class="annottext">o :: SExpr
</span><a href="#local-6989586621681139456"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SExpr -&gt; SExpr -&gt; (String, String)
</span><a href="#local-6989586621681139467"><span class="hs-identifier hs-var">grabAllStat</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139456"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-var">ECon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span>    </span><span id="local-6989586621681139455"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139455"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139473"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-127"></span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m SMTInfoResponse)
-&gt; (SExpr -&gt; m SMTInfoResponse)
-&gt; m SMTInfoResponse
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139455"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m SMTInfoResponse
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139472"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m SMTInfoResponse) -&gt; m SMTInfoResponse)
-&gt; (SExpr -&gt; m SMTInfoResponse) -&gt; m SMTInfoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139453"><span class="annot"><span class="annottext">pe :: SExpr
</span><a href="#local-6989586621681139453"><span class="hs-identifier hs-var">pe</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-129"></span><span>       </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681139468"><span class="hs-identifier hs-var">isAllStat</span></a></span><span>
</span><span id="line-130"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse -&gt; m SMTInfoResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SMTInfoResponse -&gt; m SMTInfoResponse)
-&gt; SMTInfoResponse -&gt; m SMTInfoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(String, String)] -&gt; SMTInfoResponse
</span><a href="Data.SBV.Control.Types.html#Resp_AllStatistics"><span class="hs-identifier hs-var">Resp_AllStatistics</span></a></span><span> </span><span class="annot"><span class="annottext">([(String, String)] -&gt; SMTInfoResponse)
-&gt; [(String, String)] -&gt; SMTInfoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; [(String, String)]
</span><a href="#local-6989586621681139463"><span class="hs-identifier hs-var">grabAllStats</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139453"><span class="hs-identifier hs-var">pe</span></a></span><span>
</span><span id="line-131"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139453"><span class="hs-identifier hs-var">pe</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-132"></span><span>                 </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;unsupported&quot;</span><span>                                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse -&gt; m SMTInfoResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse
</span><a href="Data.SBV.Control.Types.html#Resp_Unsupported"><span class="hs-identifier hs-var">Resp_Unsupported</span></a></span><span>
</span><span id="line-133"></span><span>                 </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;:assertion-stack-levels&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139450"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681139450"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">]</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse -&gt; m SMTInfoResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SMTInfoResponse -&gt; m SMTInfoResponse)
-&gt; SMTInfoResponse -&gt; m SMTInfoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; SMTInfoResponse
</span><a href="Data.SBV.Control.Types.html#Resp_AssertionStackLevels"><span class="hs-identifier hs-var">Resp_AssertionStackLevels</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681139450"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-134"></span><span>                 </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;:authors&quot;</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681139448"><span class="annot"><span class="annottext">ns :: [SExpr]
</span><a href="#local-6989586621681139448"><span class="hs-identifier hs-var">ns</span></a></span></span><span class="hs-special">)</span><span>                               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse -&gt; m SMTInfoResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SMTInfoResponse -&gt; m SMTInfoResponse)
-&gt; SMTInfoResponse -&gt; m SMTInfoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; SMTInfoResponse
</span><a href="Data.SBV.Control.Types.html#Resp_Authors"><span class="hs-identifier hs-var">Resp_Authors</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SExpr -&gt; String) -&gt; [SExpr] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139464"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139448"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-135"></span><span>                 </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;:error-behavior&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;immediate-exit&quot;</span><span class="hs-special">]</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse -&gt; m SMTInfoResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SMTInfoResponse -&gt; m SMTInfoResponse)
-&gt; SMTInfoResponse -&gt; m SMTInfoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SMTErrorBehavior -&gt; SMTInfoResponse
</span><a href="Data.SBV.Control.Types.html#Resp_Error"><span class="hs-identifier hs-var">Resp_Error</span></a></span><span> </span><span class="annot"><span class="annottext">SMTErrorBehavior
</span><a href="Data.SBV.Control.Types.html#ErrorImmediateExit"><span class="hs-identifier hs-var">ErrorImmediateExit</span></a></span><span>
</span><span id="line-136"></span><span>                 </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;:error-behavior&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;continued-execution&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse -&gt; m SMTInfoResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SMTInfoResponse -&gt; m SMTInfoResponse)
-&gt; SMTInfoResponse -&gt; m SMTInfoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SMTErrorBehavior -&gt; SMTInfoResponse
</span><a href="Data.SBV.Control.Types.html#Resp_Error"><span class="hs-identifier hs-var">Resp_Error</span></a></span><span> </span><span class="annot"><span class="annottext">SMTErrorBehavior
</span><a href="Data.SBV.Control.Types.html#ErrorContinuedExecution"><span class="hs-identifier hs-var">ErrorContinuedExecution</span></a></span><span>
</span><span id="line-137"></span><span>                 </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;:name&quot;</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681139443"><span class="annot"><span class="annottext">o :: [SExpr]
</span><a href="#local-6989586621681139443"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span>                                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse -&gt; m SMTInfoResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SMTInfoResponse -&gt; m SMTInfoResponse)
-&gt; SMTInfoResponse -&gt; m SMTInfoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SMTInfoResponse
</span><a href="Data.SBV.Control.Types.html#Resp_Name"><span class="hs-identifier hs-var">Resp_Name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139464"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SExpr] -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-var">EApp</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139443"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>                 </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;:reason-unknown&quot;</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681139441"><span class="annot"><span class="annottext">o :: [SExpr]
</span><a href="#local-6989586621681139441"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse -&gt; m SMTInfoResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SMTInfoResponse -&gt; m SMTInfoResponse)
-&gt; SMTInfoResponse -&gt; m SMTInfoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SMTReasonUnknown -&gt; SMTInfoResponse
</span><a href="Data.SBV.Control.Types.html#Resp_ReasonUnknown"><span class="hs-identifier hs-var">Resp_ReasonUnknown</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SExpr] -&gt; SMTReasonUnknown
</span><a href="#local-6989586621681139439"><span class="hs-identifier hs-var">unk</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139441"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>                 </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;:version&quot;</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681139438"><span class="annot"><span class="annottext">o :: [SExpr]
</span><a href="#local-6989586621681139438"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span>                                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse -&gt; m SMTInfoResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SMTInfoResponse -&gt; m SMTInfoResponse)
-&gt; SMTInfoResponse -&gt; m SMTInfoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SMTInfoResponse
</span><a href="Data.SBV.Control.Types.html#Resp_Version"><span class="hs-identifier hs-var">Resp_Version</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139464"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SExpr] -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-var">EApp</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139438"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>                 </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681139436"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139436"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681139435"><span class="annot"><span class="annottext">o :: [SExpr]
</span><a href="#local-6989586621681139435"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span>                                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse -&gt; m SMTInfoResponse
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SMTInfoResponse -&gt; m SMTInfoResponse)
-&gt; SMTInfoResponse -&gt; m SMTInfoResponse
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; SMTInfoResponse
</span><a href="Data.SBV.Control.Types.html#Resp_InfoKeyword"><span class="hs-identifier hs-var">Resp_InfoKeyword</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139436"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SExpr -&gt; String) -&gt; [SExpr] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139464"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139435"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>                 </span><span class="hs-identifier">_</span><span>                                                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m SMTInfoResponse
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139472"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139455"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139464"><span class="annot"><span class="annottext">render :: SExpr -&gt; String
</span><a href="#local-6989586621681139464"><span class="hs-identifier hs-var hs-var">render</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SExpr -&gt; String
</span><a href="Data.SBV.Control.Query.html#serialize"><span class="hs-identifier hs-var">serialize</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span>        </span><span id="local-6989586621681139439"><span class="annot"><span class="annottext">unk :: [SExpr] -&gt; SMTReasonUnknown
</span><a href="#local-6989586621681139439"><span class="hs-identifier hs-var hs-var">unk</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681139433"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139433"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681139432"><span class="annot"><span class="annottext">d :: SMTReasonUnknown
</span><a href="#local-6989586621681139432"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe SMTReasonUnknown
</span><a href="#local-6989586621681139431"><span class="hs-identifier hs-var">getUR</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139433"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTReasonUnknown
</span><a href="#local-6989586621681139432"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-146"></span><span>        </span><span class="annot"><a href="#local-6989586621681139439"><span class="hs-identifier hs-var">unk</span></a></span><span> </span><span id="local-6989586621681139430"><span class="annot"><span class="annottext">o :: [SExpr]
</span><a href="#local-6989586621681139430"><span class="hs-identifier hs-var">o</span></a></span></span><span>                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SMTReasonUnknown
</span><a href="Data.SBV.Control.Types.html#UnknownOther"><span class="hs-identifier hs-var">UnknownOther</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139464"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SExpr] -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-var">EApp</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139430"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span>        </span><span id="local-6989586621681139431"><span class="annot"><span class="annottext">getUR :: String -&gt; Maybe SMTReasonUnknown
</span><a href="#local-6989586621681139431"><span class="hs-identifier hs-var hs-var">getUR</span></a></span></span><span> </span><span id="local-6989586621681139428"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139428"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Char) -&gt; String -&gt; String
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char
</span><span class="hs-identifier hs-var">toLower</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="Data.SBV.Control.Query.html#unQuote"><span class="hs-identifier hs-var">unQuote</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139428"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, SMTReasonUnknown)] -&gt; Maybe SMTReasonUnknown
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-operator hs-var">`lookup`</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Char -&gt; Char) -&gt; String -&gt; String
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char
</span><span class="hs-identifier hs-var">toLower</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139426"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SMTReasonUnknown
</span><a href="#local-6989586621681139425"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139426"><span class="annot"><span class="annottext">k :: String
</span><a href="#local-6989586621681139426"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139425"><span class="annot"><span class="annottext">d :: SMTReasonUnknown
</span><a href="#local-6989586621681139425"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, SMTReasonUnknown)]
</span><a href="#local-6989586621681139424"><span class="hs-identifier hs-var">unknownReasons</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span>        </span><span class="hs-comment">-- As specified in Section 4.1 of the SMTLib document. Note that we're adding the</span><span>
</span><span id="line-151"></span><span>        </span><span class="hs-comment">-- extra timeout as it is useful in this context.</span><span>
</span><span id="line-152"></span><span>        </span><span id="local-6989586621681139424"><span class="annot"><span class="annottext">unknownReasons :: [(String, SMTReasonUnknown)]
</span><a href="#local-6989586621681139424"><span class="hs-identifier hs-var hs-var">unknownReasons</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;memout&quot;</span></span><span class="hs-special">,</span><span>     </span><span class="annot"><span class="annottext">SMTReasonUnknown
</span><a href="Data.SBV.Control.Types.html#UnknownMemOut"><span class="hs-identifier hs-var">UnknownMemOut</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;incomplete&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SMTReasonUnknown
</span><a href="Data.SBV.Control.Types.html#UnknownIncomplete"><span class="hs-identifier hs-var">UnknownIncomplete</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>                         </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;timeout&quot;</span></span><span class="hs-special">,</span><span>    </span><span class="annot"><span class="annottext">SMTReasonUnknown
</span><a href="Data.SBV.Control.Types.html#UnknownTimeOut"><span class="hs-identifier hs-var">UnknownTimeOut</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>                         </span><span class="hs-special">]</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getInfo'</span><span>
</span><span id="line-158"></span><span id="local-6989586621681139419"><span id="local-6989586621681139420"><span class="annot"><a href="Data.SBV.Control.Query.html#getOption"><span class="hs-identifier hs-type">getOption</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139420"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139420"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681139419"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#SMTOption"><span class="hs-identifier hs-type">SMTOption</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139420"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#SMTOption"><span class="hs-identifier hs-type">SMTOption</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-159"></span><span id="getOption"><span class="annot"><span class="annottext">getOption :: (a -&gt; SMTOption) -&gt; m (Maybe SMTOption)
</span><a href="Data.SBV.Control.Query.html#getOption"><span class="hs-identifier hs-var hs-var">getOption</span></a></span></span><span> </span><span id="local-6989586621681139418"><span class="annot"><span class="annottext">f :: a -&gt; SMTOption
</span><a href="#local-6989586621681139418"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">a -&gt; SMTOption
</span><a href="#local-6989586621681139418"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-160"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#DiagnosticOutputChannel"><span class="hs-identifier hs-type">DiagnosticOutputChannel</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var">askFor</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;DiagnosticOutputChannel&quot;</span></span><span>   </span><span class="annot"><span class="hs-string">&quot;:diagnostic-output-channel&quot;</span></span><span>   </span><span class="annot"><span class="annottext">((SExpr
  -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
 -&gt; m (Maybe SMTOption))
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SMTOption)
-&gt; SExpr
-&gt; (Maybe [String] -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a.
Monad m =&gt;
(String -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139414"><span class="hs-identifier hs-var">string</span></a></span><span>     </span><span class="annot"><span class="annottext">String -&gt; SMTOption
</span><a href="Data.SBV.Control.Types.html#DiagnosticOutputChannel"><span class="hs-identifier hs-var">DiagnosticOutputChannel</span></a></span><span>
</span><span id="line-161"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#ProduceAssertions"><span class="hs-identifier hs-type">ProduceAssertions</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var">askFor</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;ProduceAssertions&quot;</span></span><span>         </span><span class="annot"><span class="hs-string">&quot;:produce-assertions&quot;</span></span><span>          </span><span class="annot"><span class="annottext">((SExpr
  -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
 -&gt; m (Maybe SMTOption))
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; SMTOption)
-&gt; SExpr
-&gt; (Maybe [String] -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a.
Monad m =&gt;
(Bool -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139412"><span class="hs-identifier hs-var">bool</span></a></span><span>       </span><span class="annot"><span class="annottext">Bool -&gt; SMTOption
</span><a href="Data.SBV.Control.Types.html#ProduceAssertions"><span class="hs-identifier hs-var">ProduceAssertions</span></a></span><span>
</span><span id="line-162"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#ProduceAssignments"><span class="hs-identifier hs-type">ProduceAssignments</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var">askFor</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;ProduceAssignments&quot;</span></span><span>        </span><span class="annot"><span class="hs-string">&quot;:produce-assignments&quot;</span></span><span>         </span><span class="annot"><span class="annottext">((SExpr
  -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
 -&gt; m (Maybe SMTOption))
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; SMTOption)
-&gt; SExpr
-&gt; (Maybe [String] -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a.
Monad m =&gt;
(Bool -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139412"><span class="hs-identifier hs-var">bool</span></a></span><span>       </span><span class="annot"><span class="annottext">Bool -&gt; SMTOption
</span><a href="Data.SBV.Control.Types.html#ProduceAssignments"><span class="hs-identifier hs-var">ProduceAssignments</span></a></span><span>
</span><span id="line-163"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#ProduceProofs"><span class="hs-identifier hs-type">ProduceProofs</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var">askFor</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;ProduceProofs&quot;</span></span><span>             </span><span class="annot"><span class="hs-string">&quot;:produce-proofs&quot;</span></span><span>              </span><span class="annot"><span class="annottext">((SExpr
  -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
 -&gt; m (Maybe SMTOption))
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; SMTOption)
-&gt; SExpr
-&gt; (Maybe [String] -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a.
Monad m =&gt;
(Bool -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139412"><span class="hs-identifier hs-var">bool</span></a></span><span>       </span><span class="annot"><span class="annottext">Bool -&gt; SMTOption
</span><a href="Data.SBV.Control.Types.html#ProduceProofs"><span class="hs-identifier hs-var">ProduceProofs</span></a></span><span>
</span><span id="line-164"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#ProduceInterpolants"><span class="hs-identifier hs-type">ProduceInterpolants</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var">askFor</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;ProduceInterpolants&quot;</span></span><span>       </span><span class="annot"><span class="hs-string">&quot;:produce-interpolants&quot;</span></span><span>        </span><span class="annot"><span class="annottext">((SExpr
  -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
 -&gt; m (Maybe SMTOption))
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; SMTOption)
-&gt; SExpr
-&gt; (Maybe [String] -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a.
Monad m =&gt;
(Bool -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139412"><span class="hs-identifier hs-var">bool</span></a></span><span>       </span><span class="annot"><span class="annottext">Bool -&gt; SMTOption
</span><a href="Data.SBV.Control.Types.html#ProduceInterpolants"><span class="hs-identifier hs-var">ProduceInterpolants</span></a></span><span>
</span><span id="line-165"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#ProduceUnsatAssumptions"><span class="hs-identifier hs-type">ProduceUnsatAssumptions</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var">askFor</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;ProduceUnsatAssumptions&quot;</span></span><span>   </span><span class="annot"><span class="hs-string">&quot;:produce-unsat-assumptions&quot;</span></span><span>   </span><span class="annot"><span class="annottext">((SExpr
  -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
 -&gt; m (Maybe SMTOption))
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; SMTOption)
-&gt; SExpr
-&gt; (Maybe [String] -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a.
Monad m =&gt;
(Bool -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139412"><span class="hs-identifier hs-var">bool</span></a></span><span>       </span><span class="annot"><span class="annottext">Bool -&gt; SMTOption
</span><a href="Data.SBV.Control.Types.html#ProduceUnsatAssumptions"><span class="hs-identifier hs-var">ProduceUnsatAssumptions</span></a></span><span>
</span><span id="line-166"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#ProduceUnsatCores"><span class="hs-identifier hs-type">ProduceUnsatCores</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var">askFor</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;ProduceUnsatCores&quot;</span></span><span>         </span><span class="annot"><span class="hs-string">&quot;:produce-unsat-cores&quot;</span></span><span>         </span><span class="annot"><span class="annottext">((SExpr
  -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
 -&gt; m (Maybe SMTOption))
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; SMTOption)
-&gt; SExpr
-&gt; (Maybe [String] -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a.
Monad m =&gt;
(Bool -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139412"><span class="hs-identifier hs-var">bool</span></a></span><span>       </span><span class="annot"><span class="annottext">Bool -&gt; SMTOption
</span><a href="Data.SBV.Control.Types.html#ProduceUnsatCores"><span class="hs-identifier hs-var">ProduceUnsatCores</span></a></span><span>
</span><span id="line-167"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#RandomSeed"><span class="hs-identifier hs-type">RandomSeed</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var">askFor</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;RandomSeed&quot;</span></span><span>                </span><span class="annot"><span class="hs-string">&quot;:random-seed&quot;</span></span><span>                 </span><span class="annot"><span class="annottext">((SExpr
  -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
 -&gt; m (Maybe SMTOption))
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; SMTOption)
-&gt; SExpr
-&gt; (Maybe [String] -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a.
Monad m =&gt;
(Integer -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139405"><span class="hs-identifier hs-var">integer</span></a></span><span>    </span><span class="annot"><span class="annottext">Integer -&gt; SMTOption
</span><a href="Data.SBV.Control.Types.html#RandomSeed"><span class="hs-identifier hs-var">RandomSeed</span></a></span><span>
</span><span id="line-168"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#ReproducibleResourceLimit"><span class="hs-identifier hs-type">ReproducibleResourceLimit</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var">askFor</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;ReproducibleResourceLimit&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:reproducible-resource-limit&quot;</span></span><span> </span><span class="annot"><span class="annottext">((SExpr
  -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
 -&gt; m (Maybe SMTOption))
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; SMTOption)
-&gt; SExpr
-&gt; (Maybe [String] -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a.
Monad m =&gt;
(Integer -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139405"><span class="hs-identifier hs-var">integer</span></a></span><span>    </span><span class="annot"><span class="annottext">Integer -&gt; SMTOption
</span><a href="Data.SBV.Control.Types.html#ReproducibleResourceLimit"><span class="hs-identifier hs-var">ReproducibleResourceLimit</span></a></span><span>
</span><span id="line-169"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#SMTVerbosity"><span class="hs-identifier hs-type">SMTVerbosity</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var">askFor</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;SMTVerbosity&quot;</span></span><span>              </span><span class="annot"><span class="hs-string">&quot;:verbosity&quot;</span></span><span>                   </span><span class="annot"><span class="annottext">((SExpr
  -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
 -&gt; m (Maybe SMTOption))
-&gt; (SExpr
    -&gt; (Maybe [String] -&gt; m (Maybe SMTOption)) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; SMTOption)
-&gt; SExpr
-&gt; (Maybe [String] -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a.
Monad m =&gt;
(Integer -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139405"><span class="hs-identifier hs-var">integer</span></a></span><span>    </span><span class="annot"><span class="annottext">Integer -&gt; SMTOption
</span><a href="Data.SBV.Control.Types.html#SMTVerbosity"><span class="hs-identifier hs-var">SMTVerbosity</span></a></span><span>
</span><span id="line-170"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#OptionKeyword"><span class="hs-identifier hs-type">OptionKeyword</span></a></span><span> </span><span id="local-6989586621681139401"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681139401"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m Any) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var">askFor</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;OptionKeyword&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139401"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span>     </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139401"><span class="hs-identifier hs-var">nm</span></a></span><span>                             </span><span class="annot"><span class="annottext">((SExpr -&gt; (Maybe [String] -&gt; m Any) -&gt; m (Maybe SMTOption))
 -&gt; m (Maybe SMTOption))
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m Any) -&gt; m (Maybe SMTOption))
-&gt; m (Maybe SMTOption)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; SMTOption)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m Any) -&gt; m (Maybe SMTOption)
forall (m :: * -&gt; *) a p.
Monad m =&gt;
([String] -&gt; a) -&gt; SExpr -&gt; p -&gt; m (Maybe a)
</span><a href="#local-6989586621681139400"><span class="hs-identifier hs-var">stringList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; SMTOption
</span><a href="Data.SBV.Control.Types.html#OptionKeyword"><span class="hs-identifier hs-var">OptionKeyword</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139401"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#SetLogic"><span class="hs-identifier hs-type">SetLogic</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m (Maybe SMTOption)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.Query: SMTLib does not allow querying value of the logic!&quot;</span></span><span>
</span><span id="line-172"></span><span>                 </span><span class="hs-comment">-- Not to be confused by getInfo, which is totally irrelevant!</span><span>
</span><span id="line-173"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#SetInfo"><span class="hs-identifier hs-type">SetInfo</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m (Maybe SMTOption)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.Query: SMTLib does not allow querying value of meta-info!&quot;</span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139415"><span class="annot"><span class="annottext">askFor :: String
-&gt; String
-&gt; (SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a))
-&gt; m (Maybe a)
</span><a href="#local-6989586621681139415"><span class="hs-identifier hs-var hs-var">askFor</span></a></span></span><span> </span><span id="local-6989586621681139396"><span class="annot"><span class="annottext">sbvName :: String
</span><a href="#local-6989586621681139396"><span class="hs-identifier hs-var">sbvName</span></a></span></span><span> </span><span id="local-6989586621681139395"><span class="annot"><span class="annottext">smtLibName :: String
</span><a href="#local-6989586621681139395"><span class="hs-identifier hs-var">smtLibName</span></a></span></span><span> </span><span id="local-6989586621681139394"><span class="annot"><span class="annottext">continue :: SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139394"><span class="hs-identifier hs-var">continue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-176"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139393"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681139393"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-option &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139395"><span class="hs-identifier hs-var">smtLibName</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-177"></span><span>                    </span><span id="local-6989586621681139392"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139392"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;getOption &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139396"><span class="hs-identifier hs-var">sbvName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139393"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a valid option value&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span>                </span><span id="local-6989586621681139391"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139391"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139393"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span>                </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m (Maybe a))
-&gt; (SExpr -&gt; m (Maybe a))
-&gt; m (Maybe a)
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139391"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m (Maybe a)
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139392"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m (Maybe a)) -&gt; m (Maybe a))
-&gt; (SExpr -&gt; m (Maybe a)) -&gt; m (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;unsupported&quot;</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-182"></span><span>                                    </span><span id="local-6989586621681139390"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681139390"><span class="hs-identifier hs-var">e</span></a></span></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; (Maybe [String] -&gt; m a) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139394"><span class="hs-identifier hs-var">continue</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139390"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m a
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139392"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139391"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span>        </span><span id="local-6989586621681139414"><span class="annot"><span class="annottext">string :: (String -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139414"><span class="hs-identifier hs-var hs-var">string</span></a></span></span><span> </span><span id="local-6989586621681139389"><span class="annot"><span class="annottext">c :: String -&gt; a
</span><a href="#local-6989586621681139389"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681139388"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139388"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; m (Maybe a)) -&gt; Maybe a -&gt; m (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; a
</span><a href="#local-6989586621681139389"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139388"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-185"></span><span>        </span><span class="annot"><a href="#local-6989586621681139414"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681139387"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681139387"><span class="hs-identifier hs-var">e</span></a></span></span><span>        </span><span id="local-6989586621681139386"><span class="annot"><span class="annottext">k :: Maybe [String] -&gt; m (Maybe a)
</span><a href="#local-6989586621681139386"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [String] -&gt; m (Maybe a)
</span><a href="#local-6989586621681139386"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; m (Maybe a)) -&gt; Maybe [String] -&gt; m (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;Expected string, but got: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SExpr -&gt; String
</span><a href="Data.SBV.Control.Query.html#serialize"><span class="hs-identifier hs-var">serialize</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139387"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span>        </span><span id="local-6989586621681139412"><span class="annot"><span class="annottext">bool :: (Bool -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139412"><span class="hs-identifier hs-var hs-var">bool</span></a></span></span><span> </span><span id="local-6989586621681139385"><span class="annot"><span class="annottext">c :: Bool -&gt; a
</span><a href="#local-6989586621681139385"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; m (Maybe a)) -&gt; Maybe a -&gt; m (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; a
</span><a href="#local-6989586621681139385"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-188"></span><span>        </span><span class="annot"><a href="#local-6989586621681139412"><span class="hs-identifier hs-var">bool</span></a></span><span> </span><span id="local-6989586621681139384"><span class="annot"><span class="annottext">c :: Bool -&gt; a
</span><a href="#local-6989586621681139384"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-number">1</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; m (Maybe a)) -&gt; Maybe a -&gt; m (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; a
</span><a href="#local-6989586621681139384"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-189"></span><span>        </span><span class="annot"><a href="#local-6989586621681139412"><span class="hs-identifier hs-var">bool</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681139383"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681139383"><span class="hs-identifier hs-var">e</span></a></span></span><span>             </span><span id="local-6989586621681139382"><span class="annot"><span class="annottext">k :: Maybe [String] -&gt; m (Maybe a)
</span><a href="#local-6989586621681139382"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [String] -&gt; m (Maybe a)
</span><a href="#local-6989586621681139382"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; m (Maybe a)) -&gt; Maybe [String] -&gt; m (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;Expected boolean, but got: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SExpr -&gt; String
</span><a href="Data.SBV.Control.Query.html#serialize"><span class="hs-identifier hs-var">serialize</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139383"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span>        </span><span id="local-6989586621681139405"><span class="annot"><span class="annottext">integer :: (Integer -&gt; a)
-&gt; SExpr -&gt; (Maybe [String] -&gt; m (Maybe a)) -&gt; m (Maybe a)
</span><a href="#local-6989586621681139405"><span class="hs-identifier hs-var hs-var">integer</span></a></span></span><span> </span><span id="local-6989586621681139381"><span class="annot"><span class="annottext">c :: Integer -&gt; a
</span><a href="#local-6989586621681139381"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139380"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681139380"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; m (Maybe a)) -&gt; Maybe a -&gt; m (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; a
</span><a href="#local-6989586621681139381"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681139380"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-192"></span><span>        </span><span class="annot"><a href="#local-6989586621681139405"><span class="hs-identifier hs-var">integer</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681139379"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681139379"><span class="hs-identifier hs-var">e</span></a></span></span><span>             </span><span id="local-6989586621681139378"><span class="annot"><span class="annottext">k :: Maybe [String] -&gt; m (Maybe a)
</span><a href="#local-6989586621681139378"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [String] -&gt; m (Maybe a)
</span><a href="#local-6989586621681139378"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; m (Maybe a)) -&gt; Maybe [String] -&gt; m (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;Expected integer, but got: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; SExpr -&gt; String
</span><a href="Data.SBV.Control.Query.html#serialize"><span class="hs-identifier hs-var">serialize</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139379"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-193"></span><span>
</span><span id="line-194"></span><span>        </span><span class="hs-comment">-- free format, really</span><span>
</span><span id="line-195"></span><span>        </span><span id="local-6989586621681139400"><span class="annot"><span class="annottext">stringList :: ([String] -&gt; a) -&gt; SExpr -&gt; p -&gt; m (Maybe a)
</span><a href="#local-6989586621681139400"><span class="hs-identifier hs-var hs-var">stringList</span></a></span></span><span> </span><span id="local-6989586621681139377"><span class="annot"><span class="annottext">c :: [String] -&gt; a
</span><a href="#local-6989586621681139377"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681139376"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681139376"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; m (Maybe a)) -&gt; Maybe a -&gt; m (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; a
</span><a href="#local-6989586621681139377"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; a) -&gt; [String] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; [String]
</span><a href="Data.SBV.Control.Query.html#stringsOf"><span class="hs-identifier hs-var">stringsOf</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139376"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getUnknownReason'</span><span>
</span><span id="line-198"></span><span id="local-6989586621681139755"><span class="annot"><a href="Data.SBV.Control.Query.html#getUnknownReason"><span class="hs-identifier hs-type">getUnknownReason</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139755"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139755"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139755"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#SMTReasonUnknown"><span class="hs-identifier hs-type">SMTReasonUnknown</span></a></span></span><span>
</span><span id="line-199"></span><span id="getUnknownReason"><span class="annot"><span class="annottext">getUnknownReason :: m SMTReasonUnknown
</span><a href="Data.SBV.Control.Query.html#getUnknownReason"><span class="hs-identifier hs-var hs-var">getUnknownReason</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139375"><span class="annot"><span class="annottext">SMTInfoResponse
</span><a href="#local-6989586621681139375"><span class="hs-identifier hs-var">ru</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTInfoFlag -&gt; m SMTInfoResponse
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
SMTInfoFlag -&gt; m SMTInfoResponse
</span><a href="Data.SBV.Control.Query.html#getInfo"><span class="hs-identifier hs-var">getInfo</span></a></span><span> </span><span class="annot"><span class="annottext">SMTInfoFlag
</span><a href="Data.SBV.Control.Types.html#ReasonUnknown"><span class="hs-identifier hs-var">ReasonUnknown</span></a></span><span>
</span><span id="line-200"></span><span>                      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse
</span><a href="#local-6989586621681139375"><span class="hs-identifier hs-var">ru</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-201"></span><span>                        </span><span class="annot"><a href="Data.SBV.Control.Types.html#Resp_Unsupported"><span class="hs-identifier hs-type">Resp_Unsupported</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTReasonUnknown -&gt; m SMTReasonUnknown
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SMTReasonUnknown -&gt; m SMTReasonUnknown)
-&gt; SMTReasonUnknown -&gt; m SMTReasonUnknown
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SMTReasonUnknown
</span><a href="Data.SBV.Control.Types.html#UnknownOther"><span class="hs-identifier hs-var">UnknownOther</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Solver responded: Unsupported.&quot;</span></span><span>
</span><span id="line-202"></span><span>                        </span><span class="annot"><a href="Data.SBV.Control.Types.html#Resp_ReasonUnknown"><span class="hs-identifier hs-type">Resp_ReasonUnknown</span></a></span><span> </span><span id="local-6989586621681139373"><span class="annot"><span class="annottext">r :: SMTReasonUnknown
</span><a href="#local-6989586621681139373"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTReasonUnknown -&gt; m SMTReasonUnknown
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SMTReasonUnknown
</span><a href="#local-6989586621681139373"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-203"></span><span>                        </span><span class="hs-comment">-- Shouldn't happen, but just in case:</span><span>
</span><span id="line-204"></span><span>                        </span><span class="hs-identifier">_</span><span>                    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m SMTReasonUnknown
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m SMTReasonUnknown) -&gt; String -&gt; m SMTReasonUnknown
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unexpected reason value received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SMTInfoResponse
</span><a href="#local-6989586621681139375"><span class="hs-identifier hs-var">ru</span></a></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.ensureSat'</span><span>
</span><span id="line-207"></span><span id="local-6989586621681139372"><span class="annot"><a href="Data.SBV.Control.Query.html#ensureSat"><span class="hs-identifier hs-type">ensureSat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139372"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139372"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139372"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-208"></span><span id="ensureSat"><span class="annot"><span class="annottext">ensureSat :: m ()
</span><a href="Data.SBV.Control.Query.html#ensureSat"><span class="hs-identifier hs-var hs-var">ensureSat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139371"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139371"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-209"></span><span>               </span><span id="local-6989586621681139369"><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139369"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m CheckSatResult
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m CheckSatResult
</span><a href="Data.SBV.Control.Utils.html#checkSatUsing"><span class="hs-identifier hs-var">checkSatUsing</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m CheckSatResult) -&gt; String -&gt; m CheckSatResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; String
</span><a href="Data.SBV.Core.Symbolic.html#satCmd"><span class="hs-identifier hs-var hs-var">satCmd</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139371"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-210"></span><span>               </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139369"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-211"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#Sat"><span class="hs-identifier hs-type">Sat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unk"><span class="hs-identifier hs-type">Unk</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139365"><span class="annot"><span class="annottext">SMTReasonUnknown
</span><a href="#local-6989586621681139365"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTReasonUnknown
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m SMTReasonUnknown
</span><a href="Data.SBV.Control.Query.html#getUnknownReason"><span class="hs-identifier hs-var">getUnknownReason</span></a></span><span>
</span><span id="line-213"></span><span>                           </span><span class="annot"><span class="annottext">String -&gt; m ()
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-214"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV.ensureSat: Solver reported Unknown!&quot;</span></span><span>
</span><span id="line-215"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Reason: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SMTReasonUnknown -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SMTReasonUnknown
</span><a href="#local-6989586621681139365"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-216"></span><span>                                           </span><span class="hs-special">]</span><span>
</span><span id="line-217"></span><span>                 </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unsat"><span class="hs-identifier hs-type">Unsat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ()
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.ensureSat: Solver reported Unsat!&quot;</span></span><span>
</span><span id="line-218"></span><span>
</span><span id="line-219"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getSMTResult'</span><span>
</span><span id="line-220"></span><span id="local-6989586621681139362"><span class="annot"><a href="Data.SBV.Control.Query.html#getSMTResult"><span class="hs-identifier hs-type">getSMTResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139362"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139362"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139362"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTResult"><span class="hs-identifier hs-type">SMTResult</span></a></span></span><span>
</span><span id="line-221"></span><span id="getSMTResult"><span class="annot"><span class="annottext">getSMTResult :: m SMTResult
</span><a href="Data.SBV.Control.Query.html#getSMTResult"><span class="hs-identifier hs-var hs-var">getSMTResult</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139361"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139361"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-222"></span><span>                  </span><span id="local-6989586621681139360"><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139360"><span class="hs-identifier hs-var">cs</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m CheckSatResult
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m CheckSatResult
</span><a href="Data.SBV.Control.Utils.html#checkSat"><span class="hs-identifier hs-var">checkSat</span></a></span><span>
</span><span id="line-223"></span><span>                  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139360"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-224"></span><span>                    </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unsat"><span class="hs-identifier hs-type">Unsat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; Maybe [String] -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Unsatisfiable"><span class="hs-identifier hs-var">Unsatisfiable</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139361"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; SMTResult) -&gt; m (Maybe [String]) -&gt; m SMTResult
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m (Maybe [String])
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m (Maybe [String])
</span><a href="Data.SBV.Control.Query.html#getUnsatCoreIfRequested"><span class="hs-identifier hs-var">getUnsatCoreIfRequested</span></a></span><span>
</span><span id="line-225"></span><span>                    </span><span class="annot"><a href="Data.SBV.Control.Types.html#Sat"><span class="hs-identifier hs-type">Sat</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTModel -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Satisfiable"><span class="hs-identifier hs-var">Satisfiable</span></a></span><span>   </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139361"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(SMTModel -&gt; SMTResult) -&gt; m SMTModel -&gt; m SMTResult
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m SMTModel
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTModel
</span><a href="Data.SBV.Control.Query.html#getModel"><span class="hs-identifier hs-var">getModel</span></a></span><span>
</span><span id="line-226"></span><span>                    </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unk"><span class="hs-identifier hs-type">Unk</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTReasonUnknown -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span><span>       </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139361"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(SMTReasonUnknown -&gt; SMTResult)
-&gt; m SMTReasonUnknown -&gt; m SMTResult
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m SMTReasonUnknown
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m SMTReasonUnknown
</span><a href="Data.SBV.Control.Query.html#getUnknownReason"><span class="hs-identifier hs-var">getUnknownReason</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="hs-comment">-- | Classify a model based on whether it has unbound objectives or not.</span><span>
</span><span id="line-229"></span><span class="annot"><a href="Data.SBV.Control.Query.html#classifyModel"><span class="hs-identifier hs-type">classifyModel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTConfig"><span class="hs-identifier hs-type">SMTConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTModel"><span class="hs-identifier hs-type">SMTModel</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTResult"><span class="hs-identifier hs-type">SMTResult</span></a></span><span>
</span><span id="line-230"></span><span id="classifyModel"><span class="annot"><span class="annottext">classifyModel :: SMTConfig -&gt; SMTModel -&gt; SMTResult
</span><a href="Data.SBV.Control.Query.html#classifyModel"><span class="hs-identifier hs-var hs-var">classifyModel</span></a></span></span><span> </span><span id="local-6989586621681139353"><span class="annot"><span class="annottext">cfg :: SMTConfig
</span><a href="#local-6989586621681139353"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621681139352"><span class="annot"><span class="annottext">m :: SMTModel
</span><a href="#local-6989586621681139352"><span class="hs-identifier hs-var">m</span></a></span></span><span>
</span><span id="line-231"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">((String, GeneralizedCV) -&gt; Bool)
-&gt; [(String, GeneralizedCV)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">(String, GeneralizedCV) -&gt; Bool
forall a. (a, GeneralizedCV) -&gt; Bool
</span><a href="#local-6989586621681139350"><span class="hs-identifier hs-var">isExt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTModel -&gt; [(String, GeneralizedCV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelObjectives"><span class="hs-identifier hs-var hs-var">modelObjectives</span></a></span><span> </span><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681139352"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTModel -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#SatExtField"><span class="hs-identifier hs-var">SatExtField</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139353"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681139352"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTModel -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Satisfiable"><span class="hs-identifier hs-var">Satisfiable</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139353"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681139352"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139350"><span class="annot"><span class="annottext">isExt :: (a, GeneralizedCV) -&gt; Bool
</span><a href="#local-6989586621681139350"><span class="hs-identifier hs-var hs-var">isExt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139347"><span class="annot"><span class="annottext">v :: GeneralizedCV
</span><a href="#local-6989586621681139347"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GeneralizedCV -&gt; Bool
</span><a href="Data.SBV.Core.Concrete.html#isRegularCV"><span class="hs-identifier hs-var">isRegularCV</span></a></span><span> </span><span class="annot"><span class="annottext">GeneralizedCV
</span><a href="#local-6989586621681139347"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-234"></span><span>
</span><span id="line-235"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getLexicographicOptResults'</span><span>
</span><span id="line-236"></span><span id="local-6989586621681139344"><span class="annot"><a href="Data.SBV.Control.Query.html#getLexicographicOptResults"><span class="hs-identifier hs-type">getLexicographicOptResults</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139344"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139344"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139344"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTResult"><span class="hs-identifier hs-type">SMTResult</span></a></span></span><span>
</span><span id="line-237"></span><span id="getLexicographicOptResults"><span class="annot"><span class="annottext">getLexicographicOptResults :: m SMTResult
</span><a href="Data.SBV.Control.Query.html#getLexicographicOptResults"><span class="hs-identifier hs-var hs-var">getLexicographicOptResults</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139343"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139343"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-238"></span><span>                                </span><span id="local-6989586621681139342"><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139342"><span class="hs-identifier hs-var">cs</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m CheckSatResult
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m CheckSatResult
</span><a href="Data.SBV.Control.Utils.html#checkSat"><span class="hs-identifier hs-var">checkSat</span></a></span><span>
</span><span id="line-239"></span><span>                                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139342"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-240"></span><span>                                  </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unsat"><span class="hs-identifier hs-type">Unsat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; Maybe [String] -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Unsatisfiable"><span class="hs-identifier hs-var">Unsatisfiable</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139343"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; SMTResult) -&gt; m (Maybe [String]) -&gt; m SMTResult
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m (Maybe [String])
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m (Maybe [String])
</span><a href="Data.SBV.Control.Query.html#getUnsatCoreIfRequested"><span class="hs-identifier hs-var">getUnsatCoreIfRequested</span></a></span><span>
</span><span id="line-241"></span><span>                                  </span><span class="annot"><a href="Data.SBV.Control.Types.html#Sat"><span class="hs-identifier hs-type">Sat</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTModel -&gt; SMTResult
</span><a href="Data.SBV.Control.Query.html#classifyModel"><span class="hs-identifier hs-var">classifyModel</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139343"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(SMTModel -&gt; SMTResult) -&gt; m SMTModel -&gt; m SMTResult
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m SMTModel
</span><a href="#local-6989586621681139341"><span class="hs-identifier hs-var">getModelWithObjectives</span></a></span><span>
</span><span id="line-242"></span><span>                                  </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unk"><span class="hs-identifier hs-type">Unk</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTReasonUnknown -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span><span>       </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139343"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(SMTReasonUnknown -&gt; SMTResult)
-&gt; m SMTReasonUnknown -&gt; m SMTResult
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m SMTReasonUnknown
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m SMTReasonUnknown
</span><a href="Data.SBV.Control.Query.html#getUnknownReason"><span class="hs-identifier hs-var">getUnknownReason</span></a></span><span>
</span><span id="line-243"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139341"><span class="annot"><span class="annottext">getModelWithObjectives :: m SMTModel
</span><a href="#local-6989586621681139341"><span class="hs-identifier hs-var hs-var">getModelWithObjectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139340"><span class="annot"><span class="annottext">[(String, GeneralizedCV)]
</span><a href="#local-6989586621681139340"><span class="hs-identifier hs-var">objectiveValues</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m [(String, GeneralizedCV)]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m [(String, GeneralizedCV)]
</span><a href="Data.SBV.Control.Query.html#getObjectiveValues"><span class="hs-identifier hs-var">getObjectiveValues</span></a></span><span>
</span><span id="line-244"></span><span>                                     </span><span id="local-6989586621681139338"><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681139338"><span class="hs-identifier hs-var">m</span></a></span></span><span>               </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTModel
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTModel
</span><a href="Data.SBV.Control.Query.html#getModel"><span class="hs-identifier hs-var">getModel</span></a></span><span>
</span><span id="line-245"></span><span>                                     </span><span class="annot"><span class="annottext">SMTModel -&gt; m SMTModel
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681139338"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">modelObjectives :: [(String, GeneralizedCV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelObjectives"><span class="hs-identifier hs-var">modelObjectives</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, GeneralizedCV)]
</span><a href="#local-6989586621681139340"><span class="hs-identifier hs-var">objectiveValues</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getIndependentOptResults'</span><span>
</span><span id="line-248"></span><span class="annot"><a href="Data.SBV.Control.Query.html#getIndependentOptResults"><span class="hs-identifier hs-type">getIndependentOptResults</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681139337"><span class="annot"><a href="#local-6989586621681139337"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139337"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139337"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139337"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTResult"><span class="hs-identifier hs-type">SMTResult</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-249"></span><span id="getIndependentOptResults"><span class="annot"><span class="annottext">getIndependentOptResults :: [String] -&gt; m [(String, SMTResult)]
</span><a href="Data.SBV.Control.Query.html#getIndependentOptResults"><span class="hs-identifier hs-var hs-var">getIndependentOptResults</span></a></span></span><span> </span><span id="local-6989586621681139336"><span class="annot"><span class="annottext">objNames :: [String]
</span><a href="#local-6989586621681139336"><span class="hs-identifier hs-var">objNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139335"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139335"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-250"></span><span>                                       </span><span id="local-6989586621681139334"><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139334"><span class="hs-identifier hs-var">cs</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m CheckSatResult
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m CheckSatResult
</span><a href="Data.SBV.Control.Utils.html#checkSat"><span class="hs-identifier hs-var">checkSat</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span>                                       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139334"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-253"></span><span>                                         </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unsat"><span class="hs-identifier hs-type">Unsat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (Maybe [String])
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m (Maybe [String])
</span><a href="Data.SBV.Control.Query.html#getUnsatCoreIfRequested"><span class="hs-identifier hs-var">getUnsatCoreIfRequested</span></a></span><span> </span><span class="annot"><span class="annottext">m (Maybe [String])
-&gt; (Maybe [String] -&gt; m [(String, SMTResult)])
-&gt; m [(String, SMTResult)]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139333"><span class="annot"><span class="annottext">mbUC :: Maybe [String]
</span><a href="#local-6989586621681139333"><span class="hs-identifier hs-var">mbUC</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(String, SMTResult)] -&gt; m [(String, SMTResult)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139332"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; Maybe [String] -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Unsatisfiable"><span class="hs-identifier hs-var">Unsatisfiable</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139335"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
</span><a href="#local-6989586621681139333"><span class="hs-identifier hs-var">mbUC</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681139332"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139332"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139336"><span class="hs-identifier hs-var">objNames</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-254"></span><span>                                         </span><span class="annot"><a href="Data.SBV.Control.Types.html#Sat"><span class="hs-identifier hs-type">Sat</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SMTModel -&gt; SMTResult) -&gt; m [(String, SMTResult)]
forall b. (SMTModel -&gt; b) -&gt; m [(String, b)]
</span><a href="#local-6989586621681139331"><span class="hs-identifier hs-var">continue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTModel -&gt; SMTResult
</span><a href="Data.SBV.Control.Query.html#classifyModel"><span class="hs-identifier hs-var">classifyModel</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139335"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>                                         </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unk"><span class="hs-identifier hs-type">Unk</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139330"><span class="annot"><span class="annottext">SMTResult
</span><a href="#local-6989586621681139330"><span class="hs-identifier hs-var">ur</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTReasonUnknown -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139335"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(SMTReasonUnknown -&gt; SMTResult)
-&gt; m SMTReasonUnknown -&gt; m SMTResult
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m SMTReasonUnknown
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m SMTReasonUnknown
</span><a href="Data.SBV.Control.Query.html#getUnknownReason"><span class="hs-identifier hs-var">getUnknownReason</span></a></span><span>
</span><span id="line-256"></span><span>                                                     </span><span class="annot"><span class="annottext">[(String, SMTResult)] -&gt; m [(String, SMTResult)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139329"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SMTResult
</span><a href="#local-6989586621681139330"><span class="hs-identifier hs-var">ur</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681139329"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139329"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139336"><span class="hs-identifier hs-var">objNames</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139331"><span class="annot"><span class="annottext">continue :: (SMTModel -&gt; b) -&gt; m [(String, b)]
</span><a href="#local-6989586621681139331"><span class="hs-identifier hs-var hs-var">continue</span></a></span></span><span> </span><span id="local-6989586621681139328"><span class="annot"><span class="annottext">classify :: SMTModel -&gt; b
</span><a href="#local-6989586621681139328"><span class="hs-identifier hs-var">classify</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139327"><span class="annot"><span class="annottext">[(String, GeneralizedCV)]
</span><a href="#local-6989586621681139327"><span class="hs-identifier hs-var">objectiveValues</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m [(String, GeneralizedCV)]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m [(String, GeneralizedCV)]
</span><a href="Data.SBV.Control.Query.html#getObjectiveValues"><span class="hs-identifier hs-var">getObjectiveValues</span></a></span><span>
</span><span id="line-259"></span><span>                               </span><span id="local-6989586621681139326"><span class="annot"><span class="annottext">[(String, SMTModel)]
</span><a href="#local-6989586621681139326"><span class="hs-identifier hs-var">nms</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; String -&gt; m (String, SMTModel))
-&gt; [Int] -&gt; [String] -&gt; m [(String, SMTModel)]
forall (m :: * -&gt; *) a b c.
Applicative m =&gt;
(a -&gt; b -&gt; m c) -&gt; [a] -&gt; [b] -&gt; m [c]
</span><span class="hs-identifier hs-var">zipWithM</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; m (String, SMTModel)
</span><a href="#local-6989586621681139325"><span class="hs-identifier hs-var">getIndependentResult</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139336"><span class="hs-identifier hs-var">objNames</span></a></span><span>
</span><span id="line-260"></span><span>                               </span><span class="annot"><span class="annottext">[(String, b)] -&gt; m [(String, b)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139324"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SMTModel -&gt; b
</span><a href="#local-6989586621681139328"><span class="hs-identifier hs-var">classify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681139323"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">modelObjectives :: [(String, GeneralizedCV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelObjectives"><span class="hs-identifier hs-var">modelObjectives</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, GeneralizedCV)]
</span><a href="#local-6989586621681139327"><span class="hs-identifier hs-var">objectiveValues</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139324"><span class="annot"><span class="annottext">n :: String
</span><a href="#local-6989586621681139324"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139323"><span class="annot"><span class="annottext">m :: SMTModel
</span><a href="#local-6989586621681139323"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, SMTModel)]
</span><a href="#local-6989586621681139326"><span class="hs-identifier hs-var">nms</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span>        </span><span class="annot"><a href="#local-6989586621681139325"><span class="hs-identifier hs-type">getIndependentResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139337"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTModel"><span class="hs-identifier hs-type">SMTModel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>        </span><span id="local-6989586621681139325"><span class="annot"><span class="annottext">getIndependentResult :: Int -&gt; String -&gt; m (String, SMTModel)
</span><a href="#local-6989586621681139325"><span class="hs-identifier hs-var hs-var">getIndependentResult</span></a></span></span><span> </span><span id="local-6989586621681139322"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681139322"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681139321"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139321"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139320"><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681139320"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; m SMTModel
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Int -&gt; m SMTModel
</span><a href="Data.SBV.Control.Query.html#getModelAtIndex"><span class="hs-identifier hs-var">getModelAtIndex</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139322"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>                                      </span><span class="annot"><span class="annottext">(String, SMTModel) -&gt; m (String, SMTModel)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139321"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681139320"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getParetoOptResults'</span><span>
</span><span id="line-267"></span><span id="local-6989586621681139318"><span class="annot"><a href="Data.SBV.Control.Query.html#getParetoOptResults"><span class="hs-identifier hs-type">getParetoOptResults</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139318"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139318"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139318"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTResult"><span class="hs-identifier hs-type">SMTResult</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-268"></span><span id="getParetoOptResults"><span class="annot"><span class="annottext">getParetoOptResults :: Maybe Int -&gt; m (Bool, [SMTResult])
</span><a href="Data.SBV.Control.Query.html#getParetoOptResults"><span class="hs-identifier hs-var hs-var">getParetoOptResults</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681139317"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681139317"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139317"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bool, [SMTResult]) -&gt; m (Bool, [SMTResult])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span class="annot"><a href="Data.SBV.Control.Query.html#getParetoOptResults"><span class="hs-identifier hs-var">getParetoOptResults</span></a></span><span> </span><span id="local-6989586621681139315"><span class="annot"><span class="annottext">mbN :: Maybe Int
</span><a href="#local-6989586621681139315"><span class="hs-identifier hs-var">mbN</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139314"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139314"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-271"></span><span>                                  </span><span id="local-6989586621681139313"><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139313"><span class="hs-identifier hs-var">cs</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m CheckSatResult
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m CheckSatResult
</span><a href="Data.SBV.Control.Utils.html#checkSat"><span class="hs-identifier hs-var">checkSat</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span>                                  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139313"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-274"></span><span>                                    </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unsat"><span class="hs-identifier hs-type">Unsat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Bool, [SMTResult]) -&gt; m (Bool, [SMTResult])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>                                    </span><span class="annot"><a href="Data.SBV.Control.Types.html#Sat"><span class="hs-identifier hs-type">Sat</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SMTModel -&gt; SMTResult) -&gt; m (Bool, [SMTResult])
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
(SMTModel -&gt; a) -&gt; m (Bool, [a])
</span><a href="#local-6989586621681139312"><span class="hs-identifier hs-var">continue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTModel -&gt; SMTResult
</span><a href="Data.SBV.Control.Query.html#classifyModel"><span class="hs-identifier hs-var">classifyModel</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139314"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>                                    </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unk"><span class="hs-identifier hs-type">Unk</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139311"><span class="annot"><span class="annottext">SMTReasonUnknown
</span><a href="#local-6989586621681139311"><span class="hs-identifier hs-var">ur</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTReasonUnknown
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m SMTReasonUnknown
</span><a href="Data.SBV.Control.Query.html#getUnknownReason"><span class="hs-identifier hs-var">getUnknownReason</span></a></span><span>
</span><span id="line-277"></span><span>                                                </span><span class="annot"><span class="annottext">(Bool, [SMTResult]) -&gt; m (Bool, [SMTResult])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SMTConfig -&gt; [String] -&gt; Maybe SMTResult -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#ProofError"><span class="hs-identifier hs-var">ProofError</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139314"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SMTReasonUnknown -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SMTReasonUnknown
</span><a href="#local-6989586621681139311"><span class="hs-identifier hs-var">ur</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Maybe SMTResult
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139312"><span class="annot"><span class="annottext">continue :: (SMTModel -&gt; a) -&gt; m (Bool, [a])
</span><a href="#local-6989586621681139312"><span class="hs-identifier hs-var hs-var">continue</span></a></span></span><span> </span><span id="local-6989586621681139309"><span class="annot"><span class="annottext">classify :: SMTModel -&gt; a
</span><a href="#local-6989586621681139309"><span class="hs-identifier hs-var">classify</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139308"><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681139308"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTModel
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTModel
</span><a href="Data.SBV.Control.Query.html#getModel"><span class="hs-identifier hs-var">getModel</span></a></span><span>
</span><span id="line-280"></span><span>                               </span><span class="hs-special">(</span><span id="local-6989586621681139307"><span class="annot"><span class="annottext">limReached :: Bool
</span><a href="#local-6989586621681139307"><span class="hs-identifier hs-var">limReached</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139306"><span class="annot"><span class="annottext">fronts :: [SMTModel]
</span><a href="#local-6989586621681139306"><span class="hs-identifier hs-var">fronts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; [SMTModel] -&gt; m (Bool, [SMTModel])
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Int -&gt; [SMTModel] -&gt; m (Bool, [SMTModel])
</span><a href="#local-6989586621681139305"><span class="hs-identifier hs-var">getParetoFronts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">subtract</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; Maybe Int -&gt; Maybe Int
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621681139315"><span class="hs-identifier hs-var">mbN</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681139308"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-281"></span><span>                               </span><span class="annot"><span class="annottext">(Bool, [a]) -&gt; m (Bool, [a])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681139307"><span class="hs-identifier hs-var">limReached</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SMTModel -&gt; a) -&gt; [SMTModel] -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">SMTModel -&gt; a
</span><a href="#local-6989586621681139309"><span class="hs-identifier hs-var">classify</span></a></span><span> </span><span class="annot"><span class="annottext">[SMTModel]
</span><a href="#local-6989586621681139306"><span class="hs-identifier hs-var">fronts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span>        </span><span id="local-6989586621681139727"><span class="annot"><a href="#local-6989586621681139305"><span class="hs-identifier hs-type">getParetoFronts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139727"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139727"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTModel"><span class="hs-identifier hs-type">SMTModel</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139727"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTModel"><span class="hs-identifier hs-type">SMTModel</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-284"></span><span>        </span><span id="local-6989586621681139305"><span class="annot"><span class="annottext">getParetoFronts :: Maybe Int -&gt; [SMTModel] -&gt; m (Bool, [SMTModel])
</span><a href="#local-6989586621681139305"><span class="hs-identifier hs-var hs-var">getParetoFronts</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681139302"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681139302"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681139301"><span class="annot"><span class="annottext">sofar :: [SMTModel]
</span><a href="#local-6989586621681139301"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139302"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Bool, [SMTModel]) -&gt; m (Bool, [SMTModel])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SMTModel]
</span><a href="#local-6989586621681139301"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>        </span><span class="annot"><a href="#local-6989586621681139305"><span class="hs-identifier hs-var">getParetoFronts</span></a></span><span> </span><span id="local-6989586621681139300"><span class="annot"><span class="annottext">mbi :: Maybe Int
</span><a href="#local-6989586621681139300"><span class="hs-identifier hs-var">mbi</span></a></span></span><span>      </span><span id="local-6989586621681139299"><span class="annot"><span class="annottext">sofar :: [SMTModel]
</span><a href="#local-6989586621681139299"><span class="hs-identifier hs-var">sofar</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139298"><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139298"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m CheckSatResult
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m CheckSatResult
</span><a href="Data.SBV.Control.Utils.html#checkSat"><span class="hs-identifier hs-var">checkSat</span></a></span><span>
</span><span id="line-286"></span><span>                                                     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139297"><span class="annot"><span class="annottext">more :: m (Bool, [SMTModel])
</span><a href="#local-6989586621681139297"><span class="hs-identifier hs-var hs-var">more</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m SMTModel
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTModel
</span><a href="Data.SBV.Control.Query.html#getModel"><span class="hs-identifier hs-var">getModel</span></a></span><span> </span><span class="annot"><span class="annottext">m SMTModel
-&gt; (SMTModel -&gt; m (Bool, [SMTModel])) -&gt; m (Bool, [SMTModel])
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139296"><span class="annot"><span class="annottext">m :: SMTModel
</span><a href="#local-6989586621681139296"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; [SMTModel] -&gt; m (Bool, [SMTModel])
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Int -&gt; [SMTModel] -&gt; m (Bool, [SMTModel])
</span><a href="#local-6989586621681139305"><span class="hs-identifier hs-var">getParetoFronts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">subtract</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int) -&gt; Maybe Int -&gt; Maybe Int
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621681139300"><span class="hs-identifier hs-var">mbi</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681139296"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">SMTModel -&gt; [SMTModel] -&gt; [SMTModel]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[SMTModel]
</span><a href="#local-6989586621681139299"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>                                                     </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139298"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-288"></span><span>                                                       </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unsat"><span class="hs-identifier hs-type">Unsat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Bool, [SMTModel]) -&gt; m (Bool, [SMTModel])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SMTModel]
</span><a href="#local-6989586621681139299"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>                                                       </span><span class="annot"><a href="Data.SBV.Control.Types.html#Sat"><span class="hs-identifier hs-type">Sat</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (Bool, [SMTModel])
</span><a href="#local-6989586621681139297"><span class="hs-identifier hs-var">more</span></a></span><span>
</span><span id="line-290"></span><span>                                                       </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unk"><span class="hs-identifier hs-type">Unk</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (Bool, [SMTModel])
</span><a href="#local-6989586621681139297"><span class="hs-identifier hs-var">more</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getModel'</span><span>
</span><span id="line-293"></span><span id="local-6989586621681139746"><span class="annot"><a href="Data.SBV.Control.Query.html#getModel"><span class="hs-identifier hs-type">getModel</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139746"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139746"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139746"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTModel"><span class="hs-identifier hs-type">SMTModel</span></a></span></span><span>
</span><span id="line-294"></span><span id="getModel"><span class="annot"><span class="annottext">getModel :: m SMTModel
</span><a href="Data.SBV.Control.Query.html#getModel"><span class="hs-identifier hs-var hs-var">getModel</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; m SMTModel
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Int -&gt; m SMTModel
</span><a href="Data.SBV.Control.Query.html#getModelAtIndex"><span class="hs-identifier hs-var">getModelAtIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span class="hs-comment">-- | Get a model stored at an index. This is likely very Z3 specific!</span><span>
</span><span id="line-297"></span><span id="local-6989586621681139731"><span class="annot"><a href="Data.SBV.Control.Query.html#getModelAtIndex"><span class="hs-identifier hs-type">getModelAtIndex</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139731"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139731"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139731"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTModel"><span class="hs-identifier hs-type">SMTModel</span></a></span></span><span>
</span><span id="line-298"></span><span id="getModelAtIndex"><span class="annot"><span class="annottext">getModelAtIndex :: Maybe Int -&gt; m SMTModel
</span><a href="Data.SBV.Control.Query.html#getModelAtIndex"><span class="hs-identifier hs-var hs-var">getModelAtIndex</span></a></span></span><span> </span><span id="local-6989586621681139295"><span class="annot"><span class="annottext">mbi :: Maybe Int
</span><a href="#local-6989586621681139295"><span class="hs-identifier hs-var">mbi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-299"></span><span>    </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span class="hs-special">{</span><span id="local-6989586621681139293"><span class="annot"><span class="annottext">IORef SBVRunMode
runMode :: State -&gt; IORef SBVRunMode
runMode :: IORef SBVRunMode
</span><a href="Data.SBV.Core.Symbolic.html#runMode"><span class="hs-identifier hs-var hs-var">runMode</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-300"></span><span>    </span><span id="local-6989586621681139290"><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681139290"><span class="hs-identifier hs-var">rm</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO SBVRunMode -&gt; m SBVRunMode
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO SBVRunMode -&gt; m SBVRunMode) -&gt; IO SBVRunMode -&gt; m SBVRunMode
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef SBVRunMode -&gt; IO SBVRunMode
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef SBVRunMode
</span><a href="#local-6989586621681139293"><span class="hs-identifier hs-var">runMode</span></a></span><span>
</span><span id="line-301"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681139290"><span class="hs-identifier hs-var">rm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-302"></span><span>      </span><span id="local-6989586621681139289"><span class="annot"><span class="annottext">m :: SBVRunMode
</span><a href="#local-6989586621681139289"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="Data.SBV.Core.Symbolic.html#CodeGen"><span class="hs-identifier hs-var">CodeGen</span></a></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m SMTModel
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m SMTModel) -&gt; String -&gt; m SMTModel
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.getModel: Model is not available in mode: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SBVRunMode -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681139289"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-303"></span><span>      </span><span id="local-6989586621681139287"><span class="annot"><span class="annottext">m :: SBVRunMode
</span><a href="#local-6989586621681139287"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Concrete"><span class="hs-identifier hs-type">Concrete</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m SMTModel
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m SMTModel) -&gt; String -&gt; m SMTModel
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.getModel: Model is not available in mode: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SBVRunMode -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681139287"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-304"></span><span>      </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTMode"><span class="hs-identifier hs-type">SMTMode</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681139284"><span class="annot"><span class="annottext">isSAT :: Bool
</span><a href="#local-6989586621681139284"><span class="hs-identifier hs-var">isSAT</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-305"></span><span>          </span><span id="local-6989586621681139283"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139283"><span class="hs-identifier hs-var">cfg</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-306"></span><span>          </span><span id="local-6989586621681139282"><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681139282"><span class="hs-identifier hs-var">qinps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m [(Quantifier, NamedSymVar)]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m [(Quantifier, NamedSymVar)]
</span><a href="Data.SBV.Control.Utils.html#getQuantifiedInputs"><span class="hs-identifier hs-var">getQuantifiedInputs</span></a></span><span>
</span><span id="line-307"></span><span>          </span><span id="local-6989586621681139280"><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681139280"><span class="hs-identifier hs-var">uis</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m [(String, SBVType)]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m [(String, SBVType)]
</span><a href="Data.SBV.Control.Utils.html#getUIs"><span class="hs-identifier hs-var">getUIs</span></a></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span>           </span><span class="hs-comment">-- for &quot;sat&quot;, display the prefix existentials. for &quot;proof&quot;, display the prefix universals</span><span>
</span><span id="line-310"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139278"><span class="annot"><span class="annottext">allModelInputs :: [(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681139278"><span class="hs-identifier hs-var hs-var">allModelInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681139284"><span class="hs-identifier hs-var">isSAT</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar) -&gt; Bool)
-&gt; [(Quantifier, NamedSymVar)] -&gt; [(Quantifier, NamedSymVar)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">takeWhile</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantifier -&gt; Quantifier -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-var">ALL</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Quantifier -&gt; Bool)
-&gt; ((Quantifier, NamedSymVar) -&gt; Quantifier)
-&gt; (Quantifier, NamedSymVar)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar) -&gt; Quantifier
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681139282"><span class="hs-identifier hs-var">qinps</span></a></span><span>
</span><span id="line-311"></span><span>                                        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar) -&gt; Bool)
-&gt; [(Quantifier, NamedSymVar)] -&gt; [(Quantifier, NamedSymVar)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">takeWhile</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantifier -&gt; Quantifier -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-var">ALL</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Quantifier -&gt; Bool)
-&gt; ((Quantifier, NamedSymVar) -&gt; Quantifier)
-&gt; (Quantifier, NamedSymVar)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar) -&gt; Quantifier
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681139282"><span class="hs-identifier hs-var">qinps</span></a></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span>              </span><span class="hs-comment">-- Add on observables only if we're not in a quantified context</span><span>
</span><span id="line-314"></span><span>              </span><span id="local-6989586621681139273"><span class="annot"><span class="annottext">grabObservables :: Bool
</span><a href="#local-6989586621681139273"><span class="hs-identifier hs-var hs-var">grabObservables</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681139278"><span class="hs-identifier hs-var">allModelInputs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681139282"><span class="hs-identifier hs-var">qinps</span></a></span><span> </span><span class="hs-comment">-- i.e., we didn't drop anything</span><span>
</span><span id="line-315"></span><span>
</span><span id="line-316"></span><span>          </span><span id="local-6989586621681139271"><span class="annot"><span class="annottext">[(String, CV)]
</span><a href="#local-6989586621681139271"><span class="hs-identifier hs-var">obsvs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681139273"><span class="hs-identifier hs-var">grabObservables</span></a></span><span>
</span><span id="line-317"></span><span>                      </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">m [(String, CV)]
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m [(String, CV)]
</span><a href="Data.SBV.Control.Utils.html#getObservables"><span class="hs-identifier hs-var">getObservables</span></a></span><span>
</span><span id="line-318"></span><span>                      </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;*** In a quantified context, obvservables will not be printed.&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-319"></span><span>                              </span><span class="annot"><span class="annottext">[(String, CV)] -&gt; m [(String, CV)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621681139269"><span class="hs-identifier hs-type">sortByNodeId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-322"></span><span>              </span><span id="local-6989586621681139269"><span class="annot"><span class="annottext">sortByNodeId :: [(SV, (String, CV))] -&gt; [(String, CV)]
</span><a href="#local-6989586621681139269"><span class="hs-identifier hs-var hs-var">sortByNodeId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((SV, (String, CV)) -&gt; (String, CV))
-&gt; [(SV, (String, CV))] -&gt; [(String, CV)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(SV, (String, CV)) -&gt; (String, CV)
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">([(SV, (String, CV))] -&gt; [(String, CV)])
-&gt; ([(SV, (String, CV))] -&gt; [(SV, (String, CV))])
-&gt; [(SV, (String, CV))]
-&gt; [(String, CV)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((SV, (String, CV)) -&gt; (SV, (String, CV)) -&gt; Ordering)
-&gt; [(SV, (String, CV))] -&gt; [(SV, (String, CV))]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sortBy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NodeId -&gt; NodeId -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">(NodeId -&gt; NodeId -&gt; Ordering)
-&gt; ((SV, (String, CV)) -&gt; NodeId)
-&gt; (SV, (String, CV))
-&gt; (SV, (String, CV))
-&gt; Ordering
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681139266"><span class="annot"><span class="annottext">nid :: NodeId
</span><a href="#local-6989586621681139266"><span class="hs-identifier hs-var">nid</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NodeId
</span><a href="#local-6989586621681139266"><span class="hs-identifier hs-var">nid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span>              </span><span id="local-6989586621681139265"><span class="annot"><span class="annottext">grab :: (SV, b) -&gt; f (SV, (b, CV))
</span><a href="#local-6989586621681139265"><span class="hs-identifier hs-var hs-var">grab</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139264"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681139264"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139263"><span class="annot"><span class="annottext">nm :: b
</span><a href="#local-6989586621681139263"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CV -&gt; (SV, (b, CV))
forall b. b -&gt; (SV, (b, b))
</span><a href="#local-6989586621681139262"><span class="hs-identifier hs-var">wrap</span></a></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; (SV, (b, CV))) -&gt; f CV -&gt; f (SV, (b, CV))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; SV -&gt; f CV
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Int -&gt; SV -&gt; m CV
</span><a href="Data.SBV.Control.Utils.html#getValueCV"><span class="hs-identifier hs-var">getValueCV</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621681139295"><span class="hs-identifier hs-var">mbi</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139264"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-325"></span><span>                 </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139262"><span class="annot"><span class="annottext">wrap :: b -&gt; (SV, (b, b))
</span><a href="#local-6989586621681139262"><span class="hs-identifier hs-var hs-var">wrap</span></a></span></span><span> </span><span id="local-6989586621681139260"><span class="annot"><span class="annottext">c :: b
</span><a href="#local-6989586621681139260"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139264"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681139263"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681139260"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span>          </span><span id="local-6989586621681139259"><span class="annot"><span class="annottext">[(SV, (String, CV))]
</span><a href="#local-6989586621681139259"><span class="hs-identifier hs-var">inputAssocs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar) -&gt; m (SV, (String, CV)))
-&gt; [(Quantifier, NamedSymVar)] -&gt; m [(SV, (String, CV))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamedSymVar -&gt; m (SV, (String, CV))
forall (f :: * -&gt; *) b.
(MonadIO f, MonadQuery f) =&gt;
(SV, b) -&gt; f (SV, (b, CV))
</span><a href="#local-6989586621681139265"><span class="hs-identifier hs-var">grab</span></a></span><span> </span><span class="annot"><span class="annottext">(NamedSymVar -&gt; m (SV, (String, CV)))
-&gt; ((Quantifier, NamedSymVar) -&gt; NamedSymVar)
-&gt; (Quantifier, NamedSymVar)
-&gt; m (SV, (String, CV))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar) -&gt; NamedSymVar
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681139278"><span class="hs-identifier hs-var">allModelInputs</span></a></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139257"><span class="annot"><span class="annottext">assocs :: [(String, CV)]
</span><a href="#local-6989586621681139257"><span class="hs-identifier hs-var hs-var">assocs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">((String, CV) -&gt; String) -&gt; [(String, CV)] -&gt; [(String, CV)]
forall b a. Ord b =&gt; (a -&gt; b) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sortOn</span></span><span> </span><span class="annot"><span class="annottext">(String, CV) -&gt; String
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(String, CV)]
</span><a href="#local-6989586621681139271"><span class="hs-identifier hs-var">obsvs</span></a></span><span>
</span><span id="line-330"></span><span>                     </span><span class="annot"><span class="annottext">[(String, CV)] -&gt; [(String, CV)] -&gt; [(String, CV)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[(SV, (String, CV))] -&gt; [(String, CV)]
</span><a href="#local-6989586621681139269"><span class="hs-identifier hs-var">sortByNodeId</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(SV, (String, CV))
</span><a href="#local-6989586621681139256"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681139256"><span class="annot"><span class="annottext">p :: (SV, (String, CV))
</span><a href="#local-6989586621681139256"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139255"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681139255"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(SV, (String, CV))]
</span><a href="#local-6989586621681139259"><span class="hs-identifier hs-var">inputAssocs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; String -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#isNonModelVar"><span class="hs-identifier hs-var hs-var">isNonModelVar</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139283"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139255"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-331"></span><span>
</span><span id="line-332"></span><span>          </span><span class="hs-comment">-- collect UIs if requested</span><span>
</span><span id="line-333"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139253"><span class="annot"><span class="annottext">uiFuns :: [(String, SBVType)]
</span><a href="#local-6989586621681139253"><span class="hs-identifier hs-var hs-var">uiFuns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(String, SBVType)
</span><a href="#local-6989586621681139252"><span class="hs-identifier hs-var">ui</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681139252"><span class="annot"><span class="annottext">ui :: (String, SBVType)
</span><a href="#local-6989586621681139252"><span class="hs-identifier hs-var">ui</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-type">SBVType</span></a></span><span> </span><span id="local-6989586621681139250"><span class="annot"><span class="annottext">as :: [Kind]
</span><a href="#local-6989586621681139250"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681139280"><span class="hs-identifier hs-var">uis</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681139250"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#satTrackUFs"><span class="hs-identifier hs-var hs-var">satTrackUFs</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139283"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- functions have at least two things in their type!</span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span>          </span><span class="hs-comment">-- If there are uninterpreted functions, arrange so that z3's pretty-printer flattens things out</span><span>
</span><span id="line-336"></span><span>          </span><span class="hs-comment">-- as cex's tend to get larger</span><span>
</span><span id="line-337"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(String, SBVType)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681139253"><span class="hs-identifier hs-var">uiFuns</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-338"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139246"><span class="annot"><span class="annottext">solverCaps :: SolverCapabilities
</span><a href="#local-6989586621681139246"><span class="hs-identifier hs-var hs-var">solverCaps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTSolver -&gt; SolverCapabilities
</span><a href="Data.SBV.Core.Symbolic.html#capabilities"><span class="hs-identifier hs-var hs-var">capabilities</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTSolver
</span><a href="Data.SBV.Core.Symbolic.html#solver"><span class="hs-identifier hs-var hs-var">solver</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139283"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-339"></span><span>             </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SolverCapabilities -&gt; Maybe [String]
</span><a href="Data.SBV.Core.Symbolic.html#supportsFlattenedModels"><span class="hs-identifier hs-var hs-var">supportsFlattenedModels</span></a></span><span> </span><span class="annot"><span class="annottext">SolverCapabilities
</span><a href="#local-6989586621681139246"><span class="hs-identifier hs-var">solverCaps</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-340"></span><span>                  </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-341"></span><span>                  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681139242"><span class="annot"><span class="annottext">cmds :: [String]
</span><a href="#local-6989586621681139242"><span class="hs-identifier hs-var">cmds</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; [String] -&gt; m ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139242"><span class="hs-identifier hs-var">cmds</span></a></span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span>          </span><span id="local-6989586621681139240"><span class="annot"><span class="annottext">Maybe [((Quantifier, NamedSymVar), Maybe CV)]
</span><a href="#local-6989586621681139240"><span class="hs-identifier hs-var">bindings</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139239"><span class="annot"><span class="annottext">get :: (Quantifier, (SV, b)) -&gt; m ((Quantifier, (SV, b)), Maybe CV)
</span><a href="#local-6989586621681139239"><span class="hs-identifier hs-var hs-var">get</span></a></span></span><span> </span><span id="local-6989586621681139238"><span class="annot"><span class="annottext">i :: (Quantifier, (SV, b))
</span><a href="#local-6989586621681139238"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-type">ALL</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Quantifier, (SV, b)), Maybe CV)
-&gt; m ((Quantifier, (SV, b)), Maybe CV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Quantifier, (SV, b))
</span><a href="#local-6989586621681139238"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>                          </span><span class="annot"><a href="#local-6989586621681139239"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span id="local-6989586621681139237"><span class="annot"><span class="annottext">i :: (Quantifier, (SV, b))
</span><a href="#local-6989586621681139237"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-type">EX</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139235"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681139235"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139235"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; [(SV, (String, CV))] -&gt; Maybe (String, CV)
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-operator hs-var">`lookup`</span></span><span> </span><span class="annot"><span class="annottext">[(SV, (String, CV))]
</span><a href="#local-6989586621681139259"><span class="hs-identifier hs-var">inputAssocs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-345"></span><span>                                                  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139234"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681139234"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((Quantifier, (SV, b)), Maybe CV)
-&gt; m ((Quantifier, (SV, b)), Maybe CV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Quantifier, (SV, b))
</span><a href="#local-6989586621681139237"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681139234"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-346"></span><span>                                                  </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139233"><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681139233"><span class="hs-identifier hs-var">cv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; SV -&gt; m CV
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Int -&gt; SV -&gt; m CV
</span><a href="Data.SBV.Control.Utils.html#getValueCV"><span class="hs-identifier hs-var">getValueCV</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621681139295"><span class="hs-identifier hs-var">mbi</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139235"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-347"></span><span>                                                                     </span><span class="annot"><span class="annottext">((Quantifier, (SV, b)), Maybe CV)
-&gt; m ((Quantifier, (SV, b)), Maybe CV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Quantifier, (SV, b))
</span><a href="#local-6989586621681139237"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681139233"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-348"></span><span>
</span><span id="line-349"></span><span>                          </span><span id="local-6989586621681139232"><span class="annot"><span class="annottext">flipQ :: (Quantifier, b) -&gt; (Quantifier, b)
</span><a href="#local-6989586621681139232"><span class="hs-identifier hs-var hs-var">flipQ</span></a></span></span><span> </span><span id="local-6989586621681139231"><span class="annot"><span class="annottext">i :: (Quantifier, b)
</span><a href="#local-6989586621681139231"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681139230"><span class="annot"><span class="annottext">q :: Quantifier
</span><a href="#local-6989586621681139230"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139229"><span class="annot"><span class="annottext">sv :: b
</span><a href="#local-6989586621681139229"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681139284"><span class="hs-identifier hs-var">isSAT</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Quantifier
</span><a href="#local-6989586621681139230"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-350"></span><span>                                             </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Quantifier, b)
</span><a href="#local-6989586621681139231"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-351"></span><span>                                             </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-type">EX</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-var">ALL</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681139229"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-352"></span><span>                                             </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-type">ALL</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-var">EX</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681139229"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-353"></span><span>
</span><span id="line-354"></span><span>                      </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#validationRequested"><span class="hs-identifier hs-var">validationRequested</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139283"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-355"></span><span>                         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[((Quantifier, NamedSymVar), Maybe CV)]
-&gt; Maybe [((Quantifier, NamedSymVar), Maybe CV)]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([((Quantifier, NamedSymVar), Maybe CV)]
 -&gt; Maybe [((Quantifier, NamedSymVar), Maybe CV)])
-&gt; m [((Quantifier, NamedSymVar), Maybe CV)]
-&gt; m (Maybe [((Quantifier, NamedSymVar), Maybe CV)])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar)
 -&gt; m ((Quantifier, NamedSymVar), Maybe CV))
-&gt; [(Quantifier, NamedSymVar)]
-&gt; m [((Quantifier, NamedSymVar), Maybe CV)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar)
-&gt; m ((Quantifier, NamedSymVar), Maybe CV)
forall (m :: * -&gt; *) b.
(MonadIO m, MonadQuery m) =&gt;
(Quantifier, (SV, b)) -&gt; m ((Quantifier, (SV, b)), Maybe CV)
</span><a href="#local-6989586621681139239"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar)
 -&gt; m ((Quantifier, NamedSymVar), Maybe CV))
-&gt; ((Quantifier, NamedSymVar) -&gt; (Quantifier, NamedSymVar))
-&gt; (Quantifier, NamedSymVar)
-&gt; m ((Quantifier, NamedSymVar), Maybe CV)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar) -&gt; (Quantifier, NamedSymVar)
forall b. (Quantifier, b) -&gt; (Quantifier, b)
</span><a href="#local-6989586621681139232"><span class="hs-identifier hs-var">flipQ</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681139282"><span class="hs-identifier hs-var">qinps</span></a></span><span>
</span><span id="line-356"></span><span>                         </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe [((Quantifier, NamedSymVar), Maybe CV)]
-&gt; m (Maybe [((Quantifier, NamedSymVar), Maybe CV)])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe [((Quantifier, NamedSymVar), Maybe CV)]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-357"></span><span>
</span><span id="line-358"></span><span>          </span><span id="local-6989586621681139228"><span class="annot"><span class="annottext">[(String, (SBVType, ([([CV], CV)], CV)))]
</span><a href="#local-6989586621681139228"><span class="hs-identifier hs-var">uivs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((String, SBVType) -&gt; m (String, (SBVType, ([([CV], CV)], CV))))
-&gt; [(String, SBVType)]
-&gt; m [(String, (SBVType, ([([CV], CV)], CV)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681139227"><span class="annot"><span class="annottext">ui :: (String, SBVType)
</span><a href="#local-6989586621681139227"><span class="hs-identifier hs-var">ui</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681139226"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681139226"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139225"><span class="annot"><span class="annottext">t :: SBVType
</span><a href="#local-6989586621681139225"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681139224"><span class="annot"><span class="annottext">a :: ([([CV], CV)], CV)
</span><a href="#local-6989586621681139224"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139226"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SBVType
</span><a href="#local-6989586621681139225"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">([([CV], CV)], CV)
</span><a href="#local-6989586621681139224"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(([([CV], CV)], CV) -&gt; (String, (SBVType, ([([CV], CV)], CV))))
-&gt; m ([([CV], CV)], CV)
-&gt; m (String, (SBVType, ([([CV], CV)], CV)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; (String, SBVType) -&gt; m ([([CV], CV)], CV)
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Int -&gt; (String, SBVType) -&gt; m ([([CV], CV)], CV)
</span><a href="Data.SBV.Control.Utils.html#getUIFunCVAssoc"><span class="hs-identifier hs-var">getUIFunCVAssoc</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621681139295"><span class="hs-identifier hs-var">mbi</span></a></span><span> </span><span class="annot"><span class="annottext">(String, SBVType)
</span><a href="#local-6989586621681139227"><span class="hs-identifier hs-var">ui</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681139253"><span class="hs-identifier hs-var">uiFuns</span></a></span><span>
</span><span id="line-359"></span><span>
</span><span id="line-360"></span><span>          </span><span class="annot"><span class="annottext">SMTModel -&gt; m SMTModel
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SMTModel :: [(String, GeneralizedCV)]
-&gt; Maybe [((Quantifier, NamedSymVar), Maybe CV)]
-&gt; [(String, CV)]
-&gt; [(String, (SBVType, ([([CV], CV)], CV)))]
-&gt; SMTModel
</span><a href="Data.SBV.Core.Symbolic.html#SMTModel"><span class="hs-identifier hs-type hs-type">SMTModel</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">modelObjectives :: [(String, GeneralizedCV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelObjectives"><span class="hs-identifier hs-var">modelObjectives</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-361"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">modelBindings :: Maybe [((Quantifier, NamedSymVar), Maybe CV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelBindings"><span class="hs-identifier hs-var">modelBindings</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [((Quantifier, NamedSymVar), Maybe CV)]
</span><a href="#local-6989586621681139240"><span class="hs-identifier hs-var">bindings</span></a></span><span>
</span><span id="line-362"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">modelAssocs :: [(String, CV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelAssocs"><span class="hs-identifier hs-var">modelAssocs</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, CV)]
</span><a href="#local-6989586621681139257"><span class="hs-identifier hs-var">assocs</span></a></span><span>
</span><span id="line-363"></span><span>                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">modelUIFuns :: [(String, (SBVType, ([([CV], CV)], CV)))]
</span><a href="Data.SBV.Core.Symbolic.html#modelUIFuns"><span class="hs-identifier hs-var">modelUIFuns</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, (SBVType, ([([CV], CV)], CV)))]
</span><a href="#local-6989586621681139228"><span class="hs-identifier hs-var">uivs</span></a></span><span>
</span><span id="line-364"></span><span>                          </span><span class="hs-special">}</span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span class="hs-comment">-- | Just after a check-sat is issued, collect objective values. Used</span><span>
</span><span id="line-367"></span><span class="hs-comment">-- internally only, not exposed to the user.</span><span>
</span><span id="line-368"></span><span class="annot"><a href="Data.SBV.Control.Query.html#getObjectiveValues"><span class="hs-identifier hs-type">getObjectiveValues</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681139740"><span class="annot"><a href="#local-6989586621681139740"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139740"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139740"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139740"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#GeneralizedCV"><span class="hs-identifier hs-type">GeneralizedCV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-369"></span><span id="getObjectiveValues"><span class="annot"><span class="annottext">getObjectiveValues :: m [(String, GeneralizedCV)]
</span><a href="Data.SBV.Control.Query.html#getObjectiveValues"><span class="hs-identifier hs-var hs-var">getObjectiveValues</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139217"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681139217"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-objectives)&quot;</span></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span>                            </span><span id="local-6989586621681139216"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139216"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getObjectiveValues&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139217"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a list of objective values&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-372"></span><span>
</span><span id="line-373"></span><span>                        </span><span id="local-6989586621681139215"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139215"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139217"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-374"></span><span>
</span><span id="line-375"></span><span>                        </span><span id="local-6989586621681139214"><span class="annot"><span class="annottext">[NamedSymVar]
</span><a href="#local-6989586621681139214"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar) -&gt; NamedSymVar)
-&gt; [(Quantifier, NamedSymVar)] -&gt; [NamedSymVar]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar) -&gt; NamedSymVar
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">([(Quantifier, NamedSymVar)] -&gt; [NamedSymVar])
-&gt; m [(Quantifier, NamedSymVar)] -&gt; m [NamedSymVar]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m [(Quantifier, NamedSymVar)]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m [(Quantifier, NamedSymVar)]
</span><a href="Data.SBV.Control.Utils.html#getQuantifiedInputs"><span class="hs-identifier hs-var">getQuantifiedInputs</span></a></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span>                        </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m [(String, GeneralizedCV)])
-&gt; (SExpr -&gt; m [(String, GeneralizedCV)])
-&gt; m [(String, GeneralizedCV)]
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139215"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m [(String, GeneralizedCV)]
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139216"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m [(String, GeneralizedCV)])
 -&gt; m [(String, GeneralizedCV)])
-&gt; (SExpr -&gt; m [(String, GeneralizedCV)])
-&gt; m [(String, GeneralizedCV)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;objectives&quot;</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681139213"><span class="annot"><span class="annottext">es :: [SExpr]
</span><a href="#local-6989586621681139213"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Maybe (String, GeneralizedCV)] -&gt; [(String, GeneralizedCV)]
forall a. [Maybe a] -&gt; [a]
</span><span class="hs-identifier hs-var">catMaybes</span></span><span> </span><span class="annot"><span class="annottext">([Maybe (String, GeneralizedCV)] -&gt; [(String, GeneralizedCV)])
-&gt; m [Maybe (String, GeneralizedCV)] -&gt; m [(String, GeneralizedCV)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(SExpr -&gt; m (Maybe (String, GeneralizedCV)))
-&gt; [SExpr] -&gt; m [Maybe (String, GeneralizedCV)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall a. Maybe [String] -&gt; m a)
-&gt; [NamedSymVar] -&gt; SExpr -&gt; m (Maybe (String, GeneralizedCV))
</span><a href="#local-6989586621681139212"><span class="hs-identifier hs-var">getObjValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m a
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139216"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139215"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[NamedSymVar]
</span><a href="#local-6989586621681139214"><span class="hs-identifier hs-var">inputs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139213"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-378"></span><span>                                            </span><span class="hs-identifier">_</span><span>                             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m [(String, GeneralizedCV)]
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139216"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139215"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-comment">-- | Parse an objective value out.</span><span>
</span><span id="line-381"></span><span>        </span><span class="annot"><a href="#local-6989586621681139212"><span class="hs-identifier hs-type">getObjValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681139664"><span class="annot"><a href="#local-6989586621681139664"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139740"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139664"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NamedSymVar"><span class="hs-identifier hs-type">NamedSymVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139740"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#GeneralizedCV"><span class="hs-identifier hs-type">GeneralizedCV</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>        </span><span id="local-6989586621681139212"><span class="annot"><span class="annottext">getObjValue :: (forall a. Maybe [String] -&gt; m a)
-&gt; [NamedSymVar] -&gt; SExpr -&gt; m (Maybe (String, GeneralizedCV))
</span><a href="#local-6989586621681139212"><span class="hs-identifier hs-var hs-var">getObjValue</span></a></span></span><span> </span><span id="local-6989586621681139211"><span class="annot"><span class="annottext">bailOut :: forall a. Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139211"><span class="hs-identifier hs-var">bailOut</span></a></span></span><span> </span><span id="local-6989586621681139210"><span class="annot"><span class="annottext">inputs :: [NamedSymVar]
</span><a href="#local-6989586621681139210"><span class="hs-identifier hs-var">inputs</span></a></span></span><span> </span><span id="local-6989586621681139209"><span class="annot"><span class="annottext">expr :: SExpr
</span><a href="#local-6989586621681139209"><span class="hs-identifier hs-var">expr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-383"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139209"><span class="hs-identifier hs-var">expr</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-384"></span><span>                  </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-identifier">_</span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (String, GeneralizedCV) -&gt; m (Maybe (String, GeneralizedCV))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe (String, GeneralizedCV)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>            </span><span class="hs-comment">-- Happens when a soft-assertion has no associated group.</span><span>
</span><span id="line-385"></span><span>                  </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681139208"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681139208"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139207"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681139207"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SExpr -&gt; m (Maybe (String, GeneralizedCV))
</span><a href="#local-6989586621681139206"><span class="hs-identifier hs-var">locate</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139208"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139207"><span class="hs-identifier hs-var">v</span></a></span><span>               </span><span class="hs-comment">-- Regular case</span><span>
</span><span id="line-386"></span><span>                  </span><span class="hs-identifier">_</span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m (Maybe (String, GeneralizedCV))
forall a. String -&gt; m a
</span><a href="#local-6989586621681139205"><span class="hs-identifier hs-var">dontUnderstand</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139209"><span class="hs-identifier hs-var">expr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139206"><span class="annot"><span class="annottext">locate :: String -&gt; SExpr -&gt; m (Maybe (String, GeneralizedCV))
</span><a href="#local-6989586621681139206"><span class="hs-identifier hs-var hs-var">locate</span></a></span></span><span> </span><span id="local-6989586621681139204"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681139204"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621681139203"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681139203"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[NamedSymVar] -&gt; Maybe NamedSymVar
forall a. [a] -&gt; Maybe a
</span><span class="hs-identifier hs-var">listToMaybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">NamedSymVar
</span><a href="#local-6989586621681139202"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681139202"><span class="annot"><span class="annottext">p :: NamedSymVar
</span><a href="#local-6989586621681139202"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681139201"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681139201"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NamedSymVar]
</span><a href="#local-6989586621681139210"><span class="hs-identifier hs-var">inputs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139201"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139204"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-389"></span><span>                                </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (String, GeneralizedCV) -&gt; m (Maybe (String, GeneralizedCV))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe (String, GeneralizedCV)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-comment">-- Happens when the soft assertion has a group-id that's not one of the input names</span><span>
</span><span id="line-390"></span><span>                                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139200"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681139200"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139199"><span class="annot"><span class="annottext">actualName :: String
</span><a href="#local-6989586621681139199"><span class="hs-identifier hs-var">actualName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SV -&gt; SExpr -&gt; m GeneralizedCV
</span><a href="#local-6989586621681139198"><span class="hs-identifier hs-var">grab</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139200"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139203"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">m GeneralizedCV
-&gt; (GeneralizedCV -&gt; m (Maybe (String, GeneralizedCV)))
-&gt; m (Maybe (String, GeneralizedCV))
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139197"><span class="annot"><span class="annottext">val :: GeneralizedCV
</span><a href="#local-6989586621681139197"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (String, GeneralizedCV) -&gt; m (Maybe (String, GeneralizedCV))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (String, GeneralizedCV)
 -&gt; m (Maybe (String, GeneralizedCV)))
-&gt; Maybe (String, GeneralizedCV)
-&gt; m (Maybe (String, GeneralizedCV))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(String, GeneralizedCV) -&gt; Maybe (String, GeneralizedCV)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139199"><span class="hs-identifier hs-var">actualName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">GeneralizedCV
</span><a href="#local-6989586621681139197"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span>                </span><span id="local-6989586621681139205"><span class="annot"><span class="annottext">dontUnderstand :: String -&gt; m a
</span><a href="#local-6989586621681139205"><span class="hs-identifier hs-var hs-var">dontUnderstand</span></a></span></span><span> </span><span id="local-6989586621681139196"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139196"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [String] -&gt; m a
forall a. Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139211"><span class="hs-identifier hs-var">bailOut</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; m a) -&gt; Maybe [String] -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Unable to understand solver output.&quot;</span></span><span>
</span><span id="line-393"></span><span>                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;While trying to process: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139196"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-394"></span><span>                                                  </span><span class="hs-special">]</span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span>                </span><span class="annot"><a href="#local-6989586621681139198"><span class="hs-identifier hs-type">grab</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139740"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#GeneralizedCV"><span class="hs-identifier hs-type">GeneralizedCV</span></a></span><span>
</span><span id="line-397"></span><span>                </span><span id="local-6989586621681139198"><span class="annot"><span class="annottext">grab :: SV -&gt; SExpr -&gt; m GeneralizedCV
</span><a href="#local-6989586621681139198"><span class="hs-identifier hs-var hs-var">grab</span></a></span></span><span> </span><span id="local-6989586621681139195"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681139195"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681139194"><span class="annot"><span class="annottext">topExpr :: SExpr
</span><a href="#local-6989586621681139194"><span class="hs-identifier hs-var">topExpr</span></a></span></span><span>
</span><span id="line-398"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681139193"><span class="annot"><span class="annottext">v :: CV
</span><a href="#local-6989586621681139193"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var">recoverKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681139191"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139194"><span class="hs-identifier hs-var">topExpr</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GeneralizedCV -&gt; m GeneralizedCV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(GeneralizedCV -&gt; m GeneralizedCV)
-&gt; GeneralizedCV -&gt; m GeneralizedCV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; GeneralizedCV
</span><a href="Data.SBV.Core.Concrete.html#RegularCV"><span class="hs-identifier hs-var">RegularCV</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681139193"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-399"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExtCV -&gt; GeneralizedCV
</span><a href="Data.SBV.Core.Concrete.html#ExtendedCV"><span class="hs-identifier hs-var">ExtendedCV</span></a></span><span> </span><span class="annot"><span class="annottext">(ExtCV -&gt; GeneralizedCV) -&gt; m ExtCV -&gt; m GeneralizedCV
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; m ExtCV
</span><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SExpr -&gt; SExpr
</span><a href="#local-6989586621681139187"><span class="hs-identifier hs-var">simplify</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139194"><span class="hs-identifier hs-var">topExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-400"></span><span>                  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139191"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681139191"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139195"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span>                        </span><span class="hs-comment">-- Convert to an extended expression. Hopefully complete!</span><span>
</span><span id="line-403"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139188"><span class="hs-identifier hs-type">cvt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139740"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#ExtCV"><span class="hs-identifier hs-type">ExtCV</span></a></span><span>
</span><span id="line-404"></span><span>                        </span><span id="local-6989586621681139188"><span class="annot"><span class="annottext">cvt :: SExpr -&gt; m ExtCV
</span><a href="#local-6989586621681139188"><span class="hs-identifier hs-var hs-var">cvt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;oo&quot;</span><span class="hs-special">)</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExtCV -&gt; m ExtCV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(ExtCV -&gt; m ExtCV) -&gt; ExtCV -&gt; m ExtCV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; ExtCV
</span><a href="Data.SBV.Core.Concrete.html#Infinite"><span class="hs-identifier hs-var">Infinite</span></a></span><span>  </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681139191"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-405"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;epsilon&quot;</span><span class="hs-special">)</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExtCV -&gt; m ExtCV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(ExtCV -&gt; m ExtCV) -&gt; ExtCV -&gt; m ExtCV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; ExtCV
</span><a href="Data.SBV.Core.Concrete.html#Epsilon"><span class="hs-identifier hs-var">Epsilon</span></a></span><span>   </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681139191"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-406"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;interval&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139183"><span class="annot"><span class="annottext">x :: SExpr
</span><a href="#local-6989586621681139183"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139182"><span class="annot"><span class="annottext">y :: SExpr
</span><a href="#local-6989586621681139182"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>          </span><span class="annot"><span class="annottext">ExtCV -&gt; ExtCV -&gt; ExtCV
</span><a href="Data.SBV.Core.Concrete.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span><span>  </span><span class="annot"><span class="annottext">(ExtCV -&gt; ExtCV -&gt; ExtCV) -&gt; m ExtCV -&gt; m (ExtCV -&gt; ExtCV)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; m ExtCV
</span><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139183"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m (ExtCV -&gt; ExtCV) -&gt; m ExtCV -&gt; m ExtCV
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; m ExtCV
</span><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139182"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-407"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681139180"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681139180"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExtCV -&gt; m ExtCV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(ExtCV -&gt; m ExtCV) -&gt; ExtCV -&gt; m ExtCV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; ExtCV
</span><a href="Data.SBV.Core.Concrete.html#BoundedCV"><span class="hs-identifier hs-var">BoundedCV</span></a></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; ExtCV) -&gt; CV -&gt; ExtCV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; CV
forall a. Integral a =&gt; Kind -&gt; a -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mkConstCV"><span class="hs-identifier hs-var">mkConstCV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681139191"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681139180"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-408"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EReal"><span class="hs-identifier hs-type">EReal</span></a></span><span>   </span><span id="local-6989586621681139177"><span class="annot"><span class="annottext">r :: AlgReal
</span><a href="#local-6989586621681139177"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExtCV -&gt; m ExtCV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(ExtCV -&gt; m ExtCV) -&gt; ExtCV -&gt; m ExtCV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; ExtCV
</span><a href="Data.SBV.Core.Concrete.html#BoundedCV"><span class="hs-identifier hs-var">BoundedCV</span></a></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; ExtCV) -&gt; CV -&gt; ExtCV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681139191"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; CVal -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-var">CAlgReal</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681139177"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-409"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EFloat"><span class="hs-identifier hs-type">EFloat</span></a></span><span>  </span><span id="local-6989586621681139174"><span class="annot"><span class="annottext">f :: Float
</span><a href="#local-6989586621681139174"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExtCV -&gt; m ExtCV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(ExtCV -&gt; m ExtCV) -&gt; ExtCV -&gt; m ExtCV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; ExtCV
</span><a href="Data.SBV.Core.Concrete.html#BoundedCV"><span class="hs-identifier hs-var">BoundedCV</span></a></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; ExtCV) -&gt; CV -&gt; ExtCV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681139191"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; CVal -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CFloat"><span class="hs-identifier hs-var">CFloat</span></a></span><span>   </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681139174"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-410"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EDouble"><span class="hs-identifier hs-type">EDouble</span></a></span><span> </span><span id="local-6989586621681139172"><span class="annot"><span class="annottext">d :: Double
</span><a href="#local-6989586621681139172"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExtCV -&gt; m ExtCV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(ExtCV -&gt; m ExtCV) -&gt; ExtCV -&gt; m ExtCV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; ExtCV
</span><a href="Data.SBV.Core.Concrete.html#BoundedCV"><span class="hs-identifier hs-var">BoundedCV</span></a></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; ExtCV) -&gt; CV -&gt; ExtCV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681139191"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; CVal -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CDouble"><span class="hs-identifier hs-var">CDouble</span></a></span><span>  </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681139172"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-411"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;+&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139170"><span class="annot"><span class="annottext">x :: SExpr
</span><a href="#local-6989586621681139170"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139169"><span class="annot"><span class="annottext">y :: SExpr
</span><a href="#local-6989586621681139169"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span>          </span><span class="annot"><span class="annottext">ExtCV -&gt; ExtCV -&gt; ExtCV
</span><a href="Data.SBV.Core.Concrete.html#AddExtCV"><span class="hs-identifier hs-var">AddExtCV</span></a></span><span> </span><span class="annot"><span class="annottext">(ExtCV -&gt; ExtCV -&gt; ExtCV) -&gt; m ExtCV -&gt; m (ExtCV -&gt; ExtCV)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; m ExtCV
</span><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139170"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m (ExtCV -&gt; ExtCV) -&gt; m ExtCV -&gt; m ExtCV
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; m ExtCV
</span><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139169"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-412"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;*&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139167"><span class="annot"><span class="annottext">x :: SExpr
</span><a href="#local-6989586621681139167"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139166"><span class="annot"><span class="annottext">y :: SExpr
</span><a href="#local-6989586621681139166"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span>          </span><span class="annot"><span class="annottext">ExtCV -&gt; ExtCV -&gt; ExtCV
</span><a href="Data.SBV.Core.Concrete.html#MulExtCV"><span class="hs-identifier hs-var">MulExtCV</span></a></span><span> </span><span class="annot"><span class="annottext">(ExtCV -&gt; ExtCV -&gt; ExtCV) -&gt; m ExtCV -&gt; m (ExtCV -&gt; ExtCV)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; m ExtCV
</span><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139167"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">m (ExtCV -&gt; ExtCV) -&gt; m ExtCV -&gt; m ExtCV
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; m ExtCV
</span><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139166"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-413"></span><span>                        </span><span class="hs-comment">-- Nothing else should show up, hopefully!</span><span>
</span><span id="line-414"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139188"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span id="local-6989586621681139164"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681139164"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ExtCV
forall a. String -&gt; m a
</span><a href="#local-6989586621681139205"><span class="hs-identifier hs-var">dontUnderstand</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139164"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>
</span><span id="line-416"></span><span>                        </span><span class="hs-comment">-- drop the pesky to_real's that Z3 produces.. Cool but useless.</span><span>
</span><span id="line-417"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139187"><span class="hs-identifier hs-type">simplify</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span>
</span><span id="line-418"></span><span>                        </span><span id="local-6989586621681139187"><span class="annot"><span class="annottext">simplify :: SExpr -&gt; SExpr
</span><a href="#local-6989586621681139187"><span class="hs-identifier hs-var hs-var">simplify</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;to_real&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139163"><span class="annot"><span class="annottext">n :: SExpr
</span><a href="#local-6989586621681139163"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139163"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-419"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139187"><span class="hs-identifier hs-var">simplify</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span id="local-6989586621681139162"><span class="annot"><span class="annottext">xs :: [SExpr]
</span><a href="#local-6989586621681139162"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SExpr] -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-var">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SExpr -&gt; SExpr) -&gt; [SExpr] -&gt; [SExpr]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; SExpr
</span><a href="#local-6989586621681139187"><span class="hs-identifier hs-var">simplify</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139162"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-420"></span><span>                        </span><span class="annot"><a href="#local-6989586621681139187"><span class="hs-identifier hs-var">simplify</span></a></span><span> </span><span id="local-6989586621681139161"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681139161"><span class="hs-identifier hs-var">e</span></a></span></span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139161"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.checkSatAssuming'</span><span>
</span><span id="line-423"></span><span id="local-6989586621681139610"><span class="annot"><a href="Data.SBV.Control.Query.html#checkSatAssuming"><span class="hs-identifier hs-type">checkSatAssuming</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139610"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139610"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBool"><span class="hs-identifier hs-type">SBool</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139610"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#CheckSatResult"><span class="hs-identifier hs-type">CheckSatResult</span></a></span></span><span>
</span><span id="line-424"></span><span id="checkSatAssuming"><span class="annot"><span class="annottext">checkSatAssuming :: [SBool] -&gt; m CheckSatResult
</span><a href="Data.SBV.Control.Query.html#checkSatAssuming"><span class="hs-identifier hs-var hs-var">checkSatAssuming</span></a></span></span><span> </span><span id="local-6989586621681139160"><span class="annot"><span class="annottext">sBools :: [SBool]
</span><a href="#local-6989586621681139160"><span class="hs-identifier hs-var">sBools</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CheckSatResult, Maybe [SBool]) -&gt; CheckSatResult
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((CheckSatResult, Maybe [SBool]) -&gt; CheckSatResult)
-&gt; m (CheckSatResult, Maybe [SBool]) -&gt; m CheckSatResult
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [SBool] -&gt; m (CheckSatResult, Maybe [SBool])
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; [SBool] -&gt; m (CheckSatResult, Maybe [SBool])
</span><a href="Data.SBV.Control.Query.html#checkSatAssumingHelper"><span class="hs-identifier hs-var">checkSatAssumingHelper</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">[SBool]
</span><a href="#local-6989586621681139160"><span class="hs-identifier hs-var">sBools</span></a></span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.checkSatAssumingWithUnsatisfiableSet'</span><span>
</span><span id="line-427"></span><span id="local-6989586621681139158"><span class="annot"><a href="Data.SBV.Control.Query.html#checkSatAssumingWithUnsatisfiableSet"><span class="hs-identifier hs-type">checkSatAssumingWithUnsatisfiableSet</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139158"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139158"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBool"><span class="hs-identifier hs-type">SBool</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139158"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Types.html#CheckSatResult"><span class="hs-identifier hs-type">CheckSatResult</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBool"><span class="hs-identifier hs-type">SBool</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-428"></span><span id="checkSatAssumingWithUnsatisfiableSet"><span class="annot"><span class="annottext">checkSatAssumingWithUnsatisfiableSet :: [SBool] -&gt; m (CheckSatResult, Maybe [SBool])
</span><a href="Data.SBV.Control.Query.html#checkSatAssumingWithUnsatisfiableSet"><span class="hs-identifier hs-var hs-var">checkSatAssumingWithUnsatisfiableSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [SBool] -&gt; m (CheckSatResult, Maybe [SBool])
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; [SBool] -&gt; m (CheckSatResult, Maybe [SBool])
</span><a href="Data.SBV.Control.Query.html#checkSatAssumingHelper"><span class="hs-identifier hs-var">checkSatAssumingHelper</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="hs-comment">-- | Helper for the two variants of checkSatAssuming we have. Internal only.</span><span>
</span><span id="line-431"></span><span id="local-6989586621681139650"><span class="annot"><a href="Data.SBV.Control.Query.html#checkSatAssumingHelper"><span class="hs-identifier hs-type">checkSatAssumingHelper</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139650"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139650"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBool"><span class="hs-identifier hs-type">SBool</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139650"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Types.html#CheckSatResult"><span class="hs-identifier hs-type">CheckSatResult</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBool"><span class="hs-identifier hs-type">SBool</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-432"></span><span id="checkSatAssumingHelper"><span class="annot"><span class="annottext">checkSatAssumingHelper :: Bool -&gt; [SBool] -&gt; m (CheckSatResult, Maybe [SBool])
</span><a href="Data.SBV.Control.Query.html#checkSatAssumingHelper"><span class="hs-identifier hs-var hs-var">checkSatAssumingHelper</span></a></span></span><span> </span><span id="local-6989586621681139157"><span class="annot"><span class="annottext">getAssumptions :: Bool
</span><a href="#local-6989586621681139157"><span class="hs-identifier hs-var">getAssumptions</span></a></span></span><span> </span><span id="local-6989586621681139156"><span class="annot"><span class="annottext">sBools :: [SBool]
</span><a href="#local-6989586621681139156"><span class="hs-identifier hs-var">sBools</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-433"></span><span>        </span><span class="hs-comment">-- sigh.. SMT-Lib requires the values to be literals only. So, create proxies.</span><span>
</span><span id="line-434"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139155"><span class="annot"><span class="annottext">mkAssumption :: State -&gt; IO [(String, [String], (String, SBool))]
</span><a href="#local-6989586621681139155"><span class="hs-identifier hs-var hs-var">mkAssumption</span></a></span></span><span> </span><span id="local-6989586621681139154"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681139154"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139153"><span class="annot"><span class="annottext">[(SV, SBool)]
</span><a href="#local-6989586621681139153"><span class="hs-identifier hs-var">swsOriginal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SBool -&gt; IO (SV, SBool)) -&gt; [SBool] -&gt; IO [(SV, SBool)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681139152"><span class="annot"><span class="annottext">sb :: SBool
</span><a href="#local-6989586621681139152"><span class="hs-identifier hs-var">sb</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139151"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139151"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SBool -&gt; IO SV
forall a. State -&gt; SBV a -&gt; IO SV
</span><a href="Data.SBV.Core.Data.html#sbvToSV"><span class="hs-identifier hs-var">sbvToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681139154"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SBool
</span><a href="#local-6989586621681139152"><span class="hs-identifier hs-var">sb</span></a></span><span>
</span><span id="line-435"></span><span>                                                                </span><span class="annot"><span class="annottext">(SV, SBool) -&gt; IO (SV, SBool)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139151"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SBool
</span><a href="#local-6989586621681139152"><span class="hs-identifier hs-var">sb</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SBool]
</span><a href="#local-6989586621681139156"><span class="hs-identifier hs-var">sBools</span></a></span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span>                                 </span><span class="hs-comment">-- drop duplicates and trues</span><span>
</span><span id="line-438"></span><span>                                 </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139149"><span class="annot"><span class="annottext">swbs :: [(SV, SBool)]
</span><a href="#local-6989586621681139149"><span class="hs-identifier hs-var hs-var">swbs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(SV, SBool)
</span><a href="#local-6989586621681139148"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681139148"><span class="annot"><span class="annottext">p :: (SV, SBool)
</span><a href="#local-6989586621681139148"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681139147"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681139147"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((SV, SBool) -&gt; (SV, SBool) -&gt; Bool)
-&gt; [(SV, SBool)] -&gt; [(SV, SBool)]
forall a. (a -&gt; a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nubBy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">(SV -&gt; SV -&gt; Bool)
-&gt; ((SV, SBool) -&gt; SV) -&gt; (SV, SBool) -&gt; (SV, SBool) -&gt; Bool
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">(SV, SBool) -&gt; SV
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(SV, SBool)]
</span><a href="#local-6989586621681139153"><span class="hs-identifier hs-var">swsOriginal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139147"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span>                                 </span><span class="hs-comment">-- get a unique proxy name for each</span><span>
</span><span id="line-441"></span><span>                                 </span><span id="local-6989586621681139145"><span class="annot"><span class="annottext">[(SV, (Int, SBool))]
</span><a href="#local-6989586621681139145"><span class="hs-identifier hs-var">uniqueSWBs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((SV, SBool) -&gt; IO (SV, (Int, SBool)))
-&gt; [(SV, SBool)] -&gt; IO [(SV, (Int, SBool))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621681139144"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681139144"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139143"><span class="annot"><span class="annottext">sb :: SBool
</span><a href="#local-6989586621681139143"><span class="hs-identifier hs-var">sb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139142"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139142"><span class="hs-identifier hs-var">unique</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; IO Int
</span><a href="Data.SBV.Core.Symbolic.html#incrementInternalCounter"><span class="hs-identifier hs-var">incrementInternalCounter</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681139154"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-442"></span><span>                                                                     </span><span class="annot"><span class="annottext">(SV, (Int, SBool)) -&gt; IO (SV, (Int, SBool))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139144"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139142"><span class="hs-identifier hs-var">unique</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SBool
</span><a href="#local-6989586621681139143"><span class="hs-identifier hs-var">sb</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(SV, SBool)]
</span><a href="#local-6989586621681139149"><span class="hs-identifier hs-var">swbs</span></a></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span>                                 </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139141"><span class="annot"><span class="annottext">translate :: (a, (a, b)) -&gt; (String, [String], (String, b))
</span><a href="#local-6989586621681139141"><span class="hs-identifier hs-var hs-var">translate</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139140"><span class="annot"><span class="annottext">sv :: a
</span><a href="#local-6989586621681139140"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139139"><span class="annot"><span class="annottext">unique :: a
</span><a href="#local-6989586621681139139"><span class="hs-identifier hs-var">unique</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139138"><span class="annot"><span class="annottext">sb :: b
</span><a href="#local-6989586621681139138"><span class="hs-identifier hs-var">sb</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139137"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139136"><span class="hs-identifier hs-var">decls</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139135"><span class="hs-identifier hs-var">proxy</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681139138"><span class="hs-identifier hs-var">sb</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>                                        </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139137"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681139137"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681139140"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-446"></span><span>                                              </span><span id="local-6989586621681139135"><span class="annot"><span class="annottext">proxy :: String
</span><a href="#local-6989586621681139135"><span class="hs-identifier hs-var hs-var">proxy</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;__assumption_proxy_&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139137"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681139139"><span class="hs-identifier hs-var">unique</span></a></span><span>
</span><span id="line-447"></span><span>                                              </span><span id="local-6989586621681139136"><span class="annot"><span class="annottext">decls :: [String]
</span><a href="#local-6989586621681139136"><span class="hs-identifier hs-var hs-var">decls</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;(declare-const &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139135"><span class="hs-identifier hs-var">proxy</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; Bool)&quot;</span></span><span>
</span><span id="line-448"></span><span>                                                      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;(assert (= &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139135"><span class="hs-identifier hs-var">proxy</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139137"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;))&quot;</span></span><span>
</span><span id="line-449"></span><span>                                                      </span><span class="hs-special">]</span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span>                                 </span><span class="annot"><span class="annottext">[(String, [String], (String, SBool))]
-&gt; IO [(String, [String], (String, SBool))]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([(String, [String], (String, SBool))]
 -&gt; IO [(String, [String], (String, SBool))])
-&gt; [(String, [String], (String, SBool))]
-&gt; IO [(String, [String], (String, SBool))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((SV, (Int, SBool)) -&gt; (String, [String], (String, SBool)))
-&gt; [(SV, (Int, SBool))] -&gt; [(String, [String], (String, SBool))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(SV, (Int, SBool)) -&gt; (String, [String], (String, SBool))
forall a a b.
(Show a, Show a) =&gt;
(a, (a, b)) -&gt; (String, [String], (String, b))
</span><a href="#local-6989586621681139141"><span class="hs-identifier hs-var">translate</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, (Int, SBool))]
</span><a href="#local-6989586621681139145"><span class="hs-identifier hs-var">uniqueSWBs</span></a></span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span>        </span><span id="local-6989586621681139134"><span class="annot"><span class="annottext">[(String, [String], (String, SBool))]
</span><a href="#local-6989586621681139134"><span class="hs-identifier hs-var">assumptions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO [(String, [String], (String, SBool))])
-&gt; m [(String, [String], (String, SBool))]
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
(State -&gt; IO a) -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier hs-var">inNewContext</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO [(String, [String], (String, SBool))]
</span><a href="#local-6989586621681139155"><span class="hs-identifier hs-var">mkAssumption</span></a></span><span>
</span><span id="line-454"></span><span>
</span><span id="line-455"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139132"><span class="annot"><span class="annottext">origNames :: [String]
</span><a href="#local-6989586621681139132"><span class="hs-identifier hs-var">origNames</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139131"><span class="annot"><span class="annottext">declss :: [[String]]
</span><a href="#local-6989586621681139131"><span class="hs-identifier hs-var">declss</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139130"><span class="annot"><span class="annottext">proxyMap :: [(String, SBool)]
</span><a href="#local-6989586621681139130"><span class="hs-identifier hs-var">proxyMap</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, [String], (String, SBool))]
-&gt; ([String], [[String]], [(String, SBool)])
forall a b c. [(a, b, c)] -&gt; ([a], [b], [c])
</span><span class="hs-identifier hs-var">unzip3</span></span><span> </span><span class="annot"><span class="annottext">[(String, [String], (String, SBool))]
</span><a href="#local-6989586621681139134"><span class="hs-identifier hs-var">assumptions</span></a></span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139128"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681139128"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(check-sat-assuming (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((String, SBool) -&gt; String) -&gt; [(String, SBool)] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(String, SBool) -&gt; String
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(String, SBool)]
</span><a href="#local-6989586621681139130"><span class="hs-identifier hs-var">proxyMap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;))&quot;</span></span><span>
</span><span id="line-458"></span><span>            </span><span id="local-6989586621681139127"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139127"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;checkSatAssuming&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139128"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;one of sat/unsat/unknown&quot;</span></span><span>
</span><span id="line-459"></span><span>                           </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a)
-&gt; Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Make sure you use:&quot;</span></span><span>
</span><span id="line-460"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-461"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;       setOption $ ProduceUnsatAssumptions True&quot;</span></span><span>
</span><span id="line-462"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-463"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;to tell the solver to produce unsat assumptions.&quot;</span></span><span>
</span><span id="line-464"></span><span>                                  </span><span class="hs-special">]</span><span>
</span><span id="line-465"></span><span>
</span><span id="line-466"></span><span>        </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; [String] -&gt; m ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([String] -&gt; m ()) -&gt; [String] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[[String]] -&gt; [String]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">[[String]]
</span><a href="#local-6989586621681139131"><span class="hs-identifier hs-var">declss</span></a></span><span>
</span><span id="line-467"></span><span>        </span><span id="local-6989586621681139125"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139125"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139128"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139124"><span class="annot"><span class="annottext">grabUnsat :: m (CheckSatResult, Maybe [SBool])
</span><a href="#local-6989586621681139124"><span class="hs-identifier hs-var hs-var">grabUnsat</span></a></span></span><span>
</span><span id="line-470"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681139157"><span class="hs-identifier hs-var">getAssumptions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139123"><span class="annot"><span class="annottext">[SBool]
</span><a href="#local-6989586621681139123"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [(String, SBool)] -&gt; m [SBool]
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
[String] -&gt; [(String, a)] -&gt; m [a]
</span><a href="Data.SBV.Control.Utils.html#getUnsatAssumptions"><span class="hs-identifier hs-var">getUnsatAssumptions</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139132"><span class="hs-identifier hs-var">origNames</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SBool)]
</span><a href="#local-6989586621681139130"><span class="hs-identifier hs-var">proxyMap</span></a></span><span>
</span><span id="line-471"></span><span>                                   </span><span class="annot"><span class="annottext">(CheckSatResult, Maybe [SBool])
-&gt; m (CheckSatResult, Maybe [SBool])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="Data.SBV.Control.Types.html#Unsat"><span class="hs-identifier hs-var">Unsat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SBool] -&gt; Maybe [SBool]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">[SBool]
</span><a href="#local-6989586621681139123"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(CheckSatResult, Maybe [SBool])
-&gt; m (CheckSatResult, Maybe [SBool])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="Data.SBV.Control.Types.html#Unsat"><span class="hs-identifier hs-var">Unsat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe [SBool]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>
</span><span id="line-474"></span><span>        </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m (CheckSatResult, Maybe [SBool]))
-&gt; (SExpr -&gt; m (CheckSatResult, Maybe [SBool]))
-&gt; m (CheckSatResult, Maybe [SBool])
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139125"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m (CheckSatResult, Maybe [SBool])
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139127"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m (CheckSatResult, Maybe [SBool]))
 -&gt; m (CheckSatResult, Maybe [SBool]))
-&gt; (SExpr -&gt; m (CheckSatResult, Maybe [SBool]))
-&gt; m (CheckSatResult, Maybe [SBool])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;sat&quot;</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(CheckSatResult, Maybe [SBool])
-&gt; m (CheckSatResult, Maybe [SBool])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="Data.SBV.Control.Types.html#Sat"><span class="hs-identifier hs-var">Sat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe [SBool]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-475"></span><span>                            </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;unsat&quot;</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m (CheckSatResult, Maybe [SBool])
</span><a href="#local-6989586621681139124"><span class="hs-identifier hs-var">grabUnsat</span></a></span><span>
</span><span id="line-476"></span><span>                            </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;unknown&quot;</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(CheckSatResult, Maybe [SBool])
-&gt; m (CheckSatResult, Maybe [SBool])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="Data.SBV.Control.Types.html#Unk"><span class="hs-identifier hs-var">Unk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe [SBool]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-477"></span><span>                            </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m (CheckSatResult, Maybe [SBool])
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139127"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139125"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getAssertionStackDepth'</span><span>
</span><span id="line-480"></span><span id="local-6989586621681139615"><span class="annot"><a href="Data.SBV.Control.Query.html#getAssertionStackDepth"><span class="hs-identifier hs-type">getAssertionStackDepth</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139615"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139615"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139615"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-481"></span><span id="getAssertionStackDepth"><span class="annot"><span class="annottext">getAssertionStackDepth :: m Int
</span><a href="Data.SBV.Control.Query.html#getAssertionStackDepth"><span class="hs-identifier hs-var hs-var">getAssertionStackDepth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QueryState -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#queryAssertionStackDepth"><span class="hs-identifier hs-var hs-var">queryAssertionStackDepth</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryState -&gt; Int) -&gt; m QueryState -&gt; m Int
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m QueryState
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var">getQueryState</span></a></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="hs-comment">-- | Upon a pop, we need to restore all arrays and tables. See: http://github.com/LeventErkok/sbv/issues/374</span><span>
</span><span id="line-484"></span><span id="local-6989586621681139119"><span class="annot"><a href="Data.SBV.Control.Query.html#restoreTablesAndArrays"><span class="hs-identifier hs-type">restoreTablesAndArrays</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139119"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139119"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139119"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-485"></span><span id="restoreTablesAndArrays"><span class="annot"><span class="annottext">restoreTablesAndArrays :: m ()
</span><a href="Data.SBV.Control.Query.html#restoreTablesAndArrays"><span class="hs-identifier hs-var hs-var">restoreTablesAndArrays</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139117"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681139117"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-486"></span><span>                            </span><span id="local-6989586621681139116"><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681139116"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m QueryState
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var">getQueryState</span></a></span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span>                            </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">QueryState -&gt; Maybe (Int, Int)
</span><a href="Data.SBV.Core.Symbolic.html#queryTblArrPreserveIndex"><span class="hs-identifier hs-var hs-var">queryTblArrPreserveIndex</span></a></span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681139116"><span class="hs-identifier hs-var">qs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-489"></span><span>                              </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-490"></span><span>                              </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139114"><span class="annot"><span class="annottext">tc :: Int
</span><a href="#local-6989586621681139114"><span class="hs-identifier hs-var">tc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681139113"><span class="annot"><span class="annottext">ac :: Int
</span><a href="#local-6989586621681139113"><span class="hs-identifier hs-var">ac</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139112"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139112"><span class="hs-identifier hs-var">tCount</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Map (Kind, Kind, [SV]) Int -&gt; Int
forall k a. Map k a -&gt; Int
</span><span class="hs-identifier hs-var">M.size</span></span><span>  </span><span class="annot"><span class="annottext">(Map (Kind, Kind, [SV]) Int -&gt; Int)
-&gt; m (Map (Kind, Kind, [SV]) Int) -&gt; m Int
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO (Map (Kind, Kind, [SV]) Int) -&gt; m (Map (Kind, Kind, [SV]) Int)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Map (Kind, Kind, [SV]) Int) -&gt; m (Map (Kind, Kind, [SV]) Int))
-&gt; (IORef (Map (Kind, Kind, [SV]) Int)
    -&gt; IO (Map (Kind, Kind, [SV]) Int))
-&gt; IORef (Map (Kind, Kind, [SV]) Int)
-&gt; m (Map (Kind, Kind, [SV]) Int)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IORef (Map (Kind, Kind, [SV]) Int)
-&gt; IO (Map (Kind, Kind, [SV]) Int)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef (Map (Kind, Kind, [SV]) Int)
</span><a href="Data.SBV.Core.Symbolic.html#rtblMap"><span class="hs-identifier hs-var hs-var">rtblMap</span></a></span><span>   </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681139117"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-491"></span><span>                                                  </span><span id="local-6989586621681139109"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139109"><span class="hs-identifier hs-var">aCount</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IntMap ArrayInfo -&gt; Int
forall a. IntMap a -&gt; Int
</span><span class="hs-identifier hs-var">IM.size</span></span><span> </span><span class="annot"><span class="annottext">(IntMap ArrayInfo -&gt; Int) -&gt; m (IntMap ArrayInfo) -&gt; m Int
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO (IntMap ArrayInfo) -&gt; m (IntMap ArrayInfo)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (IntMap ArrayInfo) -&gt; m (IntMap ArrayInfo))
-&gt; (IORef (IntMap ArrayInfo) -&gt; IO (IntMap ArrayInfo))
-&gt; IORef (IntMap ArrayInfo)
-&gt; m (IntMap ArrayInfo)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IORef (IntMap ArrayInfo) -&gt; IO (IntMap ArrayInfo)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef (IntMap ArrayInfo)
</span><a href="Data.SBV.Core.Symbolic.html#rArrayMap"><span class="hs-identifier hs-var hs-var">rArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681139117"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span>                                                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139106"><span class="annot"><span class="annottext">tInits :: [String]
</span><a href="#local-6989586621681139106"><span class="hs-identifier hs-var hs-var">tInits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;table&quot;</span></span><span>  </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139105"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_initializer&quot;</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681139105"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139105"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139114"><span class="hs-identifier hs-var">tc</span></a></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139112"><span class="hs-identifier hs-var">tCount</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-494"></span><span>                                                      </span><span id="local-6989586621681139104"><span class="annot"><span class="annottext">aInits :: [String]
</span><a href="#local-6989586621681139104"><span class="hs-identifier hs-var hs-var">aInits</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;array_&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139103"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_initializer&quot;</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681139103"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139103"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139113"><span class="hs-identifier hs-var">ac</span></a></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139109"><span class="hs-identifier hs-var">aCount</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-495"></span><span>                                                      </span><span id="local-6989586621681139102"><span class="annot"><span class="annottext">inits :: [String]
</span><a href="#local-6989586621681139102"><span class="hs-identifier hs-var hs-var">inits</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139106"><span class="hs-identifier hs-var">tInits</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139104"><span class="hs-identifier hs-var">aInits</span></a></span><span>
</span><span id="line-496"></span><span>
</span><span id="line-497"></span><span>                                                  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139102"><span class="hs-identifier hs-var">inits</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-498"></span><span>                                                    </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>   </span><span class="hs-comment">-- Nothing to do</span><span>
</span><span id="line-499"></span><span>                                                    </span><span class="hs-special">[</span><span id="local-6989586621681139101"><span class="annot"><span class="annottext">x :: String
</span><a href="#local-6989586621681139101"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(assert &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139101"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-500"></span><span>                                                    </span><span id="local-6989586621681139100"><span class="annot"><span class="annottext">xs :: [String]
</span><a href="#local-6989586621681139100"><span class="hs-identifier hs-var">xs</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(assert (and &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139100"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;))&quot;</span></span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span class="hs-comment">-- | Upon a push, record the cut-off point for table and array restoration, if we haven't already</span><span>
</span><span id="line-503"></span><span id="local-6989586621681139614"><span class="annot"><a href="Data.SBV.Control.Query.html#recordTablesAndArrayCutOff"><span class="hs-identifier hs-type">recordTablesAndArrayCutOff</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139614"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139614"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139614"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-504"></span><span id="recordTablesAndArrayCutOff"><span class="annot"><span class="annottext">recordTablesAndArrayCutOff :: m ()
</span><a href="Data.SBV.Control.Query.html#recordTablesAndArrayCutOff"><span class="hs-identifier hs-var hs-var">recordTablesAndArrayCutOff</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139098"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681139098"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-505"></span><span>                                </span><span id="local-6989586621681139097"><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681139097"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m QueryState
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var">getQueryState</span></a></span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span>                                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">QueryState -&gt; Maybe (Int, Int)
</span><a href="Data.SBV.Core.Symbolic.html#queryTblArrPreserveIndex"><span class="hs-identifier hs-var hs-var">queryTblArrPreserveIndex</span></a></span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681139097"><span class="hs-identifier hs-var">qs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-508"></span><span>                                  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- already recorded, nothing to do</span><span>
</span><span id="line-509"></span><span>                                  </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139096"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139096"><span class="hs-identifier hs-var">tCount</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Map (Kind, Kind, [SV]) Int -&gt; Int
forall k a. Map k a -&gt; Int
</span><span class="hs-identifier hs-var">M.size</span></span><span>  </span><span class="annot"><span class="annottext">(Map (Kind, Kind, [SV]) Int -&gt; Int)
-&gt; m (Map (Kind, Kind, [SV]) Int) -&gt; m Int
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO (Map (Kind, Kind, [SV]) Int) -&gt; m (Map (Kind, Kind, [SV]) Int)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Map (Kind, Kind, [SV]) Int) -&gt; m (Map (Kind, Kind, [SV]) Int))
-&gt; (IORef (Map (Kind, Kind, [SV]) Int)
    -&gt; IO (Map (Kind, Kind, [SV]) Int))
-&gt; IORef (Map (Kind, Kind, [SV]) Int)
-&gt; m (Map (Kind, Kind, [SV]) Int)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IORef (Map (Kind, Kind, [SV]) Int)
-&gt; IO (Map (Kind, Kind, [SV]) Int)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef (Map (Kind, Kind, [SV]) Int)
</span><a href="Data.SBV.Core.Symbolic.html#rtblMap"><span class="hs-identifier hs-var hs-var">rtblMap</span></a></span><span>   </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681139098"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span>                                                </span><span id="local-6989586621681139095"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139095"><span class="hs-identifier hs-var">aCount</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IntMap ArrayInfo -&gt; Int
forall a. IntMap a -&gt; Int
</span><span class="hs-identifier hs-var">IM.size</span></span><span> </span><span class="annot"><span class="annottext">(IntMap ArrayInfo -&gt; Int) -&gt; m (IntMap ArrayInfo) -&gt; m Int
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO (IntMap ArrayInfo) -&gt; m (IntMap ArrayInfo)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (IntMap ArrayInfo) -&gt; m (IntMap ArrayInfo))
-&gt; (IORef (IntMap ArrayInfo) -&gt; IO (IntMap ArrayInfo))
-&gt; IORef (IntMap ArrayInfo)
-&gt; m (IntMap ArrayInfo)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IORef (IntMap ArrayInfo) -&gt; IO (IntMap ArrayInfo)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef (IntMap ArrayInfo)
</span><a href="Data.SBV.Core.Symbolic.html#rArrayMap"><span class="hs-identifier hs-var hs-var">rArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681139098"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-511"></span><span>
</span><span id="line-512"></span><span>                                                </span><span class="annot"><span class="annottext">(QueryState -&gt; QueryState) -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
(QueryState -&gt; QueryState) -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#modifyQueryState"><span class="hs-identifier hs-var">modifyQueryState</span></a></span><span> </span><span class="annot"><span class="annottext">((QueryState -&gt; QueryState) -&gt; m ())
-&gt; (QueryState -&gt; QueryState) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139093"><span class="annot"><span class="annottext">s :: QueryState
</span><a href="#local-6989586621681139093"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681139093"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">queryTblArrPreserveIndex :: Maybe (Int, Int)
</span><a href="Data.SBV.Core.Symbolic.html#queryTblArrPreserveIndex"><span class="hs-identifier hs-var">queryTblArrPreserveIndex</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int, Int) -&gt; Maybe (Int, Int)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139096"><span class="hs-identifier hs-var">tCount</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139095"><span class="hs-identifier hs-var">aCount</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.inNewAssertionStack'</span><span>
</span><span id="line-515"></span><span id="local-6989586621681139091"><span id="local-6989586621681139092"><span class="annot"><a href="Data.SBV.Control.Query.html#inNewAssertionStack"><span class="hs-identifier hs-type">inNewAssertionStack</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139092"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139092"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139092"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139091"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139092"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139091"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-516"></span><span id="inNewAssertionStack"><span class="annot"><span class="annottext">inNewAssertionStack :: m a -&gt; m a
</span><a href="Data.SBV.Control.Query.html#inNewAssertionStack"><span class="hs-identifier hs-var hs-var">inNewAssertionStack</span></a></span></span><span> </span><span id="local-6989586621681139090"><span class="annot"><span class="annottext">q :: m a
</span><a href="#local-6989586621681139090"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Int -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; Int -&gt; m ()
</span><a href="Data.SBV.Control.Query.html#push"><span class="hs-identifier hs-var">push</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-517"></span><span>                           </span><span id="local-6989586621681139089"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681139089"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621681139090"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-518"></span><span>                           </span><span class="annot"><span class="annottext">Int -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; Int -&gt; m ()
</span><a href="Data.SBV.Control.Query.html#pop"><span class="hs-identifier hs-var">pop</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-519"></span><span>                           </span><span class="annot"><span class="annottext">a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681139089"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-520"></span><span>
</span><span id="line-521"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.push'</span><span>
</span><span id="line-522"></span><span id="local-6989586621681139617"><span class="annot"><a href="Data.SBV.Control.Query.html#push"><span class="hs-identifier hs-type">push</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139617"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139617"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139617"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-523"></span><span id="push"><span class="annot"><span class="annottext">push :: Int -&gt; m ()
</span><a href="Data.SBV.Control.Query.html#push"><span class="hs-identifier hs-var hs-var">push</span></a></span></span><span> </span><span id="local-6989586621681139088"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681139088"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-524"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139088"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ()
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV: push requires a strictly positive level argument, received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139088"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-525"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139087"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139087"><span class="hs-identifier hs-var">depth</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m Int
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m Int
</span><a href="Data.SBV.Control.Query.html#getAssertionStackDepth"><span class="hs-identifier hs-var">getAssertionStackDepth</span></a></span><span>
</span><span id="line-526"></span><span>               </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(push &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139088"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-527"></span><span>               </span><span class="annot"><span class="annottext">m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m ()
</span><a href="Data.SBV.Control.Query.html#recordTablesAndArrayCutOff"><span class="hs-identifier hs-var">recordTablesAndArrayCutOff</span></a></span><span>
</span><span id="line-528"></span><span>               </span><span class="annot"><span class="annottext">(QueryState -&gt; QueryState) -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
(QueryState -&gt; QueryState) -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#modifyQueryState"><span class="hs-identifier hs-var">modifyQueryState</span></a></span><span> </span><span class="annot"><span class="annottext">((QueryState -&gt; QueryState) -&gt; m ())
-&gt; (QueryState -&gt; QueryState) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139086"><span class="annot"><span class="annottext">s :: QueryState
</span><a href="#local-6989586621681139086"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681139086"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">queryAssertionStackDepth :: Int
</span><a href="Data.SBV.Core.Symbolic.html#queryAssertionStackDepth"><span class="hs-identifier hs-var">queryAssertionStackDepth</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139087"><span class="hs-identifier hs-var">depth</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139088"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.pop'</span><span>
</span><span id="line-531"></span><span id="local-6989586621681139084"><span class="annot"><a href="Data.SBV.Control.Query.html#pop"><span class="hs-identifier hs-type">pop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139084"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139084"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139084"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-532"></span><span id="pop"><span class="annot"><span class="annottext">pop :: Int -&gt; m ()
</span><a href="Data.SBV.Control.Query.html#pop"><span class="hs-identifier hs-var hs-var">pop</span></a></span></span><span> </span><span id="local-6989586621681139083"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681139083"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-533"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139083"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ()
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV: pop requires a strictly positive level argument, received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139083"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-534"></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139082"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139082"><span class="hs-identifier hs-var">depth</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m Int
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m Int
</span><a href="Data.SBV.Control.Query.html#getAssertionStackDepth"><span class="hs-identifier hs-var">getAssertionStackDepth</span></a></span><span>
</span><span id="line-535"></span><span>               </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139083"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139082"><span class="hs-identifier hs-var">depth</span></a></span><span>
</span><span id="line-536"></span><span>                  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ()
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV: Illegally trying to pop &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. (Eq a, Num a, Show a) =&gt; a -&gt; String
</span><a href="#local-6989586621681139081"><span class="hs-identifier hs-var">shl</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139083"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, at current level: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139082"><span class="hs-identifier hs-var">depth</span></a></span><span>
</span><span id="line-537"></span><span>                  </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryState"><span class="hs-identifier hs-type">QueryState</span></a></span><span class="hs-special">{</span><span id="local-6989586621681139079"><span class="annot"><span class="annottext">SMTConfig
queryConfig :: QueryState -&gt; SMTConfig
queryConfig :: SMTConfig
</span><a href="Data.SBV.Core.Symbolic.html#queryConfig"><span class="hs-identifier hs-var hs-var">queryConfig</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m QueryState
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var">getQueryState</span></a></span><span>
</span><span id="line-538"></span><span>                          </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SolverCapabilities -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#supportsGlobalDecls"><span class="hs-identifier hs-var hs-var">supportsGlobalDecls</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTSolver -&gt; SolverCapabilities
</span><a href="Data.SBV.Core.Symbolic.html#capabilities"><span class="hs-identifier hs-var hs-var">capabilities</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTSolver
</span><a href="Data.SBV.Core.Symbolic.html#solver"><span class="hs-identifier hs-var hs-var">solver</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139079"><span class="hs-identifier hs-var">queryConfig</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-539"></span><span>                             </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ()
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-540"></span><span>                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV: Backend solver does not support global-declarations.&quot;</span></span><span>
</span><span id="line-541"></span><span>                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***           Hence, calls to 'pop' are not supported.&quot;</span></span><span>
</span><span id="line-542"></span><span>                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-543"></span><span>                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Request this as a feature for the underlying solver!&quot;</span></span><span>
</span><span id="line-544"></span><span>                                                  </span><span class="hs-special">]</span><span>
</span><span id="line-545"></span><span>                             </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(pop &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139083"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-546"></span><span>                                     </span><span class="annot"><span class="annottext">m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m ()
</span><a href="Data.SBV.Control.Query.html#restoreTablesAndArrays"><span class="hs-identifier hs-var">restoreTablesAndArrays</span></a></span><span>
</span><span id="line-547"></span><span>                                     </span><span class="annot"><span class="annottext">(QueryState -&gt; QueryState) -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
(QueryState -&gt; QueryState) -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#modifyQueryState"><span class="hs-identifier hs-var">modifyQueryState</span></a></span><span> </span><span class="annot"><span class="annottext">((QueryState -&gt; QueryState) -&gt; m ())
-&gt; (QueryState -&gt; QueryState) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139076"><span class="annot"><span class="annottext">s :: QueryState
</span><a href="#local-6989586621681139076"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681139076"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">queryAssertionStackDepth :: Int
</span><a href="Data.SBV.Core.Symbolic.html#queryAssertionStackDepth"><span class="hs-identifier hs-var">queryAssertionStackDepth</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139082"><span class="hs-identifier hs-var">depth</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681139083"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-548"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139081"><span class="annot"><span class="annottext">shl :: a -&gt; String
</span><a href="#local-6989586621681139081"><span class="hs-identifier hs-var hs-var">shl</span></a></span></span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;one level&quot;</span></span><span>
</span><span id="line-549"></span><span>         </span><span class="annot"><a href="#local-6989586621681139081"><span class="hs-identifier hs-var">shl</span></a></span><span> </span><span id="local-6989586621681139075"><span class="annot"><span class="annottext">n :: a
</span><a href="#local-6989586621681139075"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681139075"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; levels&quot;</span></span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.caseSplit'</span><span>
</span><span id="line-552"></span><span id="local-6989586621681139074"><span class="annot"><a href="Data.SBV.Control.Query.html#caseSplit"><span class="hs-identifier hs-type">caseSplit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139074"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139074"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBool"><span class="hs-identifier hs-type">SBool</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139074"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTResult"><span class="hs-identifier hs-type">SMTResult</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-553"></span><span id="caseSplit"><span class="annot"><span class="annottext">caseSplit :: Bool -&gt; [(String, SBool)] -&gt; m (Maybe (String, SMTResult))
</span><a href="Data.SBV.Control.Query.html#caseSplit"><span class="hs-identifier hs-var hs-var">caseSplit</span></a></span></span><span> </span><span id="local-6989586621681139073"><span class="annot"><span class="annottext">printCases :: Bool
</span><a href="#local-6989586621681139073"><span class="hs-identifier hs-var">printCases</span></a></span></span><span> </span><span id="local-6989586621681139072"><span class="annot"><span class="annottext">cases :: [(String, SBool)]
</span><a href="#local-6989586621681139072"><span class="hs-identifier hs-var">cases</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139071"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139071"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-554"></span><span>                                </span><span class="annot"><span class="annottext">SMTConfig -&gt; [(String, SBool)] -&gt; m (Maybe (String, SMTResult))
</span><a href="#local-6989586621681139070"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139071"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(String, SBool)]
</span><a href="#local-6989586621681139072"><span class="hs-identifier hs-var">cases</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SBool)] -&gt; [(String, SBool)] -&gt; [(String, SBool)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;Coverage&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SBool -&gt; SBool
</span><a href="Data.SBV.Core.Data.html#sNot"><span class="hs-identifier hs-var">sNot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SBool] -&gt; SBool
</span><a href="Data.SBV.Core.Data.html#sOr"><span class="hs-identifier hs-var">sOr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((String, SBool) -&gt; SBool) -&gt; [(String, SBool)] -&gt; [SBool]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(String, SBool) -&gt; SBool
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">[(String, SBool)]
</span><a href="#local-6989586621681139072"><span class="hs-identifier hs-var">cases</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-555"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139067"><span class="annot"><span class="annottext">msg :: String -&gt; m ()
</span><a href="#local-6989586621681139067"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681139073"><span class="hs-identifier hs-var">printCases</span></a></span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; (String -&gt; m ()) -&gt; String -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (String -&gt; IO ()) -&gt; String -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><span class="hs-identifier hs-var">putStrLn</span></span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span>        </span><span id="local-6989586621681139070"><span class="annot"><span class="annottext">go :: SMTConfig -&gt; [(String, SBool)] -&gt; m (Maybe (String, SMTResult))
</span><a href="#local-6989586621681139070"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (String, SMTResult) -&gt; m (Maybe (String, SMTResult))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe (String, SMTResult)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-558"></span><span>        </span><span class="annot"><a href="#local-6989586621681139070"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681139065"><span class="annot"><span class="annottext">cfg :: SMTConfig
</span><a href="#local-6989586621681139065"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681139064"><span class="annot"><span class="annottext">n :: String
</span><a href="#local-6989586621681139064"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621681139063"><span class="annot"><span class="annottext">c :: SBool
</span><a href="#local-6989586621681139063"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681139062"><span class="annot"><span class="annottext">ncs :: [(String, SBool)]
</span><a href="#local-6989586621681139062"><span class="hs-identifier hs-var">ncs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139061"><span class="annot"><span class="annottext">notify :: String -&gt; m ()
</span><a href="#local-6989586621681139061"><span class="hs-identifier hs-var hs-var">notify</span></a></span></span><span> </span><span id="local-6989586621681139060"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139060"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ()
</span><a href="#local-6989586621681139067"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Case &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139064"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139060"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-559"></span><span>
</span><span id="line-560"></span><span>                                </span><span class="annot"><span class="annottext">String -&gt; m ()
</span><a href="#local-6989586621681139061"><span class="hs-identifier hs-var">notify</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Starting&quot;</span></span><span>
</span><span id="line-561"></span><span>                                </span><span id="local-6989586621681139059"><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139059"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[SBool] -&gt; m CheckSatResult
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
[SBool] -&gt; m CheckSatResult
</span><a href="Data.SBV.Control.Query.html#checkSatAssuming"><span class="hs-identifier hs-var">checkSatAssuming</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SBool
</span><a href="#local-6989586621681139063"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-562"></span><span>
</span><span id="line-563"></span><span>                                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681139059"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-564"></span><span>                                  </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unsat"><span class="hs-identifier hs-type">Unsat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ()
</span><a href="#local-6989586621681139061"><span class="hs-identifier hs-var">notify</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Unsatisfiable&quot;</span></span><span>
</span><span id="line-565"></span><span>                                              </span><span class="annot"><span class="annottext">SMTConfig -&gt; [(String, SBool)] -&gt; m (Maybe (String, SMTResult))
</span><a href="#local-6989586621681139070"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139065"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SBool)]
</span><a href="#local-6989586621681139062"><span class="hs-identifier hs-var">ncs</span></a></span><span>
</span><span id="line-566"></span><span>
</span><span id="line-567"></span><span>                                  </span><span class="annot"><a href="Data.SBV.Control.Types.html#Sat"><span class="hs-identifier hs-type">Sat</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ()
</span><a href="#local-6989586621681139061"><span class="hs-identifier hs-var">notify</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Satisfiable&quot;</span></span><span>
</span><span id="line-568"></span><span>                                              </span><span id="local-6989586621681139058"><span class="annot"><span class="annottext">SMTResult
</span><a href="#local-6989586621681139058"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTModel -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Satisfiable"><span class="hs-identifier hs-var">Satisfiable</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139065"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(SMTModel -&gt; SMTResult) -&gt; m SMTModel -&gt; m SMTResult
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m SMTModel
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTModel
</span><a href="Data.SBV.Control.Query.html#getModel"><span class="hs-identifier hs-var">getModel</span></a></span><span>
</span><span id="line-569"></span><span>                                              </span><span class="annot"><span class="annottext">Maybe (String, SMTResult) -&gt; m (Maybe (String, SMTResult))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (String, SMTResult) -&gt; m (Maybe (String, SMTResult)))
-&gt; Maybe (String, SMTResult) -&gt; m (Maybe (String, SMTResult))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(String, SMTResult) -&gt; Maybe (String, SMTResult)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139064"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SMTResult
</span><a href="#local-6989586621681139058"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-570"></span><span>
</span><span id="line-571"></span><span>                                  </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unk"><span class="hs-identifier hs-type">Unk</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ()
</span><a href="#local-6989586621681139061"><span class="hs-identifier hs-var">notify</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Unknown&quot;</span></span><span>
</span><span id="line-572"></span><span>                                              </span><span id="local-6989586621681139057"><span class="annot"><span class="annottext">SMTResult
</span><a href="#local-6989586621681139057"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTReasonUnknown -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139065"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(SMTReasonUnknown -&gt; SMTResult)
-&gt; m SMTReasonUnknown -&gt; m SMTResult
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m SMTReasonUnknown
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m SMTReasonUnknown
</span><a href="Data.SBV.Control.Query.html#getUnknownReason"><span class="hs-identifier hs-var">getUnknownReason</span></a></span><span>
</span><span id="line-573"></span><span>                                              </span><span class="annot"><span class="annottext">Maybe (String, SMTResult) -&gt; m (Maybe (String, SMTResult))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (String, SMTResult) -&gt; m (Maybe (String, SMTResult)))
-&gt; Maybe (String, SMTResult) -&gt; m (Maybe (String, SMTResult))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(String, SMTResult) -&gt; Maybe (String, SMTResult)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139064"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SMTResult
</span><a href="#local-6989586621681139057"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-574"></span><span>
</span><span id="line-575"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.resetAssertions'</span><span>
</span><span id="line-576"></span><span id="local-6989586621681139056"><span class="annot"><a href="Data.SBV.Control.Query.html#resetAssertions"><span class="hs-identifier hs-type">resetAssertions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139056"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139056"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139056"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-577"></span><span id="resetAssertions"><span class="annot"><span class="annottext">resetAssertions :: m ()
</span><a href="Data.SBV.Control.Query.html#resetAssertions"><span class="hs-identifier hs-var hs-var">resetAssertions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(reset-assertions)&quot;</span></span><span>
</span><span id="line-578"></span><span>                     </span><span class="annot"><span class="annottext">(QueryState -&gt; QueryState) -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
(QueryState -&gt; QueryState) -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#modifyQueryState"><span class="hs-identifier hs-var">modifyQueryState</span></a></span><span> </span><span class="annot"><span class="annottext">((QueryState -&gt; QueryState) -&gt; m ())
-&gt; (QueryState -&gt; QueryState) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139055"><span class="annot"><span class="annottext">s :: QueryState
</span><a href="#local-6989586621681139055"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681139055"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">queryAssertionStackDepth :: Int
</span><a href="Data.SBV.Core.Symbolic.html#queryAssertionStackDepth"><span class="hs-identifier hs-var">queryAssertionStackDepth</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">}</span><span>
</span><span id="line-579"></span><span>
</span><span id="line-580"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.echo'</span><span>
</span><span id="line-581"></span><span id="local-6989586621681139054"><span class="annot"><a href="Data.SBV.Control.Query.html#echo"><span class="hs-identifier hs-type">echo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139054"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139054"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139054"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-582"></span><span id="echo"><span class="annot"><span class="annottext">echo :: String -&gt; m ()
</span><a href="Data.SBV.Control.Query.html#echo"><span class="hs-identifier hs-var hs-var">echo</span></a></span></span><span> </span><span id="local-6989586621681139053"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139053"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139052"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681139052"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(echo \&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; String) -&gt; String -&gt; String
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String
</span><a href="#local-6989586621681139051"><span class="hs-identifier hs-var">sanitize</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139053"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\&quot;)&quot;</span></span><span>
</span><span id="line-583"></span><span>
</span><span id="line-584"></span><span>            </span><span class="hs-comment">-- we send the command, but otherwise ignore the response</span><span>
</span><span id="line-585"></span><span>            </span><span class="hs-comment">-- note that 'send True/False' would be incorrect here. 'send True' would</span><span>
</span><span id="line-586"></span><span>            </span><span class="hs-comment">-- require a success response. 'send False' would fail to consume the</span><span>
</span><span id="line-587"></span><span>            </span><span class="hs-comment">-- output. But 'ask' does the right thing! It gets &quot;some&quot; response,</span><span>
</span><span id="line-588"></span><span>            </span><span class="hs-comment">-- and forgets about it immediately.</span><span>
</span><span id="line-589"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139052"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-590"></span><span>
</span><span id="line-591"></span><span>            </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681139051"><span class="annot"><span class="annottext">sanitize :: Char -&gt; String
</span><a href="#local-6989586621681139051"><span class="hs-identifier hs-var hs-var">sanitize</span></a></span></span><span> </span><span class="hs-char">'&quot;'</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;\&quot;\&quot;&quot;</span></span><span>  </span><span class="hs-comment">-- quotes need to be duplicated</span><span>
</span><span id="line-593"></span><span>        </span><span class="annot"><a href="#local-6989586621681139051"><span class="hs-identifier hs-var">sanitize</span></a></span><span> </span><span id="local-6989586621681139050"><span class="annot"><span class="annottext">c :: Char
</span><a href="#local-6989586621681139050"><span class="hs-identifier hs-var">c</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681139050"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-594"></span><span>
</span><span id="line-595"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.exit'</span><span>
</span><span id="line-596"></span><span id="local-6989586621681139049"><span class="annot"><a href="Data.SBV.Control.Query.html#exit"><span class="hs-identifier hs-type">exit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139049"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139049"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139049"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-597"></span><span id="exit"><span class="annot"><span class="annottext">exit :: m ()
</span><a href="Data.SBV.Control.Query.html#exit"><span class="hs-identifier hs-var hs-var">exit</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(exit)&quot;</span></span><span>
</span><span id="line-598"></span><span>          </span><span class="annot"><span class="annottext">(QueryState -&gt; QueryState) -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
(QueryState -&gt; QueryState) -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#modifyQueryState"><span class="hs-identifier hs-var">modifyQueryState</span></a></span><span> </span><span class="annot"><span class="annottext">((QueryState -&gt; QueryState) -&gt; m ())
-&gt; (QueryState -&gt; QueryState) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139048"><span class="annot"><span class="annottext">s :: QueryState
</span><a href="#local-6989586621681139048"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681139048"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">queryAssertionStackDepth :: Int
</span><a href="Data.SBV.Core.Symbolic.html#queryAssertionStackDepth"><span class="hs-identifier hs-var">queryAssertionStackDepth</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">}</span><span>
</span><span id="line-599"></span><span>
</span><span id="line-600"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getUnsatCore'</span><span>
</span><span id="line-601"></span><span id="local-6989586621681139602"><span class="annot"><a href="Data.SBV.Control.Query.html#getUnsatCore"><span class="hs-identifier hs-type">getUnsatCore</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139602"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139602"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139602"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span></span><span>
</span><span id="line-602"></span><span id="getUnsatCore"><span class="annot"><span class="annottext">getUnsatCore :: m [String]
</span><a href="Data.SBV.Control.Query.html#getUnsatCore"><span class="hs-identifier hs-var hs-var">getUnsatCore</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-603"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139047"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681139047"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-unsat-core)&quot;</span></span><span>
</span><span id="line-604"></span><span>            </span><span id="local-6989586621681139046"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139046"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getUnsatCore&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139047"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;an unsat-core response&quot;</span></span><span>
</span><span id="line-605"></span><span>                           </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a)
-&gt; Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Make sure you use:&quot;</span></span><span>
</span><span id="line-606"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-607"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;       setOption $ ProduceUnsatCores True&quot;</span></span><span>
</span><span id="line-608"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-609"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;so the solver will be ready to compute unsat cores,&quot;</span></span><span>
</span><span id="line-610"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;and that there is a model by first issuing a 'checkSat' call.&quot;</span></span><span>
</span><span id="line-611"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-612"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;If using z3, you might also optionally want to set:&quot;</span></span><span>
</span><span id="line-613"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-614"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;       setOption $ OptionKeyword \&quot;:smt.core.minimize\&quot; [\&quot;true\&quot;]&quot;</span></span><span>
</span><span id="line-615"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-616"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;to make sure the unsat core doesn't have irrelevant entries,&quot;</span></span><span>
</span><span id="line-617"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;though this might incur a performance penalty.&quot;</span></span><span>
</span><span id="line-618"></span><span>
</span><span id="line-619"></span><span>
</span><span id="line-620"></span><span>                                  </span><span class="hs-special">]</span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span>        </span><span id="local-6989586621681139045"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139045"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139047"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-623"></span><span>
</span><span id="line-624"></span><span>        </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m [String])
-&gt; (SExpr -&gt; m [String])
-&gt; m [String]
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139045"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m [String]
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139046"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m [String]) -&gt; m [String])
-&gt; (SExpr -&gt; m [String]) -&gt; m [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-625"></span><span>           </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span id="local-6989586621681139044"><span class="annot"><span class="annottext">es :: [SExpr]
</span><a href="#local-6989586621681139044"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681139043"><span class="annot"><span class="annottext">xs :: [String]
</span><a href="#local-6989586621681139043"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SExpr -&gt; Maybe String) -&gt; [SExpr] -&gt; Maybe [String]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe String
</span><a href="Data.SBV.Control.Query.html#fromECon"><span class="hs-identifier hs-var">fromECon</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139044"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m [String]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; m [String]) -&gt; [String] -&gt; m [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="Data.SBV.Control.Query.html#unBar"><span class="hs-identifier hs-var">unBar</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139043"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-626"></span><span>           </span><span class="hs-identifier">_</span><span>                                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m [String]
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139046"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139045"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-627"></span><span>
</span><span id="line-628"></span><span class="hs-comment">-- | Retrieve the unsat core if it was asked for in the configuration</span><span>
</span><span id="line-629"></span><span id="local-6989586621681139748"><span class="annot"><a href="Data.SBV.Control.Query.html#getUnsatCoreIfRequested"><span class="hs-identifier hs-type">getUnsatCoreIfRequested</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139748"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139748"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139748"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-630"></span><span id="getUnsatCoreIfRequested"><span class="annot"><span class="annottext">getUnsatCoreIfRequested :: m (Maybe [String])
</span><a href="Data.SBV.Control.Query.html#getUnsatCoreIfRequested"><span class="hs-identifier hs-var hs-var">getUnsatCoreIfRequested</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-631"></span><span>        </span><span id="local-6989586621681139042"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139042"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-632"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[Bool] -&gt; Bool
forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><span class="hs-identifier hs-var">or</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681139040"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#ProduceUnsatCores"><span class="hs-identifier hs-type">ProduceUnsatCores</span></a></span><span> </span><span id="local-6989586621681139040"><span class="annot"><span class="annottext">b :: Bool
</span><a href="#local-6989586621681139040"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; [SMTOption]
</span><a href="Data.SBV.Core.Symbolic.html#solverSetOptions"><span class="hs-identifier hs-var hs-var">solverSetOptions</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681139042"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-633"></span><span>           </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; Maybe [String]) -&gt; m [String] -&gt; m (Maybe [String])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m [String]
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m [String]
</span><a href="Data.SBV.Control.Query.html#getUnsatCore"><span class="hs-identifier hs-var">getUnsatCore</span></a></span><span>
</span><span id="line-634"></span><span>           </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe [String] -&gt; m (Maybe [String])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-635"></span><span>
</span><span id="line-636"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getProof'</span><span>
</span><span id="line-637"></span><span id="local-6989586621681139038"><span class="annot"><a href="Data.SBV.Control.Query.html#getProof"><span class="hs-identifier hs-type">getProof</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139038"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139038"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139038"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-638"></span><span id="getProof"><span class="annot"><span class="annottext">getProof :: m String
</span><a href="Data.SBV.Control.Query.html#getProof"><span class="hs-identifier hs-var hs-var">getProof</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-639"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139037"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681139037"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-proof)&quot;</span></span><span>
</span><span id="line-640"></span><span>            </span><span id="local-6989586621681139036"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139036"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getProof&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139037"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a get-proof response&quot;</span></span><span>
</span><span id="line-641"></span><span>                           </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a)
-&gt; Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Make sure you use:&quot;</span></span><span>
</span><span id="line-642"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-643"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;       setOption $ ProduceProofs True&quot;</span></span><span>
</span><span id="line-644"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-645"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;to make sure the solver is ready for producing proofs,&quot;</span></span><span>
</span><span id="line-646"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;and that there is a proof by first issuing a 'checkSat' call.&quot;</span></span><span>
</span><span id="line-647"></span><span>                                  </span><span class="hs-special">]</span><span>
</span><span id="line-648"></span><span>
</span><span id="line-649"></span><span>
</span><span id="line-650"></span><span>        </span><span id="local-6989586621681139035"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139035"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139037"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-651"></span><span>
</span><span id="line-652"></span><span>        </span><span class="hs-comment">-- we only care about the fact that we can parse the output, so the</span><span>
</span><span id="line-653"></span><span>        </span><span class="hs-comment">-- result of parsing is ignored.</span><span>
</span><span id="line-654"></span><span>        </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m String)
-&gt; (SExpr -&gt; m String)
-&gt; m String
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139035"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m String
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139036"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m String) -&gt; m String)
-&gt; (SExpr -&gt; m String) -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139035"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-655"></span><span>
</span><span id="line-656"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getInterpolantMathSAT'. Use this version with MathSAT.</span><span>
</span><span id="line-657"></span><span id="local-6989586621681139034"><span class="annot"><a href="Data.SBV.Control.Query.html#getInterpolantMathSAT"><span class="hs-identifier hs-type">getInterpolantMathSAT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139034"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139034"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139034"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-658"></span><span id="getInterpolantMathSAT"><span class="annot"><span class="annottext">getInterpolantMathSAT :: [String] -&gt; m String
</span><a href="Data.SBV.Control.Query.html#getInterpolantMathSAT"><span class="hs-identifier hs-var hs-var">getInterpolantMathSAT</span></a></span></span><span> </span><span id="local-6989586621681139033"><span class="annot"><span class="annottext">fs :: [String]
</span><a href="#local-6989586621681139033"><span class="hs-identifier hs-var">fs</span></a></span></span><span>
</span><span id="line-659"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139033"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-660"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.getInterpolantMathSAT requires at least one marked constraint, received none!&quot;</span></span><span>
</span><span id="line-661"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-662"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139032"><span class="annot"><span class="annottext">bar :: String -&gt; String
</span><a href="#local-6989586621681139032"><span class="hs-identifier hs-var hs-var">bar</span></a></span></span><span> </span><span id="local-6989586621681139031"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139031"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-char">'|'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139031"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;|&quot;</span></span><span>
</span><span id="line-663"></span><span>           </span><span id="local-6989586621681139030"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681139030"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-interpolant (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621681139032"><span class="hs-identifier hs-var">bar</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681139033"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;))&quot;</span></span><span>
</span><span id="line-664"></span><span>           </span><span id="local-6989586621681139029"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139029"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getInterpolant&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139030"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a get-interpolant response&quot;</span></span><span>
</span><span id="line-665"></span><span>                          </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a)
-&gt; Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Make sure you use:&quot;</span></span><span>
</span><span id="line-666"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-667"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;       setOption $ ProduceInterpolants True&quot;</span></span><span>
</span><span id="line-668"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-669"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;to make sure the solver is ready for producing interpolants,&quot;</span></span><span>
</span><span id="line-670"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;and that you have used the proper attributes using the&quot;</span></span><span>
</span><span id="line-671"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;constrainWithAttribute function.&quot;</span></span><span>
</span><span id="line-672"></span><span>                                 </span><span class="hs-special">]</span><span>
</span><span id="line-673"></span><span>
</span><span id="line-674"></span><span>       </span><span id="local-6989586621681139028"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139028"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139030"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-675"></span><span>
</span><span id="line-676"></span><span>       </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m String)
-&gt; (SExpr -&gt; m String)
-&gt; m String
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139028"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m String
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139029"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m String) -&gt; m String)
-&gt; (SExpr -&gt; m String) -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139027"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681139027"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m String) -&gt; String -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SExpr -&gt; String
</span><a href="Data.SBV.Control.Query.html#serialize"><span class="hs-identifier hs-var">serialize</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139027"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-677"></span><span>
</span><span id="line-678"></span><span>
</span><span id="line-679"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getInterpolantZ3'. Use this version with Z3.</span><span>
</span><span id="line-680"></span><span id="local-6989586621681139026"><span class="annot"><a href="Data.SBV.Control.Query.html#getInterpolantZ3"><span class="hs-identifier hs-type">getInterpolantZ3</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139026"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139026"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBool"><span class="hs-identifier hs-type">SBool</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139026"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-681"></span><span id="getInterpolantZ3"><span class="annot"><span class="annottext">getInterpolantZ3 :: [SBool] -&gt; m String
</span><a href="Data.SBV.Control.Query.html#getInterpolantZ3"><span class="hs-identifier hs-var hs-var">getInterpolantZ3</span></a></span></span><span> </span><span id="local-6989586621681139025"><span class="annot"><span class="annottext">fs :: [SBool]
</span><a href="#local-6989586621681139025"><span class="hs-identifier hs-var">fs</span></a></span></span><span>
</span><span id="line-682"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[SBool] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SBool]
</span><a href="#local-6989586621681139025"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span>
</span><span id="line-683"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m String) -&gt; String -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.getInterpolantZ3 requires at least two booleans, received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[SBool] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[SBool]
</span><a href="#local-6989586621681139025"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-684"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-685"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139024"><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681139024"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139023"><span class="annot"><span class="annottext">fAll :: [SBV a] -&gt; [SV] -&gt; m [SV]
</span><a href="#local-6989586621681139023"><span class="hs-identifier hs-var hs-var">fAll</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span id="local-6989586621681139022"><span class="annot"><span class="annottext">sofar :: [SV]
</span><a href="#local-6989586621681139022"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SV] -&gt; m [SV]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([SV] -&gt; m [SV]) -&gt; [SV] -&gt; m [SV]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[SV] -&gt; [SV]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681139022"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-686"></span><span>                 </span><span class="annot"><a href="#local-6989586621681139023"><span class="hs-identifier hs-var">fAll</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681139021"><span class="annot"><span class="annottext">b :: SBV a
</span><a href="#local-6989586621681139021"><span class="hs-identifier hs-var">b</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681139020"><span class="annot"><span class="annottext">bs :: [SBV a]
</span><a href="#local-6989586621681139020"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681139019"><span class="annot"><span class="annottext">sofar :: [SV]
</span><a href="#local-6989586621681139019"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681139018"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139018"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; m SV
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
(State -&gt; IO a) -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier hs-var">inNewContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; SBV a -&gt; IO SV
forall a. State -&gt; SBV a -&gt; IO SV
</span><a href="Data.SBV.Core.Data.html#sbvToSV"><span class="hs-operator hs-var">`sbvToSV`</span></a></span><span> </span><span class="annot"><span class="annottext">SBV a
</span><a href="#local-6989586621681139021"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-687"></span><span>                                        </span><span class="annot"><span class="annottext">[SBV a] -&gt; [SV] -&gt; m [SV]
</span><a href="#local-6989586621681139023"><span class="hs-identifier hs-var">fAll</span></a></span><span> </span><span class="annot"><span class="annottext">[SBV a]
</span><a href="#local-6989586621681139020"><span class="hs-identifier hs-var">bs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681139018"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; [SV] -&gt; [SV]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681139019"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-688"></span><span>             </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[SBool] -&gt; [SV] -&gt; m [SV]
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
[SBV a] -&gt; [SV] -&gt; m [SV]
</span><a href="#local-6989586621681139023"><span class="hs-identifier hs-var">fAll</span></a></span><span> </span><span class="annot"><span class="annottext">[SBool]
</span><a href="#local-6989586621681139025"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-689"></span><span>
</span><span id="line-690"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139017"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681139017"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-interpolant &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; String) -&gt; [SV] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681139024"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-691"></span><span>           </span><span id="local-6989586621681139016"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139016"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getInterpolant&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139017"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a get-interpolant response&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-692"></span><span>
</span><span id="line-693"></span><span>       </span><span id="local-6989586621681139015"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139015"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139017"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-694"></span><span>
</span><span id="line-695"></span><span>       </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m String)
-&gt; (SExpr -&gt; m String)
-&gt; m String
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139015"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m String
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139016"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m String) -&gt; m String)
-&gt; (SExpr -&gt; m String) -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139014"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681139014"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m String) -&gt; String -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SExpr -&gt; String
</span><a href="Data.SBV.Control.Query.html#serialize"><span class="hs-identifier hs-var">serialize</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139014"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-696"></span><span>
</span><span id="line-697"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getAssertions'</span><span>
</span><span id="line-698"></span><span id="local-6989586621681139013"><span class="annot"><a href="Data.SBV.Control.Query.html#getAssertions"><span class="hs-identifier hs-type">getAssertions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139013"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139013"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139013"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span></span><span>
</span><span id="line-699"></span><span id="getAssertions"><span class="annot"><span class="annottext">getAssertions :: m [String]
</span><a href="Data.SBV.Control.Query.html#getAssertions"><span class="hs-identifier hs-var hs-var">getAssertions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-700"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139012"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681139012"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-assertions)&quot;</span></span><span>
</span><span id="line-701"></span><span>            </span><span id="local-6989586621681139011"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139011"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getAssertions&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139012"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a get-assertions response&quot;</span></span><span>
</span><span id="line-702"></span><span>                           </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a)
-&gt; Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Make sure you use:&quot;</span></span><span>
</span><span id="line-703"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-704"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;       setOption $ ProduceAssertions True&quot;</span></span><span>
</span><span id="line-705"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-706"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;to make sure the solver is ready for producing assertions.&quot;</span></span><span>
</span><span id="line-707"></span><span>                                  </span><span class="hs-special">]</span><span>
</span><span id="line-708"></span><span>
</span><span id="line-709"></span><span>            </span><span id="local-6989586621681139010"><span class="annot"><span class="annottext">render :: SExpr -&gt; String
</span><a href="#local-6989586621681139010"><span class="hs-identifier hs-var hs-var">render</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SExpr -&gt; String
</span><a href="Data.SBV.Control.Query.html#serialize"><span class="hs-identifier hs-var">serialize</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-710"></span><span>
</span><span id="line-711"></span><span>        </span><span id="local-6989586621681139009"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139009"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139012"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-712"></span><span>
</span><span id="line-713"></span><span>        </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m [String])
-&gt; (SExpr -&gt; m [String])
-&gt; m [String]
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139009"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m [String]
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139011"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m [String]) -&gt; m [String])
-&gt; (SExpr -&gt; m [String]) -&gt; m [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681139008"><span class="annot"><span class="annottext">pe :: SExpr
</span><a href="#local-6989586621681139008"><span class="hs-identifier hs-var">pe</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139008"><span class="hs-identifier hs-var">pe</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-714"></span><span>                                </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span id="local-6989586621681139007"><span class="annot"><span class="annottext">xs :: [SExpr]
</span><a href="#local-6989586621681139007"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m [String]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; m [String]) -&gt; [String] -&gt; m [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(SExpr -&gt; String) -&gt; [SExpr] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139010"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681139007"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-715"></span><span>                                </span><span class="hs-identifier">_</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m [String]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681139010"><span class="hs-identifier hs-var">render</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681139008"><span class="hs-identifier hs-var">pe</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-716"></span><span>
</span><span id="line-717"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getAssignment'</span><span>
</span><span id="line-718"></span><span id="local-6989586621681139006"><span class="annot"><a href="Data.SBV.Control.Query.html#getAssignment"><span class="hs-identifier hs-type">getAssignment</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681139006"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681139006"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681139006"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-719"></span><span id="getAssignment"><span class="annot"><span class="annottext">getAssignment :: m [(String, Bool)]
</span><a href="Data.SBV.Control.Query.html#getAssignment"><span class="hs-identifier hs-var hs-var">getAssignment</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-720"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681139005"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681139005"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-assignment)&quot;</span></span><span>
</span><span id="line-721"></span><span>            </span><span id="local-6989586621681139004"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139004"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getAssignment&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139005"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a get-assignment response&quot;</span></span><span>
</span><span id="line-722"></span><span>                           </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a)
-&gt; Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Make sure you use:&quot;</span></span><span>
</span><span id="line-723"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-724"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;       setOption $ ProduceAssignments True&quot;</span></span><span>
</span><span id="line-725"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-726"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;to make sure the solver is ready for producing assignments,&quot;</span></span><span>
</span><span id="line-727"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;and that there is a model by first issuing a 'checkSat' call.&quot;</span></span><span>
</span><span id="line-728"></span><span>                                  </span><span class="hs-special">]</span><span>
</span><span id="line-729"></span><span>
</span><span id="line-730"></span><span>            </span><span class="hs-comment">-- we're expecting boolean assignment to labels, essentially</span><span>
</span><span id="line-731"></span><span>            </span><span id="local-6989586621681139003"><span class="annot"><span class="annottext">grab :: SExpr -&gt; Maybe (String, Bool)
</span><a href="#local-6989586621681139003"><span class="hs-identifier hs-var hs-var">grab</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681139002"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139002"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String, Bool) -&gt; Maybe (String, Bool)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="Data.SBV.Control.Query.html#unQuote"><span class="hs-identifier hs-var">unQuote</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139002"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span>
</span><span id="line-732"></span><span>            </span><span class="annot"><a href="#local-6989586621681139003"><span class="hs-identifier hs-var">grab</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681139001"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681139001"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-number">1</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String, Bool) -&gt; Maybe (String, Bool)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="Data.SBV.Control.Query.html#unQuote"><span class="hs-identifier hs-var">unQuote</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139001"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-733"></span><span>            </span><span class="annot"><a href="#local-6989586621681139003"><span class="hs-identifier hs-var">grab</span></a></span><span> </span><span class="hs-identifier">_</span><span>                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (String, Bool)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-734"></span><span>
</span><span id="line-735"></span><span>        </span><span id="local-6989586621681139000"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139000"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139005"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-736"></span><span>
</span><span id="line-737"></span><span>        </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m [(String, Bool)])
-&gt; (SExpr -&gt; m [(String, Bool)])
-&gt; m [(String, Bool)]
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139000"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m [(String, Bool)]
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139004"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m [(String, Bool)]) -&gt; m [(String, Bool)])
-&gt; (SExpr -&gt; m [(String, Bool)]) -&gt; m [(String, Bool)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span id="local-6989586621681138999"><span class="annot"><span class="annottext">ps :: [SExpr]
</span><a href="#local-6989586621681138999"><span class="hs-identifier hs-var">ps</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681138998"><span class="annot"><span class="annottext">vs :: [(String, Bool)]
</span><a href="#local-6989586621681138998"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SExpr -&gt; Maybe (String, Bool))
-&gt; [SExpr] -&gt; Maybe [(String, Bool)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe (String, Bool)
</span><a href="#local-6989586621681139003"><span class="hs-identifier hs-var">grab</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681138999"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(String, Bool)] -&gt; m [(String, Bool)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[(String, Bool)]
</span><a href="#local-6989586621681138998"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-738"></span><span>                            </span><span class="hs-identifier">_</span><span>                                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m [(String, Bool)]
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681139004"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681139000"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-739"></span><span>
</span><span id="line-740"></span><span class="hs-comment">-- | Make an assignment. The type 'Assignment' is abstract, the result is typically passed</span><span>
</span><span id="line-741"></span><span class="hs-comment">-- to 'mkSMTResult':</span><span>
</span><span id="line-742"></span><span class="hs-comment">--</span><span>
</span><span id="line-743"></span><span class="hs-comment">-- @ mkSMTResult [ a |-&gt; 332</span><span>
</span><span id="line-744"></span><span class="hs-comment">--             , b |-&gt; 2.3</span><span>
</span><span id="line-745"></span><span class="hs-comment">--             , c |-&gt; True</span><span>
</span><span id="line-746"></span><span class="hs-comment">--             ]</span><span>
</span><span id="line-747"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-748"></span><span class="hs-comment">--</span><span>
</span><span id="line-749"></span><span class="hs-comment">-- End users should use 'getModel' for automatically constructing models from the current solver state.</span><span>
</span><span id="line-750"></span><span class="hs-comment">-- However, an explicit 'Assignment' might be handy in complex scenarios where a model needs to be</span><span>
</span><span id="line-751"></span><span class="hs-comment">-- created manually.</span><span>
</span><span id="line-752"></span><span class="hs-keyword">infix</span><span> </span><span class="hs-number">1</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#%7C-%3E"><span class="hs-operator hs-type">|-&gt;</span></a></span><span>
</span><span id="line-753"></span><span id="local-6989586621681138997"><span class="annot"><a href="Data.SBV.Control.Query.html#%7C-%3E"><span class="hs-operator hs-type">(|-&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138997"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138997"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138997"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#Assignment"><span class="hs-identifier hs-type">Assignment</span></a></span></span><span>
</span><span id="line-754"></span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span id="local-6989586621681138995"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681138995"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="%7C-%3E"><span class="annot"><span class="annottext">|-&gt; :: SBV a -&gt; a -&gt; Assignment
</span><a href="Data.SBV.Control.Query.html#%7C-%3E"><span class="hs-operator hs-var hs-var">|-&gt;</span></a></span></span><span> </span><span id="local-6989586621681138994"><span class="annot"><span class="annottext">v :: a
</span><a href="#local-6989586621681138994"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">a -&gt; SBV a
forall a. SymVal a =&gt; a -&gt; SBV a
</span><a href="Data.SBV.Core.Data.html#literal"><span class="hs-identifier hs-var">literal</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138994"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-755"></span><span>                </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681138991"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681138991"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; CV -&gt; Assignment
</span><a href="Data.SBV.Control.Query.html#Assign"><span class="hs-identifier hs-var">Assign</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681138995"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681138991"><span class="hs-identifier hs-var">cv</span></a></span><span>
</span><span id="line-756"></span><span>                </span><span id="local-6989586621681138990"><span class="annot"><span class="annottext">r :: SBV a
</span><a href="#local-6989586621681138990"><span class="hs-identifier hs-var">r</span></a></span></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Assignment
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Assignment) -&gt; String -&gt; Assignment
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV: Impossible happened in |-&gt;: Cannot construct a CV with literal: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SBV a
</span><a href="#local-6989586621681138990"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-757"></span><span>
</span><span id="line-758"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.mkSMTResult'</span><span>
</span><span id="line-759"></span><span class="hs-comment">-- NB. This function does not allow users to create interpretations for UI-Funs. But that's</span><span>
</span><span id="line-760"></span><span class="hs-comment">-- probably not a good idea anyhow. Also, if you use the 'validateModel' or 'optimizeValidateConstraints' features, SBV will</span><span>
</span><span id="line-761"></span><span class="hs-comment">-- fail on models returned via this function.</span><span>
</span><span id="line-762"></span><span id="local-6989586621681138989"><span class="annot"><a href="Data.SBV.Control.Query.html#mkSMTResult"><span class="hs-identifier hs-type">mkSMTResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138989"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138989"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Control.Query.html#Assignment"><span class="hs-identifier hs-type">Assignment</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138989"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTResult"><span class="hs-identifier hs-type">SMTResult</span></a></span></span><span>
</span><span id="line-763"></span><span id="mkSMTResult"><span class="annot"><span class="annottext">mkSMTResult :: [Assignment] -&gt; m SMTResult
</span><a href="Data.SBV.Control.Query.html#mkSMTResult"><span class="hs-identifier hs-var hs-var">mkSMTResult</span></a></span></span><span> </span><span id="local-6989586621681138988"><span class="annot"><span class="annottext">asgns :: [Assignment]
</span><a href="#local-6989586621681138988"><span class="hs-identifier hs-var">asgns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-764"></span><span>             </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryState"><span class="hs-identifier hs-type">QueryState</span></a></span><span class="hs-special">{</span><span id="local-6989586621681138987"><span class="annot"><span class="annottext">SMTConfig
queryConfig :: SMTConfig
queryConfig :: QueryState -&gt; SMTConfig
</span><a href="#local-6989586621681138987"><span class="hs-identifier hs-var hs-var">queryConfig</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m QueryState
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var">getQueryState</span></a></span><span>
</span><span id="line-765"></span><span>             </span><span id="local-6989586621681138986"><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681138986"><span class="hs-identifier hs-var">inps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m [(Quantifier, NamedSymVar)]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m [(Quantifier, NamedSymVar)]
</span><a href="Data.SBV.Control.Utils.html#getQuantifiedInputs"><span class="hs-identifier hs-var">getQuantifiedInputs</span></a></span><span>
</span><span id="line-766"></span><span>
</span><span id="line-767"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138985"><span class="annot"><span class="annottext">grabValues :: State -&gt; IO [(String, CV)]
</span><a href="#local-6989586621681138985"><span class="hs-identifier hs-var hs-var">grabValues</span></a></span></span><span> </span><span id="local-6989586621681138984"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681138984"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138983"><span class="annot"><span class="annottext">extract :: Assignment -&gt; IO (SV, CV)
</span><a href="#local-6989586621681138983"><span class="hs-identifier hs-var hs-var">extract</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Query.html#Assign"><span class="hs-identifier hs-type">Assign</span></a></span><span> </span><span id="local-6989586621681138982"><span class="annot"><span class="annottext">s :: SVal
</span><a href="#local-6989586621681138982"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681138981"><span class="annot"><span class="annottext">n :: CV
</span><a href="#local-6989586621681138981"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State -&gt; SBV Any -&gt; IO SV
forall a. State -&gt; SBV a -&gt; IO SV
</span><a href="Data.SBV.Core.Data.html#sbvToSV"><span class="hs-identifier hs-var">sbvToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681138984"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SBV Any
forall a. SVal -&gt; SBV a
</span><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-var">SBV</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681138982"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; (SV -&gt; IO (SV, CV)) -&gt; IO (SV, CV)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681138980"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681138980"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SV, CV) -&gt; IO (SV, CV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138980"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681138981"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>
</span><span id="line-769"></span><span>                                    </span><span id="local-6989586621681138979"><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681138979"><span class="hs-identifier hs-var">modelAssignment</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Assignment -&gt; IO (SV, CV)) -&gt; [Assignment] -&gt; IO [(SV, CV)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Assignment -&gt; IO (SV, CV)
</span><a href="#local-6989586621681138983"><span class="hs-identifier hs-var">extract</span></a></span><span> </span><span class="annot"><span class="annottext">[Assignment]
</span><a href="#local-6989586621681138988"><span class="hs-identifier hs-var">asgns</span></a></span><span>
</span><span id="line-770"></span><span>
</span><span id="line-771"></span><span>                                    </span><span class="hs-comment">-- sanity checks</span><span>
</span><span id="line-772"></span><span>                                    </span><span class="hs-comment">--     - All existentials should be given a value</span><span>
</span><span id="line-773"></span><span>                                    </span><span class="hs-comment">--     - No duplicates</span><span>
</span><span id="line-774"></span><span>                                    </span><span class="hs-comment">--     - No bindings to vars that are not inputs</span><span>
</span><span id="line-775"></span><span>                                    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138978"><span class="annot"><span class="annottext">userSS :: [SV]
</span><a href="#local-6989586621681138978"><span class="hs-identifier hs-var hs-var">userSS</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((SV, CV) -&gt; SV) -&gt; [(SV, CV)] -&gt; [SV]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(SV, CV) -&gt; SV
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681138979"><span class="hs-identifier hs-var">modelAssignment</span></a></span><span>
</span><span id="line-776"></span><span>
</span><span id="line-777"></span><span>                                        </span><span class="annot"><a href="#local-6989586621681138977"><span class="hs-identifier hs-type">missing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681138976"><span class="hs-identifier hs-type">extra</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681138975"><span class="hs-identifier hs-type">dup</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-778"></span><span>                                        </span><span id="local-6989586621681138977"><span class="annot"><span class="annottext">missing :: [String]
</span><a href="#local-6989586621681138977"><span class="hs-identifier hs-var hs-var">missing</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138974"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-type">EX</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138973"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681138973"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138974"><span class="annot"><span class="annottext">n :: String
</span><a href="#local-6989586621681138974"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681138986"><span class="hs-identifier hs-var">inps</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138973"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; [SV] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`notElem`</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681138978"><span class="hs-identifier hs-var">userSS</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-779"></span><span>                                        </span><span id="local-6989586621681138976"><span class="annot"><span class="annottext">extra :: [String]
</span><a href="#local-6989586621681138976"><span class="hs-identifier hs-var hs-var">extra</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138971"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681138971"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138971"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681138978"><span class="hs-identifier hs-var">userSS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138971"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; [SV] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`notElem`</span></span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar) -&gt; SV)
-&gt; [(Quantifier, NamedSymVar)] -&gt; [SV]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamedSymVar -&gt; SV
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(NamedSymVar -&gt; SV)
-&gt; ((Quantifier, NamedSymVar) -&gt; NamedSymVar)
-&gt; (Quantifier, NamedSymVar)
-&gt; SV
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar) -&gt; NamedSymVar
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681138986"><span class="hs-identifier hs-var">inps</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-780"></span><span>                                        </span><span id="local-6989586621681138975"><span class="annot"><span class="annottext">dup :: [String]
</span><a href="#local-6989586621681138975"><span class="hs-identifier hs-var hs-var">dup</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138970"><span class="annot"><span class="annottext">walk :: [a] -&gt; [String]
</span><a href="#local-6989586621681138970"><span class="hs-identifier hs-var hs-var">walk</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-781"></span><span>                                                      </span><span class="annot"><a href="#local-6989586621681138970"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138969"><span class="annot"><span class="annottext">n :: a
</span><a href="#local-6989586621681138969"><span class="hs-identifier hs-var">n</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681138968"><span class="annot"><span class="annottext">ns :: [a]
</span><a href="#local-6989586621681138968"><span class="hs-identifier hs-var">ns</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-782"></span><span>                                                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138969"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681138968"><span class="hs-identifier hs-var">ns</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138969"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [String]
</span><a href="#local-6989586621681138970"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; Bool) -&gt; [a] -&gt; [a]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138969"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681138968"><span class="hs-identifier hs-var">ns</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-783"></span><span>                                                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [String]
</span><a href="#local-6989586621681138970"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681138968"><span class="hs-identifier hs-var">ns</span></a></span><span>
</span><span id="line-784"></span><span>                                                  </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[SV] -&gt; [String]
forall a. (Eq a, Show a) =&gt; [a] -&gt; [String]
</span><a href="#local-6989586621681138970"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681138978"><span class="hs-identifier hs-var">userSS</span></a></span><span>
</span><span id="line-785"></span><span>
</span><span id="line-786"></span><span>                                    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138977"><span class="hs-identifier hs-var">missing</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138976"><span class="hs-identifier hs-var">extra</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138975"><span class="hs-identifier hs-var">dup</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-787"></span><span>
</span><span id="line-788"></span><span>                                          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138966"><span class="annot"><span class="annottext">misTag :: String
</span><a href="#local-6989586621681138966"><span class="hs-identifier hs-var hs-var">misTag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;***   Missing inputs&quot;</span></span><span>
</span><span id="line-789"></span><span>                                              </span><span id="local-6989586621681138965"><span class="annot"><span class="annottext">dupTag :: String
</span><a href="#local-6989586621681138965"><span class="hs-identifier hs-var hs-var">dupTag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;***   Duplicate bindings&quot;</span></span><span>
</span><span id="line-790"></span><span>                                              </span><span id="local-6989586621681138964"><span class="annot"><span class="annottext">extTag :: String
</span><a href="#local-6989586621681138964"><span class="hs-identifier hs-var hs-var">extTag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;***   Extra bindings&quot;</span></span><span>
</span><span id="line-791"></span><span>
</span><span id="line-792"></span><span>                                              </span><span id="local-6989586621681138963"><span class="annot"><span class="annottext">maxLen :: Int
</span><a href="#local-6989586621681138963"><span class="hs-identifier hs-var hs-var">maxLen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Int
forall (t :: * -&gt; *) a. (Foldable t, Ord a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">maximum</span></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; Int) -&gt; [Int] -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>  </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-793"></span><span>                                                                </span><span class="annot"><span class="annottext">Int -&gt; [Int] -&gt; [Int]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138966"><span class="hs-identifier hs-var">misTag</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138977"><span class="hs-identifier hs-var">missing</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-794"></span><span>                                                               </span><span class="annot"><span class="annottext">[Int] -&gt; [Int] -&gt; [Int]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138964"><span class="hs-identifier hs-var">extTag</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138976"><span class="hs-identifier hs-var">extra</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-795"></span><span>                                                               </span><span class="annot"><span class="annottext">[Int] -&gt; [Int] -&gt; [Int]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138965"><span class="hs-identifier hs-var">dupTag</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138975"><span class="hs-identifier hs-var">dup</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-796"></span><span>
</span><span id="line-797"></span><span>                                              </span><span id="local-6989586621681138961"><span class="annot"><span class="annottext">align :: String -&gt; String
</span><a href="#local-6989586621681138961"><span class="hs-identifier hs-var hs-var">align</span></a></span></span><span> </span><span id="local-6989586621681138960"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681138960"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138960"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; String
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681138963"><span class="hs-identifier hs-var">maxLen</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138960"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: &quot;</span></span><span>
</span><span id="line-798"></span><span>
</span><span id="line-799"></span><span>                                          </span><span class="annot"><span class="annottext">String -&gt; IO ()
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [String] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-800"></span><span>                                                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV: Query model construction has a faulty assignment.&quot;</span></span><span>
</span><span id="line-801"></span><span>                                                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-802"></span><span>                                                            </span><span class="hs-special">]</span><span>
</span><span id="line-803"></span><span>                                                         </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621681138961"><span class="hs-identifier hs-var">align</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138966"><span class="hs-identifier hs-var">misTag</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, &quot;</span></span><span>  </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138977"><span class="hs-identifier hs-var">missing</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138977"><span class="hs-identifier hs-var">missing</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-804"></span><span>                                                         </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621681138961"><span class="hs-identifier hs-var">align</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138964"><span class="hs-identifier hs-var">extTag</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, &quot;</span></span><span>  </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138976"><span class="hs-identifier hs-var">extra</span></a></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138976"><span class="hs-identifier hs-var">extra</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-805"></span><span>                                                         </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621681138961"><span class="hs-identifier hs-var">align</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138965"><span class="hs-identifier hs-var">dupTag</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, &quot;</span></span><span>  </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138975"><span class="hs-identifier hs-var">dup</span></a></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138975"><span class="hs-identifier hs-var">dup</span></a></span><span class="hs-special">)</span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-806"></span><span>                                                         </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-807"></span><span>                                                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV: Check your query result construction!&quot;</span></span><span>
</span><span id="line-808"></span><span>                                                            </span><span class="hs-special">]</span><span>
</span><span id="line-809"></span><span>
</span><span id="line-810"></span><span>                                    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138958"><span class="annot"><span class="annottext">findName :: SV -&gt; String
</span><a href="#local-6989586621681138958"><span class="hs-identifier hs-var hs-var">findName</span></a></span></span><span> </span><span id="local-6989586621681138957"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681138957"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138956"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138955"><span class="annot"><span class="annottext">i :: SV
</span><a href="#local-6989586621681138955"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138956"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681138956"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681138986"><span class="hs-identifier hs-var">inps</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138957"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138955"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-811"></span><span>                                                        </span><span class="hs-special">[</span><span id="local-6989586621681138954"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681138954"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138954"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-812"></span><span>                                                        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV: Impossible happened: Cannot find &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138957"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; in the input list&quot;</span></span><span>
</span><span id="line-813"></span><span>                                                        </span><span id="local-6989586621681138953"><span class="annot"><span class="annottext">nms :: [String]
</span><a href="#local-6989586621681138953"><span class="hs-identifier hs-var">nms</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; String -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-814"></span><span>                                                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV: Impossible happened: Multiple matches for: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138957"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-815"></span><span>                                                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***   Candidates: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138953"><span class="hs-identifier hs-var">nms</span></a></span><span>
</span><span id="line-816"></span><span>                                                                                </span><span class="hs-special">]</span><span>
</span><span id="line-817"></span><span>
</span><span id="line-818"></span><span>                                    </span><span class="annot"><span class="annottext">[(String, CV)] -&gt; IO [(String, CV)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; String
</span><a href="#local-6989586621681138958"><span class="hs-identifier hs-var">findName</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138952"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681138951"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138952"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681138952"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138951"><span class="annot"><span class="annottext">n :: CV
</span><a href="#local-6989586621681138951"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681138979"><span class="hs-identifier hs-var">modelAssignment</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-819"></span><span>
</span><span id="line-820"></span><span>             </span><span id="local-6989586621681138950"><span class="annot"><span class="annottext">[(String, CV)]
</span><a href="#local-6989586621681138950"><span class="hs-identifier hs-var">assocs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO [(String, CV)]) -&gt; m [(String, CV)]
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
(State -&gt; IO a) -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier hs-var">inNewContext</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO [(String, CV)]
</span><a href="#local-6989586621681138985"><span class="hs-identifier hs-var">grabValues</span></a></span><span>
</span><span id="line-821"></span><span>
</span><span id="line-822"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138949"><span class="annot"><span class="annottext">m :: SMTModel
</span><a href="#local-6989586621681138949"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTModel :: [(String, GeneralizedCV)]
-&gt; Maybe [((Quantifier, NamedSymVar), Maybe CV)]
-&gt; [(String, CV)]
-&gt; [(String, (SBVType, ([([CV], CV)], CV)))]
-&gt; SMTModel
</span><a href="Data.SBV.Core.Symbolic.html#SMTModel"><span class="hs-identifier hs-type hs-type">SMTModel</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">modelObjectives :: [(String, GeneralizedCV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelObjectives"><span class="hs-identifier hs-var">modelObjectives</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-823"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">modelBindings :: Maybe [((Quantifier, NamedSymVar), Maybe CV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelBindings"><span class="hs-identifier hs-var">modelBindings</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [((Quantifier, NamedSymVar), Maybe CV)]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-824"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">modelAssocs :: [(String, CV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelAssocs"><span class="hs-identifier hs-var">modelAssocs</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, CV)]
</span><a href="#local-6989586621681138950"><span class="hs-identifier hs-var">assocs</span></a></span><span>
</span><span id="line-825"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">modelUIFuns :: [(String, (SBVType, ([([CV], CV)], CV)))]
</span><a href="Data.SBV.Core.Symbolic.html#modelUIFuns"><span class="hs-identifier hs-var">modelUIFuns</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-826"></span><span>                              </span><span class="hs-special">}</span><span>
</span><span id="line-827"></span><span>
</span><span id="line-828"></span><span>             </span><span class="annot"><span class="annottext">SMTResult -&gt; m SMTResult
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SMTResult -&gt; m SMTResult) -&gt; SMTResult -&gt; m SMTResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTModel -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Satisfiable"><span class="hs-identifier hs-var">Satisfiable</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681138987"><span class="hs-identifier hs-var">queryConfig</span></a></span><span> </span><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681138949"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-829"></span><span>
</span><span id="line-830"></span><span class="hs-pragma">{-# ANN</span><span> </span><span class="annot"><a href="Data.SBV.Control.Query.html#getModelAtIndex"><span class="hs-pragma hs-type">getModelAtIndex</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma">&quot;HLint: ignore Use forM_&quot;</span></span><span>          </span><span class="hs-pragma">::</span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-831"></span></pre></body></html>