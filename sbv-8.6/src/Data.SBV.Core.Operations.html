<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Module    : Data.SBV.Core.Operations</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Copyright : (c) Levent Erkok</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- License   : BSD3</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Maintainer: erkokl@gmail.com</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Stability : experimental</span><span>
</span><span id="line-8"></span><span class="hs-comment">--</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Constructors and basic operations on symbolic values</span><span>
</span><span id="line-10"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE BangPatterns #-}</span><span>
</span><span id="line-13"></span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wall -Werror #-}</span><span>
</span><span id="line-15"></span><span>
</span><span id="line-16"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.SBV.Core.Operations</span><span>
</span><span id="line-17"></span><span>  </span><span class="hs-special">(</span><span>
</span><span id="line-18"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Basic constructors</span></span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svTrue"><span class="hs-identifier">svTrue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier">svFalse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svBool"><span class="hs-identifier">svBool</span></a></span><span>
</span><span id="line-20"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier">svInteger</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svFloat"><span class="hs-identifier">svFloat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svDouble"><span class="hs-identifier">svDouble</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svReal"><span class="hs-identifier">svReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svEnumFromThenTo"><span class="hs-identifier">svEnumFromThenTo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svString"><span class="hs-identifier">svString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svChar"><span class="hs-identifier">svChar</span></a></span><span>
</span><span id="line-21"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Basic destructors</span></span><span>
</span><span id="line-22"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svAsBool"><span class="hs-identifier">svAsBool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier">svAsInteger</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svNumerator"><span class="hs-identifier">svNumerator</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svDenominator"><span class="hs-identifier">svDenominator</span></a></span><span>
</span><span id="line-23"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Basic operations</span></span><span>
</span><span id="line-24"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svPlus"><span class="hs-identifier">svPlus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svTimes"><span class="hs-identifier">svTimes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svMinus"><span class="hs-identifier">svMinus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svUNeg"><span class="hs-identifier">svUNeg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svAbs"><span class="hs-identifier">svAbs</span></a></span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svDivide"><span class="hs-identifier">svDivide</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svQuot"><span class="hs-identifier">svQuot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svRem"><span class="hs-identifier">svRem</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svQuotRem"><span class="hs-identifier">svQuotRem</span></a></span><span>
</span><span id="line-26"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svEqual"><span class="hs-identifier">svEqual</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svNotEqual"><span class="hs-identifier">svNotEqual</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svStrongEqual"><span class="hs-identifier">svStrongEqual</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svSetEqual"><span class="hs-identifier">svSetEqual</span></a></span><span>
</span><span id="line-27"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-identifier">svLessThan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svGreaterThan"><span class="hs-identifier">svGreaterThan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svLessEq"><span class="hs-identifier">svLessEq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svGreaterEq"><span class="hs-identifier">svGreaterEq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svStructuralLessThan"><span class="hs-identifier">svStructuralLessThan</span></a></span><span>
</span><span id="line-28"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svAnd"><span class="hs-identifier">svAnd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svOr"><span class="hs-identifier">svOr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svXOr"><span class="hs-identifier">svXOr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svNot"><span class="hs-identifier">svNot</span></a></span><span>
</span><span id="line-29"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svShl"><span class="hs-identifier">svShl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svShr"><span class="hs-identifier">svShr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svRol"><span class="hs-identifier">svRol</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svRor"><span class="hs-identifier">svRor</span></a></span><span>
</span><span id="line-30"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svExtract"><span class="hs-identifier">svExtract</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svJoin"><span class="hs-identifier">svJoin</span></a></span><span>
</span><span id="line-31"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier">svIte</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svLazyIte"><span class="hs-identifier">svLazyIte</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svSymbolicMerge"><span class="hs-identifier">svSymbolicMerge</span></a></span><span>
</span><span id="line-32"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier">svSelect</span></a></span><span>
</span><span id="line-33"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svSign"><span class="hs-identifier">svSign</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svUnsign"><span class="hs-identifier">svUnsign</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svSetBit"><span class="hs-identifier">svSetBit</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svWordFromBE"><span class="hs-identifier">svWordFromBE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svWordFromLE"><span class="hs-identifier">svWordFromLE</span></a></span><span>
</span><span id="line-34"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svExp"><span class="hs-identifier">svExp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svFromIntegral"><span class="hs-identifier">svFromIntegral</span></a></span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Overflows</span></span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svMkOverflow"><span class="hs-identifier">svMkOverflow</span></a></span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Derived operations</span></span><span>
</span><span id="line-38"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svToWord1"><span class="hs-identifier">svToWord1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svFromWord1"><span class="hs-identifier">svFromWord1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svTestBit"><span class="hs-identifier">svTestBit</span></a></span><span>
</span><span id="line-39"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svShiftLeft"><span class="hs-identifier">svShiftLeft</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svShiftRight"><span class="hs-identifier">svShiftRight</span></a></span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svRotateLeft"><span class="hs-identifier">svRotateLeft</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svRotateRight"><span class="hs-identifier">svRotateRight</span></a></span><span>
</span><span id="line-41"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svBarrelRotateLeft"><span class="hs-identifier">svBarrelRotateLeft</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svBarrelRotateRight"><span class="hs-identifier">svBarrelRotateRight</span></a></span><span>
</span><span id="line-42"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svBlastLE"><span class="hs-identifier">svBlastLE</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svBlastBE"><span class="hs-identifier">svBlastBE</span></a></span><span>
</span><span id="line-43"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svAddConstant"><span class="hs-identifier">svAddConstant</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svIncrement"><span class="hs-identifier">svIncrement</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svDecrement"><span class="hs-identifier">svDecrement</span></a></span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Basic array operations</span></span><span>
</span><span id="line-45"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier">SArr</span></a></span><span class="hs-special">,</span><span>         </span><span class="annot"><a href="Data.SBV.Core.Operations.html#readSArr"><span class="hs-identifier">readSArr</span></a></span><span class="hs-special">,</span><span>     </span><span class="annot"><a href="Data.SBV.Core.Operations.html#writeSArr"><span class="hs-identifier">writeSArr</span></a></span><span class="hs-special">,</span><span>     </span><span class="annot"><a href="Data.SBV.Core.Operations.html#mergeSArr"><span class="hs-identifier">mergeSArr</span></a></span><span class="hs-special">,</span><span>     </span><span class="annot"><a href="Data.SBV.Core.Operations.html#newSArr"><span class="hs-identifier">newSArr</span></a></span><span class="hs-special">,</span><span>     </span><span class="annot"><a href="Data.SBV.Core.Operations.html#eqSArr"><span class="hs-identifier">eqSArr</span></a></span><span>
</span><span id="line-46"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier">SFunArr</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Data.SBV.Core.Operations.html#readSFunArr"><span class="hs-identifier">readSFunArr</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Data.SBV.Core.Operations.html#writeSFunArr"><span class="hs-identifier">writeSFunArr</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Data.SBV.Core.Operations.html#mergeSFunArr"><span class="hs-identifier">mergeSFunArr</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Data.SBV.Core.Operations.html#newSFunArr"><span class="hs-identifier">newSFunArr</span></a></span><span>
</span><span id="line-47"></span><span>  </span><span class="hs-comment">-- Utils</span><span>
</span><span id="line-48"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#mkSymOp"><span class="hs-identifier">mkSymOp</span></a></span><span>
</span><span id="line-49"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-51"></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Bits</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">genericIndex</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">genericLength</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">genericTake</span></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IORef</span></span><span>         </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">R</span></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">modifyIORef'</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">newIORef</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">readIORef</span></span><span class="hs-special">)</span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span>    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">toList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">lookup</span></span><span class="hs-special">)</span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IntMap.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IntMap</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">empty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toAscList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromAscList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">lookup</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">size</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">insert</span></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html"><span class="hs-identifier">Data.SBV.Core.AlgReals</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html"><span class="hs-identifier">Data.SBV.Core.Kind</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html"><span class="hs-identifier">Data.SBV.Core.Concrete</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html"><span class="hs-identifier">Data.SBV.Core.Symbolic</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Ratio</span></span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Utils.Numeric.html"><span class="hs-identifier">Data.SBV.Utils.Numeric</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.Numeric.html#fpIsEqualObjectH"><span class="hs-identifier">fpIsEqualObjectH</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-69"></span><span class="hs-comment">-- Basic constructors</span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-comment">-- | Boolean True.</span><span>
</span><span id="line-72"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svTrue"><span class="hs-identifier hs-type">svTrue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-73"></span><span id="svTrue"><span class="annot"><span class="annottext">svTrue :: SVal
</span><a href="Data.SBV.Core.Operations.html#svTrue"><span class="hs-identifier hs-var hs-var">svTrue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="Data.SBV.Core.Concrete.html#trueCV"><span class="hs-identifier hs-var">trueCV</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-comment">-- | Boolean False.</span><span>
</span><span id="line-76"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-type">svFalse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-77"></span><span id="svFalse"><span class="annot"><span class="annottext">svFalse :: SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var hs-var">svFalse</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="Data.SBV.Core.Concrete.html#falseCV"><span class="hs-identifier hs-var">falseCV</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-comment">-- | Convert from a Boolean.</span><span>
</span><span id="line-80"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svBool"><span class="hs-identifier hs-type">svBool</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-81"></span><span id="svBool"><span class="annot"><span class="annottext">svBool :: Bool -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svBool"><span class="hs-identifier hs-var hs-var">svBool</span></a></span></span><span> </span><span id="local-6989586621681131318"><span class="annot"><span class="annottext">b :: Bool
</span><a href="#local-6989586621681131318"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681131318"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svTrue"><span class="hs-identifier hs-var">svTrue</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var">svFalse</span></a></span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-comment">-- | Convert from an Integer.</span><span>
</span><span id="line-84"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-type">svInteger</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-85"></span><span id="svInteger"><span class="annot"><span class="annottext">svInteger :: Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var hs-var">svInteger</span></a></span></span><span> </span><span id="local-6989586621681131317"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681131317"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681131316"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681131316"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131317"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; CV
forall a. Integral a =&gt; Kind -&gt; a -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mkConstCV"><span class="hs-identifier hs-var">mkConstCV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131317"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131316"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-comment">-- | Convert from a Float</span><span>
</span><span id="line-88"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svFloat"><span class="hs-identifier hs-type">svFloat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-89"></span><span id="svFloat"><span class="annot"><span class="annottext">svFloat :: Float -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svFloat"><span class="hs-identifier hs-var hs-var">svFloat</span></a></span></span><span> </span><span id="local-6989586621681131313"><span class="annot"><span class="annottext">f :: Float
</span><a href="#local-6989586621681131313"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-var">KFloat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-var">KFloat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Float -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CFloat"><span class="hs-identifier hs-var">CFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681131313"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">-- | Convert from a Float</span><span>
</span><span id="line-92"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svDouble"><span class="hs-identifier hs-type">svDouble</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-93"></span><span id="svDouble"><span class="annot"><span class="annottext">svDouble :: Double -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svDouble"><span class="hs-identifier hs-var hs-var">svDouble</span></a></span></span><span> </span><span id="local-6989586621681131309"><span class="annot"><span class="annottext">d :: Double
</span><a href="#local-6989586621681131309"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-var">KDouble</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-var">KDouble</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CDouble"><span class="hs-identifier hs-var">CDouble</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681131309"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-comment">-- | Convert from a String</span><span>
</span><span id="line-96"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svString"><span class="hs-identifier hs-type">svString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-97"></span><span id="svString"><span class="annot"><span class="annottext">svString :: String -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svString"><span class="hs-identifier hs-var hs-var">svString</span></a></span></span><span> </span><span id="local-6989586621681131306"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681131306"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KString"><span class="hs-identifier hs-var">KString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KString"><span class="hs-identifier hs-var">KString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CString"><span class="hs-identifier hs-var">CString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681131306"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">-- | Convert from a Char</span><span>
</span><span id="line-100"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svChar"><span class="hs-identifier hs-type">svChar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-101"></span><span id="svChar"><span class="annot"><span class="annottext">svChar :: Char -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svChar"><span class="hs-identifier hs-var hs-var">svChar</span></a></span></span><span> </span><span id="local-6989586621681131303"><span class="annot"><span class="annottext">c :: Char
</span><a href="#local-6989586621681131303"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KChar"><span class="hs-identifier hs-var">KChar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KChar"><span class="hs-identifier hs-var">KChar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CChar"><span class="hs-identifier hs-var">CChar</span></a></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681131303"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">-- | Convert from a Rational</span><span>
</span><span id="line-104"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svReal"><span class="hs-identifier hs-type">svReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-105"></span><span id="svReal"><span class="annot"><span class="annottext">svReal :: Rational -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svReal"><span class="hs-identifier hs-var hs-var">svReal</span></a></span></span><span> </span><span id="local-6989586621681131300"><span class="annot"><span class="annottext">d :: Rational
</span><a href="#local-6989586621681131300"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-var">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-var">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AlgReal -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-var">CAlgReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; AlgReal
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681131300"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- Basic destructors</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-comment">-- | Extract a bool, by properly interpreting the integer stored.</span><span>
</span><span id="line-111"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svAsBool"><span class="hs-identifier hs-type">svAsBool</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-112"></span><span id="svAsBool"><span class="annot"><span class="annottext">svAsBool :: SVal -&gt; Maybe Bool
</span><a href="Data.SBV.Core.Operations.html#svAsBool"><span class="hs-identifier hs-var hs-var">svAsBool</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681131297"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681131297"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Bool
</span><a href="Data.SBV.Core.Concrete.html#cvToBool"><span class="hs-identifier hs-var">cvToBool</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681131297"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svAsBool"><span class="hs-identifier hs-var">svAsBool</span></a></span><span> </span><span class="hs-identifier">_</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Bool
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-114"></span><span>
</span><span id="line-115"></span><span class="hs-comment">-- | Extract an integer from a concrete value.</span><span>
</span><span id="line-116"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-type">svAsInteger</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-117"></span><span id="svAsInteger"><span class="annot"><span class="annottext">svAsInteger :: SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var hs-var">svAsInteger</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681131294"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681131294"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Maybe Integer
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131294"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-118"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var">svAsInteger</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Integer
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- | Grab the numerator of an SReal, if available</span><span>
</span><span id="line-121"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svNumerator"><span class="hs-identifier hs-type">svNumerator</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-122"></span><span id="svNumerator"><span class="annot"><span class="annottext">svNumerator :: SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svNumerator"><span class="hs-identifier hs-var hs-var">svNumerator</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-type">CAlgReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgRational"><span class="hs-identifier hs-type">AlgRational</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span id="local-6989586621681131292"><span class="annot"><span class="annottext">r :: Rational
</span><a href="#local-6989586621681131292"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Maybe Integer
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Maybe Integer) -&gt; Integer -&gt; Maybe Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">numerator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681131292"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-123"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svNumerator"><span class="hs-identifier hs-var">svNumerator</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                                              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Integer
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-comment">-- | Grab the denominator of an SReal, if available</span><span>
</span><span id="line-126"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svDenominator"><span class="hs-identifier hs-type">svDenominator</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-127"></span><span id="svDenominator"><span class="annot"><span class="annottext">svDenominator :: SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svDenominator"><span class="hs-identifier hs-var hs-var">svDenominator</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-type">CAlgReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgRational"><span class="hs-identifier hs-type">AlgRational</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span id="local-6989586621681131290"><span class="annot"><span class="annottext">r :: Rational
</span><a href="#local-6989586621681131290"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Maybe Integer
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Maybe Integer) -&gt; Integer -&gt; Maybe Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Integer
forall a. Ratio a -&gt; a
</span><span class="hs-identifier hs-var">denominator</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681131290"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-128"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svDenominator"><span class="hs-identifier hs-var">svDenominator</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                                              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Integer
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-comment">-------------------------------------------------------------------------------------</span><span>
</span><span id="line-131"></span><span class="hs-comment">-- | Constructing [x, y, .. z] and [x .. y]. Only works when all arguments are concrete and integral and the result is guaranteed finite</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- Note that the it isn't &quot;obviously&quot; clear why the following works; after all we're doing the construction over Integer's and mapping</span><span>
</span><span id="line-133"></span><span class="hs-comment">-- it back to other types such as SIntN/SWordN. The reason is that the values we receive are guaranteed to be in their domains; and thus</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- the lifting to Integers preserves the bounds; and then going back is just fine. So, things like @[1, 5 .. 200] :: [SInt8]@ work just</span><span>
</span><span id="line-135"></span><span class="hs-comment">-- fine (end evaluate to empty list), since we see @[1, 5 .. -56]@ in the @Integer@ domain. Also note the explicit check for @s /= f@</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- below to make sure we don't stutter and produce an infinite list.</span><span>
</span><span id="line-137"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svEnumFromThenTo"><span class="hs-identifier hs-type">svEnumFromThenTo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-138"></span><span id="svEnumFromThenTo"><span class="annot"><span class="annottext">svEnumFromThenTo :: SVal -&gt; Maybe SVal -&gt; SVal -&gt; Maybe [SVal]
</span><a href="Data.SBV.Core.Operations.html#svEnumFromThenTo"><span class="hs-identifier hs-var hs-var">svEnumFromThenTo</span></a></span></span><span> </span><span id="local-6989586621681131288"><span class="annot"><span class="annottext">bf :: SVal
</span><a href="#local-6989586621681131288"><span class="hs-identifier hs-var">bf</span></a></span></span><span> </span><span id="local-6989586621681131287"><span class="annot"><span class="annottext">mbs :: Maybe SVal
</span><a href="#local-6989586621681131287"><span class="hs-identifier hs-var">mbs</span></a></span></span><span> </span><span id="local-6989586621681131286"><span class="annot"><span class="annottext">bt :: SVal
</span><a href="#local-6989586621681131286"><span class="hs-identifier hs-var">bt</span></a></span></span><span>
</span><span id="line-139"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131285"><span class="annot"><span class="annottext">bs :: SVal
</span><a href="#local-6989586621681131285"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe SVal
</span><a href="#local-6989586621681131287"><span class="hs-identifier hs-var">mbs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131284"><span class="annot"><span class="annottext">f :: Integer
</span><a href="#local-6989586621681131284"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var">svAsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131288"><span class="hs-identifier hs-var">bf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131283"><span class="annot"><span class="annottext">s :: Integer
</span><a href="#local-6989586621681131283"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var">svAsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131285"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131282"><span class="annot"><span class="annottext">t :: Integer
</span><a href="#local-6989586621681131282"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var">svAsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131286"><span class="hs-identifier hs-var">bt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131283"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131284"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; Maybe [SVal]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([SVal] -&gt; Maybe [SVal]) -&gt; [SVal] -&gt; Maybe [SVal]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; SVal) -&gt; [Integer] -&gt; [SVal]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131288"><span class="hs-identifier hs-var">bf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131284"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131283"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131282"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Maybe SVal
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe SVal
</span><a href="#local-6989586621681131287"><span class="hs-identifier hs-var">mbs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131279"><span class="annot"><span class="annottext">f :: Integer
</span><a href="#local-6989586621681131279"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var">svAsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131288"><span class="hs-identifier hs-var">bf</span></a></span><span class="hs-special">,</span><span>                           </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131278"><span class="annot"><span class="annottext">t :: Integer
</span><a href="#local-6989586621681131278"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var">svAsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131286"><span class="hs-identifier hs-var">bt</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; Maybe [SVal]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([SVal] -&gt; Maybe [SVal]) -&gt; [SVal] -&gt; Maybe [SVal]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; SVal) -&gt; [Integer] -&gt; [SVal]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131288"><span class="hs-identifier hs-var">bf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131279"><span class="hs-identifier hs-var">f</span></a></span><span>    </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131278"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                                                                                                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [SVal]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-142"></span><span>
</span><span id="line-143"></span><span class="hs-comment">-------------------------------------------------------------------------------------</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- Basic operations</span><span>
</span><span id="line-145"></span><span>
</span><span id="line-146"></span><span class="hs-comment">-- | Addition.</span><span>
</span><span id="line-147"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svPlus"><span class="hs-identifier hs-type">svPlus</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-148"></span><span id="svPlus"><span class="annot"><span class="annottext">svPlus :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svPlus"><span class="hs-identifier hs-var hs-var">svPlus</span></a></span></span><span> </span><span id="local-6989586621681131277"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131277"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131276"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131276"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-149"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131277"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131276"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131276"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131277"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer -&gt; Integer)
-&gt; (Float -&gt; Float -&gt; Float)
-&gt; (Double -&gt; Double -&gt; Double)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-var">liftSym2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp"><span class="hs-identifier hs-var">mkSymOp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Plus"><span class="hs-identifier hs-var">Plus</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; AlgReal
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131277"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131276"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- | Multiplication.</span><span>
</span><span id="line-154"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svTimes"><span class="hs-identifier hs-type">svTimes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-155"></span><span id="svTimes"><span class="annot"><span class="annottext">svTimes :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svTimes"><span class="hs-identifier hs-var hs-var">svTimes</span></a></span></span><span> </span><span id="local-6989586621681131270"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131270"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131269"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131269"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131270"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131270"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131269"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131269"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOne"><span class="hs-identifier hs-var">isConcreteOne</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131270"><span class="hs-identifier hs-var">x</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131269"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOne"><span class="hs-identifier hs-var">isConcreteOne</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131269"><span class="hs-identifier hs-var">y</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131270"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer -&gt; Integer)
-&gt; (Float -&gt; Float -&gt; Float)
-&gt; (Double -&gt; Double -&gt; Double)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-var">liftSym2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp"><span class="hs-identifier hs-var">mkSymOp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Times"><span class="hs-identifier hs-var">Times</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; AlgReal
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(*)</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131270"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131269"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="hs-comment">-- | Subtraction.</span><span>
</span><span id="line-163"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svMinus"><span class="hs-identifier hs-type">svMinus</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-164"></span><span id="svMinus"><span class="annot"><span class="annottext">svMinus :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svMinus"><span class="hs-identifier hs-var hs-var">svMinus</span></a></span></span><span> </span><span id="local-6989586621681131265"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131265"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131264"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131264"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131264"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131265"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer -&gt; Integer)
-&gt; (Float -&gt; Float -&gt; Float)
-&gt; (Double -&gt; Double -&gt; Double)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-var">liftSym2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp"><span class="hs-identifier hs-var">mkSymOp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Minus"><span class="hs-identifier hs-var">Minus</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131265"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131264"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="hs-comment">-- | Unary minus.</span><span>
</span><span id="line-169"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svUNeg"><span class="hs-identifier hs-type">svUNeg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-170"></span><span id="svUNeg"><span class="annot"><span class="annottext">svUNeg :: SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svUNeg"><span class="hs-identifier hs-var hs-var">svUNeg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; IO SV)
-&gt; (AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer)
-&gt; (Float -&gt; Float)
-&gt; (Double -&gt; Double)
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym1"><span class="hs-identifier hs-var">liftSym1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; State -&gt; Kind -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp1"><span class="hs-identifier hs-var">mkSymOp1</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#UNeg"><span class="hs-identifier hs-var">UNeg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">negate</span></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="hs-comment">-- | Absolute value.</span><span>
</span><span id="line-173"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svAbs"><span class="hs-identifier hs-type">svAbs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-174"></span><span id="svAbs"><span class="annot"><span class="annottext">svAbs :: SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svAbs"><span class="hs-identifier hs-var hs-var">svAbs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; IO SV)
-&gt; (AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer)
-&gt; (Float -&gt; Float)
-&gt; (Double -&gt; Double)
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym1"><span class="hs-identifier hs-var">liftSym1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; State -&gt; Kind -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp1"><span class="hs-identifier hs-var">mkSymOp1</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Abs"><span class="hs-identifier hs-var">Abs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-comment">-- | Division.</span><span>
</span><span id="line-177"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svDivide"><span class="hs-identifier hs-type">svDivide</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-178"></span><span id="svDivide"><span class="annot"><span class="annottext">svDivide :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svDivide"><span class="hs-identifier hs-var hs-var">svDivide</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer -&gt; Integer)
-&gt; (Float -&gt; Float -&gt; Float)
-&gt; (Double -&gt; Double -&gt; Double)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-var">liftSym2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp"><span class="hs-identifier hs-var">mkSymOp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Quot"><span class="hs-identifier hs-var">Quot</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; AlgReal
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621681131255"><span class="hs-identifier hs-var">idiv</span></a></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
forall a. Fractional a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(/)</span></span><span>
</span><span id="line-179"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131255"><span class="annot"><span class="annottext">idiv :: a -&gt; a -&gt; a
</span><a href="#local-6989586621681131255"><span class="hs-identifier hs-var hs-var">idiv</span></a></span></span><span> </span><span id="local-6989586621681131254"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621681131254"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131254"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-180"></span><span>         </span><span class="annot"><a href="#local-6989586621681131255"><span class="hs-identifier hs-var">idiv</span></a></span><span> </span><span id="local-6989586621681131253"><span class="annot"><span class="annottext">x :: a
</span><a href="#local-6989586621681131253"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131252"><span class="annot"><span class="annottext">y :: a
</span><a href="#local-6989586621681131252"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131253"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131252"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- | Exponentiation.</span><span>
</span><span id="line-183"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svExp"><span class="hs-identifier hs-type">svExp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-184"></span><span id="svExp"><span class="annot"><span class="annottext">svExp :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svExp"><span class="hs-identifier hs-var hs-var">svExp</span></a></span></span><span> </span><span id="local-6989586621681131250"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681131250"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681131249"><span class="annot"><span class="annottext">e :: SVal
</span><a href="#local-6989586621681131249"><span class="hs-identifier hs-var">e</span></a></span></span><span>
</span><span id="line-185"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131248"><span class="annot"><span class="annottext">x :: Integer
</span><a href="#local-6989586621681131248"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var">svAsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131249"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-186"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131248"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681131247"><span class="annot"><span class="annottext">go :: a -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681131247"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621681131246"><span class="annot"><span class="annottext">n :: a
</span><a href="#local-6989586621681131246"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681131245"><span class="annot"><span class="annottext">v :: SVal
</span><a href="#local-6989586621681131245"><span class="hs-identifier hs-var">v</span></a></span></span><span>
</span><span id="line-187"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131246"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131244"><span class="hs-identifier hs-var">one</span></a></span><span>
</span><span id="line-188"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
forall a. Integral a =&gt; a -&gt; Bool
</span><span class="hs-identifier hs-var">even</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131246"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">=</span><span>             </span><span class="annot"><span class="annottext">a -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681131247"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131246"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svTimes"><span class="hs-identifier hs-var">svTimes</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131245"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131245"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svTimes"><span class="hs-identifier hs-var">svTimes</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131245"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal) -&gt; SVal -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681131247"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131246"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svTimes"><span class="hs-identifier hs-var">svTimes</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131245"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131245"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span>                   </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">Integer -&gt; SVal -&gt; SVal
forall a. Integral a =&gt; a -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681131247"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131248"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131250"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-191"></span><span>              </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">String -&gt; SVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SVal) -&gt; String -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;svExp: exponentiation: negative exponent: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131248"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131249"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#hasSign"><span class="hs-identifier hs-var">hasSign</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131249"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-193"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SVal) -&gt; String -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;svExp: exponentiation only works with unsigned bounded symbolic exponents, kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131249"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-194"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-195"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; SVal
</span><a href="#local-6989586621681131236"><span class="hs-identifier hs-var">prod</span></a></span><span> </span><span class="annot"><span class="annottext">([SVal] -&gt; SVal) -&gt; [SVal] -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal -&gt; SVal) -&gt; [SVal] -&gt; [SVal] -&gt; [SVal]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681131234"><span class="annot"><span class="annottext">use :: SVal
</span><a href="#local-6989586621681131234"><span class="hs-identifier hs-var">use</span></a></span></span><span> </span><span id="local-6989586621681131233"><span class="annot"><span class="annottext">n :: SVal
</span><a href="#local-6989586621681131233"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131234"><span class="hs-identifier hs-var">use</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131233"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131244"><span class="hs-identifier hs-var">one</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-196"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; [SVal]
</span><a href="Data.SBV.Core.Operations.html#svBlastLE"><span class="hs-identifier hs-var">svBlastLE</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131249"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>                   </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SVal -&gt; SVal) -&gt; SVal -&gt; [SVal]
forall a. (a -&gt; a) -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">iterate</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681131231"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131231"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svTimes"><span class="hs-identifier hs-var">svTimes</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131231"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131231"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131250"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131236"><span class="annot"><span class="annottext">prod :: [SVal] -&gt; SVal
</span><a href="#local-6989586621681131236"><span class="hs-identifier hs-var hs-var">prod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal -&gt; SVal) -&gt; SVal -&gt; [SVal] -&gt; SVal
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svTimes"><span class="hs-identifier hs-var">svTimes</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131244"><span class="hs-identifier hs-var">one</span></a></span><span>
</span><span id="line-199"></span><span>        </span><span id="local-6989586621681131244"><span class="annot"><span class="annottext">one :: SVal
</span><a href="#local-6989586621681131244"><span class="hs-identifier hs-var hs-var">one</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131250"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">-- | Bit-blast: Little-endian. Assumes the input is a bit-vector.</span><span>
</span><span id="line-202"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svBlastLE"><span class="hs-identifier hs-type">svBlastLE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-203"></span><span id="svBlastLE"><span class="annot"><span class="annottext">svBlastLE :: SVal -&gt; [SVal]
</span><a href="Data.SBV.Core.Operations.html#svBlastLE"><span class="hs-identifier hs-var hs-var">svBlastLE</span></a></span></span><span> </span><span id="local-6989586621681131229"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131229"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Int -&gt; SVal) -&gt; [Int] -&gt; [SVal]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svTestBit"><span class="hs-identifier hs-var">svTestBit</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131229"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131229"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="hs-comment">-- | Set a given bit at index</span><span>
</span><span id="line-206"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svSetBit"><span class="hs-identifier hs-type">svSetBit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-207"></span><span id="svSetBit"><span class="annot"><span class="annottext">svSetBit :: SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSetBit"><span class="hs-identifier hs-var hs-var">svSetBit</span></a></span></span><span> </span><span id="local-6989586621681131227"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131227"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131226"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681131226"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131227"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svOr"><span class="hs-operator hs-var">`svOr`</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131227"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131226"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-208"></span><span>
</span><span id="line-209"></span><span class="hs-comment">-- | Bit-blast: Big-endian. Assumes the input is a bit-vector.</span><span>
</span><span id="line-210"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svBlastBE"><span class="hs-identifier hs-type">svBlastBE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-211"></span><span id="svBlastBE"><span class="annot"><span class="annottext">svBlastBE :: SVal -&gt; [SVal]
</span><a href="Data.SBV.Core.Operations.html#svBlastBE"><span class="hs-identifier hs-var hs-var">svBlastBE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; [SVal]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">([SVal] -&gt; [SVal]) -&gt; (SVal -&gt; [SVal]) -&gt; SVal -&gt; [SVal]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; [SVal]
</span><a href="Data.SBV.Core.Operations.html#svBlastLE"><span class="hs-identifier hs-var">svBlastLE</span></a></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-comment">-- | Un-bit-blast from big-endian representation to a word of the right size.</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- The input is assumed to be unsigned.</span><span>
</span><span id="line-215"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svWordFromLE"><span class="hs-identifier hs-type">svWordFromLE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-216"></span><span id="svWordFromLE"><span class="annot"><span class="annottext">svWordFromLE :: [SVal] -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svWordFromLE"><span class="hs-identifier hs-var hs-var">svWordFromLE</span></a></span></span><span> </span><span id="local-6989586621681131222"><span class="annot"><span class="annottext">bs :: [SVal]
</span><a href="#local-6989586621681131222"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; [SVal] -&gt; SVal
</span><a href="#local-6989586621681131221"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131220"><span class="hs-identifier hs-var">zero</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681131222"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-217"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131220"><span class="annot"><span class="annottext">zero :: SVal
</span><a href="#local-6989586621681131220"><span class="hs-identifier hs-var hs-var">zero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-var">KBounded</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SVal] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681131222"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-218"></span><span>        </span><span id="local-6989586621681131221"><span class="annot"><span class="annottext">go :: SVal -&gt; Int -&gt; [SVal] -&gt; SVal
</span><a href="#local-6989586621681131221"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681131217"><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131217"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131217"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-219"></span><span>        </span><span class="annot"><a href="#local-6989586621681131221"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681131216"><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131216"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681131215"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131215"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681131214"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131214"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681131213"><span class="annot"><span class="annottext">xs :: [SVal]
</span><a href="#local-6989586621681131213"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; [SVal] -&gt; SVal
</span><a href="#local-6989586621681131221"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131214"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSetBit"><span class="hs-identifier hs-var">svSetBit</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131216"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131215"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131216"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131215"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681131213"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-220"></span><span>
</span><span id="line-221"></span><span class="hs-comment">-- | Un-bit-blast from little-endian representation to a word of the right size.</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- The input is assumed to be unsigned.</span><span>
</span><span id="line-223"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svWordFromBE"><span class="hs-identifier hs-type">svWordFromBE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-224"></span><span id="svWordFromBE"><span class="annot"><span class="annottext">svWordFromBE :: [SVal] -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svWordFromBE"><span class="hs-identifier hs-var hs-var">svWordFromBE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svWordFromLE"><span class="hs-identifier hs-var">svWordFromLE</span></a></span><span> </span><span class="annot"><span class="annottext">([SVal] -&gt; SVal) -&gt; ([SVal] -&gt; [SVal]) -&gt; [SVal] -&gt; SVal
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; [SVal]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="hs-comment">-- | Add a constant value:</span><span>
</span><span id="line-227"></span><span id="local-6989586621681131505"><span class="annot"><a href="Data.SBV.Core.Operations.html#svAddConstant"><span class="hs-identifier hs-type">svAddConstant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681131505"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681131505"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span></span><span>
</span><span id="line-228"></span><span id="svAddConstant"><span class="annot"><span class="annottext">svAddConstant :: SVal -&gt; a -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svAddConstant"><span class="hs-identifier hs-var hs-var">svAddConstant</span></a></span></span><span> </span><span id="local-6989586621681131212"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131212"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131211"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621681131211"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131212"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svPlus"><span class="hs-operator hs-var">`svPlus`</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131212"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131211"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="hs-comment">-- | Increment:</span><span>
</span><span id="line-231"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svIncrement"><span class="hs-identifier hs-type">svIncrement</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-232"></span><span id="svIncrement"><span class="annot"><span class="annottext">svIncrement :: SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIncrement"><span class="hs-identifier hs-var hs-var">svIncrement</span></a></span></span><span> </span><span id="local-6989586621681131210"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131210"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Integer -&gt; SVal
forall a. Integral a =&gt; SVal -&gt; a -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svAddConstant"><span class="hs-identifier hs-var">svAddConstant</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131210"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-comment">-- | Decrement:</span><span>
</span><span id="line-235"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svDecrement"><span class="hs-identifier hs-type">svDecrement</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-236"></span><span id="svDecrement"><span class="annot"><span class="annottext">svDecrement :: SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svDecrement"><span class="hs-identifier hs-var hs-var">svDecrement</span></a></span></span><span> </span><span id="local-6989586621681131209"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131209"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Integer -&gt; SVal
forall a. Integral a =&gt; SVal -&gt; a -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svAddConstant"><span class="hs-identifier hs-var">svAddConstant</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131209"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="hs-comment">-- | Quotient: Overloaded operation whose meaning depends on the kind at which</span><span>
</span><span id="line-239"></span><span class="hs-comment">-- it is used: For unbounded integers, it corresponds to the SMT-Lib</span><span>
</span><span id="line-240"></span><span class="hs-comment">-- &quot;div&quot; operator (&quot;Euclidean&quot; division, which always has a</span><span>
</span><span id="line-241"></span><span class="hs-comment">-- non-negative remainder). For unsigned bitvectors, it is &quot;bvudiv&quot;;</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- and for signed bitvectors it is &quot;bvsdiv&quot;, which rounds toward zero.</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- Division by 0 is defined s.t. @x/0 = 0@, which holds even when @x@ itself is @0@.</span><span>
</span><span id="line-244"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svQuot"><span class="hs-identifier hs-type">svQuot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-245"></span><span id="svQuot"><span class="annot"><span class="annottext">svQuot :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svQuot"><span class="hs-identifier hs-var hs-var">svQuot</span></a></span></span><span> </span><span id="local-6989586621681131208"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131208"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131207"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131207"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-246"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131208"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131208"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131207"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131208"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-248"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOne"><span class="hs-identifier hs-var">isConcreteOne</span></a></span><span>  </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131207"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131208"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-249"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer -&gt; Integer)
-&gt; (Float -&gt; Float -&gt; Float)
-&gt; (Double -&gt; Double -&gt; Double)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-var">liftSym2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp"><span class="hs-identifier hs-var">mkSymOp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Quot"><span class="hs-identifier hs-var">Quot</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#nonzeroCheck"><span class="hs-identifier hs-var">nonzeroCheck</span></a></span><span>
</span><span id="line-250"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; AlgReal -&gt; AlgReal -&gt; AlgReal
</span><a href="Data.SBV.Core.Operations.html#noReal"><span class="hs-identifier hs-var">noReal</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;quot&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621681131204"><span class="hs-identifier hs-var">quot'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Float -&gt; Float -&gt; Float
</span><a href="Data.SBV.Core.Operations.html#noFloat"><span class="hs-identifier hs-var">noFloat</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;quot&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Double -&gt; Double -&gt; Double
</span><a href="Data.SBV.Core.Operations.html#noDouble"><span class="hs-identifier hs-var">noDouble</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;quot&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131208"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131207"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-251"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-252"></span><span>    </span><span id="local-6989586621681131204"><span class="annot"><span class="annottext">quot' :: a -&gt; a -&gt; a
</span><a href="#local-6989586621681131204"><span class="hs-identifier hs-var hs-var">quot'</span></a></span></span><span> </span><span id="local-6989586621681131201"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621681131201"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681131200"><span class="annot"><span class="annottext">b :: a
</span><a href="#local-6989586621681131200"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131208"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-var">KUnbounded</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">div</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131201"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131200"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">signum</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131200"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-253"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">quot</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131201"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131200"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="hs-comment">-- | Remainder: Overloaded operation whose meaning depends on the kind at which</span><span>
</span><span id="line-256"></span><span class="hs-comment">-- it is used: For unbounded integers, it corresponds to the SMT-Lib</span><span>
</span><span id="line-257"></span><span class="hs-comment">-- &quot;mod&quot; operator (always non-negative). For unsigned bitvectors, it</span><span>
</span><span id="line-258"></span><span class="hs-comment">-- is &quot;bvurem&quot;; and for signed bitvectors it is &quot;bvsrem&quot;, which rounds</span><span>
</span><span id="line-259"></span><span class="hs-comment">-- toward zero (sign of remainder matches that of @x@). Division by 0 is</span><span>
</span><span id="line-260"></span><span class="hs-comment">-- defined s.t. @x/0 = 0@, which holds even when @x@ itself is @0@.</span><span>
</span><span id="line-261"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svRem"><span class="hs-identifier hs-type">svRem</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-262"></span><span id="svRem"><span class="annot"><span class="annottext">svRem :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRem"><span class="hs-identifier hs-var hs-var">svRem</span></a></span></span><span> </span><span id="local-6989586621681131196"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131196"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131195"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131195"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131196"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131196"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131195"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131196"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-265"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOne"><span class="hs-identifier hs-var">isConcreteOne</span></a></span><span>  </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131195"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131196"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-266"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer -&gt; Integer)
-&gt; (Float -&gt; Float -&gt; Float)
-&gt; (Double -&gt; Double -&gt; Double)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-var">liftSym2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp"><span class="hs-identifier hs-var">mkSymOp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Rem"><span class="hs-identifier hs-var">Rem</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#nonzeroCheck"><span class="hs-identifier hs-var">nonzeroCheck</span></a></span><span>
</span><span id="line-267"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; AlgReal -&gt; AlgReal -&gt; AlgReal
</span><a href="Data.SBV.Core.Operations.html#noReal"><span class="hs-identifier hs-var">noReal</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;rem&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><a href="#local-6989586621681131193"><span class="hs-identifier hs-var">rem'</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Float -&gt; Float -&gt; Float
</span><a href="Data.SBV.Core.Operations.html#noFloat"><span class="hs-identifier hs-var">noFloat</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;rem&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Double -&gt; Double -&gt; Double
</span><a href="Data.SBV.Core.Operations.html#noDouble"><span class="hs-identifier hs-var">noDouble</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;rem&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131196"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131195"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-269"></span><span>    </span><span id="local-6989586621681131193"><span class="annot"><span class="annottext">rem' :: a -&gt; a -&gt; a
</span><a href="#local-6989586621681131193"><span class="hs-identifier hs-var hs-var">rem'</span></a></span></span><span> </span><span id="local-6989586621681131192"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621681131192"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681131191"><span class="annot"><span class="annottext">b :: a
</span><a href="#local-6989586621681131191"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131196"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-var">KUnbounded</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mod</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131192"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; a
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131191"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">rem</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131192"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131191"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="hs-comment">-- | Combination of quot and rem</span><span>
</span><span id="line-273"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svQuotRem"><span class="hs-identifier hs-type">svQuotRem</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span id="svQuotRem"><span class="annot"><span class="annottext">svQuotRem :: SVal -&gt; SVal -&gt; (SVal, SVal)
</span><a href="Data.SBV.Core.Operations.html#svQuotRem"><span class="hs-identifier hs-var hs-var">svQuotRem</span></a></span></span><span> </span><span id="local-6989586621681131188"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131188"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131187"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131187"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131188"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svQuot"><span class="hs-operator hs-var">`svQuot`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131187"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131188"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRem"><span class="hs-operator hs-var">`svRem`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131187"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="hs-comment">-- | Optimize away x == true and x /= false to x; otherwise just do eqOpt</span><span>
</span><span id="line-277"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#eqOptBool"><span class="hs-identifier hs-type">eqOptBool</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Op"><span class="hs-identifier hs-type">Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span>
</span><span id="line-278"></span><span id="eqOptBool"><span class="annot"><span class="annottext">eqOptBool :: Op -&gt; SV -&gt; SV -&gt; SV -&gt; Maybe SV
</span><a href="Data.SBV.Core.Operations.html#eqOptBool"><span class="hs-identifier hs-var hs-var">eqOptBool</span></a></span></span><span> </span><span id="local-6989586621681131185"><span class="annot"><span class="annottext">op :: Op
</span><a href="#local-6989586621681131185"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681131184"><span class="annot"><span class="annottext">w :: SV
</span><a href="#local-6989586621681131184"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621681131183"><span class="annot"><span class="annottext">x :: SV
</span><a href="#local-6989586621681131183"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131182"><span class="annot"><span class="annottext">y :: SV
</span><a href="#local-6989586621681131182"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-279"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131181"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681131185"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">Op -&gt; Op -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Equal"><span class="hs-identifier hs-var">Equal</span></a></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131183"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131182"><span class="hs-identifier hs-var">y</span></a></span><span>         </span><span class="hs-comment">-- true  .== y     --&gt; y</span><span>
</span><span id="line-280"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131181"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681131185"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">Op -&gt; Op -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Equal"><span class="hs-identifier hs-var">Equal</span></a></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131182"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131183"><span class="hs-identifier hs-var">x</span></a></span><span>         </span><span class="hs-comment">-- x     .== true  --&gt; x</span><span>
</span><span id="line-281"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131181"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681131185"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">Op -&gt; Op -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#NotEqual"><span class="hs-identifier hs-var">NotEqual</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131183"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131182"><span class="hs-identifier hs-var">y</span></a></span><span>         </span><span class="hs-comment">-- false ./= y     --&gt; y</span><span>
</span><span id="line-282"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131181"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681131185"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="annot"><span class="annottext">Op -&gt; Op -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#NotEqual"><span class="hs-identifier hs-var">NotEqual</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131182"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131183"><span class="hs-identifier hs-var">x</span></a></span><span>         </span><span class="hs-comment">-- x     ./= false --&gt; x</span><span>
</span><span id="line-283"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                                         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; SV -&gt; Maybe SV
</span><a href="Data.SBV.Core.Operations.html#eqOpt"><span class="hs-identifier hs-var">eqOpt</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131184"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131183"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131182"><span class="hs-identifier hs-var">y</span></a></span><span>    </span><span class="hs-comment">-- fallback</span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131181"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681131181"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
</span><a href="Data.SBV.Core.Symbolic.html#swKind"><span class="hs-identifier hs-var">swKind</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131183"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-285"></span><span>
</span><span id="line-286"></span><span class="hs-comment">-- | Equality.</span><span>
</span><span id="line-287"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svEqual"><span class="hs-identifier hs-type">svEqual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-288"></span><span id="svEqual"><span class="annot"><span class="annottext">svEqual :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svEqual"><span class="hs-identifier hs-var hs-var">svEqual</span></a></span></span><span> </span><span id="local-6989586621681131173"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681131173"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681131172"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681131172"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isSet"><span class="hs-identifier hs-var">isSet</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131173"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isSet"><span class="hs-identifier hs-var">isSet</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131172"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-290"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSetEqual"><span class="hs-identifier hs-var">svSetEqual</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131173"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131172"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; Bool)
-&gt; (Integer -&gt; Integer -&gt; Bool)
-&gt; (Float -&gt; Float -&gt; Bool)
-&gt; (Double -&gt; Double -&gt; Bool)
-&gt; (Char -&gt; Char -&gt; Bool)
-&gt; (String -&gt; String -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; (Maybe CVal -&gt; Maybe CVal -&gt; Bool)
-&gt; (Either CVal CVal -&gt; Either CVal CVal -&gt; Bool)
-&gt; ((Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2B"><span class="hs-identifier hs-var">liftSym2B</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-var">mkSymOpSC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; SV -&gt; SV -&gt; SV -&gt; Maybe SV
</span><a href="Data.SBV.Core.Operations.html#eqOptBool"><span class="hs-identifier hs-var">eqOptBool</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Equal"><span class="hs-identifier hs-var">Equal</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Equal"><span class="hs-identifier hs-var">Equal</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">Maybe CVal -&gt; Maybe CVal -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">Either CVal CVal -&gt; Either CVal CVal -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131173"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131172"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-comment">-- | Inequality.</span><span>
</span><span id="line-295"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svNotEqual"><span class="hs-identifier hs-type">svNotEqual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-296"></span><span id="svNotEqual"><span class="annot"><span class="annottext">svNotEqual :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svNotEqual"><span class="hs-identifier hs-var hs-var">svNotEqual</span></a></span></span><span> </span><span id="local-6989586621681131168"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681131168"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681131167"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681131167"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-297"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isSet"><span class="hs-identifier hs-var">isSet</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131168"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isSet"><span class="hs-identifier hs-var">isSet</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131167"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svNot"><span class="hs-identifier hs-var">svNot</span></a></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal) -&gt; SVal -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svEqual"><span class="hs-identifier hs-var">svEqual</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131168"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131167"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-299"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-300"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; Bool)
-&gt; (Integer -&gt; Integer -&gt; Bool)
-&gt; (Float -&gt; Float -&gt; Bool)
-&gt; (Double -&gt; Double -&gt; Bool)
-&gt; (Char -&gt; Char -&gt; Bool)
-&gt; (String -&gt; String -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; (Maybe CVal -&gt; Maybe CVal -&gt; Bool)
-&gt; (Either CVal CVal -&gt; Either CVal CVal -&gt; Bool)
-&gt; ((Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2B"><span class="hs-identifier hs-var">liftSym2B</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-var">mkSymOpSC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; SV -&gt; SV -&gt; SV -&gt; Maybe SV
</span><a href="Data.SBV.Core.Operations.html#eqOptBool"><span class="hs-identifier hs-var">eqOptBool</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#NotEqual"><span class="hs-identifier hs-var">NotEqual</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#NotEqual"><span class="hs-identifier hs-var">NotEqual</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">Maybe CVal -&gt; Maybe CVal -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">Either CVal CVal -&gt; Either CVal CVal -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131168"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131167"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span class="hs-comment">-- | Set equality. Note that we only do constant folding if we get both a regular or both a</span><span>
</span><span id="line-303"></span><span class="hs-comment">-- complement set. Otherwise we get a symbolic value even if they might be completely concrete.</span><span>
</span><span id="line-304"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svSetEqual"><span class="hs-identifier hs-type">svSetEqual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-305"></span><span id="svSetEqual"><span class="annot"><span class="annottext">svSetEqual :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSetEqual"><span class="hs-identifier hs-var hs-var">svSetEqual</span></a></span></span><span> </span><span id="local-6989586621681131166"><span class="annot"><span class="annottext">sa :: SVal
</span><a href="#local-6989586621681131166"><span class="hs-identifier hs-var">sa</span></a></span></span><span> </span><span id="local-6989586621681131165"><span class="annot"><span class="annottext">sb :: SVal
</span><a href="#local-6989586621681131165"><span class="hs-identifier hs-var">sb</span></a></span></span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isSet"><span class="hs-identifier hs-var">isSet</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131166"><span class="hs-identifier hs-var">sa</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isSet"><span class="hs-identifier hs-var">isSet</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131165"><span class="hs-identifier hs-var">sb</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131166"><span class="hs-identifier hs-var">sa</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131165"><span class="hs-identifier hs-var">sb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SVal) -&gt; String -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.svSetEqual: Called on ill-typed args: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131166"><span class="hs-identifier hs-var">sa</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131165"><span class="hs-identifier hs-var">sb</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-308"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#RegularSet"><span class="hs-identifier hs-type">RegularSet</span></a></span><span> </span><span id="local-6989586621681131163"><span class="annot"><span class="annottext">a :: Set CVal
</span><a href="#local-6989586621681131163"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe (RCSet CVal)
</span><a href="#local-6989586621681131162"><span class="hs-identifier hs-var">getSet</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131166"><span class="hs-identifier hs-var">sa</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#RegularSet"><span class="hs-identifier hs-type">RegularSet</span></a></span><span> </span><span id="local-6989586621681131161"><span class="annot"><span class="annottext">b :: Set CVal
</span><a href="#local-6989586621681131161"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe (RCSet CVal)
</span><a href="#local-6989586621681131162"><span class="hs-identifier hs-var">getSet</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131165"><span class="hs-identifier hs-var">sb</span></a></span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svBool"><span class="hs-identifier hs-var">svBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set CVal
</span><a href="#local-6989586621681131163"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Set CVal -&gt; Set CVal -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Set CVal
</span><a href="#local-6989586621681131161"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#ComplementSet"><span class="hs-identifier hs-type">ComplementSet</span></a></span><span> </span><span id="local-6989586621681131159"><span class="annot"><span class="annottext">a :: Set CVal
</span><a href="#local-6989586621681131159"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe (RCSet CVal)
</span><a href="#local-6989586621681131162"><span class="hs-identifier hs-var">getSet</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131166"><span class="hs-identifier hs-var">sa</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#ComplementSet"><span class="hs-identifier hs-type">ComplementSet</span></a></span><span> </span><span id="local-6989586621681131158"><span class="annot"><span class="annottext">b :: Set CVal
</span><a href="#local-6989586621681131158"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe (RCSet CVal)
</span><a href="#local-6989586621681131162"><span class="hs-identifier hs-var">getSet</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131165"><span class="hs-identifier hs-var">sb</span></a></span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svBool"><span class="hs-identifier hs-var">svBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set CVal
</span><a href="#local-6989586621681131159"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Set CVal -&gt; Set CVal -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Set CVal
</span><a href="#local-6989586621681131158"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-313"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681131156"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-314"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131162"><span class="annot"><span class="annottext">getSet :: SVal -&gt; Maybe (RCSet CVal)
</span><a href="#local-6989586621681131162"><span class="hs-identifier hs-var hs-var">getSet</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CSet"><span class="hs-identifier hs-type">CSet</span></a></span><span> </span><span id="local-6989586621681131154"><span class="annot"><span class="annottext">s :: RCSet CVal
</span><a href="#local-6989586621681131154"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RCSet CVal -&gt; Maybe (RCSet CVal)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">RCSet CVal
</span><a href="#local-6989586621681131154"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-315"></span><span>        </span><span class="annot"><a href="#local-6989586621681131162"><span class="hs-identifier hs-var">getSet</span></a></span><span> </span><span class="hs-identifier">_</span><span>                               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (RCSet CVal)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span>        </span><span id="local-6989586621681131156"><span class="annot"><span class="annottext">r :: State -&gt; IO SV
</span><a href="#local-6989586621681131156"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681131153"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681131153"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681131152"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131152"><span class="hs-identifier hs-var">sva</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131153"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131166"><span class="hs-identifier hs-var">sa</span></a></span><span>
</span><span id="line-318"></span><span>                  </span><span id="local-6989586621681131150"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131150"><span class="hs-identifier hs-var">svb</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131153"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131165"><span class="hs-identifier hs-var">sb</span></a></span><span>
</span><span id="line-319"></span><span>                  </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131153"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(SBVExpr -&gt; IO SV) -&gt; SBVExpr -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SetOp -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#SetOp"><span class="hs-identifier hs-var">SetOp</span></a></span><span> </span><span class="annot"><span class="annottext">SetOp
</span><a href="Data.SBV.Core.Symbolic.html#SetEqual"><span class="hs-identifier hs-var">SetEqual</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131152"><span class="hs-identifier hs-var">sva</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131150"><span class="hs-identifier hs-var">svb</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span class="hs-comment">-- | Strong equality. Only matters on floats, where it says @NaN@ equals @NaN@ and @+0@ and @-0@ are different.</span><span>
</span><span id="line-322"></span><span class="hs-comment">-- Otherwise equivalent to `svEqual`.</span><span>
</span><span id="line-323"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svStrongEqual"><span class="hs-identifier hs-type">svStrongEqual</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-324"></span><span id="svStrongEqual"><span class="annot"><span class="annottext">svStrongEqual :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svStrongEqual"><span class="hs-identifier hs-var hs-var">svStrongEqual</span></a></span></span><span> </span><span id="local-6989586621681131145"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131145"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131144"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131144"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-325"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isFloat"><span class="hs-identifier hs-var">isFloat</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131145"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131142"><span class="annot"><span class="annottext">f1 :: Float
</span><a href="#local-6989586621681131142"><span class="hs-identifier hs-var">f1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Float
</span><a href="#local-6989586621681131141"><span class="hs-identifier hs-var">getF</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131145"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131140"><span class="annot"><span class="annottext">f2 :: Float
</span><a href="#local-6989586621681131140"><span class="hs-identifier hs-var">f2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Float
</span><a href="#local-6989586621681131141"><span class="hs-identifier hs-var">getF</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131144"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svBool"><span class="hs-identifier hs-var">svBool</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; SVal) -&gt; Bool -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681131142"><span class="hs-identifier hs-var">f1</span></a></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; a -&gt; Bool
</span><a href="Data.SBV.Utils.Numeric.html#fpIsEqualObjectH"><span class="hs-operator hs-var">`fpIsEqualObjectH`</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681131140"><span class="hs-identifier hs-var">f2</span></a></span><span>
</span><span id="line-327"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isDouble"><span class="hs-identifier hs-var">isDouble</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131145"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131138"><span class="annot"><span class="annottext">f1 :: Double
</span><a href="#local-6989586621681131138"><span class="hs-identifier hs-var">f1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Double
</span><a href="#local-6989586621681131137"><span class="hs-identifier hs-var">getD</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131145"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131136"><span class="annot"><span class="annottext">f2 :: Double
</span><a href="#local-6989586621681131136"><span class="hs-identifier hs-var">f2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Double
</span><a href="#local-6989586621681131137"><span class="hs-identifier hs-var">getD</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131144"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-328"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svBool"><span class="hs-identifier hs-var">svBool</span></a></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; SVal) -&gt; Bool -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681131138"><span class="hs-identifier hs-var">f1</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. RealFloat a =&gt; a -&gt; a -&gt; Bool
</span><a href="Data.SBV.Utils.Numeric.html#fpIsEqualObjectH"><span class="hs-operator hs-var">`fpIsEqualObjectH`</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681131136"><span class="hs-identifier hs-var">f2</span></a></span><span>
</span><span id="line-329"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isFloat"><span class="hs-identifier hs-var">isFloat</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131145"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isDouble"><span class="hs-identifier hs-var">isDouble</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131145"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-330"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681131135"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-331"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-332"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svEqual"><span class="hs-identifier hs-var">svEqual</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131145"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131144"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-333"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131141"><span class="annot"><span class="annottext">getF :: SVal -&gt; Maybe Float
</span><a href="#local-6989586621681131141"><span class="hs-identifier hs-var hs-var">getF</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CFloat"><span class="hs-identifier hs-type">CFloat</span></a></span><span> </span><span id="local-6989586621681131134"><span class="annot"><span class="annottext">f :: Float
</span><a href="#local-6989586621681131134"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Maybe Float
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681131134"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-334"></span><span>        </span><span class="annot"><a href="#local-6989586621681131141"><span class="hs-identifier hs-var">getF</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Float
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span>        </span><span id="local-6989586621681131137"><span class="annot"><span class="annottext">getD :: SVal -&gt; Maybe Double
</span><a href="#local-6989586621681131137"><span class="hs-identifier hs-var hs-var">getD</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CDouble"><span class="hs-identifier hs-type">CDouble</span></a></span><span> </span><span id="local-6989586621681131133"><span class="annot"><span class="annottext">d :: Double
</span><a href="#local-6989586621681131133"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Maybe Double
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681131133"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-337"></span><span>        </span><span class="annot"><a href="#local-6989586621681131137"><span class="hs-identifier hs-var">getD</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Double
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span>        </span><span id="local-6989586621681131135"><span class="annot"><span class="annottext">r :: State -&gt; IO SV
</span><a href="#local-6989586621681131135"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681131132"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681131132"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681131131"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131131"><span class="hs-identifier hs-var">sx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131132"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131145"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-340"></span><span>                  </span><span id="local-6989586621681131130"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131130"><span class="hs-identifier hs-var">sy</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131132"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131144"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-341"></span><span>                  </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131132"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FPOp -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#IEEEFP"><span class="hs-identifier hs-var">IEEEFP</span></a></span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_ObjEqual"><span class="hs-identifier hs-var">FP_ObjEqual</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131131"><span class="hs-identifier hs-var">sx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131130"><span class="hs-identifier hs-var">sy</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="hs-comment">-- | Less than.</span><span>
</span><span id="line-344"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-identifier hs-type">svLessThan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-345"></span><span id="svLessThan"><span class="annot"><span class="annottext">svLessThan :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-identifier hs-var hs-var">svLessThan</span></a></span></span><span> </span><span id="local-6989586621681131127"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131127"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131126"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131126"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteMax"><span class="hs-identifier hs-var">isConcreteMax</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131127"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var">svFalse</span></a></span><span>
</span><span id="line-347"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteMin"><span class="hs-identifier hs-var">isConcreteMin</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131126"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var">svFalse</span></a></span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; Bool)
-&gt; (Integer -&gt; Integer -&gt; Bool)
-&gt; (Float -&gt; Float -&gt; Bool)
-&gt; (Double -&gt; Double -&gt; Bool)
-&gt; (Char -&gt; Char -&gt; Bool)
-&gt; (String -&gt; String -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; (Maybe CVal -&gt; Maybe CVal -&gt; Bool)
-&gt; (Either CVal CVal -&gt; Either CVal CVal -&gt; Bool)
-&gt; ((Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2B"><span class="hs-identifier hs-var">liftSym2B</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-var">mkSymOpSC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; SV -&gt; Maybe SV
</span><a href="Data.SBV.Core.Operations.html#eqOpt"><span class="hs-identifier hs-var">eqOpt</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#LessThan"><span class="hs-identifier hs-var">LessThan</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span> </span><span class="annot"><span class="annottext">Maybe CVal -&gt; Maybe CVal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span> </span><span class="annot"><span class="annottext">Either CVal CVal -&gt; Either CVal CVal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (Int -&gt; Int -&gt; Bool)
-&gt; (Maybe Int, String)
-&gt; (Maybe Int, String)
-&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#uiLift"><span class="hs-identifier hs-var">uiLift</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;)</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131127"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131126"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span class="hs-comment">-- | Greater than.</span><span>
</span><span id="line-351"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svGreaterThan"><span class="hs-identifier hs-type">svGreaterThan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-352"></span><span id="svGreaterThan"><span class="annot"><span class="annottext">svGreaterThan :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svGreaterThan"><span class="hs-identifier hs-var hs-var">svGreaterThan</span></a></span></span><span> </span><span id="local-6989586621681131120"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131120"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131119"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131119"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-353"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteMin"><span class="hs-identifier hs-var">isConcreteMin</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131120"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var">svFalse</span></a></span><span>
</span><span id="line-354"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteMax"><span class="hs-identifier hs-var">isConcreteMax</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131119"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var">svFalse</span></a></span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; Bool)
-&gt; (Integer -&gt; Integer -&gt; Bool)
-&gt; (Float -&gt; Float -&gt; Bool)
-&gt; (Double -&gt; Double -&gt; Bool)
-&gt; (Char -&gt; Char -&gt; Bool)
-&gt; (String -&gt; String -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; (Maybe CVal -&gt; Maybe CVal -&gt; Bool)
-&gt; (Either CVal CVal -&gt; Either CVal CVal -&gt; Bool)
-&gt; ((Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2B"><span class="hs-identifier hs-var">liftSym2B</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-var">mkSymOpSC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; SV -&gt; Maybe SV
</span><a href="Data.SBV.Core.Operations.html#eqOpt"><span class="hs-identifier hs-var">eqOpt</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#GreaterThan"><span class="hs-identifier hs-var">GreaterThan</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;)</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;)</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;)</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;)</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;)</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;)</span></span><span> </span><span class="annot"><span class="annottext">Maybe CVal -&gt; Maybe CVal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;)</span></span><span> </span><span class="annot"><span class="annottext">Either CVal CVal -&gt; Either CVal CVal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (Int -&gt; Int -&gt; Bool)
-&gt; (Maybe Int, String)
-&gt; (Maybe Int, String)
-&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#uiLift"><span class="hs-identifier hs-var">uiLift</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;)</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131120"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131119"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span class="hs-comment">-- | Less than or equal to.</span><span>
</span><span id="line-358"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svLessEq"><span class="hs-identifier hs-type">svLessEq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-359"></span><span id="svLessEq"><span class="annot"><span class="annottext">svLessEq :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessEq"><span class="hs-identifier hs-var hs-var">svLessEq</span></a></span></span><span> </span><span id="local-6989586621681131116"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131116"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131115"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131115"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-360"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteMin"><span class="hs-identifier hs-var">isConcreteMin</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131116"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svTrue"><span class="hs-identifier hs-var">svTrue</span></a></span><span>
</span><span id="line-361"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteMax"><span class="hs-identifier hs-var">isConcreteMax</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131115"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svTrue"><span class="hs-identifier hs-var">svTrue</span></a></span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; Bool)
-&gt; (Integer -&gt; Integer -&gt; Bool)
-&gt; (Float -&gt; Float -&gt; Bool)
-&gt; (Double -&gt; Double -&gt; Bool)
-&gt; (Char -&gt; Char -&gt; Bool)
-&gt; (String -&gt; String -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; (Maybe CVal -&gt; Maybe CVal -&gt; Bool)
-&gt; (Either CVal CVal -&gt; Either CVal CVal -&gt; Bool)
-&gt; ((Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2B"><span class="hs-identifier hs-var">liftSym2B</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-var">mkSymOpSC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; SV -&gt; Maybe SV
</span><a href="Data.SBV.Core.Operations.html#eqOpt"><span class="hs-identifier hs-var">eqOpt</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#LessEq"><span class="hs-identifier hs-var">LessEq</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span> </span><span class="annot"><span class="annottext">Maybe CVal -&gt; Maybe CVal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span> </span><span class="annot"><span class="annottext">Either CVal CVal -&gt; Either CVal CVal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (Int -&gt; Int -&gt; Bool)
-&gt; (Maybe Int, String)
-&gt; (Maybe Int, String)
-&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#uiLift"><span class="hs-identifier hs-var">uiLift</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&lt;=)</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131116"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131115"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-363"></span><span>
</span><span id="line-364"></span><span class="hs-comment">-- | Greater than or equal to.</span><span>
</span><span id="line-365"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svGreaterEq"><span class="hs-identifier hs-type">svGreaterEq</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-366"></span><span id="svGreaterEq"><span class="annot"><span class="annottext">svGreaterEq :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svGreaterEq"><span class="hs-identifier hs-var hs-var">svGreaterEq</span></a></span></span><span> </span><span id="local-6989586621681131112"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131112"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131111"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131111"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteMax"><span class="hs-identifier hs-var">isConcreteMax</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131112"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svTrue"><span class="hs-identifier hs-var">svTrue</span></a></span><span>
</span><span id="line-368"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteMin"><span class="hs-identifier hs-var">isConcreteMin</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131111"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svTrue"><span class="hs-identifier hs-var">svTrue</span></a></span><span>
</span><span id="line-369"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; Bool)
-&gt; (Integer -&gt; Integer -&gt; Bool)
-&gt; (Float -&gt; Float -&gt; Bool)
-&gt; (Double -&gt; Double -&gt; Bool)
-&gt; (Char -&gt; Char -&gt; Bool)
-&gt; (String -&gt; String -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; (Maybe CVal -&gt; Maybe CVal -&gt; Bool)
-&gt; (Either CVal CVal -&gt; Either CVal CVal -&gt; Bool)
-&gt; ((Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2B"><span class="hs-identifier hs-var">liftSym2B</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-var">mkSymOpSC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; SV -&gt; Maybe SV
</span><a href="Data.SBV.Core.Operations.html#eqOpt"><span class="hs-identifier hs-var">eqOpt</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#GreaterEq"><span class="hs-identifier hs-var">GreaterEq</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;=)</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;=)</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;=)</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;=)</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;=)</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;=)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;=)</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;=)</span></span><span> </span><span class="annot"><span class="annottext">Maybe CVal -&gt; Maybe CVal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;=)</span></span><span> </span><span class="annot"><span class="annottext">Either CVal CVal -&gt; Either CVal CVal -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;=)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
-&gt; (Int -&gt; Int -&gt; Bool)
-&gt; (Maybe Int, String)
-&gt; (Maybe Int, String)
-&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#uiLift"><span class="hs-identifier hs-var">uiLift</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(&gt;=)</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131112"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131111"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="hs-comment">-- | Bitwise and.</span><span>
</span><span id="line-372"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svAnd"><span class="hs-identifier hs-type">svAnd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-373"></span><span id="svAnd"><span class="annot"><span class="annottext">svAnd :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svAnd"><span class="hs-identifier hs-var hs-var">svAnd</span></a></span></span><span> </span><span id="local-6989586621681131109"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131109"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131108"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131108"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-374"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131109"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131109"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-375"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOnes"><span class="hs-identifier hs-var">isConcreteOnes</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131109"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131108"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-376"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131108"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131108"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-377"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOnes"><span class="hs-identifier hs-var">isConcreteOnes</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131108"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131109"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-378"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer -&gt; Integer)
-&gt; (Float -&gt; Float -&gt; Float)
-&gt; (Double -&gt; Double -&gt; Double)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-var">liftSym2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-var">mkSymOpSC</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Maybe SV
</span><a href="#local-6989586621681131106"><span class="hs-identifier hs-var">opt</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#And"><span class="hs-identifier hs-var">And</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CV -&gt; Bool) -&gt; CV -&gt; CV -&gt; Bool
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; CV -&gt; Bool
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; AlgReal -&gt; AlgReal -&gt; AlgReal
</span><a href="Data.SBV.Core.Operations.html#noReal"><span class="hs-identifier hs-var">noReal</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;.&amp;.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(.&amp;.)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Float -&gt; Float -&gt; Float
</span><a href="Data.SBV.Core.Operations.html#noFloat"><span class="hs-identifier hs-var">noFloat</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;.&amp;.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Double -&gt; Double -&gt; Double
</span><a href="Data.SBV.Core.Operations.html#noDouble"><span class="hs-identifier hs-var">noDouble</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;.&amp;.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131109"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131108"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-379"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131106"><span class="annot"><span class="annottext">opt :: SV -&gt; SV -&gt; Maybe SV
</span><a href="#local-6989586621681131106"><span class="hs-identifier hs-var hs-var">opt</span></a></span></span><span> </span><span id="local-6989586621681131102"><span class="annot"><span class="annottext">a :: SV
</span><a href="#local-6989586621681131102"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681131101"><span class="annot"><span class="annottext">b :: SV
</span><a href="#local-6989586621681131101"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-380"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131102"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131101"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span>
</span><span id="line-381"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131102"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131101"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-382"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131101"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131102"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-383"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="hs-comment">-- | Bitwise or.</span><span>
</span><span id="line-386"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svOr"><span class="hs-identifier hs-type">svOr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-387"></span><span id="svOr"><span class="annot"><span class="annottext">svOr :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svOr"><span class="hs-identifier hs-var hs-var">svOr</span></a></span></span><span> </span><span id="local-6989586621681131100"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131100"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131099"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131099"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131100"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131099"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-389"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOnes"><span class="hs-identifier hs-var">isConcreteOnes</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131100"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131100"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-390"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131099"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131100"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-391"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOnes"><span class="hs-identifier hs-var">isConcreteOnes</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131099"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131099"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-392"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer -&gt; Integer)
-&gt; (Float -&gt; Float -&gt; Float)
-&gt; (Double -&gt; Double -&gt; Double)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-var">liftSym2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-var">mkSymOpSC</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Maybe SV
</span><a href="#local-6989586621681131098"><span class="hs-identifier hs-var">opt</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Or"><span class="hs-identifier hs-var">Or</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CV -&gt; Bool) -&gt; CV -&gt; CV -&gt; Bool
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; CV -&gt; Bool
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; AlgReal -&gt; AlgReal -&gt; AlgReal
</span><a href="Data.SBV.Core.Operations.html#noReal"><span class="hs-identifier hs-var">noReal</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;.|.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(.|.)</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Float -&gt; Float -&gt; Float
</span><a href="Data.SBV.Core.Operations.html#noFloat"><span class="hs-identifier hs-var">noFloat</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;.|.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Double -&gt; Double -&gt; Double
</span><a href="Data.SBV.Core.Operations.html#noDouble"><span class="hs-identifier hs-var">noDouble</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;.|.&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131100"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131099"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-394"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131098"><span class="annot"><span class="annottext">opt :: SV -&gt; SV -&gt; Maybe SV
</span><a href="#local-6989586621681131098"><span class="hs-identifier hs-var hs-var">opt</span></a></span></span><span> </span><span id="local-6989586621681131095"><span class="annot"><span class="annottext">a :: SV
</span><a href="#local-6989586621681131095"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681131094"><span class="annot"><span class="annottext">b :: SV
</span><a href="#local-6989586621681131094"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-395"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131095"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131094"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>
</span><span id="line-396"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131095"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131094"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-397"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131094"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131095"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-398"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="hs-comment">-- | Bitwise xor.</span><span>
</span><span id="line-401"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svXOr"><span class="hs-identifier hs-type">svXOr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-402"></span><span id="svXOr"><span class="annot"><span class="annottext">svXOr :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svXOr"><span class="hs-identifier hs-var hs-var">svXOr</span></a></span></span><span> </span><span id="local-6989586621681131093"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131093"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131092"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131092"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-403"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131093"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131092"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-404"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOnes"><span class="hs-identifier hs-var">isConcreteOnes</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131093"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svNot"><span class="hs-identifier hs-var">svNot</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131092"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-405"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131092"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131093"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-406"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOnes"><span class="hs-identifier hs-var">isConcreteOnes</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131092"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svNot"><span class="hs-identifier hs-var">svNot</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131093"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-407"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer -&gt; Integer)
-&gt; (Float -&gt; Float -&gt; Float)
-&gt; (Double -&gt; Double -&gt; Double)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-var">liftSym2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-var">mkSymOpSC</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Maybe SV
</span><a href="#local-6989586621681131091"><span class="hs-identifier hs-var">opt</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#XOr"><span class="hs-identifier hs-var">XOr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CV -&gt; Bool) -&gt; CV -&gt; CV -&gt; Bool
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; CV -&gt; Bool
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; AlgReal -&gt; AlgReal -&gt; AlgReal
</span><a href="Data.SBV.Core.Operations.html#noReal"><span class="hs-identifier hs-var">noReal</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;xor&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">xor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Float -&gt; Float -&gt; Float
</span><a href="Data.SBV.Core.Operations.html#noFloat"><span class="hs-identifier hs-var">noFloat</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;xor&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Double -&gt; Double -&gt; Double
</span><a href="Data.SBV.Core.Operations.html#noDouble"><span class="hs-identifier hs-var">noDouble</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;xor&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131093"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131092"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-409"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131091"><span class="annot"><span class="annottext">opt :: SV -&gt; SV -&gt; Maybe SV
</span><a href="#local-6989586621681131091"><span class="hs-identifier hs-var hs-var">opt</span></a></span></span><span> </span><span id="local-6989586621681131088"><span class="annot"><span class="annottext">a :: SV
</span><a href="#local-6989586621681131088"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681131087"><span class="annot"><span class="annottext">b :: SV
</span><a href="#local-6989586621681131087"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-410"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131088"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131087"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
</span><a href="Data.SBV.Core.Symbolic.html#swKind"><span class="hs-identifier hs-var">swKind</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131088"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span>
</span><span id="line-411"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131088"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131087"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-412"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131087"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131088"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-413"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span class="hs-comment">-- | Bitwise complement.</span><span>
</span><span id="line-416"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svNot"><span class="hs-identifier hs-type">svNot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-417"></span><span id="svNot"><span class="annot"><span class="annottext">svNot :: SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svNot"><span class="hs-identifier hs-var hs-var">svNot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; IO SV)
-&gt; (AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer)
-&gt; (Float -&gt; Float)
-&gt; (Double -&gt; Double)
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym1"><span class="hs-identifier hs-var">liftSym1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp1SC"><span class="hs-identifier hs-var">mkSymOp1SC</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
</span><a href="#local-6989586621681131085"><span class="hs-identifier hs-var">opt</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Not"><span class="hs-identifier hs-var">Not</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-418"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; AlgReal -&gt; AlgReal
</span><a href="Data.SBV.Core.Operations.html#noRealUnary"><span class="hs-identifier hs-var">noRealUnary</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;complement&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
forall a. Bits a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">complement</span></span><span>
</span><span id="line-419"></span><span>                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Float -&gt; Float
</span><a href="Data.SBV.Core.Operations.html#noFloatUnary"><span class="hs-identifier hs-var">noFloatUnary</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;complement&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Double -&gt; Double
</span><a href="Data.SBV.Core.Operations.html#noDoubleUnary"><span class="hs-identifier hs-var">noDoubleUnary</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;complement&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-420"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131085"><span class="annot"><span class="annottext">opt :: SV -&gt; Maybe SV
</span><a href="#local-6989586621681131085"><span class="hs-identifier hs-var hs-var">opt</span></a></span></span><span> </span><span id="local-6989586621681131079"><span class="annot"><span class="annottext">a :: SV
</span><a href="#local-6989586621681131079"><span class="hs-identifier hs-var">a</span></a></span></span><span>
</span><span id="line-421"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131079"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>
</span><span id="line-422"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131079"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span>
</span><span id="line-423"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-424"></span><span>
</span><span id="line-425"></span><span class="hs-comment">-- | Shift left by a constant amount. Translates to the &quot;bvshl&quot;</span><span>
</span><span id="line-426"></span><span class="hs-comment">-- operation in SMT-Lib.</span><span>
</span><span id="line-427"></span><span class="hs-comment">--</span><span>
</span><span id="line-428"></span><span class="hs-comment">-- NB. Haskell spec says the behavior is undefined if the shift amount</span><span>
</span><span id="line-429"></span><span class="hs-comment">-- is negative. We arbitrarily return the value unchanged if this is the case.</span><span>
</span><span id="line-430"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svShl"><span class="hs-identifier hs-type">svShl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-431"></span><span id="svShl"><span class="annot"><span class="annottext">svShl :: SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShl"><span class="hs-identifier hs-var hs-var">svShl</span></a></span></span><span> </span><span id="local-6989586621681131078"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131078"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131077"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681131077"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-432"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131077"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-433"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131078"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-434"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131078"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131077"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131078"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-435"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131076"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-436"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-437"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131078"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShiftLeft"><span class="hs-operator hs-var">`svShiftLeft`</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131076"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131077"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-438"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131076"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681131076"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131078"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="hs-comment">-- | Shift right by a constant amount. Translates to either &quot;bvlshr&quot;</span><span>
</span><span id="line-441"></span><span class="hs-comment">-- (logical shift right) or &quot;bvashr&quot; (arithmetic shift right) in</span><span>
</span><span id="line-442"></span><span class="hs-comment">-- SMT-Lib, depending on whether @x@ is a signed bitvector.</span><span>
</span><span id="line-443"></span><span class="hs-comment">--</span><span>
</span><span id="line-444"></span><span class="hs-comment">-- NB. Haskell spec says the behavior is undefined if the shift amount</span><span>
</span><span id="line-445"></span><span class="hs-comment">-- is negative. We arbitrarily return the value unchanged if this is the case.</span><span>
</span><span id="line-446"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svShr"><span class="hs-identifier hs-type">svShr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-447"></span><span id="svShr"><span class="annot"><span class="annottext">svShr :: SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShr"><span class="hs-identifier hs-var hs-var">svShr</span></a></span></span><span> </span><span id="local-6989586621681131075"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131075"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131074"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681131074"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-448"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131074"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-449"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131075"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-450"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131075"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131074"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131075"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-451"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#hasSign"><span class="hs-identifier hs-var">hasSign</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131075"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-452"></span><span>       </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131073"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-453"></span><span>       </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131075"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-operator hs-var">`svLessThan`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131073"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131072"><span class="hs-identifier hs-var">neg1</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131073"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-454"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-455"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131075"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShiftRight"><span class="hs-operator hs-var">`svShiftRight`</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131071"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131074"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-456"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131071"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681131071"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131075"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-457"></span><span>        </span><span id="local-6989586621681131073"><span class="annot"><span class="annottext">z :: SVal
</span><a href="#local-6989586621681131073"><span class="hs-identifier hs-var hs-var">z</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131071"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-458"></span><span>        </span><span id="local-6989586621681131072"><span class="annot"><span class="annottext">neg1 :: SVal
</span><a href="#local-6989586621681131072"><span class="hs-identifier hs-var hs-var">neg1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131071"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-459"></span><span>
</span><span id="line-460"></span><span class="hs-comment">-- | Rotate-left, by a constant.</span><span>
</span><span id="line-461"></span><span class="hs-comment">--</span><span>
</span><span id="line-462"></span><span class="hs-comment">-- NB. Haskell spec says the behavior is undefined if the shift amount</span><span>
</span><span id="line-463"></span><span class="hs-comment">-- is negative. We arbitrarily return the value unchanged if this is the case.</span><span>
</span><span id="line-464"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svRol"><span class="hs-identifier hs-type">svRol</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-465"></span><span id="svRol"><span class="annot"><span class="annottext">svRol :: SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRol"><span class="hs-identifier hs-var hs-var">svRol</span></a></span></span><span> </span><span id="local-6989586621681131070"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131070"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131069"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681131069"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-466"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131069"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-467"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131070"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-468"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-469"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131070"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-470"></span><span>           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681131068"><span class="annot"><span class="annottext">sz :: Int
</span><a href="#local-6989586621681131068"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; IO SV)
-&gt; (AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer)
-&gt; (Float -&gt; Float)
-&gt; (Double -&gt; Double)
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym1"><span class="hs-identifier hs-var">liftSym1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; State -&gt; Kind -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp1"><span class="hs-identifier hs-var">mkSymOp1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#Rol"><span class="hs-identifier hs-var">Rol</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131069"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mod`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131068"><span class="hs-identifier hs-var">sz</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span>                                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; AlgReal -&gt; AlgReal
</span><a href="Data.SBV.Core.Operations.html#noRealUnary"><span class="hs-identifier hs-var">noRealUnary</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;rotateL&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Int -&gt; Integer -&gt; Integer
</span><a href="Data.SBV.Core.Operations.html#rot"><span class="hs-identifier hs-var">rot</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131068"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131069"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>                                     </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Float -&gt; Float
</span><a href="Data.SBV.Core.Operations.html#noFloatUnary"><span class="hs-identifier hs-var">noFloatUnary</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;rotateL&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Double -&gt; Double
</span><a href="Data.SBV.Core.Operations.html#noDoubleUnary"><span class="hs-identifier hs-var">noDoubleUnary</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;rotateL&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131070"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-473"></span><span>           </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShl"><span class="hs-identifier hs-var">svShl</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131070"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131069"><span class="hs-identifier hs-var">i</span></a></span><span>   </span><span class="hs-comment">-- for unbounded Integers, rotateL is the same as shiftL in Haskell</span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span class="hs-comment">-- | Rotate-right, by a constant.</span><span>
</span><span id="line-476"></span><span class="hs-comment">--</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- NB. Haskell spec says the behavior is undefined if the shift amount</span><span>
</span><span id="line-478"></span><span class="hs-comment">-- is negative. We arbitrarily return the value unchanged if this is the case.</span><span>
</span><span id="line-479"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svRor"><span class="hs-identifier hs-type">svRor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-480"></span><span id="svRor"><span class="annot"><span class="annottext">svRor :: SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRor"><span class="hs-identifier hs-var hs-var">svRor</span></a></span></span><span> </span><span id="local-6989586621681131065"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131065"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681131064"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681131064"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-481"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131064"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-482"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131065"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-483"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-484"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131065"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-485"></span><span>      </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681131063"><span class="annot"><span class="annottext">sz :: Int
</span><a href="#local-6989586621681131063"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; IO SV)
-&gt; (AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer)
-&gt; (Float -&gt; Float)
-&gt; (Double -&gt; Double)
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym1"><span class="hs-identifier hs-var">liftSym1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; State -&gt; Kind -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp1"><span class="hs-identifier hs-var">mkSymOp1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#Ror"><span class="hs-identifier hs-var">Ror</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131064"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mod`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131063"><span class="hs-identifier hs-var">sz</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-486"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; AlgReal -&gt; AlgReal
</span><a href="Data.SBV.Core.Operations.html#noRealUnary"><span class="hs-identifier hs-var">noRealUnary</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;rotateR&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Int -&gt; Integer -&gt; Integer
</span><a href="Data.SBV.Core.Operations.html#rot"><span class="hs-identifier hs-var">rot</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131063"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131064"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-487"></span><span>                                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Float -&gt; Float
</span><a href="Data.SBV.Core.Operations.html#noFloatUnary"><span class="hs-identifier hs-var">noFloatUnary</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;rotateR&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Double -&gt; Double
</span><a href="Data.SBV.Core.Operations.html#noDoubleUnary"><span class="hs-identifier hs-var">noDoubleUnary</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;rotateR&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131065"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-488"></span><span>      </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShr"><span class="hs-identifier hs-var">svShr</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131065"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131064"><span class="hs-identifier hs-var">i</span></a></span><span>   </span><span class="hs-comment">-- for unbounded integers, rotateR is the same as shiftR in Haskell</span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span class="hs-comment">-- | Generic rotation. Since the underlying representation is just Integers, rotations has to be</span><span>
</span><span id="line-491"></span><span class="hs-comment">-- careful on the bit-size.</span><span>
</span><span id="line-492"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#rot"><span class="hs-identifier hs-type">rot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-493"></span><span id="rot"><span class="annot"><span class="annottext">rot :: Bool -&gt; Int -&gt; Int -&gt; Integer -&gt; Integer
</span><a href="Data.SBV.Core.Operations.html#rot"><span class="hs-identifier hs-var hs-var">rot</span></a></span></span><span> </span><span id="local-6989586621681131061"><span class="annot"><span class="annottext">toLeft :: Bool
</span><a href="#local-6989586621681131061"><span class="hs-identifier hs-var">toLeft</span></a></span></span><span> </span><span id="local-6989586621681131060"><span class="annot"><span class="annottext">sz :: Int
</span><a href="#local-6989586621681131060"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span id="local-6989586621681131059"><span class="annot"><span class="annottext">amt :: Int
</span><a href="#local-6989586621681131059"><span class="hs-identifier hs-var">amt</span></a></span></span><span> </span><span id="local-6989586621681131058"><span class="annot"><span class="annottext">x :: Integer
</span><a href="#local-6989586621681131058"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-494"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131060"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131058"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-495"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a. (Bits a, Num a) =&gt; a -&gt; Int -&gt; a
</span><a href="#local-6989586621681131057"><span class="hs-identifier hs-var">norm</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131058"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131056"><span class="hs-identifier hs-var">y'</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131054"><span class="hs-identifier hs-var">y</span></a></span><span>  </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a. (Bits a, Num a) =&gt; a -&gt; Int -&gt; a
</span><a href="#local-6989586621681131057"><span class="hs-identifier hs-var">norm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131058"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftR`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131056"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131054"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-496"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681131054"><span class="annot"><span class="annottext">y :: Int
</span><a href="#local-6989586621681131054"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681131056"><span class="annot"><span class="annottext">y' :: Int
</span><a href="#local-6989586621681131056"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681131061"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131059"><span class="hs-identifier hs-var">amt</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mod`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131060"><span class="hs-identifier hs-var">sz</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131060"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131054"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-497"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131060"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131056"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131059"><span class="hs-identifier hs-var">amt</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mod`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131060"><span class="hs-identifier hs-var">sz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>        </span><span id="local-6989586621681131057"><span class="annot"><span class="annottext">norm :: a -&gt; Int -&gt; a
</span><a href="#local-6989586621681131057"><span class="hs-identifier hs-var hs-var">norm</span></a></span></span><span> </span><span id="local-6989586621681131052"><span class="annot"><span class="annottext">v :: a
</span><a href="#local-6989586621681131052"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span id="local-6989586621681131051"><span class="annot"><span class="annottext">s :: Int
</span><a href="#local-6989586621681131051"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681131052"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.&amp;.</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Int -&gt; a
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131051"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-499"></span><span>
</span><span id="line-500"></span><span class="hs-comment">-- | Extract bit-sequences.</span><span>
</span><span id="line-501"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svExtract"><span class="hs-identifier hs-type">svExtract</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-502"></span><span id="svExtract"><span class="annot"><span class="annottext">svExtract :: Int -&gt; Int -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svExtract"><span class="hs-identifier hs-var hs-var">svExtract</span></a></span></span><span> </span><span id="local-6989586621681131050"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681131050"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681131049"><span class="annot"><span class="annottext">j :: Int
</span><a href="#local-6989586621681131049"><span class="hs-identifier hs-var">j</span></a></span></span><span> </span><span id="local-6989586621681131048"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131048"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span id="local-6989586621681131047"><span class="annot"><span class="annottext">s :: Bool
</span><a href="#local-6989586621681131047"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>
</span><span id="line-503"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131050"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131049"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-504"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131046"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131046"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-var">CInteger</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-505"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681131045"><span class="annot"><span class="annottext">v :: Integer
</span><a href="#local-6989586621681131045"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131048"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-506"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131046"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#normCV"><span class="hs-identifier hs-var">normCV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131046"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-var">CInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131045"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftR`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131049"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-507"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-508"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131046"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681131043"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-509"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131046"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681131046"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-var">KBounded</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681131047"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131050"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131049"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-510"></span><span>        </span><span id="local-6989586621681131043"><span class="annot"><span class="annottext">y :: State -&gt; IO SV
</span><a href="#local-6989586621681131043"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span id="local-6989586621681131042"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681131042"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681131041"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131041"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131042"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131048"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-511"></span><span>                  </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131042"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131046"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#Extract"><span class="hs-identifier hs-var">Extract</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131050"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131049"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131041"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svExtract"><span class="hs-identifier hs-var">svExtract</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;extract: non-bitvector type&quot;</span></span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span class="hs-comment">-- | Join two words, by concataneting</span><span>
</span><span id="line-515"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svJoin"><span class="hs-identifier hs-type">svJoin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-516"></span><span id="svJoin"><span class="annot"><span class="annottext">svJoin :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svJoin"><span class="hs-identifier hs-var hs-var">svJoin</span></a></span></span><span> </span><span id="local-6989586621681131039"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681131039"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span id="local-6989586621681131038"><span class="annot"><span class="annottext">s :: Bool
</span><a href="#local-6989586621681131038"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681131037"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681131037"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681131036"><span class="annot"><span class="annottext">a :: Either CV (Cached SV)
</span><a href="#local-6989586621681131036"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681131035"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681131035"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681131034"><span class="annot"><span class="annottext">j :: Int
</span><a href="#local-6989586621681131034"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681131033"><span class="annot"><span class="annottext">b :: Either CV (Cached SV)
</span><a href="#local-6989586621681131033"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-517"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131037"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131035"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-518"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131034"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131039"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-519"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681131032"><span class="annot"><span class="annottext">m :: Integer
</span><a href="#local-6989586621681131032"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either CV (Cached SV)
</span><a href="#local-6989586621681131036"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681131031"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681131031"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either CV (Cached SV)
</span><a href="#local-6989586621681131033"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-520"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131030"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131030"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-var">CInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131032"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`shiftL`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131034"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681131031"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-521"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-522"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131030"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681131029"><span class="hs-identifier hs-var">z</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-523"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-524"></span><span>    </span><span id="local-6989586621681131030"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681131030"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-var">KBounded</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681131038"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131037"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681131034"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-525"></span><span>    </span><span id="local-6989586621681131029"><span class="annot"><span class="annottext">z :: State -&gt; IO SV
</span><a href="#local-6989586621681131029"><span class="hs-identifier hs-var hs-var">z</span></a></span></span><span> </span><span id="local-6989586621681131028"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681131028"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681131027"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131027"><span class="hs-identifier hs-var">xsw</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131028"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131039"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-526"></span><span>              </span><span id="local-6989586621681131026"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131026"><span class="hs-identifier hs-var">ysw</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131028"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131035"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-527"></span><span>              </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131028"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131030"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Join"><span class="hs-identifier hs-var">Join</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131027"><span class="hs-identifier hs-var">xsw</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131026"><span class="hs-identifier hs-var">ysw</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-528"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svJoin"><span class="hs-identifier hs-var">svJoin</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;svJoin: non-bitvector type&quot;</span></span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span class="hs-comment">-- | If-then-else. This one will force branches.</span><span>
</span><span id="line-531"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-type">svIte</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-532"></span><span id="svIte"><span class="annot"><span class="annottext">svIte :: SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var hs-var">svIte</span></a></span></span><span> </span><span id="local-6989586621681131024"><span class="annot"><span class="annottext">t :: SVal
</span><a href="#local-6989586621681131024"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681131023"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681131023"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681131022"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681131022"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool -&gt; SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSymbolicMerge"><span class="hs-identifier hs-var">svSymbolicMerge</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131023"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131024"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131023"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131022"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-533"></span><span>
</span><span id="line-534"></span><span class="hs-comment">-- | Lazy If-then-else. This one will delay forcing the branches unless it's really necessary.</span><span>
</span><span id="line-535"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svLazyIte"><span class="hs-identifier hs-type">svLazyIte</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-536"></span><span id="svLazyIte"><span class="annot"><span class="annottext">svLazyIte :: Kind -&gt; SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLazyIte"><span class="hs-identifier hs-var hs-var">svLazyIte</span></a></span></span><span> </span><span id="local-6989586621681131021"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681131021"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681131020"><span class="annot"><span class="annottext">t :: SVal
</span><a href="#local-6989586621681131020"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681131019"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681131019"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681131018"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681131018"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool -&gt; SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSymbolicMerge"><span class="hs-identifier hs-var">svSymbolicMerge</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131021"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131020"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131019"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131018"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-537"></span><span>
</span><span id="line-538"></span><span class="hs-comment">-- | Merge two symbolic values, at kind @k@, possibly @force@'ing the branches to make</span><span>
</span><span id="line-539"></span><span class="hs-comment">-- sure they do not evaluate to the same result.</span><span>
</span><span id="line-540"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svSymbolicMerge"><span class="hs-identifier hs-type">svSymbolicMerge</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-541"></span><span id="svSymbolicMerge"><span class="annot"><span class="annottext">svSymbolicMerge :: Kind -&gt; Bool -&gt; SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSymbolicMerge"><span class="hs-identifier hs-var hs-var">svSymbolicMerge</span></a></span></span><span> </span><span id="local-6989586621681131017"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681131017"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681131016"><span class="annot"><span class="annottext">force :: Bool
</span><a href="#local-6989586621681131016"><span class="hs-identifier hs-var">force</span></a></span></span><span> </span><span id="local-6989586621681131015"><span class="annot"><span class="annottext">t :: SVal
</span><a href="#local-6989586621681131015"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681131014"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681131014"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681131013"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681131013"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681131012"><span class="annot"><span class="annottext">r :: Bool
</span><a href="#local-6989586621681131012"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Bool
</span><a href="Data.SBV.Core.Operations.html#svAsBool"><span class="hs-identifier hs-var">svAsBool</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131015"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-543"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681131012"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131014"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131013"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-544"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681131016"><span class="hs-identifier hs-var">force</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalSBVCheck"><span class="hs-identifier hs-var">rationalSBVCheck</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131014"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131013"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; Bool
</span><a href="#local-6989586621681131010"><span class="hs-identifier hs-var">sameResult</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131014"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131013"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-545"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131014"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-546"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-547"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131017"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681131009"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-548"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681131010"><span class="annot"><span class="annottext">sameResult :: SVal -&gt; SVal -&gt; Bool
</span><a href="#local-6989586621681131010"><span class="hs-identifier hs-var hs-var">sameResult</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681131008"><span class="annot"><span class="annottext">c1 :: CV
</span><a href="#local-6989586621681131008"><span class="hs-identifier hs-var">c1</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681131007"><span class="annot"><span class="annottext">c2 :: CV
</span><a href="#local-6989586621681131007"><span class="hs-identifier hs-var">c2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681131008"><span class="hs-identifier hs-var">c1</span></a></span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681131007"><span class="hs-identifier hs-var">c2</span></a></span><span>
</span><span id="line-549"></span><span>        </span><span class="annot"><a href="#local-6989586621681131010"><span class="hs-identifier hs-var">sameResult</span></a></span><span> </span><span class="hs-identifier">_</span><span>                  </span><span class="hs-identifier">_</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span>        </span><span id="local-6989586621681131009"><span class="annot"><span class="annottext">c :: State -&gt; IO SV
</span><a href="#local-6989586621681131009"><span class="hs-identifier hs-var hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681131006"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681131005"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131005"><span class="hs-identifier hs-var">swt</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131015"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-552"></span><span>                  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-553"></span><span>                    </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131005"><span class="hs-identifier hs-var">swt</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131014"><span class="hs-identifier hs-var">a</span></a></span><span>       </span><span class="hs-comment">-- these two cases should never be needed as we expect symbolicMerge to be</span><span>
</span><span id="line-554"></span><span>                    </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131005"><span class="hs-identifier hs-var">swt</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131013"><span class="hs-identifier hs-var">b</span></a></span><span>       </span><span class="hs-comment">-- called with symbolic tests, but just in case..</span><span>
</span><span id="line-555"></span><span>                    </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-comment">{- It is tempting to record the choice of the test expression here as we branch down to the 'then' and 'else' branches. That is,
                                when we evaluate 'a', we can make use of the fact that the test expression is True, and similarly we can use the fact that it
                                is False when b is evaluated. In certain cases this can cut down on symbolic simulation significantly, for instance if
                                repetitive decisions are made in a recursive loop. Unfortunately, the implementation of this idea is quite tricky, due to
                                our sharing based implementation. As the 'then' branch is evaluated, we will create many expressions that are likely going
                                to be &quot;reused&quot; when the 'else' branch is executed. But, it would be *dead wrong* to share those values, as they were &quot;cached&quot;
                                under the incorrect assumptions. To wit, consider the following:

                                   foo x y = ite (y .== 0) k (k+1)
                                     where k = ite (y .== 0) x (x+1)

                                When we reduce the 'then' branch of the first ite, we'd record the assumption that y is 0. But while reducing the 'then' branch, we'd
                                like to share @k@, which would evaluate (correctly) to @x@ under the given assumption. When we backtrack and evaluate the 'else'
                                branch of the first ite, we'd see @k@ is needed again, and we'd look it up from our sharing map to find (incorrectly) that its value
                                is @x@, which was stored there under the assumption that y was 0, which no longer holds. Clearly, this is unsound.

                                A sound implementation would have to precisely track which assumptions were active at the time expressions get shared. That is,
                                in the above example, we should record that the value of @k@ was cached under the assumption that @y@ is 0. While sound, this
                                approach unfortunately leads to significant loss of valid sharing when the value itself had nothing to do with the assumption itself.
                                To wit, consider:

                                   foo x y = ite (y .== 0) k (k+1)
                                     where k = x+5

                                If we tracked the assumptions, we would recompute @k@ twice, since the branch assumptions would differ. Clearly, there is no need to
                                re-compute @k@ in this case since its value is independent of @y@. Note that the whole SBV performance story is based on agressive sharing,
                                and losing that would have other significant ramifications.

                                The &quot;proper&quot; solution would be to track, with each shared computation, precisely which assumptions it actually *depends* on, rather
                                than blindly recording all the assumptions present at that time. SBV's symbolic simulation engine clearly has all the info needed to do this
                                properly, but the implementation is not straightforward at all. For each subexpression, we would need to chase down its dependencies
                                transitively, which can require a lot of scanning of the generated program causing major slow-down; thus potentially defeating the
                                whole purpose of sharing in the first place.

                                Design choice: Keep it simple, and simply do not track the assumption at all. This will maximize sharing, at the cost of evaluating
                                unreachable branches. I think the simplicity is more important at this point than efficiency.

                                Also note that the user can avoid most such issues by properly combining if-then-else's with common conditions together. That is, the
                                first program above should be written like this:

                                  foo x y = ite (y .== 0) x (x+2)

                                In general, the following transformations should be done whenever possible:

                                  ite e1 (ite e1 e2 e3) e4  --&gt; ite e1 e2 e4
                                  ite e1 e2 (ite e1 e3 e4)  --&gt; ite e1 e2 e4

                                This is in accordance with the general rule-of-thumb stating conditionals should be avoided as much as possible. However, we might prefer
                                the following:

                                  ite e1 (f e2 e4) (f e3 e5) --&gt; f (ite e1 e2 e3) (ite e1 e4 e5)

                                especially if this expression happens to be inside 'f's body itself (i.e., when f is recursive), since it reduces the number of
                                recursive calls. Clearly, programming with symbolic simulation in mind is another kind of beast alltogether.
                             -}</span><span>
</span><span id="line-610"></span><span>                             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681131004"><span class="annot"><span class="annottext">sta :: State
</span><a href="#local-6989586621681131004"><span class="hs-identifier hs-var hs-var">sta</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; (SVal -&gt; SVal) -&gt; State
</span><a href="Data.SBV.Core.Symbolic.html#extendSValPathCondition"><span class="hs-operator hs-var">`extendSValPathCondition`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svAnd"><span class="hs-identifier hs-var">svAnd</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131015"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-611"></span><span>                             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681131002"><span class="annot"><span class="annottext">stb :: State
</span><a href="#local-6989586621681131002"><span class="hs-identifier hs-var hs-var">stb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; (SVal -&gt; SVal) -&gt; State
</span><a href="Data.SBV.Core.Symbolic.html#extendSValPathCondition"><span class="hs-operator hs-var">`extendSValPathCondition`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svAnd"><span class="hs-identifier hs-var">svAnd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svNot"><span class="hs-identifier hs-var">svNot</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131015"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-612"></span><span>                             </span><span id="local-6989586621681131001"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131001"><span class="hs-identifier hs-var">swa</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131004"><span class="hs-identifier hs-var">sta</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131014"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-comment">-- evaluate 'then' branch</span><span>
</span><span id="line-613"></span><span>                             </span><span id="local-6989586621681131000"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131000"><span class="hs-identifier hs-var">swb</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131002"><span class="hs-identifier hs-var">stb</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681131013"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-comment">-- evaluate 'else' branch</span><span>
</span><span id="line-614"></span><span>
</span><span id="line-615"></span><span>                             </span><span class="hs-comment">-- merge, but simplify for certain boolean cases:</span><span>
</span><span id="line-616"></span><span>                             </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-617"></span><span>                               </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131001"><span class="hs-identifier hs-var">swa</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131000"><span class="hs-identifier hs-var">swb</span></a></span><span>                      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SV -&gt; IO SV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131001"><span class="hs-identifier hs-var">swa</span></a></span><span>                                     </span><span class="hs-comment">-- if t then a      else a     ==&gt; a</span><span>
</span><span id="line-618"></span><span>                               </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131001"><span class="hs-identifier hs-var">swa</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131000"><span class="hs-identifier hs-var">swb</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SV -&gt; IO SV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131005"><span class="hs-identifier hs-var">swt</span></a></span><span>                                     </span><span class="hs-comment">-- if t then true   else false ==&gt; t</span><span>
</span><span id="line-619"></span><span>                               </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131001"><span class="hs-identifier hs-var">swa</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131000"><span class="hs-identifier hs-var">swb</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131017"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Not"><span class="hs-identifier hs-var">Not</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131005"><span class="hs-identifier hs-var">swt</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>                </span><span class="hs-comment">-- if t then false  else true  ==&gt; not t</span><span>
</span><span id="line-620"></span><span>                               </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131001"><span class="hs-identifier hs-var">swa</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131017"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Or"><span class="hs-identifier hs-var">Or</span></a></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131005"><span class="hs-identifier hs-var">swt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131000"><span class="hs-identifier hs-var">swb</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>           </span><span class="hs-comment">-- if t then true   else b     ==&gt; t OR b</span><span>
</span><span id="line-621"></span><span>                               </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131001"><span class="hs-identifier hs-var">swa</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130999"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130999"><span class="hs-identifier hs-var">swt'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Not"><span class="hs-identifier hs-var">Not</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131005"><span class="hs-identifier hs-var">swt</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-622"></span><span>                                                                          </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131017"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#And"><span class="hs-identifier hs-var">And</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130999"><span class="hs-identifier hs-var">swt'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131000"><span class="hs-identifier hs-var">swb</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- if t then false  else b     ==&gt; t' AND b</span><span>
</span><span id="line-623"></span><span>                               </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131000"><span class="hs-identifier hs-var">swb</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130998"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130998"><span class="hs-identifier hs-var">swt'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Not"><span class="hs-identifier hs-var">Not</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131005"><span class="hs-identifier hs-var">swt</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-624"></span><span>                                                                          </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131017"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Or"><span class="hs-identifier hs-var">Or</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130998"><span class="hs-identifier hs-var">swt'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131001"><span class="hs-identifier hs-var">swa</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>        </span><span class="hs-comment">-- if t then a      else true  ==&gt; t' OR a</span><span>
</span><span id="line-625"></span><span>                               </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131000"><span class="hs-identifier hs-var">swb</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131017"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#And"><span class="hs-identifier hs-var">And</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131005"><span class="hs-identifier hs-var">swt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131001"><span class="hs-identifier hs-var">swa</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>           </span><span class="hs-comment">-- if t then a      else false ==&gt; t AND a</span><span>
</span><span id="line-626"></span><span>                               </span><span class="hs-special">(</span><span class="hs-special">)</span><span>                                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681131006"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681131017"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Ite"><span class="hs-identifier hs-var">Ite</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131005"><span class="hs-identifier hs-var">swt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131001"><span class="hs-identifier hs-var">swa</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681131000"><span class="hs-identifier hs-var">swb</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-627"></span><span>
</span><span id="line-628"></span><span class="hs-comment">-- | Total indexing operation. @svSelect xs default index@ is</span><span>
</span><span id="line-629"></span><span class="hs-comment">-- intuitively the same as @xs !! index@, except it evaluates to</span><span>
</span><span id="line-630"></span><span class="hs-comment">-- @default@ if @index@ overflows. Translates to SMT-Lib tables.</span><span>
</span><span id="line-631"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier hs-type">svSelect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-632"></span><span id="svSelect"><span class="annot"><span class="annottext">svSelect :: [SVal] -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier hs-var hs-var">svSelect</span></a></span></span><span> </span><span id="local-6989586621681130996"><span class="annot"><span class="annottext">xs :: [SVal]
</span><a href="#local-6989586621681130996"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span id="local-6989586621681130995"><span class="annot"><span class="annottext">err :: SVal
</span><a href="#local-6989586621681130995"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span id="local-6989586621681130994"><span class="annot"><span class="annottext">ind :: SVal
</span><a href="#local-6989586621681130994"><span class="hs-identifier hs-var">ind</span></a></span></span><span>
</span><span id="line-633"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681130993"><span class="annot"><span class="annottext">c :: CV
</span><a href="#local-6989586621681130993"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130994"><span class="hs-identifier hs-var">ind</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-634"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#cvVal"><span class="hs-identifier hs-var hs-var">cvVal</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130993"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-635"></span><span>      </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130991"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681130991"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130991"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130991"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; Integer
forall i a. Num i =&gt; [a] -&gt; i
</span><span class="hs-identifier hs-var">genericLength</span></span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681130996"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-636"></span><span>                    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130995"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-637"></span><span>                    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681130996"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; Integer -&gt; SVal
forall i a. Integral i =&gt; [a] -&gt; i -&gt; a
</span><span class="hs-operator hs-var">`genericIndex`</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130991"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-638"></span><span>      </span><span class="hs-identifier">_</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SVal) -&gt; String -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.select: unsupported &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130994"><span class="hs-identifier hs-var">ind</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; valued select/index expression&quot;</span></span><span>
</span><span id="line-639"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier hs-var">svSelect</span></a></span><span> </span><span id="local-6989586621681130990"><span class="annot"><span class="annottext">xsOrig :: [SVal]
</span><a href="#local-6989586621681130990"><span class="hs-identifier hs-var">xsOrig</span></a></span></span><span> </span><span id="local-6989586621681130989"><span class="annot"><span class="annottext">err :: SVal
</span><a href="#local-6989586621681130989"><span class="hs-identifier hs-var">err</span></a></span></span><span> </span><span id="local-6989586621681130988"><span class="annot"><span class="annottext">ind :: SVal
</span><a href="#local-6989586621681130988"><span class="hs-identifier hs-var">ind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681130987"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; SVal -&gt; SVal
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130986"><span class="hs-identifier hs-var">kElt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130985"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-640"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-641"></span><span>    </span><span id="local-6989586621681130984"><span class="annot"><span class="annottext">kInd :: Kind
</span><a href="#local-6989586621681130984"><span class="hs-identifier hs-var hs-var">kInd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130988"><span class="hs-identifier hs-var">ind</span></a></span><span>
</span><span id="line-642"></span><span>    </span><span id="local-6989586621681130986"><span class="annot"><span class="annottext">kElt :: Kind
</span><a href="#local-6989586621681130986"><span class="hs-identifier hs-var hs-var">kElt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130989"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-643"></span><span>    </span><span class="hs-comment">-- Based on the index size, we need to limit the elements. For</span><span>
</span><span id="line-644"></span><span>    </span><span class="hs-comment">-- instance if the index is 8 bits, but there are 257 elements,</span><span>
</span><span id="line-645"></span><span>    </span><span class="hs-comment">-- that last element will never be used and we can chop it off.</span><span>
</span><span id="line-646"></span><span>    </span><span id="local-6989586621681130987"><span class="annot"><span class="annottext">xs :: [SVal]
</span><a href="#local-6989586621681130987"><span class="hs-identifier hs-var hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130984"><span class="hs-identifier hs-var">kInd</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-647"></span><span>           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span id="local-6989586621681130983"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130983"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; [SVal] -&gt; [SVal]
forall i a. Integral i =&gt; i -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">genericTake</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130983"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681130990"><span class="hs-identifier hs-var">xsOrig</span></a></span><span>
</span><span id="line-648"></span><span>           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>  </span><span id="local-6989586621681130981"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130981"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; [SVal] -&gt; [SVal]
forall i a. Integral i =&gt; i -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">genericTake</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130981"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681130990"><span class="hs-identifier hs-var">xsOrig</span></a></span><span>
</span><span id="line-649"></span><span>           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-type">KUnbounded</span></a></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681130990"><span class="hs-identifier hs-var">xsOrig</span></a></span><span>
</span><span id="line-650"></span><span>           </span><span class="hs-identifier">_</span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; [SVal]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; [SVal]) -&gt; String -&gt; [SVal]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.select: unsupported &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130984"><span class="hs-identifier hs-var">kInd</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; valued select/index expression&quot;</span></span><span>
</span><span id="line-651"></span><span>    </span><span id="local-6989586621681130985"><span class="annot"><span class="annottext">r :: State -&gt; IO SV
</span><a href="#local-6989586621681130985"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681130980"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130980"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130979"><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681130979"><span class="hs-identifier hs-var">sws</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; IO SV) -&gt; [SVal] -&gt; IO [SV]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130980"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681130987"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-652"></span><span>              </span><span id="local-6989586621681130977"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130977"><span class="hs-identifier hs-var">swe</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130980"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130989"><span class="hs-identifier hs-var">err</span></a></span><span>
</span><span id="line-653"></span><span>              </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">(SV -&gt; Bool) -&gt; [SV] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130977"><span class="hs-identifier hs-var">swe</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681130979"><span class="hs-identifier hs-var">sws</span></a></span><span>  </span><span class="hs-comment">-- off-chance that all elts are the same</span><span>
</span><span id="line-654"></span><span>                 </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SV -&gt; IO SV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130977"><span class="hs-identifier hs-var">swe</span></a></span><span>
</span><span id="line-655"></span><span>                 </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130975"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130975"><span class="hs-identifier hs-var">idx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; Kind -&gt; [SV] -&gt; IO Int
</span><a href="Data.SBV.Core.Symbolic.html#getTableIndex"><span class="hs-identifier hs-var">getTableIndex</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130980"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130984"><span class="hs-identifier hs-var">kInd</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130986"><span class="hs-identifier hs-var">kElt</span></a></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681130979"><span class="hs-identifier hs-var">sws</span></a></span><span>
</span><span id="line-656"></span><span>                         </span><span id="local-6989586621681130973"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130973"><span class="hs-identifier hs-var">swi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130980"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130988"><span class="hs-identifier hs-var">ind</span></a></span><span>
</span><span id="line-657"></span><span>                         </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130972"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621681130972"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681130987"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-658"></span><span>                         </span><span class="hs-comment">-- NB. No need to worry here that the index</span><span>
</span><span id="line-659"></span><span>                         </span><span class="hs-comment">-- might be &lt; 0; as the SMTLib translation</span><span>
</span><span id="line-660"></span><span>                         </span><span class="hs-comment">-- takes care of that automatically</span><span>
</span><span id="line-661"></span><span>                         </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130980"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130986"><span class="hs-identifier hs-var">kElt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Int, Kind, Kind, Int) -&gt; SV -&gt; SV -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#LkUp"><span class="hs-identifier hs-var">LkUp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130975"><span class="hs-identifier hs-var">idx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130984"><span class="hs-identifier hs-var">kInd</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130986"><span class="hs-identifier hs-var">kElt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130972"><span class="hs-identifier hs-var">len</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130973"><span class="hs-identifier hs-var">swi</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130977"><span class="hs-identifier hs-var">swe</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-662"></span><span>
</span><span id="line-663"></span><span class="hs-comment">-- Change the sign of a bit-vector quantity. Fails if passed a non-bv</span><span>
</span><span id="line-664"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svChangeSign"><span class="hs-identifier hs-type">svChangeSign</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-665"></span><span id="svChangeSign"><span class="annot"><span class="annottext">svChangeSign :: Bool -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svChangeSign"><span class="hs-identifier hs-var hs-var">svChangeSign</span></a></span></span><span> </span><span id="local-6989586621681130969"><span class="annot"><span class="annottext">s :: Bool
</span><a href="#local-6989586621681130969"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681130968"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130968"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-666"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130968"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SVal) -&gt; String -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130967"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: Received non bit-vector kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130968"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-667"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130966"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681130966"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var">svAsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130968"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130965"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130966"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-668"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130965"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130964"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-669"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-670"></span><span>    </span><span id="local-6989586621681130967"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681130967"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681130969"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-string">&quot;svSign&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-string">&quot;svUnsign&quot;</span></span><span>
</span><span id="line-671"></span><span>
</span><span id="line-672"></span><span>    </span><span id="local-6989586621681130965"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130965"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-var">KBounded</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681130969"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130968"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-673"></span><span>    </span><span id="local-6989586621681130964"><span class="annot"><span class="annottext">y :: State -&gt; IO SV
</span><a href="#local-6989586621681130964"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span id="local-6989586621681130963"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130963"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130962"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130962"><span class="hs-identifier hs-var">xsw</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130963"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130968"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-674"></span><span>              </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130963"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130965"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#Extract"><span class="hs-identifier hs-var">Extract</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130968"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130962"><span class="hs-identifier hs-var">xsw</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-675"></span><span>
</span><span id="line-676"></span><span class="hs-comment">-- | Convert a symbolic bitvector from unsigned to signed.</span><span>
</span><span id="line-677"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svSign"><span class="hs-identifier hs-type">svSign</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-678"></span><span id="svSign"><span class="annot"><span class="annottext">svSign :: SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSign"><span class="hs-identifier hs-var hs-var">svSign</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svChangeSign"><span class="hs-identifier hs-var">svChangeSign</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-679"></span><span>
</span><span id="line-680"></span><span class="hs-comment">-- | Convert a symbolic bitvector from signed to unsigned.</span><span>
</span><span id="line-681"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svUnsign"><span class="hs-identifier hs-type">svUnsign</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-682"></span><span id="svUnsign"><span class="annot"><span class="annottext">svUnsign :: SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svUnsign"><span class="hs-identifier hs-var hs-var">svUnsign</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svChangeSign"><span class="hs-identifier hs-var">svChangeSign</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-683"></span><span>
</span><span id="line-684"></span><span class="hs-comment">-- | Convert a symbolic bitvector from one integral kind to another.</span><span>
</span><span id="line-685"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svFromIntegral"><span class="hs-identifier hs-type">svFromIntegral</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-686"></span><span id="svFromIntegral"><span class="annot"><span class="annottext">svFromIntegral :: Kind -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svFromIntegral"><span class="hs-identifier hs-var hs-var">svFromIntegral</span></a></span></span><span> </span><span id="local-6989586621681130961"><span class="annot"><span class="annottext">kTo :: Kind
</span><a href="#local-6989586621681130961"><span class="hs-identifier hs-var">kTo</span></a></span></span><span> </span><span id="local-6989586621681130960"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130960"><span class="hs-identifier hs-var">x</span></a></span></span><span>
</span><span id="line-687"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130959"><span class="annot"><span class="annottext">v :: Integer
</span><a href="#local-6989586621681130959"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var">svAsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130960"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-688"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130961"><span class="hs-identifier hs-var">kTo</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130959"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-689"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-690"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130958"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-691"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130958"><span class="annot"><span class="annottext">result :: SVal
</span><a href="#local-6989586621681130958"><span class="hs-identifier hs-var hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130961"><span class="hs-identifier hs-var">kTo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130957"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-692"></span><span>        </span><span id="local-6989586621681130956"><span class="annot"><span class="annottext">kFrom :: Kind
</span><a href="#local-6989586621681130956"><span class="hs-identifier hs-var hs-var">kFrom</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130960"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-693"></span><span>        </span><span id="local-6989586621681130957"><span class="annot"><span class="annottext">y :: State -&gt; IO SV
</span><a href="#local-6989586621681130957"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span id="local-6989586621681130955"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130955"><span class="hs-identifier hs-var">st</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130954"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130954"><span class="hs-identifier hs-var">xsw</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130955"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130960"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-694"></span><span>                    </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130955"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130961"><span class="hs-identifier hs-var">kTo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#KindCast"><span class="hs-identifier hs-var">KindCast</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130956"><span class="hs-identifier hs-var">kFrom</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130961"><span class="hs-identifier hs-var">kTo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130954"><span class="hs-identifier hs-var">xsw</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-695"></span><span>
</span><span id="line-696"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-697"></span><span class="hs-comment">-- Derived operations</span><span>
</span><span id="line-698"></span><span>
</span><span id="line-699"></span><span class="hs-comment">-- | Convert an SVal from kind Bool to an unsigned bitvector of size 1.</span><span>
</span><span id="line-700"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svToWord1"><span class="hs-identifier hs-type">svToWord1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-701"></span><span id="svToWord1"><span class="annot"><span class="annottext">svToWord1 :: SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svToWord1"><span class="hs-identifier hs-var hs-var">svToWord1</span></a></span></span><span> </span><span id="local-6989586621681130952"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681130952"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool -&gt; SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSymbolicMerge"><span class="hs-identifier hs-var">svSymbolicMerge</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130951"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130952"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130951"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130951"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-702"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130951"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130951"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-var">KBounded</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-703"></span><span>
</span><span id="line-704"></span><span class="hs-comment">-- | Convert an SVal from a bitvector of size 1 (signed or unsigned) to kind Bool.</span><span>
</span><span id="line-705"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svFromWord1"><span class="hs-identifier hs-type">svFromWord1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-706"></span><span id="svFromWord1"><span class="annot"><span class="annottext">svFromWord1 :: SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svFromWord1"><span class="hs-identifier hs-var hs-var">svFromWord1</span></a></span></span><span> </span><span id="local-6989586621681130950"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130950"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svNotEqual"><span class="hs-identifier hs-var">svNotEqual</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130950"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130949"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>
</span><span id="line-707"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130949"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130949"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130950"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-708"></span><span>
</span><span id="line-709"></span><span class="hs-comment">-- | Test the value of a bit. Note that we do an extract here</span><span>
</span><span id="line-710"></span><span class="hs-comment">-- as opposed to masking and checking against zero, as we found</span><span>
</span><span id="line-711"></span><span class="hs-comment">-- extraction to be much faster with large bit-vectors.</span><span>
</span><span id="line-712"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svTestBit"><span class="hs-identifier hs-type">svTestBit</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-713"></span><span id="svTestBit"><span class="annot"><span class="annottext">svTestBit :: SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svTestBit"><span class="hs-identifier hs-var hs-var">svTestBit</span></a></span></span><span> </span><span id="local-6989586621681130948"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130948"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130947"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130947"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-714"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130947"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130948"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svFromWord1"><span class="hs-identifier hs-var">svFromWord1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svExtract"><span class="hs-identifier hs-var">svExtract</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130947"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130947"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130948"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-715"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var">svFalse</span></a></span><span>
</span><span id="line-716"></span><span>
</span><span id="line-717"></span><span class="hs-comment">-- | Generalization of 'svShl', where the shift-amount is symbolic.</span><span>
</span><span id="line-718"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svShiftLeft"><span class="hs-identifier hs-type">svShiftLeft</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-719"></span><span id="svShiftLeft"><span class="annot"><span class="annottext">svShiftLeft :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShiftLeft"><span class="hs-identifier hs-var hs-var">svShiftLeft</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShift"><span class="hs-identifier hs-var">svShift</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-720"></span><span>
</span><span id="line-721"></span><span class="hs-comment">-- | Generalization of 'svShr', where the shift-amount is symbolic.</span><span>
</span><span id="line-722"></span><span class="hs-comment">--</span><span>
</span><span id="line-723"></span><span class="hs-comment">-- NB. If the shiftee is signed, then this is an arithmetic shift;</span><span>
</span><span id="line-724"></span><span class="hs-comment">-- otherwise it's logical.</span><span>
</span><span id="line-725"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svShiftRight"><span class="hs-identifier hs-type">svShiftRight</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-726"></span><span id="svShiftRight"><span class="annot"><span class="annottext">svShiftRight :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShiftRight"><span class="hs-identifier hs-var hs-var">svShiftRight</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShift"><span class="hs-identifier hs-var">svShift</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-727"></span><span>
</span><span id="line-728"></span><span class="hs-comment">-- | Generic shifting of bounded quantities. The shift amount must be non-negative and within the bounds of the argument</span><span>
</span><span id="line-729"></span><span class="hs-comment">-- for bit vectors. For negative shift amounts, the result is returned unchanged. For overshifts, left-shift produces 0,</span><span>
</span><span id="line-730"></span><span class="hs-comment">-- right shift produces 0 or -1 depending on the result being signed.</span><span>
</span><span id="line-731"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svShift"><span class="hs-identifier hs-type">svShift</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-732"></span><span id="svShift"><span class="annot"><span class="annottext">svShift :: Bool -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShift"><span class="hs-identifier hs-var hs-var">svShift</span></a></span></span><span> </span><span id="local-6989586621681130945"><span class="annot"><span class="annottext">toLeft :: Bool
</span><a href="#local-6989586621681130945"><span class="hs-identifier hs-var">toLeft</span></a></span></span><span> </span><span id="local-6989586621681130944"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130943"><span class="annot"><span class="annottext">i :: SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-733"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130942"><span class="annot"><span class="annottext">r :: SVal
</span><a href="#local-6989586621681130942"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe SVal
</span><a href="#local-6989586621681130941"><span class="hs-identifier hs-var">constFoldValue</span></a></span><span>
</span><span id="line-734"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130942"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-735"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681130940"><span class="hs-identifier hs-var">cannotOverShift</span></a></span><span>
</span><span id="line-736"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-operator hs-var">`svLessThan`</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130939"><span class="hs-identifier hs-var">ki</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>                                         </span><span class="hs-comment">-- Negative shift, no change</span><span>
</span><span id="line-737"></span><span>          </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-738"></span><span>          </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130938"><span class="hs-identifier hs-var">regularShiftValue</span></a></span><span>
</span><span id="line-739"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-740"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-operator hs-var">`svLessThan`</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130939"><span class="hs-identifier hs-var">ki</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span>                                         </span><span class="hs-comment">-- Negative shift, no change</span><span>
</span><span id="line-741"></span><span>          </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-742"></span><span>          </span><span class="annot"><span class="annottext">(SVal -&gt; SVal) -&gt; SVal -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svGreaterEq"><span class="hs-operator hs-var">`svGreaterEq`</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130939"><span class="hs-identifier hs-var">ki</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-comment">-- Overshift, by at least the bit-width of x</span><span>
</span><span id="line-743"></span><span>                  </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130937"><span class="hs-identifier hs-var">overShiftValue</span></a></span><span>
</span><span id="line-744"></span><span>                  </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130938"><span class="hs-identifier hs-var">regularShiftValue</span></a></span><span>
</span><span id="line-745"></span><span>
</span><span id="line-746"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130936"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681130936"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681130945"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;shiftLeft&quot;</span></span><span>
</span><span id="line-747"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;shiftRight&quot;</span></span><span>
</span><span id="line-748"></span><span>
</span><span id="line-749"></span><span>        </span><span id="local-6989586621681130935"><span class="annot"><span class="annottext">kx :: Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var hs-var">kx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-750"></span><span>        </span><span id="local-6989586621681130939"><span class="annot"><span class="annottext">ki :: Kind
</span><a href="#local-6989586621681130939"><span class="hs-identifier hs-var hs-var">ki</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-751"></span><span>
</span><span id="line-752"></span><span>        </span><span class="hs-comment">-- Constant fold the result if possible. If either quantity is unbounded, then we only support constants</span><span>
</span><span id="line-753"></span><span>        </span><span class="hs-comment">-- as there's no easy/meaningful way to map this combo to SMTLib. Should be rarely needed, if ever!</span><span>
</span><span id="line-754"></span><span>        </span><span class="hs-comment">-- We also perform basic sanity check here so that if we go past here, we know we have bitvectors only.</span><span>
</span><span id="line-755"></span><span>        </span><span id="local-6989586621681130941"><span class="annot"><span class="annottext">constFoldValue :: Maybe SVal
</span><a href="#local-6989586621681130941"><span class="hs-identifier hs-var hs-var">constFoldValue</span></a></span></span><span>
</span><span id="line-756"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130934"><span class="annot"><span class="annottext">iv :: Integer
</span><a href="#local-6989586621681130934"><span class="hs-identifier hs-var">iv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="#local-6989586621681130933"><span class="hs-identifier hs-var">getConst</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130934"><span class="hs-identifier hs-var">iv</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-757"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe SVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-758"></span><span>
</span><span id="line-759"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130932"><span class="annot"><span class="annottext">xv :: Integer
</span><a href="#local-6989586621681130932"><span class="hs-identifier hs-var">xv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="#local-6989586621681130933"><span class="hs-identifier hs-var">getConst</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130932"><span class="hs-identifier hs-var">xv</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-760"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe SVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-761"></span><span>
</span><span id="line-762"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130931"><span class="annot"><span class="annottext">xv :: Integer
</span><a href="#local-6989586621681130931"><span class="hs-identifier hs-var">xv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="#local-6989586621681130933"><span class="hs-identifier hs-var">getConst</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130930"><span class="annot"><span class="annottext">iv :: Integer
</span><a href="#local-6989586621681130930"><span class="hs-identifier hs-var">iv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="#local-6989586621681130933"><span class="hs-identifier hs-var">getConst</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-763"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe SVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; Maybe SVal) -&gt; SVal -&gt; Maybe SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal)
-&gt; (CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; SVal
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; SVal) -&gt; CV -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#normCV"><span class="hs-identifier hs-var">normCV</span></a></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; CV) -&gt; CV -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-var">CInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130931"><span class="hs-identifier hs-var">xv</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
</span><a href="#local-6989586621681130929"><span class="hs-operator hs-var">`opC`</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
</span><a href="#local-6989586621681130928"><span class="hs-identifier hs-var">shiftAmount</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130930"><span class="hs-identifier hs-var">iv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-764"></span><span>
</span><span id="line-765"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isUnbounded"><span class="hs-identifier hs-var">isUnbounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isUnbounded"><span class="hs-identifier hs-var">isUnbounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-766"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe SVal
forall a. String -&gt; a
</span><a href="#local-6989586621681130926"><span class="hs-identifier hs-var">bailOut</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe SVal) -&gt; String -&gt; Maybe SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Not yet implemented unbounded/non-constants shifts for &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130939"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, please file a request!&quot;</span></span><span>
</span><span id="line-767"></span><span>
</span><span id="line-768"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-769"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe SVal
forall a. String -&gt; a
</span><a href="#local-6989586621681130926"><span class="hs-identifier hs-var">bailOut</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe SVal) -&gt; String -&gt; Maybe SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unexpected kinds: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130939"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-770"></span><span>
</span><span id="line-771"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-772"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe SVal
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-773"></span><span>
</span><span id="line-774"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130926"><span class="annot"><span class="annottext">bailOut :: String -&gt; a
</span><a href="#local-6989586621681130926"><span class="hs-identifier hs-var hs-var">bailOut</span></a></span></span><span> </span><span id="local-6989586621681130925"><span class="annot"><span class="annottext">m :: String
</span><a href="#local-6989586621681130925"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130936"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130925"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-775"></span><span>
</span><span id="line-776"></span><span>                </span><span id="local-6989586621681130933"><span class="annot"><span class="annottext">getConst :: SVal -&gt; Maybe Integer
</span><a href="#local-6989586621681130933"><span class="hs-identifier hs-var hs-var">getConst</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130924"><span class="annot"><span class="annottext">val :: Integer
</span><a href="#local-6989586621681130924"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Maybe Integer
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130924"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-777"></span><span>                </span><span class="annot"><a href="#local-6989586621681130933"><span class="hs-identifier hs-var">getConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Integer
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-778"></span><span>
</span><span id="line-779"></span><span>                </span><span id="local-6989586621681130929"><span class="annot"><span class="annottext">opC :: Integer -&gt; Int -&gt; Integer
</span><a href="#local-6989586621681130929"><span class="hs-identifier hs-var hs-var">opC</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681130945"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftL</span></span><span>
</span><span id="line-780"></span><span>                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Integer
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">shiftR</span></span><span>
</span><span id="line-781"></span><span>
</span><span id="line-782"></span><span>                </span><span class="hs-comment">-- like fromIntegral, but more paranoid</span><span>
</span><span id="line-783"></span><span>                </span><span class="annot"><a href="#local-6989586621681130928"><span class="hs-identifier hs-type">shiftAmount</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-784"></span><span>                </span><span id="local-6989586621681130928"><span class="annot"><span class="annottext">shiftAmount :: Integer -&gt; Int
</span><a href="#local-6989586621681130928"><span class="hs-identifier hs-var hs-var">shiftAmount</span></a></span></span><span> </span><span id="local-6989586621681130923"><span class="annot"><span class="annottext">iv :: Integer
</span><a href="#local-6989586621681130923"><span class="hs-identifier hs-var">iv</span></a></span></span><span>
</span><span id="line-785"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130923"><span class="hs-identifier hs-var">iv</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>                                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-786"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isUnbounded"><span class="hs-identifier hs-var">isUnbounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130923"><span class="hs-identifier hs-var">iv</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
forall a. Bounded a =&gt; a
</span><span class="hs-identifier hs-var">maxBound</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int
forall a. String -&gt; a
</span><a href="#local-6989586621681130926"><span class="hs-identifier hs-var">bailOut</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Int) -&gt; String -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unsupported constant unbounded shift with amount: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130923"><span class="hs-identifier hs-var">iv</span></a></span><span>
</span><span id="line-787"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isUnbounded"><span class="hs-identifier hs-var">isUnbounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span>                                      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130923"><span class="hs-identifier hs-var">iv</span></a></span><span>
</span><span id="line-788"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130923"><span class="hs-identifier hs-var">iv</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130921"><span class="hs-identifier hs-var">ub</span></a></span><span>                              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130921"><span class="hs-identifier hs-var">ub</span></a></span><span>
</span><span id="line-789"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int
forall a. String -&gt; a
</span><a href="#local-6989586621681130926"><span class="hs-identifier hs-var">bailOut</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Int) -&gt; String -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unsupported kinds: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130939"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-790"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                                               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130923"><span class="hs-identifier hs-var">iv</span></a></span><span>
</span><span id="line-791"></span><span>                 </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130921"><span class="annot"><span class="annottext">ub :: Int
</span><a href="#local-6989586621681130921"><span class="hs-identifier hs-var hs-var">ub</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-792"></span><span>
</span><span id="line-793"></span><span>        </span><span class="hs-comment">-- Overshift is not possible if the bit-size of x won't even fit into the bit-vector size</span><span>
</span><span id="line-794"></span><span>        </span><span class="hs-comment">-- of i. Note that this is a *necessary* check, Consider for instance if we're shifting a</span><span>
</span><span id="line-795"></span><span>        </span><span class="hs-comment">-- 32-bit value using a 1-bit shift amount (which can happen if the value is 1 with minimal</span><span>
</span><span id="line-796"></span><span>        </span><span class="hs-comment">-- shift widths). We would compare 1 &gt;= 32, but stuffing 32 into bit-vector of size 1 would</span><span>
</span><span id="line-797"></span><span>        </span><span class="hs-comment">-- overflow. See http://github.com/LeventErkok/sbv/issues/323 for this case. Thus, we</span><span>
</span><span id="line-798"></span><span>        </span><span class="hs-comment">-- make sure that the bit-vector would fit as a value.</span><span>
</span><span id="line-799"></span><span>        </span><span id="local-6989586621681130940"><span class="annot"><span class="annottext">cannotOverShift :: Bool
</span><a href="#local-6989586621681130940"><span class="hs-identifier hs-var hs-var">cannotOverShift</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130920"><span class="hs-identifier hs-var">maxRepresentable</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-800"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621681130920"><span class="hs-identifier hs-type">maxRepresentable</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>
</span><span id="line-801"></span><span>                </span><span id="local-6989586621681130920"><span class="annot"><span class="annottext">maxRepresentable :: Integer
</span><a href="#local-6989586621681130920"><span class="hs-identifier hs-var hs-var">maxRepresentable</span></a></span></span><span>
</span><span id="line-802"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#hasSign"><span class="hs-identifier hs-var">hasSign</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-803"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span>    </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-804"></span><span>
</span><span id="line-805"></span><span>        </span><span class="hs-comment">-- An overshift occurs if we're shifting by more than or equal to the bit-width of x</span><span>
</span><span id="line-806"></span><span>        </span><span class="hs-comment">--     For shift-left: this value is always 0</span><span>
</span><span id="line-807"></span><span>        </span><span class="hs-comment">--     For shift-right:</span><span>
</span><span id="line-808"></span><span>        </span><span class="hs-comment">--        If x is unsigned: 0</span><span>
</span><span id="line-809"></span><span>        </span><span class="hs-comment">--        If x is signed and is less than 0, then -1 else 0</span><span>
</span><span id="line-810"></span><span>        </span><span id="local-6989586621681130937"><span class="annot"><span class="annottext">overShiftValue :: SVal
</span><a href="#local-6989586621681130937"><span class="hs-identifier hs-var hs-var">overShiftValue</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681130945"><span class="hs-identifier hs-var">toLeft</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130919"><span class="hs-identifier hs-var">zx</span></a></span><span>
</span><span id="line-811"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#hasSign"><span class="hs-identifier hs-var">hasSign</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-operator hs-var">`svLessThan`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130919"><span class="hs-identifier hs-var">zx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130918"><span class="hs-identifier hs-var">neg1</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130919"><span class="hs-identifier hs-var">zx</span></a></span><span>
</span><span id="line-812"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130919"><span class="hs-identifier hs-var">zx</span></a></span><span>
</span><span id="line-813"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130919"><span class="annot"><span class="annottext">zx :: SVal
</span><a href="#local-6989586621681130919"><span class="hs-identifier hs-var hs-var">zx</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-814"></span><span>                </span><span id="local-6989586621681130918"><span class="annot"><span class="annottext">neg1 :: SVal
</span><a href="#local-6989586621681130918"><span class="hs-identifier hs-var hs-var">neg1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-815"></span><span>
</span><span id="line-816"></span><span>        </span><span class="hs-comment">-- Regular shift, we know that the shift value fits into the bit-width of x, since it's between 0 and sizeOf x. So, we can just</span><span>
</span><span id="line-817"></span><span>        </span><span class="hs-comment">-- turn it into a properly sized argument and ship it to SMTLib</span><span>
</span><span id="line-818"></span><span>        </span><span id="local-6989586621681130938"><span class="annot"><span class="annottext">regularShiftValue :: SVal
</span><a href="#local-6989586621681130938"><span class="hs-identifier hs-var hs-var">regularShiftValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130917"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-819"></span><span>           </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130917"><span class="annot"><span class="annottext">result :: State -&gt; IO SV
</span><a href="#local-6989586621681130917"><span class="hs-identifier hs-var hs-var">result</span></a></span></span><span> </span><span id="local-6989586621681130916"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130916"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130915"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130915"><span class="hs-identifier hs-var">sw1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130916"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130944"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-820"></span><span>                                </span><span id="local-6989586621681130914"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130914"><span class="hs-identifier hs-var">sw2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130916"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130943"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-821"></span><span>
</span><span id="line-822"></span><span>                                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130913"><span class="annot"><span class="annottext">op :: Op
</span><a href="#local-6989586621681130913"><span class="hs-identifier hs-var hs-var">op</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681130945"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Shl"><span class="hs-identifier hs-var">Shl</span></a></span><span>
</span><span id="line-823"></span><span>                                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Shr"><span class="hs-identifier hs-var">Shr</span></a></span><span>
</span><span id="line-824"></span><span>
</span><span id="line-825"></span><span>                                </span><span id="local-6989586621681130910"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130910"><span class="hs-identifier hs-var">adjustedShift</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130939"><span class="hs-identifier hs-var">ki</span></a></span><span>
</span><span id="line-826"></span><span>                                                 </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SV -&gt; IO SV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130914"><span class="hs-identifier hs-var">sw2</span></a></span><span>
</span><span id="line-827"></span><span>                                                 </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130916"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#KindCast"><span class="hs-identifier hs-var">KindCast</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130939"><span class="hs-identifier hs-var">ki</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130914"><span class="hs-identifier hs-var">sw2</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-828"></span><span>
</span><span id="line-829"></span><span>                                </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130916"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130935"><span class="hs-identifier hs-var">kx</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681130913"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130915"><span class="hs-identifier hs-var">sw1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130910"><span class="hs-identifier hs-var">adjustedShift</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-830"></span><span>
</span><span id="line-831"></span><span class="hs-comment">-- | Generalization of 'svRol', where the rotation amount is symbolic.</span><span>
</span><span id="line-832"></span><span class="hs-comment">-- If the first argument is not bounded, then the this is the same as shift.</span><span>
</span><span id="line-833"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svRotateLeft"><span class="hs-identifier hs-type">svRotateLeft</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-834"></span><span id="svRotateLeft"><span class="annot"><span class="annottext">svRotateLeft :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRotateLeft"><span class="hs-identifier hs-var hs-var">svRotateLeft</span></a></span></span><span> </span><span id="local-6989586621681130909"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130909"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130908"><span class="annot"><span class="annottext">i :: SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-835"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130909"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-836"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShiftLeft"><span class="hs-identifier hs-var">svShiftLeft</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130909"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-837"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130907"><span class="hs-identifier hs-var">si</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130906"><span class="hs-identifier hs-var">sx</span></a></span><span>            </span><span class="hs-comment">-- wrap-around not possible</span><span>
</span><span id="line-838"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-identifier hs-var">svLessThan</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130905"><span class="hs-identifier hs-var">zi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-839"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SVal] -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier hs-var">svSelect</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130909"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRor"><span class="hs-operator hs-var">`svRor`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130904"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681130904"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130904"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130907"><span class="hs-identifier hs-var">si</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130903"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svUNeg"><span class="hs-identifier hs-var">svUNeg</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-840"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SVal] -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier hs-var">svSelect</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130909"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRol"><span class="hs-operator hs-var">`svRol`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130902"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681130902"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130902"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130907"><span class="hs-identifier hs-var">si</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130903"><span class="hs-identifier hs-var">z</span></a></span><span>         </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-841"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-842"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-identifier hs-var">svLessThan</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130905"><span class="hs-identifier hs-var">zi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-843"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SVal] -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier hs-var">svSelect</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130909"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRor"><span class="hs-operator hs-var">`svRor`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130901"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681130901"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130901"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130906"><span class="hs-identifier hs-var">sx</span></a></span><span>     </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130903"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svUNeg"><span class="hs-identifier hs-var">svUNeg</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRem"><span class="hs-operator hs-var">`svRem`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130900"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-844"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SVal] -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier hs-var">svSelect</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130909"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRol"><span class="hs-operator hs-var">`svRol`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130899"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681130899"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130899"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130906"><span class="hs-identifier hs-var">sx</span></a></span><span>     </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130903"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span>       </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRem"><span class="hs-operator hs-var">`svRem`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130900"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-845"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130906"><span class="annot"><span class="annottext">sx :: Int
</span><a href="#local-6989586621681130906"><span class="hs-identifier hs-var hs-var">sx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130909"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-846"></span><span>          </span><span id="local-6989586621681130907"><span class="annot"><span class="annottext">si :: Int
</span><a href="#local-6989586621681130907"><span class="hs-identifier hs-var hs-var">si</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-847"></span><span>          </span><span id="local-6989586621681130903"><span class="annot"><span class="annottext">z :: SVal
</span><a href="#local-6989586621681130903"><span class="hs-identifier hs-var hs-var">z</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130909"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-848"></span><span>          </span><span id="local-6989586621681130905"><span class="annot"><span class="annottext">zi :: SVal
</span><a href="#local-6989586621681130905"><span class="hs-identifier hs-var hs-var">zi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-849"></span><span>          </span><span id="local-6989586621681130900"><span class="annot"><span class="annottext">n :: SVal
</span><a href="#local-6989586621681130900"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130908"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130906"><span class="hs-identifier hs-var">sx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-850"></span><span>
</span><span id="line-851"></span><span class="hs-comment">-- | A variant of 'svRotateLeft' that uses a barrel-rotate design, which can lead to</span><span>
</span><span id="line-852"></span><span class="hs-comment">-- better verification code. Only works when both arguments are finite and the second</span><span>
</span><span id="line-853"></span><span class="hs-comment">-- argument is unsigned.</span><span>
</span><span id="line-854"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svBarrelRotateLeft"><span class="hs-identifier hs-type">svBarrelRotateLeft</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-855"></span><span id="svBarrelRotateLeft"><span class="annot"><span class="annottext">svBarrelRotateLeft :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svBarrelRotateLeft"><span class="hs-identifier hs-var hs-var">svBarrelRotateLeft</span></a></span></span><span> </span><span id="local-6989586621681130898"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130898"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130897"><span class="annot"><span class="annottext">i :: SVal
</span><a href="#local-6989586621681130897"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-856"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130898"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130897"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#hasSign"><span class="hs-identifier hs-var">hasSign</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130897"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-857"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SVal) -&gt; String -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.Dynamic.svBarrelRotateLeft: Arguments must be bounded with second argument unsigned. Received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(SVal, SVal) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130898"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130897"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-858"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130896"><span class="annot"><span class="annottext">iv :: Integer
</span><a href="#local-6989586621681130896"><span class="hs-identifier hs-var">iv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var">svAsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130897"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-859"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRol"><span class="hs-identifier hs-var">svRol</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130898"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; SVal) -&gt; Int -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130896"><span class="hs-identifier hs-var">iv</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`rem`</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130898"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-860"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-861"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; Int -&gt; SVal) -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#barrelRotate"><span class="hs-identifier hs-var">barrelRotate</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRol"><span class="hs-identifier hs-var">svRol</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130898"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130897"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-862"></span><span>
</span><span id="line-863"></span><span class="hs-comment">-- | A variant of 'svRotateLeft' that uses a barrel-rotate design, which can lead to</span><span>
</span><span id="line-864"></span><span class="hs-comment">-- better verification code. Only works when both arguments are finite and the second</span><span>
</span><span id="line-865"></span><span class="hs-comment">-- argument is unsigned.</span><span>
</span><span id="line-866"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svBarrelRotateRight"><span class="hs-identifier hs-type">svBarrelRotateRight</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-867"></span><span id="svBarrelRotateRight"><span class="annot"><span class="annottext">svBarrelRotateRight :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svBarrelRotateRight"><span class="hs-identifier hs-var hs-var">svBarrelRotateRight</span></a></span></span><span> </span><span id="local-6989586621681130894"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130894"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130893"><span class="annot"><span class="annottext">i :: SVal
</span><a href="#local-6989586621681130893"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-868"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130894"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130893"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#hasSign"><span class="hs-identifier hs-var">hasSign</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130893"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-869"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SVal) -&gt; String -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.Dynamic.svBarrelRotateRight: Arguments must be bounded with second argument unsigned. Received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(SVal, SVal) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130894"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130893"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-870"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130892"><span class="annot"><span class="annottext">iv :: Integer
</span><a href="#local-6989586621681130892"><span class="hs-identifier hs-var">iv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Integer
</span><a href="Data.SBV.Core.Operations.html#svAsInteger"><span class="hs-identifier hs-var">svAsInteger</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130893"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-871"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRor"><span class="hs-identifier hs-var">svRor</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130894"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; SVal) -&gt; Int -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130892"><span class="hs-identifier hs-var">iv</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`rem`</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130894"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-872"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-873"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; Int -&gt; SVal) -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#barrelRotate"><span class="hs-identifier hs-var">barrelRotate</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRor"><span class="hs-identifier hs-var">svRor</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130894"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130893"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-874"></span><span>
</span><span id="line-875"></span><span class="hs-comment">-- Barrel rotation, by bit-blasting the argument:</span><span>
</span><span id="line-876"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#barrelRotate"><span class="hs-identifier hs-type">barrelRotate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-877"></span><span id="barrelRotate"><span class="annot"><span class="annottext">barrelRotate :: (SVal -&gt; Int -&gt; SVal) -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#barrelRotate"><span class="hs-identifier hs-var hs-var">barrelRotate</span></a></span></span><span> </span><span id="local-6989586621681130891"><span class="annot"><span class="annottext">f :: SVal -&gt; Int -&gt; SVal
</span><a href="#local-6989586621681130891"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681130890"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681130890"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681130889"><span class="annot"><span class="annottext">c :: SVal
</span><a href="#local-6989586621681130889"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(SVal, Integer)] -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681130888"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">[(SVal, Integer)]
</span><a href="#local-6989586621681130887"><span class="hs-identifier hs-var">blasted</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130890"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-878"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621681130888"><span class="hs-identifier hs-type">loop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-879"></span><span>        </span><span id="local-6989586621681130888"><span class="annot"><span class="annottext">loop :: [(SVal, Integer)] -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681130888"><span class="hs-identifier hs-var hs-var">loop</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>              </span><span id="local-6989586621681130886"><span class="annot"><span class="annottext">acc :: SVal
</span><a href="#local-6989586621681130886"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130886"><span class="hs-identifier hs-var">acc</span></a></span><span>
</span><span id="line-880"></span><span>        </span><span class="annot"><a href="#local-6989586621681130888"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681130885"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681130885"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130884"><span class="annot"><span class="annottext">v :: Integer
</span><a href="#local-6989586621681130884"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681130883"><span class="annot"><span class="annottext">rest :: [(SVal, Integer)]
</span><a href="#local-6989586621681130883"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130882"><span class="annot"><span class="annottext">acc :: SVal
</span><a href="#local-6989586621681130882"><span class="hs-identifier hs-var">acc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(SVal, Integer)] -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681130888"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">[(SVal, Integer)]
</span><a href="#local-6989586621681130883"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130885"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="#local-6989586621681130891"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130882"><span class="hs-identifier hs-var">acc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130884"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130882"><span class="hs-identifier hs-var">acc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-881"></span><span>
</span><span id="line-882"></span><span>        </span><span id="local-6989586621681130881"><span class="annot"><span class="annottext">sa :: Integer
</span><a href="#local-6989586621681130881"><span class="hs-identifier hs-var hs-var">sa</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Integer) -&gt; Int -&gt; Integer
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130890"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-883"></span><span>        </span><span id="local-6989586621681130880"><span class="annot"><span class="annottext">n :: SVal
</span><a href="#local-6989586621681130880"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130889"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130881"><span class="hs-identifier hs-var">sa</span></a></span><span>
</span><span id="line-884"></span><span>
</span><span id="line-885"></span><span>        </span><span class="hs-comment">-- Reduce by the modulus amount, we need not care about the</span><span>
</span><span id="line-886"></span><span>        </span><span class="hs-comment">-- any part larger than the value of the bit-size of the</span><span>
</span><span id="line-887"></span><span>        </span><span class="hs-comment">-- argument as it is identity for rotations</span><span>
</span><span id="line-888"></span><span>        </span><span id="local-6989586621681130879"><span class="annot"><span class="annottext">reducedC :: SVal
</span><a href="#local-6989586621681130879"><span class="hs-identifier hs-var hs-var">reducedC</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130889"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRem"><span class="hs-operator hs-var">`svRem`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130880"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-889"></span><span>
</span><span id="line-890"></span><span>        </span><span class="hs-comment">-- blast little-endian, and zip with bit-position</span><span>
</span><span id="line-891"></span><span>        </span><span id="local-6989586621681130887"><span class="annot"><span class="annottext">blasted :: [(SVal, Integer)]
</span><a href="#local-6989586621681130887"><span class="hs-identifier hs-var hs-var">blasted</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((SVal, Integer) -&gt; Bool) -&gt; [(SVal, Integer)] -&gt; [(SVal, Integer)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">takeWhile</span></span><span> </span><span class="annot"><span class="annottext">(SVal, Integer) -&gt; Bool
forall a. (a, Integer) -&gt; Bool
</span><a href="#local-6989586621681130877"><span class="hs-identifier hs-var">significant</span></a></span><span> </span><span class="annot"><span class="annottext">([(SVal, Integer)] -&gt; [(SVal, Integer)])
-&gt; [(SVal, Integer)] -&gt; [(SVal, Integer)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; [Integer] -&gt; [(SVal, Integer)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; [SVal]
</span><a href="Data.SBV.Core.Operations.html#svBlastLE"><span class="hs-identifier hs-var">svBlastLE</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130879"><span class="hs-identifier hs-var">reducedC</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">2</span></span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130876"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681130876"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130876"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span class="hs-glyph">..</span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-892"></span><span>
</span><span id="line-893"></span><span>        </span><span class="hs-comment">-- Any term whose bit-position is larger than our input size</span><span>
</span><span id="line-894"></span><span>        </span><span class="hs-comment">-- is insignificant, since the reduction would've put 0's in those</span><span>
</span><span id="line-895"></span><span>        </span><span class="hs-comment">-- bits. For instance, if a is 32 bits, and c is 5 bits, then we</span><span>
</span><span id="line-896"></span><span>        </span><span class="hs-comment">-- need not look at any position i s.t. 2^i &gt; 32</span><span>
</span><span id="line-897"></span><span>        </span><span id="local-6989586621681130877"><span class="annot"><span class="annottext">significant :: (a, Integer) -&gt; Bool
</span><a href="#local-6989586621681130877"><span class="hs-identifier hs-var hs-var">significant</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130875"><span class="annot"><span class="annottext">pos :: Integer
</span><a href="#local-6989586621681130875"><span class="hs-identifier hs-var">pos</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130875"><span class="hs-identifier hs-var">pos</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130881"><span class="hs-identifier hs-var">sa</span></a></span><span>
</span><span id="line-898"></span><span>
</span><span id="line-899"></span><span class="hs-comment">-- | Generalization of 'svRor', where the rotation amount is symbolic.</span><span>
</span><span id="line-900"></span><span class="hs-comment">-- If the first argument is not bounded, then the this is the same as shift.</span><span>
</span><span id="line-901"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svRotateRight"><span class="hs-identifier hs-type">svRotateRight</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-902"></span><span id="svRotateRight"><span class="annot"><span class="annottext">svRotateRight :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRotateRight"><span class="hs-identifier hs-var hs-var">svRotateRight</span></a></span></span><span> </span><span id="local-6989586621681130874"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130874"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130873"><span class="annot"><span class="annottext">i :: SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-903"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130874"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-904"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svShiftRight"><span class="hs-identifier hs-var">svShiftRight</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130874"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-905"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130872"><span class="hs-identifier hs-var">si</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130871"><span class="hs-identifier hs-var">sx</span></a></span><span>                   </span><span class="hs-comment">-- wrap-around not possible</span><span>
</span><span id="line-906"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-identifier hs-var">svLessThan</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130870"><span class="hs-identifier hs-var">zi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-907"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SVal] -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier hs-var">svSelect</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130874"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRol"><span class="hs-operator hs-var">`svRol`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130869"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681130869"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130869"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130872"><span class="hs-identifier hs-var">si</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130868"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svUNeg"><span class="hs-identifier hs-var">svUNeg</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-908"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SVal] -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier hs-var">svSelect</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130874"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRor"><span class="hs-operator hs-var">`svRor`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130867"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681130867"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130867"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130872"><span class="hs-identifier hs-var">si</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130868"><span class="hs-identifier hs-var">z</span></a></span><span>         </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-909"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-910"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-identifier hs-var">svLessThan</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130870"><span class="hs-identifier hs-var">zi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-911"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SVal] -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier hs-var">svSelect</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130874"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRol"><span class="hs-operator hs-var">`svRol`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130866"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681130866"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130866"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130871"><span class="hs-identifier hs-var">sx</span></a></span><span>     </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130868"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svUNeg"><span class="hs-identifier hs-var">svUNeg</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRem"><span class="hs-operator hs-var">`svRem`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130865"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-912"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SVal] -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svSelect"><span class="hs-identifier hs-var">svSelect</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130874"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRor"><span class="hs-operator hs-var">`svRor`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130864"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681130864"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130864"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">..</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130871"><span class="hs-identifier hs-var">sx</span></a></span><span>     </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130868"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="hs-special">(</span><span>       </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svRem"><span class="hs-operator hs-var">`svRem`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130865"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-913"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130871"><span class="annot"><span class="annottext">sx :: Int
</span><a href="#local-6989586621681130871"><span class="hs-identifier hs-var hs-var">sx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130874"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-914"></span><span>          </span><span id="local-6989586621681130872"><span class="annot"><span class="annottext">si :: Int
</span><a href="#local-6989586621681130872"><span class="hs-identifier hs-var hs-var">si</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-915"></span><span>          </span><span id="local-6989586621681130868"><span class="annot"><span class="annottext">z :: SVal
</span><a href="#local-6989586621681130868"><span class="hs-identifier hs-var hs-var">z</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130874"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-916"></span><span>          </span><span id="local-6989586621681130870"><span class="annot"><span class="annottext">zi :: SVal
</span><a href="#local-6989586621681130870"><span class="hs-identifier hs-var hs-var">zi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-917"></span><span>          </span><span id="local-6989586621681130865"><span class="annot"><span class="annottext">n :: SVal
</span><a href="#local-6989586621681130865"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svInteger"><span class="hs-identifier hs-var">svInteger</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130873"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Integral a =&gt; a -&gt; Integer
</span><span class="hs-identifier hs-var">toInteger</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130871"><span class="hs-identifier hs-var">sx</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-918"></span><span>
</span><span id="line-919"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-920"></span><span class="hs-comment">-- | Overflow detection.</span><span>
</span><span id="line-921"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svMkOverflow"><span class="hs-identifier hs-type">svMkOverflow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#OvOp"><span class="hs-identifier hs-type">OvOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-922"></span><span id="svMkOverflow"><span class="annot"><span class="annottext">svMkOverflow :: OvOp -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svMkOverflow"><span class="hs-identifier hs-var hs-var">svMkOverflow</span></a></span></span><span> </span><span id="local-6989586621681130863"><span class="annot"><span class="annottext">o :: OvOp
</span><a href="#local-6989586621681130863"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681130862"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130862"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130861"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681130861"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130860"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-923"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130860"><span class="annot"><span class="annottext">r :: State -&gt; IO SV
</span><a href="#local-6989586621681130860"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681130859"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130859"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130858"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130858"><span class="hs-identifier hs-var">sx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130859"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130862"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-924"></span><span>                    </span><span id="local-6989586621681130857"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130857"><span class="hs-identifier hs-var">sy</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130859"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130861"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-925"></span><span>                    </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130859"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(SBVExpr -&gt; IO SV) -&gt; SBVExpr -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OvOp -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#OverflowOp"><span class="hs-identifier hs-var">OverflowOp</span></a></span><span> </span><span class="annot"><span class="annottext">OvOp
</span><a href="#local-6989586621681130863"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130858"><span class="hs-identifier hs-var">sx</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130857"><span class="hs-identifier hs-var">sy</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-926"></span><span>
</span><span id="line-927"></span><span class="hs-comment">---------------------------------------------------------------------------------</span><span>
</span><span id="line-928"></span><span class="hs-comment">-- * Symbolic Arrays</span><span>
</span><span id="line-929"></span><span class="hs-comment">---------------------------------------------------------------------------------</span><span>
</span><span id="line-930"></span><span>
</span><span id="line-931"></span><span class="hs-comment">-- | Arrays in terms of SMT-Lib arrays</span><span>
</span><span id="line-932"></span><span class="hs-keyword">data</span><span> </span><span id="SArr"><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-var">SArr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SArr"><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-var">SArr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Cached"><span class="hs-identifier hs-type">Cached</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#ArrayIndex"><span class="hs-identifier hs-type">ArrayIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-933"></span><span>
</span><span id="line-934"></span><span class="hs-comment">-- | Read the array element at @a@</span><span>
</span><span id="line-935"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#readSArr"><span class="hs-identifier hs-type">readSArr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-936"></span><span id="readSArr"><span class="annot"><span class="annottext">readSArr :: SArr -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#readSArr"><span class="hs-identifier hs-var hs-var">readSArr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130854"><span class="annot"><span class="annottext">bk :: Kind
</span><a href="#local-6989586621681130854"><span class="hs-identifier hs-var">bk</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130853"><span class="annot"><span class="annottext">f :: Cached ArrayIndex
</span><a href="#local-6989586621681130853"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130852"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681130852"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130854"><span class="hs-identifier hs-var">bk</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130851"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-937"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130851"><span class="annot"><span class="annottext">r :: State -&gt; IO SV
</span><a href="#local-6989586621681130851"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681130850"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130850"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130849"><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130849"><span class="hs-identifier hs-var">arr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex -&gt; State -&gt; IO ArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#uncacheAI"><span class="hs-identifier hs-var">uncacheAI</span></a></span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex
</span><a href="#local-6989586621681130853"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130850"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-938"></span><span>                  </span><span id="local-6989586621681130847"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130847"><span class="hs-identifier hs-var">i</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130850"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130852"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-939"></span><span>                  </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130850"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130854"><span class="hs-identifier hs-var">bk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrayIndex -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#ArrRead"><span class="hs-identifier hs-var">ArrRead</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130849"><span class="hs-identifier hs-var">arr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130847"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-940"></span><span>
</span><span id="line-941"></span><span class="hs-comment">-- | Update the element at @a@ to be @b@</span><span>
</span><span id="line-942"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#writeSArr"><span class="hs-identifier hs-type">writeSArr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span>
</span><span id="line-943"></span><span id="writeSArr"><span class="annot"><span class="annottext">writeSArr :: SArr -&gt; SVal -&gt; SVal -&gt; SArr
</span><a href="Data.SBV.Core.Operations.html#writeSArr"><span class="hs-identifier hs-var hs-var">writeSArr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span id="local-6989586621681130845"><span class="annot"><span class="annottext">ainfo :: (Kind, Kind)
</span><a href="#local-6989586621681130845"><span class="hs-identifier hs-var">ainfo</span></a></span></span><span> </span><span id="local-6989586621681130844"><span class="annot"><span class="annottext">f :: Cached ArrayIndex
</span><a href="#local-6989586621681130844"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130843"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681130843"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681130842"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681130842"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; Cached ArrayIndex -&gt; SArr
</span><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-var">SArr</span></a></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind)
</span><a href="#local-6989586621681130845"><span class="hs-identifier hs-var">ainfo</span></a></span><span> </span><span class="annot"><span class="annottext">(Cached ArrayIndex -&gt; SArr) -&gt; Cached ArrayIndex -&gt; SArr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO ArrayIndex) -&gt; Cached ArrayIndex
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO ArrayIndex
</span><a href="#local-6989586621681130841"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-944"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130841"><span class="annot"><span class="annottext">g :: State -&gt; IO ArrayIndex
</span><a href="#local-6989586621681130841"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span id="local-6989586621681130840"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130840"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130839"><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130839"><span class="hs-identifier hs-var">arr</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex -&gt; State -&gt; IO ArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#uncacheAI"><span class="hs-identifier hs-var">uncacheAI</span></a></span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex
</span><a href="#local-6989586621681130844"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130840"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-945"></span><span>                  </span><span id="local-6989586621681130838"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130838"><span class="hs-identifier hs-var">addr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130840"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130843"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-946"></span><span>                  </span><span id="local-6989586621681130837"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130837"><span class="hs-identifier hs-var">val</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130840"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130842"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-947"></span><span>                  </span><span id="local-6989586621681130836"><span class="annot"><span class="annottext">ArrayMap
</span><a href="#local-6989586621681130836"><span class="hs-identifier hs-var">amap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef ArrayMap -&gt; IO ArrayMap
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef ArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rArrayMap"><span class="hs-identifier hs-var hs-var">rArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130840"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-948"></span><span>
</span><span id="line-949"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130834"><span class="annot"><span class="annottext">j :: ArrayIndex
</span><a href="#local-6989586621681130834"><span class="hs-identifier hs-var hs-var">j</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#ArrayIndex"><span class="hs-identifier hs-var">ArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; ArrayIndex) -&gt; Int -&gt; ArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArrayMap -&gt; Int
forall a. IntMap a -&gt; Int
</span><span class="hs-identifier hs-var">IMap.size</span></span><span> </span><span class="annot"><span class="annottext">ArrayMap
</span><a href="#local-6989586621681130836"><span class="hs-identifier hs-var">amap</span></a></span><span>
</span><span id="line-950"></span><span>                      </span><span id="local-6989586621681130832"><span class="annot"><span class="annottext">upd :: ArrayMap -&gt; ArrayMap
</span><a href="#local-6989586621681130832"><span class="hs-identifier hs-var hs-var">upd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; (String, (Kind, Kind), ArrayContext) -&gt; ArrayMap -&gt; ArrayMap
forall a. Int -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IMap.insert</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unArrayIndex"><span class="hs-identifier hs-var hs-var">unArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130834"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;array_&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ArrayIndex -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130834"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Kind, Kind)
</span><a href="#local-6989586621681130845"><span class="hs-identifier hs-var">ainfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ArrayIndex -&gt; SV -&gt; SV -&gt; ArrayContext
</span><a href="Data.SBV.Core.Symbolic.html#ArrayMutate"><span class="hs-identifier hs-var">ArrayMutate</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130839"><span class="hs-identifier hs-var">arr</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130838"><span class="hs-identifier hs-var">addr</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130837"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-951"></span><span>
</span><span id="line-952"></span><span>                  </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130834"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex -&gt; IO () -&gt; IO ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">State
-&gt; (State -&gt; IORef ArrayMap)
-&gt; (ArrayMap -&gt; ArrayMap)
-&gt; IO ()
-&gt; IO ()
forall a. State -&gt; (State -&gt; IORef a) -&gt; (a -&gt; a) -&gt; IO () -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#modifyState"><span class="hs-identifier hs-var">modifyState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130840"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IORef ArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rArrayMap"><span class="hs-identifier hs-var hs-var">rArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayMap -&gt; ArrayMap
</span><a href="#local-6989586621681130832"><span class="hs-identifier hs-var">upd</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">State
-&gt; (IncState -&gt; IORef ArrayMap) -&gt; (ArrayMap -&gt; ArrayMap) -&gt; IO ()
forall a. State -&gt; (IncState -&gt; IORef a) -&gt; (a -&gt; a) -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#modifyIncState"><span class="hs-identifier hs-var">modifyIncState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130840"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">IncState -&gt; IORef ArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rNewArrs"><span class="hs-identifier hs-var hs-var">rNewArrs</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayMap -&gt; ArrayMap
</span><a href="#local-6989586621681130832"><span class="hs-identifier hs-var">upd</span></a></span><span>
</span><span id="line-953"></span><span>                  </span><span class="annot"><span class="annottext">ArrayIndex -&gt; IO ArrayIndex
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130834"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-954"></span><span>
</span><span id="line-955"></span><span class="hs-comment">-- | Merge two given arrays on the symbolic condition</span><span>
</span><span id="line-956"></span><span class="hs-comment">-- Intuitively: @mergeArrays cond a b = if cond then a else b@.</span><span>
</span><span id="line-957"></span><span class="hs-comment">-- Merging pushes the if-then-else choice down on to elements</span><span>
</span><span id="line-958"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#mergeSArr"><span class="hs-identifier hs-type">mergeSArr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span>
</span><span id="line-959"></span><span id="mergeSArr"><span class="annot"><span class="annottext">mergeSArr :: SVal -&gt; SArr -&gt; SArr -&gt; SArr
</span><a href="Data.SBV.Core.Operations.html#mergeSArr"><span class="hs-identifier hs-var hs-var">mergeSArr</span></a></span></span><span> </span><span id="local-6989586621681130826"><span class="annot"><span class="annottext">t :: SVal
</span><a href="#local-6989586621681130826"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span id="local-6989586621681130825"><span class="annot"><span class="annottext">ainfo :: (Kind, Kind)
</span><a href="#local-6989586621681130825"><span class="hs-identifier hs-var">ainfo</span></a></span></span><span> </span><span id="local-6989586621681130824"><span class="annot"><span class="annottext">a :: Cached ArrayIndex
</span><a href="#local-6989586621681130824"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681130823"><span class="annot"><span class="annottext">b :: Cached ArrayIndex
</span><a href="#local-6989586621681130823"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; Cached ArrayIndex -&gt; SArr
</span><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-var">SArr</span></a></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind)
</span><a href="#local-6989586621681130825"><span class="hs-identifier hs-var">ainfo</span></a></span><span> </span><span class="annot"><span class="annottext">(Cached ArrayIndex -&gt; SArr) -&gt; Cached ArrayIndex -&gt; SArr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO ArrayIndex) -&gt; Cached ArrayIndex
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO ArrayIndex
</span><a href="#local-6989586621681130822"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-960"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130822"><span class="annot"><span class="annottext">h :: State -&gt; IO ArrayIndex
</span><a href="#local-6989586621681130822"><span class="hs-identifier hs-var hs-var">h</span></a></span></span><span> </span><span id="local-6989586621681130821"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130821"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130820"><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130820"><span class="hs-identifier hs-var">ai</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex -&gt; State -&gt; IO ArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#uncacheAI"><span class="hs-identifier hs-var">uncacheAI</span></a></span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex
</span><a href="#local-6989586621681130824"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130821"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-961"></span><span>                  </span><span id="local-6989586621681130819"><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130819"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex -&gt; State -&gt; IO ArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#uncacheAI"><span class="hs-identifier hs-var">uncacheAI</span></a></span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex
</span><a href="#local-6989586621681130823"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130821"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-962"></span><span>                  </span><span id="local-6989586621681130818"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130818"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130821"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130826"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-963"></span><span>                  </span><span id="local-6989586621681130817"><span class="annot"><span class="annottext">ArrayMap
</span><a href="#local-6989586621681130817"><span class="hs-identifier hs-var">amap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef ArrayMap -&gt; IO ArrayMap
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef ArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rArrayMap"><span class="hs-identifier hs-var hs-var">rArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130821"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-964"></span><span>
</span><span id="line-965"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130816"><span class="annot"><span class="annottext">k :: ArrayIndex
</span><a href="#local-6989586621681130816"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#ArrayIndex"><span class="hs-identifier hs-var">ArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; ArrayIndex) -&gt; Int -&gt; ArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArrayMap -&gt; Int
forall a. IntMap a -&gt; Int
</span><span class="hs-identifier hs-var">IMap.size</span></span><span> </span><span class="annot"><span class="annottext">ArrayMap
</span><a href="#local-6989586621681130817"><span class="hs-identifier hs-var">amap</span></a></span><span>
</span><span id="line-966"></span><span>                      </span><span id="local-6989586621681130815"><span class="annot"><span class="annottext">upd :: ArrayMap -&gt; ArrayMap
</span><a href="#local-6989586621681130815"><span class="hs-identifier hs-var hs-var">upd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; (String, (Kind, Kind), ArrayContext) -&gt; ArrayMap -&gt; ArrayMap
forall a. Int -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IMap.insert</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unArrayIndex"><span class="hs-identifier hs-var hs-var">unArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130816"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;array_&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">ArrayIndex -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130816"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Kind, Kind)
</span><a href="#local-6989586621681130825"><span class="hs-identifier hs-var">ainfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV -&gt; ArrayIndex -&gt; ArrayIndex -&gt; ArrayContext
</span><a href="Data.SBV.Core.Symbolic.html#ArrayMerge"><span class="hs-identifier hs-var">ArrayMerge</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130818"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130820"><span class="hs-identifier hs-var">ai</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130819"><span class="hs-identifier hs-var">bi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-967"></span><span>
</span><span id="line-968"></span><span>                  </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130816"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex -&gt; IO () -&gt; IO ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">State
-&gt; (State -&gt; IORef ArrayMap)
-&gt; (ArrayMap -&gt; ArrayMap)
-&gt; IO ()
-&gt; IO ()
forall a. State -&gt; (State -&gt; IORef a) -&gt; (a -&gt; a) -&gt; IO () -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#modifyState"><span class="hs-identifier hs-var">modifyState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130821"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IORef ArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rArrayMap"><span class="hs-identifier hs-var hs-var">rArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayMap -&gt; ArrayMap
</span><a href="#local-6989586621681130815"><span class="hs-identifier hs-var">upd</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">State
-&gt; (IncState -&gt; IORef ArrayMap) -&gt; (ArrayMap -&gt; ArrayMap) -&gt; IO ()
forall a. State -&gt; (IncState -&gt; IORef a) -&gt; (a -&gt; a) -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#modifyIncState"><span class="hs-identifier hs-var">modifyIncState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130821"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">IncState -&gt; IORef ArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rNewArrs"><span class="hs-identifier hs-var hs-var">rNewArrs</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayMap -&gt; ArrayMap
</span><a href="#local-6989586621681130815"><span class="hs-identifier hs-var">upd</span></a></span><span>
</span><span id="line-969"></span><span>                  </span><span class="annot"><span class="annottext">ArrayIndex -&gt; IO ArrayIndex
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130816"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-970"></span><span>
</span><span id="line-971"></span><span class="hs-comment">-- | Create a named new array</span><span>
</span><span id="line-972"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#newSArr"><span class="hs-identifier hs-type">newSArr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span>
</span><span id="line-973"></span><span id="newSArr"><span class="annot"><span class="annottext">newSArr :: State -&gt; (Kind, Kind) -&gt; (Int -&gt; String) -&gt; Maybe SVal -&gt; IO SArr
</span><a href="Data.SBV.Core.Operations.html#newSArr"><span class="hs-identifier hs-var hs-var">newSArr</span></a></span></span><span> </span><span id="local-6989586621681130813"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130813"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span id="local-6989586621681130812"><span class="annot"><span class="annottext">ainfo :: (Kind, Kind)
</span><a href="#local-6989586621681130812"><span class="hs-identifier hs-var">ainfo</span></a></span></span><span> </span><span id="local-6989586621681130811"><span class="annot"><span class="annottext">mkNm :: Int -&gt; String
</span><a href="#local-6989586621681130811"><span class="hs-identifier hs-var">mkNm</span></a></span></span><span> </span><span id="local-6989586621681130810"><span class="annot"><span class="annottext">mbDef :: Maybe SVal
</span><a href="#local-6989586621681130810"><span class="hs-identifier hs-var">mbDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-974"></span><span>    </span><span id="local-6989586621681130809"><span class="annot"><span class="annottext">ArrayMap
</span><a href="#local-6989586621681130809"><span class="hs-identifier hs-var">amap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef ArrayMap -&gt; IO ArrayMap
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="annot"><span class="annottext">(IORef ArrayMap -&gt; IO ArrayMap) -&gt; IORef ArrayMap -&gt; IO ArrayMap
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">State -&gt; IORef ArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rArrayMap"><span class="hs-identifier hs-var hs-var">rArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130813"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-975"></span><span>
</span><span id="line-976"></span><span>    </span><span id="local-6989586621681130808"><span class="annot"><span class="annottext">Maybe SV
</span><a href="#local-6989586621681130808"><span class="hs-identifier hs-var">mbSWDef</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe SVal
</span><a href="#local-6989586621681130810"><span class="hs-identifier hs-var">mbDef</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-977"></span><span>                 </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe SV -&gt; IO (Maybe SV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe SV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-978"></span><span>                 </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130807"><span class="annot"><span class="annottext">sv :: SVal
</span><a href="#local-6989586621681130807"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(SV -&gt; Maybe SV) -&gt; IO SV -&gt; IO (Maybe SV)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130813"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130807"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-979"></span><span>
</span><span id="line-980"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130805"><span class="annot"><span class="annottext">i :: ArrayIndex
</span><a href="#local-6989586621681130805"><span class="hs-identifier hs-var hs-var">i</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; ArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#ArrayIndex"><span class="hs-identifier hs-var">ArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; ArrayIndex) -&gt; Int -&gt; ArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArrayMap -&gt; Int
forall a. IntMap a -&gt; Int
</span><span class="hs-identifier hs-var">IMap.size</span></span><span> </span><span class="annot"><span class="annottext">ArrayMap
</span><a href="#local-6989586621681130809"><span class="hs-identifier hs-var">amap</span></a></span><span>
</span><span id="line-981"></span><span>        </span><span id="local-6989586621681130804"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681130804"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
</span><a href="#local-6989586621681130811"><span class="hs-identifier hs-var">mkNm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unArrayIndex"><span class="hs-identifier hs-var hs-var">unArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130805"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-982"></span><span>        </span><span id="local-6989586621681130803"><span class="annot"><span class="annottext">upd :: ArrayMap -&gt; ArrayMap
</span><a href="#local-6989586621681130803"><span class="hs-identifier hs-var hs-var">upd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; (String, (Kind, Kind), ArrayContext) -&gt; ArrayMap -&gt; ArrayMap
forall a. Int -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IMap.insert</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unArrayIndex"><span class="hs-identifier hs-var hs-var">unArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130805"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130804"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Kind, Kind)
</span><a href="#local-6989586621681130812"><span class="hs-identifier hs-var">ainfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe SV -&gt; ArrayContext
</span><a href="Data.SBV.Core.Symbolic.html#ArrayFree"><span class="hs-identifier hs-var">ArrayFree</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SV
</span><a href="#local-6989586621681130808"><span class="hs-identifier hs-var">mbSWDef</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-983"></span><span>
</span><span id="line-984"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; State -&gt; String -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#registerLabel"><span class="hs-identifier hs-var">registerLabel</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;SArray declaration&quot;</span></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130813"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130804"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-985"></span><span>
</span><span id="line-986"></span><span>    </span><span class="annot"><span class="annottext">State
-&gt; (State -&gt; IORef ArrayMap)
-&gt; (ArrayMap -&gt; ArrayMap)
-&gt; IO ()
-&gt; IO ()
forall a. State -&gt; (State -&gt; IORef a) -&gt; (a -&gt; a) -&gt; IO () -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#modifyState"><span class="hs-identifier hs-var">modifyState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130813"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IORef ArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rArrayMap"><span class="hs-identifier hs-var hs-var">rArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayMap -&gt; ArrayMap
</span><a href="#local-6989586621681130803"><span class="hs-identifier hs-var">upd</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">State
-&gt; (IncState -&gt; IORef ArrayMap) -&gt; (ArrayMap -&gt; ArrayMap) -&gt; IO ()
forall a. State -&gt; (IncState -&gt; IORef a) -&gt; (a -&gt; a) -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#modifyIncState"><span class="hs-identifier hs-var">modifyIncState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130813"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">IncState -&gt; IORef ArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rNewArrs"><span class="hs-identifier hs-var hs-var">rNewArrs</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayMap -&gt; ArrayMap
</span><a href="#local-6989586621681130803"><span class="hs-identifier hs-var">upd</span></a></span><span>
</span><span id="line-987"></span><span>    </span><span class="annot"><span class="annottext">SArr -&gt; IO SArr
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SArr -&gt; IO SArr) -&gt; SArr -&gt; IO SArr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; Cached ArrayIndex -&gt; SArr
</span><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-var">SArr</span></a></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind)
</span><a href="#local-6989586621681130812"><span class="hs-identifier hs-var">ainfo</span></a></span><span> </span><span class="annot"><span class="annottext">(Cached ArrayIndex -&gt; SArr) -&gt; Cached ArrayIndex -&gt; SArr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO ArrayIndex) -&gt; Cached ArrayIndex
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO ArrayIndex) -&gt; Cached ArrayIndex)
-&gt; (State -&gt; IO ArrayIndex) -&gt; Cached ArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO ArrayIndex -&gt; State -&gt; IO ArrayIndex
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">(IO ArrayIndex -&gt; State -&gt; IO ArrayIndex)
-&gt; IO ArrayIndex -&gt; State -&gt; IO ArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArrayIndex -&gt; IO ArrayIndex
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130805"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-988"></span><span>
</span><span id="line-989"></span><span class="hs-comment">-- | Compare two arrays for equality</span><span>
</span><span id="line-990"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#eqSArr"><span class="hs-identifier hs-type">eqSArr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-991"></span><span id="eqSArr"><span class="annot"><span class="annottext">eqSArr :: SArr -&gt; SArr -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#eqSArr"><span class="hs-identifier hs-var hs-var">eqSArr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681130800"><span class="annot"><span class="annottext">a :: Cached ArrayIndex
</span><a href="#local-6989586621681130800"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Operations.html#SArr"><span class="hs-identifier hs-type">SArr</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681130799"><span class="annot"><span class="annottext">b :: Cached ArrayIndex
</span><a href="#local-6989586621681130799"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130798"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-992"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130798"><span class="annot"><span class="annottext">c :: State -&gt; IO SV
</span><a href="#local-6989586621681130798"><span class="hs-identifier hs-var hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681130797"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130797"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130796"><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130796"><span class="hs-identifier hs-var">ai</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex -&gt; State -&gt; IO ArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#uncacheAI"><span class="hs-identifier hs-var">uncacheAI</span></a></span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex
</span><a href="#local-6989586621681130800"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130797"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-993"></span><span>                  </span><span id="local-6989586621681130795"><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130795"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex -&gt; State -&gt; IO ArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#uncacheAI"><span class="hs-identifier hs-var">uncacheAI</span></a></span><span> </span><span class="annot"><span class="annottext">Cached ArrayIndex
</span><a href="#local-6989586621681130799"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130797"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-994"></span><span>                  </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130797"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArrayIndex -&gt; ArrayIndex -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#ArrEq"><span class="hs-identifier hs-var">ArrEq</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130796"><span class="hs-identifier hs-var">ai</span></a></span><span> </span><span class="annot"><span class="annottext">ArrayIndex
</span><a href="#local-6989586621681130795"><span class="hs-identifier hs-var">bi</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-995"></span><span>
</span><span id="line-996"></span><span class="hs-comment">-- | Arrays managed internally</span><span>
</span><span id="line-997"></span><span class="hs-keyword">data</span><span> </span><span id="SFunArr"><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-var">SFunArr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SFunArr"><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-var">SFunArr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Cached"><span class="hs-identifier hs-type">Cached</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FArrayIndex"><span class="hs-identifier hs-type">FArrayIndex</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-998"></span><span>
</span><span id="line-999"></span><span class="hs-comment">-- | Convert a node-id to an SVal</span><span>
</span><span id="line-1000"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#nodeIdToSVal"><span class="hs-identifier hs-type">nodeIdToSVal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1001"></span><span id="nodeIdToSVal"><span class="annot"><span class="annottext">nodeIdToSVal :: Kind -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#nodeIdToSVal"><span class="hs-identifier hs-var hs-var">nodeIdToSVal</span></a></span></span><span> </span><span id="local-6989586621681130791"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130791"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681130790"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130790"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#swToSVal"><span class="hs-identifier hs-var">swToSVal</span></a></span><span> </span><span class="annot"><span class="annottext">(SV -&gt; SVal) -&gt; SV -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; NodeId -&gt; SV
</span><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-var">SV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130791"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; NodeId
</span><a href="Data.SBV.Core.Symbolic.html#NodeId"><span class="hs-identifier hs-var">NodeId</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130790"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1002"></span><span>
</span><span id="line-1003"></span><span class="hs-comment">-- | Convert an 'SV' to an 'SVal'</span><span>
</span><span id="line-1004"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#swToSVal"><span class="hs-identifier hs-type">swToSVal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1005"></span><span id="swToSVal"><span class="annot"><span class="annottext">swToSVal :: SV -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#swToSVal"><span class="hs-identifier hs-var hs-var">swToSVal</span></a></span></span><span> </span><span id="local-6989586621681130786"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681130786"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span id="local-6989586621681130785"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130785"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130785"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO SV) -&gt; Cached SV) -&gt; (State -&gt; IO SV) -&gt; Cached SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; State -&gt; IO SV
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">(IO SV -&gt; State -&gt; IO SV) -&gt; IO SV -&gt; State -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; IO SV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130786"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-1006"></span><span>
</span><span id="line-1007"></span><span class="hs-comment">-- | A variant of SVal equality, but taking into account of constants</span><span>
</span><span id="line-1008"></span><span class="hs-comment">-- NB. The rationalCheck is paranid perhaps, but is necessary in case</span><span>
</span><span id="line-1009"></span><span class="hs-comment">-- we have some funky polynomial roots in there. We do allow for</span><span>
</span><span id="line-1010"></span><span class="hs-comment">-- floating-points here though. Why? Because the Eq instance of 'CV'</span><span>
</span><span id="line-1011"></span><span class="hs-comment">-- does the right thing by using object equality. (i.e., it does</span><span>
</span><span id="line-1012"></span><span class="hs-comment">-- the right thing for NaN/+0/-0 etc.) A straightforward equality</span><span>
</span><span id="line-1013"></span><span class="hs-comment">-- here would be wrong for floats!</span><span>
</span><span id="line-1014"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svEqualWithConsts"><span class="hs-identifier hs-type">svEqualWithConsts</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1015"></span><span id="svEqualWithConsts"><span class="annot"><span class="annottext">svEqualWithConsts :: (SVal, Maybe CV) -&gt; (SVal, Maybe CV) -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svEqualWithConsts"><span class="hs-identifier hs-var hs-var">svEqualWithConsts</span></a></span></span><span> </span><span id="local-6989586621681130783"><span class="annot"><span class="annottext">sv1 :: (SVal, Maybe CV)
</span><a href="#local-6989586621681130783"><span class="hs-identifier hs-var">sv1</span></a></span></span><span> </span><span id="local-6989586621681130782"><span class="annot"><span class="annottext">sv2 :: (SVal, Maybe CV)
</span><a href="#local-6989586621681130782"><span class="hs-identifier hs-var">sv2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SVal, Maybe CV) -&gt; Maybe CV
</span><a href="#local-6989586621681130781"><span class="hs-identifier hs-var">grabCV</span></a></span><span> </span><span class="annot"><span class="annottext">(SVal, Maybe CV)
</span><a href="#local-6989586621681130783"><span class="hs-identifier hs-var">sv1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(SVal, Maybe CV) -&gt; Maybe CV
</span><a href="#local-6989586621681130781"><span class="hs-identifier hs-var">grabCV</span></a></span><span> </span><span class="annot"><span class="annottext">(SVal, Maybe CV)
</span><a href="#local-6989586621681130782"><span class="hs-identifier hs-var">sv2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1016"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130780"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681130780"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130779"><span class="annot"><span class="annottext">cv' :: CV
</span><a href="#local-6989586621681130779"><span class="hs-identifier hs-var">cv'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130780"><span class="hs-identifier hs-var">cv</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130779"><span class="hs-identifier hs-var">cv'</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130780"><span class="hs-identifier hs-var">cv</span></a></span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130779"><span class="hs-identifier hs-var">cv'</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svTrue"><span class="hs-identifier hs-var">svTrue</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var">svFalse</span></a></span><span>
</span><span id="line-1017"></span><span>                               </span><span class="hs-identifier">_</span><span>                                          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SVal, Maybe CV) -&gt; SVal
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(SVal, Maybe CV)
</span><a href="#local-6989586621681130783"><span class="hs-identifier hs-var">sv1</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svEqual"><span class="hs-operator hs-var">`svEqual`</span></a></span><span> </span><span class="annot"><span class="annottext">(SVal, Maybe CV) -&gt; SVal
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(SVal, Maybe CV)
</span><a href="#local-6989586621681130782"><span class="hs-identifier hs-var">sv2</span></a></span><span>
</span><span id="line-1018"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130781"><span class="annot"><span class="annottext">grabCV :: (SVal, Maybe CV) -&gt; Maybe CV
</span><a href="#local-6989586621681130781"><span class="hs-identifier hs-var hs-var">grabCV</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130778"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681130778"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130778"><span class="hs-identifier hs-var">cv</span></a></span><span>
</span><span id="line-1019"></span><span>        </span><span class="annot"><a href="#local-6989586621681130781"><span class="hs-identifier hs-var">grabCV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681130777"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681130777"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span>      </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130777"><span class="hs-identifier hs-var">cv</span></a></span><span>
</span><span id="line-1020"></span><span>        </span><span class="annot"><a href="#local-6989586621681130781"><span class="hs-identifier hs-var">grabCV</span></a></span><span> </span><span class="hs-identifier">_</span><span>                           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1021"></span><span>
</span><span id="line-1022"></span><span class="hs-comment">-- | Read the array element at @a@. For efficiency purposes, we create a memo-table</span><span>
</span><span id="line-1023"></span><span class="hs-comment">-- as we go along, as otherwise we suffer significant performance penalties. See:</span><span>
</span><span id="line-1024"></span><span class="hs-comment">-- &lt;http://github.com/LeventErkok/sbv/issues/402&gt; and</span><span>
</span><span id="line-1025"></span><span class="hs-comment">-- &lt;http://github.com/LeventErkok/sbv/issues/396&gt;.</span><span>
</span><span id="line-1026"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#readSFunArr"><span class="hs-identifier hs-type">readSFunArr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-type">SFunArr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1027"></span><span id="readSFunArr"><span class="annot"><span class="annottext">readSFunArr :: SFunArr -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#readSFunArr"><span class="hs-identifier hs-var hs-var">readSFunArr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-type">SFunArr</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681130776"><span class="annot"><span class="annottext">ak :: Kind
</span><a href="#local-6989586621681130776"><span class="hs-identifier hs-var">ak</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130775"><span class="annot"><span class="annottext">bk :: Kind
</span><a href="#local-6989586621681130775"><span class="hs-identifier hs-var">bk</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130774"><span class="annot"><span class="annottext">f :: Cached FArrayIndex
</span><a href="#local-6989586621681130774"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130773"><span class="annot"><span class="annottext">address :: SVal
</span><a href="#local-6989586621681130773"><span class="hs-identifier hs-var">address</span></a></span></span><span>
</span><span id="line-1028"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130773"><span class="hs-identifier hs-var">address</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130776"><span class="hs-identifier hs-var">ak</span></a></span><span>
</span><span id="line-1029"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SVal) -&gt; String -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.readSFunArr: Impossible happened, accesing with address type: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130773"><span class="hs-identifier hs-var">address</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, expected: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130776"><span class="hs-identifier hs-var">ak</span></a></span><span>
</span><span id="line-1030"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1031"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130775"><span class="hs-identifier hs-var">bk</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130772"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1032"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130772"><span class="annot"><span class="annottext">r :: State -&gt; IO SV
</span><a href="#local-6989586621681130772"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681130771"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130771"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130770"><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130770"><span class="hs-identifier hs-var">fArrayIndex</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Cached FArrayIndex -&gt; State -&gt; IO FArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#uncacheFAI"><span class="hs-identifier hs-var">uncacheFAI</span></a></span><span> </span><span class="annot"><span class="annottext">Cached FArrayIndex
</span><a href="#local-6989586621681130774"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130771"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-1033"></span><span>                  </span><span id="local-6989586621681130768"><span class="annot"><span class="annottext">FArrayMap
</span><a href="#local-6989586621681130768"><span class="hs-identifier hs-var">fArrMap</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef FArrayMap -&gt; IO FArrayMap
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef FArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rFArrayMap"><span class="hs-identifier hs-var hs-var">rFArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130771"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1034"></span><span>
</span><span id="line-1035"></span><span>                  </span><span id="local-6989586621681130766"><span class="annot"><span class="annottext">CnstMap
</span><a href="#local-6989586621681130766"><span class="hs-identifier hs-var">constMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef CnstMap -&gt; IO CnstMap
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef CnstMap
</span><a href="Data.SBV.Core.Symbolic.html#rconstMap"><span class="hs-identifier hs-var hs-var">rconstMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130771"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1036"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130764"><span class="annot"><span class="annottext">consts :: Map Int CV
</span><a href="#local-6989586621681130764"><span class="hs-identifier hs-var hs-var">consts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Int, CV)] -&gt; Map Int CV
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130763"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130762"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681130762"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681130762"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NodeId"><span class="hs-identifier hs-type">NodeId</span></a></span><span> </span><span id="local-6989586621681130763"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130763"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CnstMap -&gt; [(CV, SV)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">CnstMap
</span><a href="#local-6989586621681130766"><span class="hs-identifier hs-var">constMap</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1037"></span><span>
</span><span id="line-1038"></span><span>                  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unFArrayIndex"><span class="hs-identifier hs-var hs-var">unFArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130770"><span class="hs-identifier hs-var">fArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FArrayMap -&gt; Maybe (SVal -&gt; SVal, IORef (IntMap SV))
forall a. Int -&gt; IntMap a -&gt; Maybe a
</span><span class="hs-operator hs-var">`IMap.lookup`</span></span><span> </span><span class="annot"><span class="annottext">FArrayMap
</span><a href="#local-6989586621681130768"><span class="hs-identifier hs-var">fArrMap</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1039"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO SV
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO SV) -&gt; String -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.readSFunArr: Impossible happened while trying to access SFunArray, can't find index: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130770"><span class="hs-identifier hs-var">fArrayIndex</span></a></span><span>
</span><span id="line-1040"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681130760"><span class="annot"><span class="annottext">uninitializedRead :: SVal -&gt; SVal
</span><a href="#local-6989586621681130760"><span class="hs-identifier hs-var">uninitializedRead</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130759"><span class="annot"><span class="annottext">rCache :: IORef (IntMap SV)
</span><a href="#local-6989586621681130759"><span class="hs-identifier hs-var">rCache</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1041"></span><span>                        </span><span id="local-6989586621681130758"><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130758"><span class="hs-identifier hs-var">memoTable</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV) -&gt; IO (IntMap SV)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV)
</span><a href="#local-6989586621681130759"><span class="hs-identifier hs-var">rCache</span></a></span><span>
</span><span id="line-1042"></span><span>                        </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NodeId"><span class="hs-identifier hs-type">NodeId</span></a></span><span> </span><span id="local-6989586621681130757"><span class="annot"><span class="annottext">addressNodeId :: Int
</span><a href="#local-6989586621681130757"><span class="hs-identifier hs-var">addressNodeId</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130771"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130773"><span class="hs-identifier hs-var">address</span></a></span><span>
</span><span id="line-1043"></span><span>
</span><span id="line-1044"></span><span>                        </span><span class="hs-comment">-- If we hit the cache, return the result right away. If we miss, we need to</span><span>
</span><span id="line-1045"></span><span>                        </span><span class="hs-comment">-- walk through each element to &quot;merge&quot; all possible reads as we do not know</span><span>
</span><span id="line-1046"></span><span>                        </span><span class="hs-comment">-- whether the symbolic access may end up the same as one of the earlier ones</span><span>
</span><span id="line-1047"></span><span>                        </span><span class="hs-comment">-- in the cache.</span><span>
</span><span id="line-1048"></span><span>                        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130757"><span class="hs-identifier hs-var">addressNodeId</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IntMap SV -&gt; Maybe SV
forall a. Int -&gt; IntMap a -&gt; Maybe a
</span><span class="hs-operator hs-var">`IMap.lookup`</span></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130758"><span class="hs-identifier hs-var">memoTable</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1049"></span><span>                          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130756"><span class="annot"><span class="annottext">v :: SV
</span><a href="#local-6989586621681130756"><span class="hs-identifier hs-var">v</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SV -&gt; IO SV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130756"><span class="hs-identifier hs-var">v</span></a></span><span>  </span><span class="hs-comment">-- cache hit!</span><span>
</span><span id="line-1050"></span><span>
</span><span id="line-1051"></span><span>                          </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- cache miss; walk down the cache items to form the chain of reads:</span><span>
</span><span id="line-1052"></span><span>                                     </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130755"><span class="annot"><span class="annottext">aInfo :: (SVal, Maybe CV)
</span><a href="#local-6989586621681130755"><span class="hs-identifier hs-var hs-var">aInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130773"><span class="hs-identifier hs-var">address</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130757"><span class="hs-identifier hs-var">addressNodeId</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Map Int CV -&gt; Maybe CV
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-operator hs-var">`Map.lookup`</span></span><span> </span><span class="annot"><span class="annottext">Map Int CV
</span><a href="#local-6989586621681130764"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1053"></span><span>
</span><span id="line-1054"></span><span>                                            </span><span class="annot"><a href="#local-6989586621681130754"><span class="hs-identifier hs-type">find</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1055"></span><span>                                            </span><span id="local-6989586621681130754"><span class="annot"><span class="annottext">find :: [(Int, SV)] -&gt; SVal
</span><a href="#local-6989586621681130754"><span class="hs-identifier hs-var hs-var">find</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130760"><span class="hs-identifier hs-var">uninitializedRead</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130773"><span class="hs-identifier hs-var">address</span></a></span><span>
</span><span id="line-1056"></span><span>                                            </span><span class="annot"><a href="#local-6989586621681130754"><span class="hs-identifier hs-var">find</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681130753"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130753"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130752"><span class="annot"><span class="annottext">v :: SV
</span><a href="#local-6989586621681130752"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681130751"><span class="annot"><span class="annottext">ivs :: [(Int, SV)]
</span><a href="#local-6989586621681130751"><span class="hs-identifier hs-var">ivs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SVal, Maybe CV) -&gt; (SVal, Maybe CV) -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svEqualWithConsts"><span class="hs-identifier hs-var">svEqualWithConsts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#nodeIdToSVal"><span class="hs-identifier hs-var">nodeIdToSVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130776"><span class="hs-identifier hs-var">ak</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130753"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130753"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Map Int CV -&gt; Maybe CV
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-operator hs-var">`Map.lookup`</span></span><span> </span><span class="annot"><span class="annottext">Map Int CV
</span><a href="#local-6989586621681130764"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SVal, Maybe CV)
</span><a href="#local-6989586621681130755"><span class="hs-identifier hs-var">aInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#swToSVal"><span class="hs-identifier hs-var">swToSVal</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130752"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; SVal
</span><a href="#local-6989586621681130754"><span class="hs-identifier hs-var">find</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130751"><span class="hs-identifier hs-var">ivs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1057"></span><span>
</span><span id="line-1058"></span><span>                                            </span><span id="local-6989586621681130750"><span class="annot"><span class="annottext">finalValue :: SVal
</span><a href="#local-6989586621681130750"><span class="hs-identifier hs-var hs-var">finalValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; SVal
</span><a href="#local-6989586621681130754"><span class="hs-identifier hs-var">find</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntMap SV -&gt; [(Int, SV)]
forall a. IntMap a -&gt; [(Int, a)]
</span><span class="hs-identifier hs-var">IMap.toAscList</span></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130758"><span class="hs-identifier hs-var">memoTable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1059"></span><span>
</span><span id="line-1060"></span><span>                                        </span><span id="local-6989586621681130749"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130749"><span class="hs-identifier hs-var">finalSW</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130771"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130750"><span class="hs-identifier hs-var">finalValue</span></a></span><span>
</span><span id="line-1061"></span><span>
</span><span id="line-1062"></span><span>                                        </span><span class="hs-comment">-- Cache the result, so next time we can retrieve it faster if we look it up with the same address!</span><span>
</span><span id="line-1063"></span><span>                                        </span><span class="hs-comment">-- The following line is really the whole point of having caching in SFunArray!</span><span>
</span><span id="line-1064"></span><span>                                        </span><span class="annot"><span class="annottext">IORef (IntMap SV) -&gt; (IntMap SV -&gt; IntMap SV) -&gt; IO ()
forall a. IORef a -&gt; (a -&gt; a) -&gt; IO ()
</span><span class="hs-identifier hs-var">R.modifyIORef'</span></span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV)
</span><a href="#local-6989586621681130759"><span class="hs-identifier hs-var">rCache</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; IntMap SV -&gt; IntMap SV
forall a. Int -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IMap.insert</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130757"><span class="hs-identifier hs-var">addressNodeId</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130749"><span class="hs-identifier hs-var">finalSW</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1065"></span><span>
</span><span id="line-1066"></span><span>                                        </span><span class="annot"><span class="annottext">SV -&gt; IO SV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130749"><span class="hs-identifier hs-var">finalSW</span></a></span><span>
</span><span id="line-1067"></span><span>
</span><span id="line-1068"></span><span class="hs-comment">-- | Update the element at @address@ to be @b@</span><span>
</span><span id="line-1069"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#writeSFunArr"><span class="hs-identifier hs-type">writeSFunArr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-type">SFunArr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-type">SFunArr</span></a></span><span>
</span><span id="line-1070"></span><span id="writeSFunArr"><span class="annot"><span class="annottext">writeSFunArr :: SFunArr -&gt; SVal -&gt; SVal -&gt; SFunArr
</span><a href="Data.SBV.Core.Operations.html#writeSFunArr"><span class="hs-identifier hs-var hs-var">writeSFunArr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-type">SFunArr</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681130748"><span class="annot"><span class="annottext">ak :: Kind
</span><a href="#local-6989586621681130748"><span class="hs-identifier hs-var">ak</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130747"><span class="annot"><span class="annottext">bk :: Kind
</span><a href="#local-6989586621681130747"><span class="hs-identifier hs-var">bk</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130746"><span class="annot"><span class="annottext">f :: Cached FArrayIndex
</span><a href="#local-6989586621681130746"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130745"><span class="annot"><span class="annottext">address :: SVal
</span><a href="#local-6989586621681130745"><span class="hs-identifier hs-var">address</span></a></span></span><span> </span><span id="local-6989586621681130744"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681130744"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-1071"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130745"><span class="hs-identifier hs-var">address</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130748"><span class="hs-identifier hs-var">ak</span></a></span><span>
</span><span id="line-1072"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SFunArr
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SFunArr) -&gt; String -&gt; SFunArr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.writeSFunArr: Impossible happened, accesing with address type: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130745"><span class="hs-identifier hs-var">address</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, expected: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130748"><span class="hs-identifier hs-var">ak</span></a></span><span>
</span><span id="line-1073"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130744"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130747"><span class="hs-identifier hs-var">bk</span></a></span><span>
</span><span id="line-1074"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SFunArr
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SFunArr) -&gt; String -&gt; SFunArr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.writeSFunArr: Impossible happened, accesing with address type: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130744"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, expected: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130747"><span class="hs-identifier hs-var">bk</span></a></span><span>
</span><span id="line-1075"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1076"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; Cached FArrayIndex -&gt; SFunArr
</span><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-var">SFunArr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130748"><span class="hs-identifier hs-var">ak</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130747"><span class="hs-identifier hs-var">bk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Cached FArrayIndex -&gt; SFunArr) -&gt; Cached FArrayIndex -&gt; SFunArr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO FArrayIndex) -&gt; Cached FArrayIndex
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO FArrayIndex
</span><a href="#local-6989586621681130743"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-1077"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130743"><span class="annot"><span class="annottext">g :: State -&gt; IO FArrayIndex
</span><a href="#local-6989586621681130743"><span class="hs-identifier hs-var hs-var">g</span></a></span></span><span> </span><span id="local-6989586621681130742"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130742"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130741"><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130741"><span class="hs-identifier hs-var">fArrayIndex</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Cached FArrayIndex -&gt; State -&gt; IO FArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#uncacheFAI"><span class="hs-identifier hs-var">uncacheFAI</span></a></span><span> </span><span class="annot"><span class="annottext">Cached FArrayIndex
</span><a href="#local-6989586621681130746"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130742"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-1078"></span><span>                  </span><span id="local-6989586621681130740"><span class="annot"><span class="annottext">FArrayMap
</span><a href="#local-6989586621681130740"><span class="hs-identifier hs-var">fArrMap</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef FArrayMap -&gt; IO FArrayMap
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef FArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rFArrayMap"><span class="hs-identifier hs-var hs-var">rFArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130742"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1079"></span><span>                  </span><span id="local-6989586621681130739"><span class="annot"><span class="annottext">CnstMap
</span><a href="#local-6989586621681130739"><span class="hs-identifier hs-var">constMap</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef CnstMap -&gt; IO CnstMap
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef CnstMap
</span><a href="Data.SBV.Core.Symbolic.html#rconstMap"><span class="hs-identifier hs-var hs-var">rconstMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130742"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1080"></span><span>
</span><span id="line-1081"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130738"><span class="annot"><span class="annottext">consts :: Map Int CV
</span><a href="#local-6989586621681130738"><span class="hs-identifier hs-var hs-var">consts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Int, CV)] -&gt; Map Int CV
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130737"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130736"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681130736"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681130736"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NodeId"><span class="hs-identifier hs-type">NodeId</span></a></span><span> </span><span id="local-6989586621681130737"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130737"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CnstMap -&gt; [(CV, SV)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">CnstMap
</span><a href="#local-6989586621681130739"><span class="hs-identifier hs-var">constMap</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1082"></span><span>
</span><span id="line-1083"></span><span>                  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unFArrayIndex"><span class="hs-identifier hs-var hs-var">unFArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130741"><span class="hs-identifier hs-var">fArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FArrayMap -&gt; Maybe (SVal -&gt; SVal, IORef (IntMap SV))
forall a. Int -&gt; IntMap a -&gt; Maybe a
</span><span class="hs-operator hs-var">`IMap.lookup`</span></span><span> </span><span class="annot"><span class="annottext">FArrayMap
</span><a href="#local-6989586621681130740"><span class="hs-identifier hs-var">fArrMap</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1084"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO FArrayIndex
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO FArrayIndex) -&gt; String -&gt; IO FArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.writeSFunArr: Impossible happened while trying to access SFunArray, can't find index: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130741"><span class="hs-identifier hs-var">fArrayIndex</span></a></span><span>
</span><span id="line-1085"></span><span>
</span><span id="line-1086"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681130735"><span class="annot"><span class="annottext">aUi :: SVal -&gt; SVal
</span><a href="#local-6989586621681130735"><span class="hs-identifier hs-var">aUi</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130734"><span class="annot"><span class="annottext">rCache :: IORef (IntMap SV)
</span><a href="#local-6989586621681130734"><span class="hs-identifier hs-var">rCache</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1087"></span><span>                       </span><span id="local-6989586621681130733"><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130733"><span class="hs-identifier hs-var">memoTable</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV) -&gt; IO (IntMap SV)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV)
</span><a href="#local-6989586621681130734"><span class="hs-identifier hs-var">rCache</span></a></span><span>
</span><span id="line-1088"></span><span>                       </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NodeId"><span class="hs-identifier hs-type">NodeId</span></a></span><span> </span><span id="local-6989586621681130732"><span class="annot"><span class="annottext">addressNodeId :: Int
</span><a href="#local-6989586621681130732"><span class="hs-identifier hs-var">addressNodeId</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130742"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130745"><span class="hs-identifier hs-var">address</span></a></span><span>
</span><span id="line-1089"></span><span>                       </span><span id="local-6989586621681130731"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130731"><span class="hs-identifier hs-var">val</span></a></span></span><span>                         </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130742"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130744"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1090"></span><span>
</span><span id="line-1091"></span><span>                       </span><span class="hs-comment">-- There are three cases:</span><span>
</span><span id="line-1092"></span><span>                       </span><span class="hs-comment">--</span><span>
</span><span id="line-1093"></span><span>                       </span><span class="hs-comment">--    (1) We hit the cache, and old value is the same as new: No write necessary, just return the array</span><span>
</span><span id="line-1094"></span><span>                       </span><span class="hs-comment">--    (2) We hit the cache, values are different. Simply insert, overriding the old-memo table location</span><span>
</span><span id="line-1095"></span><span>                       </span><span class="hs-comment">--    (3) We miss the cache: Now we have to walk through all accesses and update the memo table accordingly.</span><span>
</span><span id="line-1096"></span><span>                       </span><span class="hs-comment">--        Why? Just because we missed the cache doesn't mean that it's not there with a different &quot;symbolic&quot;</span><span>
</span><span id="line-1097"></span><span>                       </span><span class="hs-comment">--        address. So, we have to walk through and update each entry in case the address matches.</span><span>
</span><span id="line-1098"></span><span>                       </span><span class="hs-comment">--</span><span>
</span><span id="line-1099"></span><span>                       </span><span class="hs-comment">-- Below, we determine which case we're in and then insert the value at the end and continue</span><span>
</span><span id="line-1100"></span><span>                       </span><span id="local-6989586621681130730"><span class="annot"><span class="annottext">Either FArrayIndex (IntMap SV)
</span><a href="#local-6989586621681130730"><span class="hs-identifier hs-var">cont</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130732"><span class="hs-identifier hs-var">addressNodeId</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; IntMap SV -&gt; Maybe SV
forall a. Int -&gt; IntMap a -&gt; Maybe a
</span><span class="hs-operator hs-var">`IMap.lookup`</span></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130733"><span class="hs-identifier hs-var">memoTable</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1101"></span><span>                                 </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130729"><span class="annot"><span class="annottext">oldVal :: SV
</span><a href="#local-6989586621681130729"><span class="hs-identifier hs-var">oldVal</span></a></span></span><span>                    </span><span class="hs-comment">-- Cache hit</span><span>
</span><span id="line-1102"></span><span>                                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130731"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130729"><span class="hs-identifier hs-var">oldVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either FArrayIndex (IntMap SV)
-&gt; IO (Either FArrayIndex (IntMap SV))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either FArrayIndex (IntMap SV)
 -&gt; IO (Either FArrayIndex (IntMap SV)))
-&gt; Either FArrayIndex (IntMap SV)
-&gt; IO (Either FArrayIndex (IntMap SV))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; Either FArrayIndex (IntMap SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130741"><span class="hs-identifier hs-var">fArrayIndex</span></a></span><span>   </span><span class="hs-comment">-- Case 1</span><span>
</span><span id="line-1103"></span><span>                                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either FArrayIndex (IntMap SV)
-&gt; IO (Either FArrayIndex (IntMap SV))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either FArrayIndex (IntMap SV)
 -&gt; IO (Either FArrayIndex (IntMap SV)))
-&gt; Either FArrayIndex (IntMap SV)
-&gt; IO (Either FArrayIndex (IntMap SV))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IntMap SV -&gt; Either FArrayIndex (IntMap SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130733"><span class="hs-identifier hs-var">memoTable</span></a></span><span>    </span><span class="hs-comment">-- Case 2</span><span>
</span><span id="line-1104"></span><span>
</span><span id="line-1105"></span><span>                                 </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>        </span><span class="hs-comment">-- Cache miss</span><span>
</span><span id="line-1106"></span><span>
</span><span id="line-1107"></span><span>                                        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130728"><span class="annot"><span class="annottext">aInfo :: (SVal, Maybe CV)
</span><a href="#local-6989586621681130728"><span class="hs-identifier hs-var hs-var">aInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130745"><span class="hs-identifier hs-var">address</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130732"><span class="hs-identifier hs-var">addressNodeId</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Map Int CV -&gt; Maybe CV
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-operator hs-var">`Map.lookup`</span></span><span> </span><span class="annot"><span class="annottext">Map Int CV
</span><a href="#local-6989586621681130738"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1108"></span><span>
</span><span id="line-1109"></span><span>                                            </span><span class="hs-comment">-- NB. The order of modifications here is important as we</span><span>
</span><span id="line-1110"></span><span>                                            </span><span class="hs-comment">-- keep the keys in ascending order. (Since we'll call fromAscList later on.)</span><span>
</span><span id="line-1111"></span><span>                                            </span><span class="annot"><a href="#local-6989586621681130727"><span class="hs-identifier hs-type">walk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1112"></span><span>                                            </span><span id="local-6989586621681130727"><span class="annot"><span class="annottext">walk :: [(Int, SV)] -&gt; [(Int, SV)] -&gt; IO [(Int, SV)]
</span><a href="#local-6989586621681130727"><span class="hs-identifier hs-var hs-var">walk</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>           </span><span id="local-6989586621681130726"><span class="annot"><span class="annottext">sofar :: [(Int, SV)]
</span><a href="#local-6989586621681130726"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; IO [(Int, SV)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([(Int, SV)] -&gt; IO [(Int, SV)]) -&gt; [(Int, SV)] -&gt; IO [(Int, SV)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; [(Int, SV)]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130726"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-1113"></span><span>                                            </span><span class="annot"><a href="#local-6989586621681130727"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681130725"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130725"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130724"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681130724"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681130723"><span class="annot"><span class="annottext">iss :: [(Int, SV)]
</span><a href="#local-6989586621681130723"><span class="hs-identifier hs-var">iss</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130722"><span class="annot"><span class="annottext">sofar :: [(Int, SV)]
</span><a href="#local-6989586621681130722"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; IO SV
</span><a href="#local-6989586621681130721"><span class="hs-identifier hs-var">modify</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130725"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130724"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; (SV -&gt; IO [(Int, SV)]) -&gt; IO [(Int, SV)]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681130720"><span class="annot"><span class="annottext">s' :: SV
</span><a href="#local-6989586621681130720"><span class="hs-identifier hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; [(Int, SV)] -&gt; IO [(Int, SV)]
</span><a href="#local-6989586621681130727"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130723"><span class="hs-identifier hs-var">iss</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130725"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130720"><span class="hs-identifier hs-var">s'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int, SV) -&gt; [(Int, SV)] -&gt; [(Int, SV)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130722"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1114"></span><span>
</span><span id="line-1115"></span><span>                                            </span><span class="hs-comment">-- At the cached address i, currently storing value s. Conditionally update it to `b` (new value)</span><span>
</span><span id="line-1116"></span><span>                                            </span><span class="hs-comment">-- if the addresses match. Otherwise keep it the same.</span><span>
</span><span id="line-1117"></span><span>                                            </span><span class="annot"><a href="#local-6989586621681130721"><span class="hs-identifier hs-type">modify</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span>
</span><span id="line-1118"></span><span>                                            </span><span id="local-6989586621681130721"><span class="annot"><span class="annottext">modify :: Int -&gt; SV -&gt; IO SV
</span><a href="#local-6989586621681130721"><span class="hs-identifier hs-var hs-var">modify</span></a></span></span><span> </span><span id="local-6989586621681130719"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130719"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681130718"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681130718"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130742"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; IO SV) -&gt; SVal -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SVal, Maybe CV) -&gt; (SVal, Maybe CV) -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svEqualWithConsts"><span class="hs-identifier hs-var">svEqualWithConsts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#nodeIdToSVal"><span class="hs-identifier hs-var">nodeIdToSVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130748"><span class="hs-identifier hs-var">ak</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130719"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130719"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Map Int CV -&gt; Maybe CV
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-operator hs-var">`Map.lookup`</span></span><span> </span><span class="annot"><span class="annottext">Map Int CV
</span><a href="#local-6989586621681130738"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SVal, Maybe CV)
</span><a href="#local-6989586621681130728"><span class="hs-identifier hs-var">aInfo</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130744"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#swToSVal"><span class="hs-identifier hs-var">swToSVal</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130718"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1119"></span><span>
</span><span id="line-1120"></span><span>                                        </span><span class="annot"><span class="annottext">IntMap SV -&gt; Either FArrayIndex (IntMap SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(IntMap SV -&gt; Either FArrayIndex (IntMap SV))
-&gt; ([(Int, SV)] -&gt; IntMap SV)
-&gt; [(Int, SV)]
-&gt; Either FArrayIndex (IntMap SV)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; IntMap SV
forall a. [(Int, a)] -&gt; IntMap a
</span><span class="hs-identifier hs-var">IMap.fromAscList</span></span><span> </span><span class="annot"><span class="annottext">([(Int, SV)] -&gt; Either FArrayIndex (IntMap SV))
-&gt; IO [(Int, SV)] -&gt; IO (Either FArrayIndex (IntMap SV))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; [(Int, SV)] -&gt; IO [(Int, SV)]
</span><a href="#local-6989586621681130727"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntMap SV -&gt; [(Int, SV)]
forall a. IntMap a -&gt; [(Int, a)]
</span><span class="hs-identifier hs-var">IMap.toAscList</span></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130733"><span class="hs-identifier hs-var">memoTable</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1121"></span><span>
</span><span id="line-1122"></span><span>                       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either FArrayIndex (IntMap SV)
</span><a href="#local-6989586621681130730"><span class="hs-identifier hs-var">cont</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1123"></span><span>                         </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681130717"><span class="annot"><span class="annottext">j :: FArrayIndex
</span><a href="#local-6989586621681130717"><span class="hs-identifier hs-var">j</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; IO FArrayIndex
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130717"><span class="hs-identifier hs-var">j</span></a></span><span>  </span><span class="hs-comment">-- There was a hit, and value was unchanged, nothing to do</span><span>
</span><span id="line-1124"></span><span>
</span><span id="line-1125"></span><span>                         </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621681130716"><span class="annot"><span class="annottext">mt :: IntMap SV
</span><a href="#local-6989586621681130716"><span class="hs-identifier hs-var">mt</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>        </span><span class="hs-comment">-- There was a hit, and the value was different; or there was a miss. Insert the new value</span><span>
</span><span id="line-1126"></span><span>                                               </span><span class="hs-comment">-- and create a new array. Note that we keep the aUi the same: Just because we modified</span><span>
</span><span id="line-1127"></span><span>                                               </span><span class="hs-comment">-- an array, it doesn't mean we change the uninitialized reads: they still come from the same place.</span><span>
</span><span id="line-1128"></span><span>                                               </span><span class="hs-comment">--</span><span>
</span><span id="line-1129"></span><span>                                        </span><span id="local-6989586621681130715"><span class="annot"><span class="annottext">IORef (IntMap SV)
</span><a href="#local-6989586621681130715"><span class="hs-identifier hs-var">newMemoTable</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IntMap SV -&gt; IO (IORef (IntMap SV))
forall a. a -&gt; IO (IORef a)
</span><span class="hs-identifier hs-var">R.newIORef</span></span><span> </span><span class="annot"><span class="annottext">(IntMap SV -&gt; IO (IORef (IntMap SV)))
-&gt; IntMap SV -&gt; IO (IORef (IntMap SV))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; IntMap SV -&gt; IntMap SV
forall a. Int -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IMap.insert</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130732"><span class="hs-identifier hs-var">addressNodeId</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130731"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130716"><span class="hs-identifier hs-var">mt</span></a></span><span>
</span><span id="line-1130"></span><span>
</span><span id="line-1131"></span><span>                                        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130714"><span class="annot"><span class="annottext">j :: FArrayIndex
</span><a href="#local-6989586621681130714"><span class="hs-identifier hs-var hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; FArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#FArrayIndex"><span class="hs-identifier hs-var">FArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; FArrayIndex) -&gt; Int -&gt; FArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FArrayMap -&gt; Int
forall a. IntMap a -&gt; Int
</span><span class="hs-identifier hs-var">IMap.size</span></span><span> </span><span class="annot"><span class="annottext">FArrayMap
</span><a href="#local-6989586621681130740"><span class="hs-identifier hs-var">fArrMap</span></a></span><span>
</span><span id="line-1132"></span><span>                                            </span><span id="local-6989586621681130712"><span class="annot"><span class="annottext">upd :: FArrayMap -&gt; FArrayMap
</span><a href="#local-6989586621681130712"><span class="hs-identifier hs-var hs-var">upd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; (SVal -&gt; SVal, IORef (IntMap SV)) -&gt; FArrayMap -&gt; FArrayMap
forall a. Int -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IMap.insert</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unFArrayIndex"><span class="hs-identifier hs-var hs-var">unFArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130714"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130735"><span class="hs-identifier hs-var">aUi</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV)
</span><a href="#local-6989586621681130715"><span class="hs-identifier hs-var">newMemoTable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1133"></span><span>
</span><span id="line-1134"></span><span>                                        </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130714"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; IO () -&gt; IO ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">State
-&gt; (State -&gt; IORef FArrayMap)
-&gt; (FArrayMap -&gt; FArrayMap)
-&gt; IO ()
-&gt; IO ()
forall a. State -&gt; (State -&gt; IORef a) -&gt; (a -&gt; a) -&gt; IO () -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#modifyState"><span class="hs-identifier hs-var">modifyState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130742"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IORef FArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rFArrayMap"><span class="hs-identifier hs-var hs-var">rFArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayMap -&gt; FArrayMap
</span><a href="#local-6989586621681130712"><span class="hs-identifier hs-var">upd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1135"></span><span>                                        </span><span class="annot"><span class="annottext">FArrayIndex -&gt; IO FArrayIndex
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130714"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-1136"></span><span>
</span><span id="line-1137"></span><span class="hs-comment">-- | Merge two given arrays on the symbolic condition</span><span>
</span><span id="line-1138"></span><span class="hs-comment">-- Intuitively: @mergeArrays cond a b = if cond then a else b@.</span><span>
</span><span id="line-1139"></span><span class="hs-comment">-- Merging pushes the if-then-else choice down on to elements</span><span>
</span><span id="line-1140"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#mergeSFunArr"><span class="hs-identifier hs-type">mergeSFunArr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-type">SFunArr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-type">SFunArr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-type">SFunArr</span></a></span><span>
</span><span id="line-1141"></span><span id="mergeSFunArr"><span class="annot"><span class="annottext">mergeSFunArr :: SVal -&gt; SFunArr -&gt; SFunArr -&gt; SFunArr
</span><a href="Data.SBV.Core.Operations.html#mergeSFunArr"><span class="hs-identifier hs-var hs-var">mergeSFunArr</span></a></span></span><span> </span><span id="local-6989586621681130711"><span class="annot"><span class="annottext">t :: SVal
</span><a href="#local-6989586621681130711"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span id="local-6989586621681130710"><span class="annot"><span class="annottext">array1 :: SFunArr
</span><a href="#local-6989586621681130710"><span class="hs-identifier hs-var">array1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-type">SFunArr</span></a></span><span> </span><span id="local-6989586621681130709"><span class="annot"><span class="annottext">ainfo :: (Kind, Kind)
</span><a href="#local-6989586621681130709"><span class="hs-identifier hs-var">ainfo</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681130708"><span class="annot"><span class="annottext">sourceKind :: Kind
</span><a href="#local-6989586621681130708"><span class="hs-identifier hs-var">sourceKind</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130707"><span class="annot"><span class="annottext">targetKind :: Kind
</span><a href="#local-6989586621681130707"><span class="hs-identifier hs-var">targetKind</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130706"><span class="annot"><span class="annottext">a :: Cached FArrayIndex
</span><a href="#local-6989586621681130706"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130705"><span class="annot"><span class="annottext">array2 :: SFunArr
</span><a href="#local-6989586621681130705"><span class="hs-identifier hs-var">array2</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-type">SFunArr</span></a></span><span> </span><span id="local-6989586621681130704"><span class="annot"><span class="annottext">binfo :: (Kind, Kind)
</span><a href="#local-6989586621681130704"><span class="hs-identifier hs-var">binfo</span></a></span></span><span> </span><span id="local-6989586621681130703"><span class="annot"><span class="annottext">b :: Cached FArrayIndex
</span><a href="#local-6989586621681130703"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1142"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Kind, Kind)
</span><a href="#local-6989586621681130709"><span class="hs-identifier hs-var">ainfo</span></a></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; (Kind, Kind) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind)
</span><a href="#local-6989586621681130704"><span class="hs-identifier hs-var">binfo</span></a></span><span>
</span><span id="line-1143"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; SFunArr
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SFunArr) -&gt; String -&gt; SFunArr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.mergeSFunArr: Impossible happened, merging incompatbile arrays: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">((Kind, Kind), (Kind, Kind)) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Kind, Kind)
</span><a href="#local-6989586621681130709"><span class="hs-identifier hs-var">ainfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Kind, Kind)
</span><a href="#local-6989586621681130704"><span class="hs-identifier hs-var">binfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1144"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130702"><span class="annot"><span class="annottext">test :: Bool
</span><a href="#local-6989586621681130702"><span class="hs-identifier hs-var">test</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Maybe Bool
</span><a href="Data.SBV.Core.Operations.html#svAsBool"><span class="hs-identifier hs-var">svAsBool</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130711"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1145"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681130702"><span class="hs-identifier hs-var">test</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SFunArr
</span><a href="#local-6989586621681130710"><span class="hs-identifier hs-var">array1</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">SFunArr
</span><a href="#local-6989586621681130705"><span class="hs-identifier hs-var">array2</span></a></span><span>
</span><span id="line-1146"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1147"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; Cached FArrayIndex -&gt; SFunArr
</span><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-var">SFunArr</span></a></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind)
</span><a href="#local-6989586621681130709"><span class="hs-identifier hs-var">ainfo</span></a></span><span> </span><span class="annot"><span class="annottext">(Cached FArrayIndex -&gt; SFunArr) -&gt; Cached FArrayIndex -&gt; SFunArr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO FArrayIndex) -&gt; Cached FArrayIndex
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO FArrayIndex
</span><a href="#local-6989586621681130701"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1148"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130701"><span class="annot"><span class="annottext">c :: State -&gt; IO FArrayIndex
</span><a href="#local-6989586621681130701"><span class="hs-identifier hs-var hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681130700"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130700"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130699"><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130699"><span class="hs-identifier hs-var">ai</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Cached FArrayIndex -&gt; State -&gt; IO FArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#uncacheFAI"><span class="hs-identifier hs-var">uncacheFAI</span></a></span><span> </span><span class="annot"><span class="annottext">Cached FArrayIndex
</span><a href="#local-6989586621681130706"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130700"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-1149"></span><span>                  </span><span id="local-6989586621681130698"><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130698"><span class="hs-identifier hs-var">bi</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Cached FArrayIndex -&gt; State -&gt; IO FArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#uncacheFAI"><span class="hs-identifier hs-var">uncacheFAI</span></a></span><span> </span><span class="annot"><span class="annottext">Cached FArrayIndex
</span><a href="#local-6989586621681130703"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130700"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-1150"></span><span>
</span><span id="line-1151"></span><span>                  </span><span id="local-6989586621681130697"><span class="annot"><span class="annottext">CnstMap
</span><a href="#local-6989586621681130697"><span class="hs-identifier hs-var">constMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef CnstMap -&gt; IO CnstMap
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef CnstMap
</span><a href="Data.SBV.Core.Symbolic.html#rconstMap"><span class="hs-identifier hs-var hs-var">rconstMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130700"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1152"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130696"><span class="annot"><span class="annottext">consts :: Map Int CV
</span><a href="#local-6989586621681130696"><span class="hs-identifier hs-var hs-var">consts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Int, CV)] -&gt; Map Int CV
forall k a. Ord k =&gt; [(k, a)] -&gt; Map k a
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130695"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130694"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681130694"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681130694"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NodeId"><span class="hs-identifier hs-type">NodeId</span></a></span><span> </span><span id="local-6989586621681130695"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130695"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CnstMap -&gt; [(CV, SV)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">CnstMap
</span><a href="#local-6989586621681130697"><span class="hs-identifier hs-var">constMap</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1153"></span><span>
</span><span id="line-1154"></span><span>                  </span><span class="hs-comment">-- Catch the degenerate case of merging an array with itself. One</span><span>
</span><span id="line-1155"></span><span>                  </span><span class="hs-comment">-- can argue this is pointless, but actually it comes up when one</span><span>
</span><span id="line-1156"></span><span>                  </span><span class="hs-comment">-- is merging composite structures (through a Mergeable class instance)</span><span>
</span><span id="line-1157"></span><span>                  </span><span class="hs-comment">-- that has an array component that didn't change. So, pays off in practice!</span><span>
</span><span id="line-1158"></span><span>                  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unFArrayIndex"><span class="hs-identifier hs-var hs-var">unFArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130699"><span class="hs-identifier hs-var">ai</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unFArrayIndex"><span class="hs-identifier hs-var hs-var">unFArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130698"><span class="hs-identifier hs-var">bi</span></a></span><span>
</span><span id="line-1159"></span><span>                     </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; IO FArrayIndex
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130699"><span class="hs-identifier hs-var">ai</span></a></span><span>  </span><span class="hs-comment">-- merging with itself, noop</span><span>
</span><span id="line-1160"></span><span>                     </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130693"><span class="annot"><span class="annottext">FArrayMap
</span><a href="#local-6989586621681130693"><span class="hs-identifier hs-var">fArrMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef FArrayMap -&gt; IO FArrayMap
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef FArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rFArrayMap"><span class="hs-identifier hs-var hs-var">rFArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130700"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1161"></span><span>
</span><span id="line-1162"></span><span>                             </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unFArrayIndex"><span class="hs-identifier hs-var hs-var">unFArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130699"><span class="hs-identifier hs-var">ai</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FArrayMap -&gt; Maybe (SVal -&gt; SVal, IORef (IntMap SV))
forall a. Int -&gt; IntMap a -&gt; Maybe a
</span><span class="hs-operator hs-var">`IMap.lookup`</span></span><span> </span><span class="annot"><span class="annottext">FArrayMap
</span><a href="#local-6989586621681130693"><span class="hs-identifier hs-var">fArrMap</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unFArrayIndex"><span class="hs-identifier hs-var hs-var">unFArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130698"><span class="hs-identifier hs-var">bi</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FArrayMap -&gt; Maybe (SVal -&gt; SVal, IORef (IntMap SV))
forall a. Int -&gt; IntMap a -&gt; Maybe a
</span><span class="hs-operator hs-var">`IMap.lookup`</span></span><span> </span><span class="annot"><span class="annottext">FArrayMap
</span><a href="#local-6989586621681130693"><span class="hs-identifier hs-var">fArrMap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1163"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO FArrayIndex
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO FArrayIndex) -&gt; String -&gt; IO FArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.mergeSFunArr: Impossible happened while trying to access SFunArray, can't find index: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130699"><span class="hs-identifier hs-var">ai</span></a></span><span>
</span><span id="line-1164"></span><span>                               </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO FArrayIndex
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO FArrayIndex) -&gt; String -&gt; IO FArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.mergeSFunArr: Impossible happened while trying to access SFunArray, can't find index: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130698"><span class="hs-identifier hs-var">bi</span></a></span><span>
</span><span id="line-1165"></span><span>                               </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681130692"><span class="annot"><span class="annottext">aUi :: SVal -&gt; SVal
</span><a href="#local-6989586621681130692"><span class="hs-identifier hs-var">aUi</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130691"><span class="annot"><span class="annottext">raCache :: IORef (IntMap SV)
</span><a href="#local-6989586621681130691"><span class="hs-identifier hs-var">raCache</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681130690"><span class="annot"><span class="annottext">bUi :: SVal -&gt; SVal
</span><a href="#local-6989586621681130690"><span class="hs-identifier hs-var">bUi</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130689"><span class="annot"><span class="annottext">rbCache :: IORef (IntMap SV)
</span><a href="#local-6989586621681130689"><span class="hs-identifier hs-var">rbCache</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1166"></span><span>
</span><span id="line-1167"></span><span>                                   </span><span class="hs-comment">-- This is where the complication happens. We need to merge the caches. If the same</span><span>
</span><span id="line-1168"></span><span>                                   </span><span class="hs-comment">-- key appears in both, then that's the easy case: Just merge the entries. But if</span><span>
</span><span id="line-1169"></span><span>                                   </span><span class="hs-comment">-- a key only appears in one but not the other? Just like in the read/write cases,</span><span>
</span><span id="line-1170"></span><span>                                   </span><span class="hs-comment">-- we have to consider the possibility that the missing key can be any one of the</span><span>
</span><span id="line-1171"></span><span>                                   </span><span class="hs-comment">-- other elements in the cache. So, for each non-matching key in either memo-table,</span><span>
</span><span id="line-1172"></span><span>                                   </span><span class="hs-comment">-- we traverse the other and create a chain of look-up values.</span><span>
</span><span id="line-1173"></span><span>                                   </span><span id="local-6989586621681130688"><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130688"><span class="hs-identifier hs-var">aMemo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV) -&gt; IO (IntMap SV)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV)
</span><a href="#local-6989586621681130691"><span class="hs-identifier hs-var">raCache</span></a></span><span>
</span><span id="line-1174"></span><span>                                   </span><span id="local-6989586621681130687"><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130687"><span class="hs-identifier hs-var">bMemo</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV) -&gt; IO (IntMap SV)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV)
</span><a href="#local-6989586621681130689"><span class="hs-identifier hs-var">rbCache</span></a></span><span>
</span><span id="line-1175"></span><span>
</span><span id="line-1176"></span><span>                                   </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130686"><span class="annot"><span class="annottext">aMemoT :: [(Int, SV)]
</span><a href="#local-6989586621681130686"><span class="hs-identifier hs-var hs-var">aMemoT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntMap SV -&gt; [(Int, SV)]
forall a. IntMap a -&gt; [(Int, a)]
</span><span class="hs-identifier hs-var">IMap.toAscList</span></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130688"><span class="hs-identifier hs-var">aMemo</span></a></span><span>
</span><span id="line-1177"></span><span>                                       </span><span id="local-6989586621681130685"><span class="annot"><span class="annottext">bMemoT :: [(Int, SV)]
</span><a href="#local-6989586621681130685"><span class="hs-identifier hs-var hs-var">bMemoT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntMap SV -&gt; [(Int, SV)]
forall a. IntMap a -&gt; [(Int, a)]
</span><span class="hs-identifier hs-var">IMap.toAscList</span></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130687"><span class="hs-identifier hs-var">bMemo</span></a></span><span>
</span><span id="line-1178"></span><span>
</span><span id="line-1179"></span><span>                                       </span><span class="hs-comment">-- gen takes a uninitialized-read creator, a key, and the choices from the &quot;other&quot;</span><span>
</span><span id="line-1180"></span><span>                                       </span><span class="hs-comment">-- cache that this key may map to. And creates a new SV that corresponds to the</span><span>
</span><span id="line-1181"></span><span>                                       </span><span class="hs-comment">-- merged value:</span><span>
</span><span id="line-1182"></span><span>                                       </span><span class="annot"><a href="#local-6989586621681130684"><span class="hs-identifier hs-type">gen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span>
</span><span id="line-1183"></span><span>                                       </span><span id="local-6989586621681130684"><span class="annot"><span class="annottext">gen :: (SVal -&gt; SVal) -&gt; Int -&gt; [(Int, SV)] -&gt; IO SV
</span><a href="#local-6989586621681130684"><span class="hs-identifier hs-var hs-var">gen</span></a></span></span><span> </span><span id="local-6989586621681130683"><span class="annot"><span class="annottext">mk :: SVal -&gt; SVal
</span><a href="#local-6989586621681130683"><span class="hs-identifier hs-var">mk</span></a></span></span><span> </span><span id="local-6989586621681130682"><span class="annot"><span class="annottext">k :: Int
</span><a href="#local-6989586621681130682"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681130681"><span class="annot"><span class="annottext">choices :: [(Int, SV)]
</span><a href="#local-6989586621681130681"><span class="hs-identifier hs-var">choices</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130700"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; IO SV) -&gt; SVal -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; SVal
</span><a href="#local-6989586621681130680"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130681"><span class="hs-identifier hs-var">choices</span></a></span><span>
</span><span id="line-1184"></span><span>                                         </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130679"><span class="annot"><span class="annottext">kInfo :: (SVal, Maybe CV)
</span><a href="#local-6989586621681130679"><span class="hs-identifier hs-var hs-var">kInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#nodeIdToSVal"><span class="hs-identifier hs-var">nodeIdToSVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130708"><span class="hs-identifier hs-var">sourceKind</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130682"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130682"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Map Int CV -&gt; Maybe CV
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-operator hs-var">`Map.lookup`</span></span><span> </span><span class="annot"><span class="annottext">Map Int CV
</span><a href="#local-6989586621681130696"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1185"></span><span>
</span><span id="line-1186"></span><span>                                               </span><span class="annot"><a href="#local-6989586621681130680"><span class="hs-identifier hs-type">walk</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1187"></span><span>                                               </span><span id="local-6989586621681130680"><span class="annot"><span class="annottext">walk :: [(Int, SV)] -&gt; SVal
</span><a href="#local-6989586621681130680"><span class="hs-identifier hs-var hs-var">walk</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130683"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SVal, Maybe CV) -&gt; SVal
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">(SVal, Maybe CV)
</span><a href="#local-6989586621681130679"><span class="hs-identifier hs-var">kInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1188"></span><span>                                               </span><span class="annot"><a href="#local-6989586621681130680"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681130678"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130678"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130677"><span class="annot"><span class="annottext">v :: SV
</span><a href="#local-6989586621681130677"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681130676"><span class="annot"><span class="annottext">ivs :: [(Int, SV)]
</span><a href="#local-6989586621681130676"><span class="hs-identifier hs-var">ivs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SVal, Maybe CV) -&gt; (SVal, Maybe CV) -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svEqualWithConsts"><span class="hs-identifier hs-var">svEqualWithConsts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#nodeIdToSVal"><span class="hs-identifier hs-var">nodeIdToSVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130708"><span class="hs-identifier hs-var">sourceKind</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130678"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130678"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Map Int CV -&gt; Maybe CV
forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-operator hs-var">`Map.lookup`</span></span><span> </span><span class="annot"><span class="annottext">Map Int CV
</span><a href="#local-6989586621681130696"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SVal, Maybe CV)
</span><a href="#local-6989586621681130679"><span class="hs-identifier hs-var">kInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1189"></span><span>                                                                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#swToSVal"><span class="hs-identifier hs-var">swToSVal</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130677"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1190"></span><span>                                                                           </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; SVal
</span><a href="#local-6989586621681130680"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130676"><span class="hs-identifier hs-var">ivs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1191"></span><span>
</span><span id="line-1192"></span><span>                                       </span><span class="hs-comment">-- Insert into an existing map the new key value by merging according to the test</span><span>
</span><span id="line-1193"></span><span>                                       </span><span class="annot"><a href="#local-6989586621681130675"><span class="hs-identifier hs-type">fill</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IMap.IntMap</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IMap.IntMap</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1194"></span><span>                                       </span><span id="local-6989586621681130675"><span class="annot"><span class="annottext">fill :: Int -&gt; SV -&gt; SV -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130675"><span class="hs-identifier hs-var hs-var">fill</span></a></span></span><span> </span><span id="local-6989586621681130674"><span class="annot"><span class="annottext">k :: Int
</span><a href="#local-6989586621681130674"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NodeId"><span class="hs-identifier hs-type">NodeId</span></a></span><span> </span><span id="local-6989586621681130673"><span class="annot"><span class="annottext">ni1 :: Int
</span><a href="#local-6989586621681130673"><span class="hs-identifier hs-var">ni1</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NodeId"><span class="hs-identifier hs-type">NodeId</span></a></span><span> </span><span id="local-6989586621681130672"><span class="annot"><span class="annottext">ni2 :: Int
</span><a href="#local-6989586621681130672"><span class="hs-identifier hs-var">ni2</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130671"><span class="annot"><span class="annottext">m :: IntMap SV
</span><a href="#local-6989586621681130671"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130670"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130670"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130700"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130711"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130669"><span class="hs-identifier hs-var">sval1</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130668"><span class="hs-identifier hs-var">sval2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1195"></span><span>                                                                                             </span><span class="annot"><span class="annottext">IntMap SV -&gt; IO (IntMap SV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(IntMap SV -&gt; IO (IntMap SV)) -&gt; IntMap SV -&gt; IO (IntMap SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; IntMap SV -&gt; IntMap SV
forall a. Int -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IMap.insert</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130674"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130670"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130671"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-1196"></span><span>                                         </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130669"><span class="annot"><span class="annottext">sval1 :: SVal
</span><a href="#local-6989586621681130669"><span class="hs-identifier hs-var hs-var">sval1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#nodeIdToSVal"><span class="hs-identifier hs-var">nodeIdToSVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130707"><span class="hs-identifier hs-var">targetKind</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130673"><span class="hs-identifier hs-var">ni1</span></a></span><span>
</span><span id="line-1197"></span><span>                                               </span><span id="local-6989586621681130668"><span class="annot"><span class="annottext">sval2 :: SVal
</span><a href="#local-6989586621681130668"><span class="hs-identifier hs-var hs-var">sval2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Int -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#nodeIdToSVal"><span class="hs-identifier hs-var">nodeIdToSVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130707"><span class="hs-identifier hs-var">targetKind</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130672"><span class="hs-identifier hs-var">ni2</span></a></span><span>
</span><span id="line-1198"></span><span>
</span><span id="line-1199"></span><span>                                       </span><span class="hs-comment">-- Walk down the memo-tables in tandem. If we find a common key: Simply fill it in. If we find</span><span>
</span><span id="line-1200"></span><span>                                       </span><span class="hs-comment">-- a key only in one, generate the corresponding read from the other cache, and do the fill.</span><span>
</span><span id="line-1201"></span><span>                                       </span><span id="local-6989586621681130667"><span class="annot"><span class="annottext">merge :: [(Int, SV)] -&gt; [(Int, SV)] -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130667"><span class="hs-identifier hs-var hs-var">merge</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                  </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                  </span><span id="local-6989586621681130666"><span class="annot"><span class="annottext">sofar :: IntMap SV
</span><a href="#local-6989586621681130666"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntMap SV -&gt; IO (IntMap SV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130666"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-1202"></span><span>                                       </span><span class="annot"><a href="#local-6989586621681130667"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681130665"><span class="annot"><span class="annottext">k1 :: Int
</span><a href="#local-6989586621681130665"><span class="hs-identifier hs-var">k1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130664"><span class="annot"><span class="annottext">v1 :: SV
</span><a href="#local-6989586621681130664"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681130663"><span class="annot"><span class="annottext">as :: [(Int, SV)]
</span><a href="#local-6989586621681130663"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                  </span><span id="local-6989586621681130662"><span class="annot"><span class="annottext">sofar :: IntMap SV
</span><a href="#local-6989586621681130662"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal) -&gt; Int -&gt; [(Int, SV)] -&gt; IO SV
</span><a href="#local-6989586621681130684"><span class="hs-identifier hs-var">gen</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130690"><span class="hs-identifier hs-var">bUi</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130665"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130685"><span class="hs-identifier hs-var">bMemoT</span></a></span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; (SV -&gt; IO (IntMap SV)) -&gt; IO (IntMap SV)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681130661"><span class="annot"><span class="annottext">v2 :: SV
</span><a href="#local-6989586621681130661"><span class="hs-identifier hs-var">v2</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; SV -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130675"><span class="hs-identifier hs-var">fill</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130665"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130664"><span class="hs-identifier hs-var">v1</span></a></span><span>  </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130661"><span class="hs-identifier hs-var">v2</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130662"><span class="hs-identifier hs-var">sofar</span></a></span><span>  </span><span class="annot"><span class="annottext">IO (IntMap SV) -&gt; (IntMap SV -&gt; IO (IntMap SV)) -&gt; IO (IntMap SV)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; [(Int, SV)] -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130667"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130663"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1203"></span><span>                                       </span><span class="annot"><a href="#local-6989586621681130667"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                  </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681130660"><span class="annot"><span class="annottext">k2 :: Int
</span><a href="#local-6989586621681130660"><span class="hs-identifier hs-var">k2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130659"><span class="annot"><span class="annottext">v2 :: SV
</span><a href="#local-6989586621681130659"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681130658"><span class="annot"><span class="annottext">bs :: [(Int, SV)]
</span><a href="#local-6989586621681130658"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span>     </span><span id="local-6989586621681130657"><span class="annot"><span class="annottext">sofar :: IntMap SV
</span><a href="#local-6989586621681130657"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal) -&gt; Int -&gt; [(Int, SV)] -&gt; IO SV
</span><a href="#local-6989586621681130684"><span class="hs-identifier hs-var">gen</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130692"><span class="hs-identifier hs-var">aUi</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130660"><span class="hs-identifier hs-var">k2</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130686"><span class="hs-identifier hs-var">aMemoT</span></a></span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; (SV -&gt; IO (IntMap SV)) -&gt; IO (IntMap SV)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681130656"><span class="annot"><span class="annottext">v1 :: SV
</span><a href="#local-6989586621681130656"><span class="hs-identifier hs-var">v1</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; SV -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130675"><span class="hs-identifier hs-var">fill</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130660"><span class="hs-identifier hs-var">k2</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130656"><span class="hs-identifier hs-var">v1</span></a></span><span>  </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130659"><span class="hs-identifier hs-var">v2</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130657"><span class="hs-identifier hs-var">sofar</span></a></span><span>  </span><span class="annot"><span class="annottext">IO (IntMap SV) -&gt; (IntMap SV -&gt; IO (IntMap SV)) -&gt; IO (IntMap SV)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; [(Int, SV)] -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130667"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130658"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-1204"></span><span>                                       </span><span class="annot"><a href="#local-6989586621681130667"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span id="local-6989586621681130655"><span class="annot"><span class="annottext">ass :: [(Int, SV)]
</span><a href="#local-6989586621681130655"><span class="hs-identifier hs-var">ass</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681130654"><span class="annot"><span class="annottext">k1 :: Int
</span><a href="#local-6989586621681130654"><span class="hs-identifier hs-var">k1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130653"><span class="annot"><span class="annottext">v1 :: SV
</span><a href="#local-6989586621681130653"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681130652"><span class="annot"><span class="annottext">as :: [(Int, SV)]
</span><a href="#local-6989586621681130652"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130651"><span class="annot"><span class="annottext">bss :: [(Int, SV)]
</span><a href="#local-6989586621681130651"><span class="hs-identifier hs-var">bss</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681130650"><span class="annot"><span class="annottext">k2 :: Int
</span><a href="#local-6989586621681130650"><span class="hs-identifier hs-var">k2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130649"><span class="annot"><span class="annottext">v2 :: SV
</span><a href="#local-6989586621681130649"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681130648"><span class="annot"><span class="annottext">bs :: [(Int, SV)]
</span><a href="#local-6989586621681130648"><span class="hs-identifier hs-var">bs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130647"><span class="annot"><span class="annottext">sofar :: IntMap SV
</span><a href="#local-6989586621681130647"><span class="hs-identifier hs-var">sofar</span></a></span></span><span>
</span><span id="line-1205"></span><span>                                         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130654"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130650"><span class="hs-identifier hs-var">k2</span></a></span><span>                                         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal) -&gt; Int -&gt; [(Int, SV)] -&gt; IO SV
</span><a href="#local-6989586621681130684"><span class="hs-identifier hs-var">gen</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130690"><span class="hs-identifier hs-var">bUi</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130654"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130685"><span class="hs-identifier hs-var">bMemoT</span></a></span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; (SV -&gt; IO (IntMap SV)) -&gt; IO (IntMap SV)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681130646"><span class="annot"><span class="annottext">nv2 :: SV
</span><a href="#local-6989586621681130646"><span class="hs-identifier hs-var">nv2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; SV -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130675"><span class="hs-identifier hs-var">fill</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130654"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130653"><span class="hs-identifier hs-var">v1</span></a></span><span>  </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130646"><span class="hs-identifier hs-var">nv2</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130647"><span class="hs-identifier hs-var">sofar</span></a></span><span> </span><span class="annot"><span class="annottext">IO (IntMap SV) -&gt; (IntMap SV -&gt; IO (IntMap SV)) -&gt; IO (IntMap SV)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; [(Int, SV)] -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130667"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130652"><span class="hs-keyword hs-var">as</span></a></span><span>  </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130651"><span class="hs-identifier hs-var">bss</span></a></span><span>
</span><span id="line-1206"></span><span>                                         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130654"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130650"><span class="hs-identifier hs-var">k2</span></a></span><span>                                         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal) -&gt; Int -&gt; [(Int, SV)] -&gt; IO SV
</span><a href="#local-6989586621681130684"><span class="hs-identifier hs-var">gen</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130692"><span class="hs-identifier hs-var">aUi</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130650"><span class="hs-identifier hs-var">k2</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130686"><span class="hs-identifier hs-var">aMemoT</span></a></span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; (SV -&gt; IO (IntMap SV)) -&gt; IO (IntMap SV)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681130645"><span class="annot"><span class="annottext">nv1 :: SV
</span><a href="#local-6989586621681130645"><span class="hs-identifier hs-var">nv1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; SV -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130675"><span class="hs-identifier hs-var">fill</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130650"><span class="hs-identifier hs-var">k2</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130645"><span class="hs-identifier hs-var">nv1</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130649"><span class="hs-identifier hs-var">v2</span></a></span><span>  </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130647"><span class="hs-identifier hs-var">sofar</span></a></span><span> </span><span class="annot"><span class="annottext">IO (IntMap SV) -&gt; (IntMap SV -&gt; IO (IntMap SV)) -&gt; IO (IntMap SV)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; [(Int, SV)] -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130667"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130655"><span class="hs-identifier hs-var">ass</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130648"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-1207"></span><span>                                         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                                            </span><span class="hs-glyph">=</span><span>                               </span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; SV -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130675"><span class="hs-identifier hs-var">fill</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130654"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130653"><span class="hs-identifier hs-var">v1</span></a></span><span>  </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130649"><span class="hs-identifier hs-var">v2</span></a></span><span>  </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130647"><span class="hs-identifier hs-var">sofar</span></a></span><span> </span><span class="annot"><span class="annottext">IO (IntMap SV) -&gt; (IntMap SV -&gt; IO (IntMap SV)) -&gt; IO (IntMap SV)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; [(Int, SV)] -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130667"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130652"><span class="hs-keyword hs-var">as</span></a></span><span>  </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130648"><span class="hs-identifier hs-var">bs</span></a></span><span>
</span><span id="line-1208"></span><span>
</span><span id="line-1209"></span><span>                                   </span><span id="local-6989586621681130644"><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130644"><span class="hs-identifier hs-var">mergedMap</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Int, SV)] -&gt; [(Int, SV)] -&gt; IntMap SV -&gt; IO (IntMap SV)
</span><a href="#local-6989586621681130667"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130686"><span class="hs-identifier hs-var">aMemoT</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, SV)]
</span><a href="#local-6989586621681130685"><span class="hs-identifier hs-var">bMemoT</span></a></span><span> </span><span class="annot"><span class="annottext">IntMap SV
forall a. IntMap a
</span><span class="hs-identifier hs-var">IMap.empty</span></span><span>
</span><span id="line-1210"></span><span>                                   </span><span id="local-6989586621681130643"><span class="annot"><span class="annottext">IORef (IntMap SV)
</span><a href="#local-6989586621681130643"><span class="hs-identifier hs-var">memoMerged</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IntMap SV -&gt; IO (IORef (IntMap SV))
forall a. a -&gt; IO (IORef a)
</span><span class="hs-identifier hs-var">R.newIORef</span></span><span> </span><span class="annot"><span class="annottext">IntMap SV
</span><a href="#local-6989586621681130644"><span class="hs-identifier hs-var">mergedMap</span></a></span><span>
</span><span id="line-1211"></span><span>
</span><span id="line-1212"></span><span>                                   </span><span class="hs-comment">-- Craft a new uninitializer. Note that we do *not* create a new initializer here,</span><span>
</span><span id="line-1213"></span><span>                                   </span><span class="hs-comment">-- but simply merge the two initializers which will inherit their original unread</span><span>
</span><span id="line-1214"></span><span>                                   </span><span class="hs-comment">-- references should the test be a constant.</span><span>
</span><span id="line-1215"></span><span>                                   </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130642"><span class="annot"><span class="annottext">mkUninitialized :: SVal -&gt; SVal
</span><a href="#local-6989586621681130642"><span class="hs-identifier hs-var hs-var">mkUninitialized</span></a></span></span><span> </span><span id="local-6989586621681130641"><span class="annot"><span class="annottext">i :: SVal
</span><a href="#local-6989586621681130641"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-identifier hs-var">svIte</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130711"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130692"><span class="hs-identifier hs-var">aUi</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130641"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130690"><span class="hs-identifier hs-var">bUi</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130641"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1216"></span><span>
</span><span id="line-1217"></span><span>                                   </span><span class="hs-comment">-- Add it to our collection:</span><span>
</span><span id="line-1218"></span><span>                                   </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130640"><span class="annot"><span class="annottext">j :: FArrayIndex
</span><a href="#local-6989586621681130640"><span class="hs-identifier hs-var hs-var">j</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; FArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#FArrayIndex"><span class="hs-identifier hs-var">FArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; FArrayIndex) -&gt; Int -&gt; FArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FArrayMap -&gt; Int
forall a. IntMap a -&gt; Int
</span><span class="hs-identifier hs-var">IMap.size</span></span><span> </span><span class="annot"><span class="annottext">FArrayMap
</span><a href="#local-6989586621681130693"><span class="hs-identifier hs-var">fArrMap</span></a></span><span>
</span><span id="line-1219"></span><span>                                       </span><span id="local-6989586621681130639"><span class="annot"><span class="annottext">upd :: FArrayMap -&gt; FArrayMap
</span><a href="#local-6989586621681130639"><span class="hs-identifier hs-var hs-var">upd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; (SVal -&gt; SVal, IORef (IntMap SV)) -&gt; FArrayMap -&gt; FArrayMap
forall a. Int -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IMap.insert</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unFArrayIndex"><span class="hs-identifier hs-var hs-var">unFArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130640"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130642"><span class="hs-identifier hs-var">mkUninitialized</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV)
</span><a href="#local-6989586621681130643"><span class="hs-identifier hs-var">memoMerged</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1220"></span><span>
</span><span id="line-1221"></span><span>                                   </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130640"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; IO () -&gt; IO ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">State
-&gt; (State -&gt; IORef FArrayMap)
-&gt; (FArrayMap -&gt; FArrayMap)
-&gt; IO ()
-&gt; IO ()
forall a. State -&gt; (State -&gt; IORef a) -&gt; (a -&gt; a) -&gt; IO () -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#modifyState"><span class="hs-identifier hs-var">modifyState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130700"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IORef FArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rFArrayMap"><span class="hs-identifier hs-var hs-var">rFArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayMap -&gt; FArrayMap
</span><a href="#local-6989586621681130639"><span class="hs-identifier hs-var">upd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1222"></span><span>
</span><span id="line-1223"></span><span>                                   </span><span class="annot"><span class="annottext">FArrayIndex -&gt; IO FArrayIndex
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130640"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-1224"></span><span>
</span><span id="line-1225"></span><span class="hs-comment">-- | Create a named new array</span><span>
</span><span id="line-1226"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#newSFunArr"><span class="hs-identifier hs-type">newSFunArr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-type">SFunArr</span></a></span><span>
</span><span id="line-1227"></span><span id="newSFunArr"><span class="annot"><span class="annottext">newSFunArr :: State
-&gt; (Kind, Kind) -&gt; (Int -&gt; String) -&gt; Maybe SVal -&gt; IO SFunArr
</span><a href="Data.SBV.Core.Operations.html#newSFunArr"><span class="hs-identifier hs-var hs-var">newSFunArr</span></a></span></span><span> </span><span id="local-6989586621681130638"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130638"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681130637"><span class="annot"><span class="annottext">ak :: Kind
</span><a href="#local-6989586621681130637"><span class="hs-identifier hs-var">ak</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130636"><span class="annot"><span class="annottext">bk :: Kind
</span><a href="#local-6989586621681130636"><span class="hs-identifier hs-var">bk</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681130635"><span class="annot"><span class="annottext">mkNm :: Int -&gt; String
</span><a href="#local-6989586621681130635"><span class="hs-identifier hs-var">mkNm</span></a></span></span><span> </span><span id="local-6989586621681130634"><span class="annot"><span class="annottext">mbDef :: Maybe SVal
</span><a href="#local-6989586621681130634"><span class="hs-identifier hs-var">mbDef</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1228"></span><span>        </span><span id="local-6989586621681130633"><span class="annot"><span class="annottext">FArrayMap
</span><a href="#local-6989586621681130633"><span class="hs-identifier hs-var">fArrMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef FArrayMap -&gt; IO FArrayMap
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">R.readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef FArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rFArrayMap"><span class="hs-identifier hs-var hs-var">rFArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130638"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1229"></span><span>        </span><span id="local-6989586621681130632"><span class="annot"><span class="annottext">IORef (IntMap SV)
</span><a href="#local-6989586621681130632"><span class="hs-identifier hs-var">memoTable</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IntMap SV -&gt; IO (IORef (IntMap SV))
forall a. a -&gt; IO (IORef a)
</span><span class="hs-identifier hs-var">R.newIORef</span></span><span> </span><span class="annot"><span class="annottext">IntMap SV
forall a. IntMap a
</span><span class="hs-identifier hs-var">IMap.empty</span></span><span>
</span><span id="line-1230"></span><span>
</span><span id="line-1231"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130631"><span class="annot"><span class="annottext">j :: FArrayIndex
</span><a href="#local-6989586621681130631"><span class="hs-identifier hs-var hs-var">j</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; FArrayIndex
</span><a href="Data.SBV.Core.Symbolic.html#FArrayIndex"><span class="hs-identifier hs-var">FArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; FArrayIndex) -&gt; Int -&gt; FArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FArrayMap -&gt; Int
forall a. IntMap a -&gt; Int
</span><span class="hs-identifier hs-var">IMap.size</span></span><span> </span><span class="annot"><span class="annottext">FArrayMap
</span><a href="#local-6989586621681130633"><span class="hs-identifier hs-var">fArrMap</span></a></span><span>
</span><span id="line-1232"></span><span>            </span><span id="local-6989586621681130630"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681130630"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
</span><a href="#local-6989586621681130635"><span class="hs-identifier hs-var">mkNm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unFArrayIndex"><span class="hs-identifier hs-var hs-var">unFArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130631"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1233"></span><span>            </span><span id="local-6989586621681130629"><span class="annot"><span class="annottext">mkUninitialized :: SVal -&gt; SVal
</span><a href="#local-6989586621681130629"><span class="hs-identifier hs-var hs-var">mkUninitialized</span></a></span></span><span> </span><span id="local-6989586621681130628"><span class="annot"><span class="annottext">i :: SVal
</span><a href="#local-6989586621681130628"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe SVal
</span><a href="#local-6989586621681130634"><span class="hs-identifier hs-var">mbDef</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1234"></span><span>                                  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130627"><span class="annot"><span class="annottext">def :: SVal
</span><a href="#local-6989586621681130627"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130627"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-1235"></span><span>                                  </span><span class="hs-identifier">_</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String -&gt; Maybe [String] -&gt; [SVal] -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#svUninterpreted"><span class="hs-identifier hs-var">svUninterpreted</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130636"><span class="hs-identifier hs-var">bk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130630"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_uninitializedRead&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130628"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1236"></span><span>
</span><span id="line-1237"></span><span>            </span><span id="local-6989586621681130625"><span class="annot"><span class="annottext">upd :: FArrayMap -&gt; FArrayMap
</span><a href="#local-6989586621681130625"><span class="hs-identifier hs-var hs-var">upd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; (SVal -&gt; SVal, IORef (IntMap SV)) -&gt; FArrayMap -&gt; FArrayMap
forall a. Int -&gt; a -&gt; IntMap a -&gt; IntMap a
</span><span class="hs-identifier hs-var">IMap.insert</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FArrayIndex -&gt; Int
</span><a href="Data.SBV.Core.Symbolic.html#unFArrayIndex"><span class="hs-identifier hs-var hs-var">unFArrayIndex</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130631"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130629"><span class="hs-identifier hs-var">mkUninitialized</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IORef (IntMap SV)
</span><a href="#local-6989586621681130632"><span class="hs-identifier hs-var">memoTable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1238"></span><span>
</span><span id="line-1239"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; State -&gt; String -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#registerLabel"><span class="hs-identifier hs-var">registerLabel</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;SFunArray declaration&quot;</span></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130638"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130630"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-1240"></span><span>        </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130631"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; IO () -&gt; IO ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">State
-&gt; (State -&gt; IORef FArrayMap)
-&gt; (FArrayMap -&gt; FArrayMap)
-&gt; IO ()
-&gt; IO ()
forall a. State -&gt; (State -&gt; IORef a) -&gt; (a -&gt; a) -&gt; IO () -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#modifyState"><span class="hs-identifier hs-var">modifyState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130638"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IORef FArrayMap
</span><a href="Data.SBV.Core.Symbolic.html#rFArrayMap"><span class="hs-identifier hs-var hs-var">rFArrayMap</span></a></span><span> </span><span class="annot"><span class="annottext">FArrayMap -&gt; FArrayMap
</span><a href="#local-6989586621681130625"><span class="hs-identifier hs-var">upd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1241"></span><span>
</span><span id="line-1242"></span><span>        </span><span class="annot"><span class="annottext">SFunArr -&gt; IO SFunArr
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SFunArr -&gt; IO SFunArr) -&gt; SFunArr -&gt; IO SFunArr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; Cached FArrayIndex -&gt; SFunArr
</span><a href="Data.SBV.Core.Operations.html#SFunArr"><span class="hs-identifier hs-var">SFunArr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130637"><span class="hs-identifier hs-var">ak</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130636"><span class="hs-identifier hs-var">bk</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Cached FArrayIndex -&gt; SFunArr) -&gt; Cached FArrayIndex -&gt; SFunArr
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO FArrayIndex) -&gt; Cached FArrayIndex
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO FArrayIndex) -&gt; Cached FArrayIndex)
-&gt; (State -&gt; IO FArrayIndex) -&gt; Cached FArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO FArrayIndex -&gt; State -&gt; IO FArrayIndex
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">(IO FArrayIndex -&gt; State -&gt; IO FArrayIndex)
-&gt; IO FArrayIndex -&gt; State -&gt; IO FArrayIndex
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex -&gt; IO FArrayIndex
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">FArrayIndex
</span><a href="#local-6989586621681130631"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-1243"></span><span>
</span><span id="line-1244"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-1245"></span><span class="hs-comment">-- Utility functions</span><span>
</span><span id="line-1246"></span><span>
</span><span id="line-1247"></span><span id="local-6989586621681131423"><span class="annot"><a href="Data.SBV.Core.Operations.html#noUnint"><span class="hs-identifier hs-type">noUnint</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681131423"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1248"></span><span id="noUnint"><span class="annot"><span class="annottext">noUnint :: (Maybe Int, String) -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noUnint"><span class="hs-identifier hs-var hs-var">noUnint</span></a></span></span><span> </span><span id="local-6989586621681130623"><span class="annot"><span class="annottext">x :: (Maybe Int, String)
</span><a href="#local-6989586621681130623"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unexpected operation called on uninterpreted/enumerated value: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, String) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, String)
</span><a href="#local-6989586621681130623"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1249"></span><span>
</span><span id="line-1250"></span><span id="local-6989586621681131420"><span class="annot"><a href="Data.SBV.Core.Operations.html#noUnint2"><span class="hs-identifier hs-type">noUnint2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681131420"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1251"></span><span id="noUnint2"><span class="annot"><span class="annottext">noUnint2 :: (Maybe Int, String) -&gt; (Maybe Int, String) -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noUnint2"><span class="hs-identifier hs-var hs-var">noUnint2</span></a></span></span><span> </span><span id="local-6989586621681130621"><span class="annot"><span class="annottext">x :: (Maybe Int, String)
</span><a href="#local-6989586621681130621"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130620"><span class="annot"><span class="annottext">y :: (Maybe Int, String)
</span><a href="#local-6989586621681130620"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unexpected binary operation called on uninterpreted/enumerated values: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">((Maybe Int, String), (Maybe Int, String)) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe Int, String)
</span><a href="#local-6989586621681130621"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Maybe Int, String)
</span><a href="#local-6989586621681130620"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1252"></span><span>
</span><span id="line-1253"></span><span id="local-6989586621681131424"><span class="annot"><a href="Data.SBV.Core.Operations.html#noCharLift"><span class="hs-identifier hs-type">noCharLift</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681131424"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1254"></span><span id="noCharLift"><span class="annot"><span class="annottext">noCharLift :: Char -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noCharLift"><span class="hs-identifier hs-var hs-var">noCharLift</span></a></span></span><span> </span><span id="local-6989586621681130618"><span class="annot"><span class="annottext">x :: Char
</span><a href="#local-6989586621681130618"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unexpected operation called on char: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681130618"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1255"></span><span>
</span><span id="line-1256"></span><span id="local-6989586621681130617"><span class="annot"><a href="Data.SBV.Core.Operations.html#noStringLift"><span class="hs-identifier hs-type">noStringLift</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681130617"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1257"></span><span id="noStringLift"><span class="annot"><span class="annottext">noStringLift :: String -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noStringLift"><span class="hs-identifier hs-var hs-var">noStringLift</span></a></span></span><span> </span><span id="local-6989586621681130615"><span class="annot"><span class="annottext">x :: String
</span><a href="#local-6989586621681130615"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unexpected operation called on string: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130615"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1258"></span><span>
</span><span id="line-1259"></span><span id="local-6989586621681131422"><span class="annot"><a href="Data.SBV.Core.Operations.html#noCharLift2"><span class="hs-identifier hs-type">noCharLift2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681131422"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1260"></span><span id="noCharLift2"><span class="annot"><span class="annottext">noCharLift2 :: Char -&gt; Char -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noCharLift2"><span class="hs-identifier hs-var hs-var">noCharLift2</span></a></span></span><span> </span><span id="local-6989586621681130613"><span class="annot"><span class="annottext">x :: Char
</span><a href="#local-6989586621681130613"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130612"><span class="annot"><span class="annottext">y :: Char
</span><a href="#local-6989586621681130612"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unexpected binary operation called on chars: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Char, Char) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681130613"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681130612"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1261"></span><span>
</span><span id="line-1262"></span><span id="local-6989586621681131421"><span class="annot"><a href="Data.SBV.Core.Operations.html#noStringLift2"><span class="hs-identifier hs-type">noStringLift2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681131421"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1263"></span><span id="noStringLift2"><span class="annot"><span class="annottext">noStringLift2 :: String -&gt; String -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noStringLift2"><span class="hs-identifier hs-var hs-var">noStringLift2</span></a></span></span><span> </span><span id="local-6989586621681130610"><span class="annot"><span class="annottext">x :: String
</span><a href="#local-6989586621681130610"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130609"><span class="annot"><span class="annottext">y :: String
</span><a href="#local-6989586621681130609"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unexpected binary operation called on strings: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(String, String) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130610"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130609"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1264"></span><span>
</span><span id="line-1265"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#liftSym1"><span class="hs-identifier hs-type">liftSym1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1266"></span><span id="liftSym1"><span class="annot"><span class="annottext">liftSym1 :: (State -&gt; Kind -&gt; SV -&gt; IO SV)
-&gt; (AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer)
-&gt; (Float -&gt; Float)
-&gt; (Double -&gt; Double)
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym1"><span class="hs-identifier hs-var hs-var">liftSym1</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681130608"><span class="annot"><span class="annottext">opCR :: AlgReal -&gt; AlgReal
</span><a href="#local-6989586621681130608"><span class="hs-identifier hs-var">opCR</span></a></span></span><span> </span><span id="local-6989586621681130607"><span class="annot"><span class="annottext">opCI :: Integer -&gt; Integer
</span><a href="#local-6989586621681130607"><span class="hs-identifier hs-var">opCI</span></a></span></span><span> </span><span id="local-6989586621681130606"><span class="annot"><span class="annottext">opCF :: Float -&gt; Float
</span><a href="#local-6989586621681130606"><span class="hs-identifier hs-var">opCF</span></a></span></span><span> </span><span id="local-6989586621681130605"><span class="annot"><span class="annottext">opCD :: Double -&gt; Double
</span><a href="#local-6989586621681130605"><span class="hs-identifier hs-var">opCD</span></a></span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span id="local-6989586621681130604"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130604"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681130603"><span class="annot"><span class="annottext">a :: CV
</span><a href="#local-6989586621681130603"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130604"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal)
-&gt; (CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; SVal
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span>  </span><span class="annot"><span class="annottext">(CV -&gt; SVal) -&gt; CV -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">(AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer)
-&gt; (Float -&gt; Float)
-&gt; (Double -&gt; Double)
-&gt; (Char -&gt; Char)
-&gt; (String -&gt; String)
-&gt; ((Maybe Int, String) -&gt; (Maybe Int, String))
-&gt; CV
-&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mapCV"><span class="hs-identifier hs-var">mapCV</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal
</span><a href="#local-6989586621681130608"><span class="hs-identifier hs-var">opCR</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer
</span><a href="#local-6989586621681130607"><span class="hs-identifier hs-var">opCI</span></a></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float
</span><a href="#local-6989586621681130606"><span class="hs-identifier hs-var">opCF</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double
</span><a href="#local-6989586621681130605"><span class="hs-identifier hs-var">opCD</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char
forall a. Char -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noCharLift"><span class="hs-identifier hs-var">noCharLift</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. String -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noStringLift"><span class="hs-identifier hs-var">noStringLift</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, String) -&gt; (Maybe Int, String)
forall a. (Maybe Int, String) -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noUnint"><span class="hs-identifier hs-var">noUnint</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130603"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1267"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#liftSym1"><span class="hs-identifier hs-var">liftSym1</span></a></span><span> </span><span id="local-6989586621681130601"><span class="annot"><span class="annottext">opS :: State -&gt; Kind -&gt; SV -&gt; IO SV
</span><a href="#local-6989586621681130601"><span class="hs-identifier hs-var">opS</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span id="local-6989586621681130600"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681130600"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span id="local-6989586621681130599"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130599"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130599"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130598"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1268"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130598"><span class="annot"><span class="annottext">c :: State -&gt; IO SV
</span><a href="#local-6989586621681130598"><span class="hs-identifier hs-var hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681130597"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130597"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130596"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130596"><span class="hs-identifier hs-var">sva</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130597"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130600"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1269"></span><span>                   </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SV -&gt; IO SV
</span><a href="#local-6989586621681130601"><span class="hs-identifier hs-var">opS</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130597"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130599"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130596"><span class="hs-identifier hs-var">sva</span></a></span><span>
</span><span id="line-1270"></span><span>
</span><span id="line-1271"></span><span class="hs-comment">{- A note on constant folding.

There are cases where we miss out on certain constant foldings. On May 8 2018, Matt Peddie pointed this
out, as the C code he was getting had redundancies. I was aware that could be missing constant foldings
due to missed out optimizations, or some other code snafu, but till Matt pointed it out I haven't realized
that we could be hiding constants inside an if-then-else. The example is:

     proveWith z3{verbose=True} $ \x -&gt; 0 .&lt; ite (x .== (x::SWord8)) 1 (2::SWord8)

If you try this, you'll see that it generates (shortened):

    (define-fun s1 () (_ BitVec 8) #x00)
    (define-fun s2 () (_ BitVec 8) #x01)
    (define-fun s3 () Bool (bvult s1 s2))

But clearly we have all the info for s3 to be computed! The issue here is that the reduction of @x .== x@ to @true@
happens after we start computing the if-then-else, hence we are already committed to an SV at that point. The call
to ite eventually recognizes this, but at that point it picks up the now constants from SV's, missing the constant
folding opportunity.

We can fix this, by looking up the constants table in liftSV2, along the lines of:


    liftSV2 :: (CV -&gt; CV -&gt; Bool) -&gt; (CV -&gt; CV -&gt; CV) -&gt; (State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV) -&gt; Kind -&gt; SVal -&gt; SVal -&gt; Cached SV
    liftSV2 okCV opCV opS k a b = cache c
      where c st = do sw1 &lt;- svToSV st a
                      sw2 &lt;- svToSV st b
                      cmap &lt;- readIORef (rconstMap st)
                      let cv1  = [cv | ((_, cv), sv) &lt;- M.toList cmap, sv == sv1]
                          cv2  = [cv | ((_, cv), sv) &lt;- M.toList cmap, sv == sv2]
                      case (cv1, cv2) of
                        ([x], [y]) | okCV x y -&gt; newConst st $ opCV x y
                        _                     -&gt; opS st k sv1 sv2

(with obvious modifications to call sites to get the proper arguments.)

But this means that we have to grab the constant list for every symbolicly lifted operation, also do the
same for other places, etc.; for the rare opportunity of catching a @x .== x@ optimization. Even then, the
constants for the branches would still be generated. (i.e., in the above example we would still generate
@s1@ and @s2@, but would skip @s3@.)

It seems to me that the price to pay is rather high, as this is hardly the most common case; so we're opting
here to ignore these cases.

See http://github.com/LeventErkok/sbv/issues/379 for some further discussion.
-}</span><span>
</span><span id="line-1317"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#liftSV2"><span class="hs-identifier hs-type">liftSV2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Cached"><span class="hs-identifier hs-type">Cached</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span>
</span><span id="line-1318"></span><span id="liftSV2"><span class="annot"><span class="annottext">liftSV2 :: (State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; Kind -&gt; SVal -&gt; SVal -&gt; Cached SV
</span><a href="Data.SBV.Core.Operations.html#liftSV2"><span class="hs-identifier hs-var hs-var">liftSV2</span></a></span></span><span> </span><span id="local-6989586621681130594"><span class="annot"><span class="annottext">opS :: State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="#local-6989586621681130594"><span class="hs-identifier hs-var">opS</span></a></span></span><span> </span><span id="local-6989586621681130593"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130593"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681130592"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681130592"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681130591"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681130591"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130590"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-1319"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130590"><span class="annot"><span class="annottext">c :: State -&gt; IO SV
</span><a href="#local-6989586621681130590"><span class="hs-identifier hs-var hs-var">c</span></a></span></span><span> </span><span id="local-6989586621681130589"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130589"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130588"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130588"><span class="hs-identifier hs-var">sw1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130589"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130592"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1320"></span><span>                  </span><span id="local-6989586621681130587"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130587"><span class="hs-identifier hs-var">sw2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130589"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130591"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1321"></span><span>                  </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="#local-6989586621681130594"><span class="hs-identifier hs-var">opS</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130589"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130593"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130588"><span class="hs-identifier hs-var">sw1</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130587"><span class="hs-identifier hs-var">sw2</span></a></span><span>
</span><span id="line-1322"></span><span>
</span><span id="line-1323"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-type">liftSym2</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1324"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1325"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1326"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-1327"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span class="hs-special">)</span><span>
</span><span id="line-1328"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span>
</span><span id="line-1329"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1330"></span><span id="liftSym2"><span class="annot"><span class="annottext">liftSym2 :: (State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer -&gt; Integer)
-&gt; (Float -&gt; Float -&gt; Float)
-&gt; (Double -&gt; Double -&gt; Double)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-var hs-var">liftSym2</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681130586"><span class="annot"><span class="annottext">okCV :: CV -&gt; CV -&gt; Bool
</span><a href="#local-6989586621681130586"><span class="hs-identifier hs-var">okCV</span></a></span></span><span> </span><span id="local-6989586621681130585"><span class="annot"><span class="annottext">opCR :: AlgReal -&gt; AlgReal -&gt; AlgReal
</span><a href="#local-6989586621681130585"><span class="hs-identifier hs-var">opCR</span></a></span></span><span> </span><span id="local-6989586621681130584"><span class="annot"><span class="annottext">opCI :: Integer -&gt; Integer -&gt; Integer
</span><a href="#local-6989586621681130584"><span class="hs-identifier hs-var">opCI</span></a></span></span><span> </span><span id="local-6989586621681130583"><span class="annot"><span class="annottext">opCF :: Float -&gt; Float -&gt; Float
</span><a href="#local-6989586621681130583"><span class="hs-identifier hs-var">opCF</span></a></span></span><span> </span><span id="local-6989586621681130582"><span class="annot"><span class="annottext">opCD :: Double -&gt; Double -&gt; Double
</span><a href="#local-6989586621681130582"><span class="hs-identifier hs-var">opCD</span></a></span></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span id="local-6989586621681130581"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130581"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681130580"><span class="annot"><span class="annottext">a :: CV
</span><a href="#local-6989586621681130580"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681130579"><span class="annot"><span class="annottext">b :: CV
</span><a href="#local-6989586621681130579"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="#local-6989586621681130586"><span class="hs-identifier hs-var">okCV</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130580"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130579"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130581"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal)
-&gt; (CV -&gt; Either CV (Cached SV)) -&gt; CV -&gt; SVal
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span>  </span><span class="annot"><span class="annottext">(CV -&gt; SVal) -&gt; CV -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$!</span></span><span> </span><span class="annot"><span class="annottext">(AlgReal -&gt; AlgReal -&gt; AlgReal)
-&gt; (Integer -&gt; Integer -&gt; Integer)
-&gt; (Float -&gt; Float -&gt; Float)
-&gt; (Double -&gt; Double -&gt; Double)
-&gt; (Char -&gt; Char -&gt; Char)
-&gt; (String -&gt; String -&gt; String)
-&gt; ((Maybe Int, String)
    -&gt; (Maybe Int, String) -&gt; (Maybe Int, String))
-&gt; CV
-&gt; CV
-&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mapCV2"><span class="hs-identifier hs-var">mapCV2</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; AlgReal
</span><a href="#local-6989586621681130585"><span class="hs-identifier hs-var">opCR</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
</span><a href="#local-6989586621681130584"><span class="hs-identifier hs-var">opCI</span></a></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Float
</span><a href="#local-6989586621681130583"><span class="hs-identifier hs-var">opCF</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Double
</span><a href="#local-6989586621681130582"><span class="hs-identifier hs-var">opCD</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Char
forall a. Char -&gt; Char -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noCharLift2"><span class="hs-identifier hs-var">noCharLift2</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. String -&gt; String -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noStringLift2"><span class="hs-identifier hs-var">noStringLift2</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, String) -&gt; (Maybe Int, String) -&gt; (Maybe Int, String)
forall a. (Maybe Int, String) -&gt; (Maybe Int, String) -&gt; a
</span><a href="Data.SBV.Core.Operations.html#noUnint2"><span class="hs-identifier hs-var">noUnint2</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130580"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130579"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1331"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#liftSym2"><span class="hs-identifier hs-var">liftSym2</span></a></span><span> </span><span id="local-6989586621681130577"><span class="annot"><span class="annottext">opS :: State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="#local-6989586621681130577"><span class="hs-identifier hs-var">opS</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span id="local-6989586621681130576"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681130576"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span id="local-6989586621681130575"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130575"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>        </span><span id="local-6989586621681130574"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681130574"><span class="hs-identifier hs-var">b</span></a></span></span><span>                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130575"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>  </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; Kind -&gt; SVal -&gt; SVal -&gt; Cached SV
</span><a href="Data.SBV.Core.Operations.html#liftSV2"><span class="hs-identifier hs-var">liftSV2</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="#local-6989586621681130577"><span class="hs-identifier hs-var">opS</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130575"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130576"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130574"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1332"></span><span>
</span><span id="line-1333"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#liftSym2B"><span class="hs-identifier hs-type">liftSym2B</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1334"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1335"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1336"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1337"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1338"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1339"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1340"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1341"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier hs-type">CVal</span></a></span><span class="hs-special">]</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier hs-type">CVal</span></a></span><span class="hs-special">]</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1342"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier hs-type">CVal</span></a></span><span class="hs-special">]</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier hs-type">CVal</span></a></span><span class="hs-special">]</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1343"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span>  </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier hs-type">CVal</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span>  </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier hs-type">CVal</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1344"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier hs-type">CVal</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier hs-type">CVal</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier hs-type">CVal</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier hs-type">CVal</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1345"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span>
</span><span id="line-1346"></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1347"></span><span id="liftSym2B"><span class="annot"><span class="annottext">liftSym2B :: (State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; (CV -&gt; CV -&gt; Bool)
-&gt; (AlgReal -&gt; AlgReal -&gt; Bool)
-&gt; (Integer -&gt; Integer -&gt; Bool)
-&gt; (Float -&gt; Float -&gt; Bool)
-&gt; (Double -&gt; Double -&gt; Bool)
-&gt; (Char -&gt; Char -&gt; Bool)
-&gt; (String -&gt; String -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; (Maybe CVal -&gt; Maybe CVal -&gt; Bool)
-&gt; (Either CVal CVal -&gt; Either CVal CVal -&gt; Bool)
-&gt; ((Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool)
-&gt; SVal
-&gt; SVal
-&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#liftSym2B"><span class="hs-identifier hs-var hs-var">liftSym2B</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681130573"><span class="annot"><span class="annottext">okCV :: CV -&gt; CV -&gt; Bool
</span><a href="#local-6989586621681130573"><span class="hs-identifier hs-var">okCV</span></a></span></span><span> </span><span id="local-6989586621681130572"><span class="annot"><span class="annottext">opCR :: AlgReal -&gt; AlgReal -&gt; Bool
</span><a href="#local-6989586621681130572"><span class="hs-identifier hs-var">opCR</span></a></span></span><span> </span><span id="local-6989586621681130571"><span class="annot"><span class="annottext">opCI :: Integer -&gt; Integer -&gt; Bool
</span><a href="#local-6989586621681130571"><span class="hs-identifier hs-var">opCI</span></a></span></span><span> </span><span id="local-6989586621681130570"><span class="annot"><span class="annottext">opCF :: Float -&gt; Float -&gt; Bool
</span><a href="#local-6989586621681130570"><span class="hs-identifier hs-var">opCF</span></a></span></span><span> </span><span id="local-6989586621681130569"><span class="annot"><span class="annottext">opCD :: Double -&gt; Double -&gt; Bool
</span><a href="#local-6989586621681130569"><span class="hs-identifier hs-var">opCD</span></a></span></span><span> </span><span id="local-6989586621681130568"><span class="annot"><span class="annottext">opCC :: Char -&gt; Char -&gt; Bool
</span><a href="#local-6989586621681130568"><span class="hs-identifier hs-var">opCC</span></a></span></span><span> </span><span id="local-6989586621681130567"><span class="annot"><span class="annottext">opCS :: String -&gt; String -&gt; Bool
</span><a href="#local-6989586621681130567"><span class="hs-identifier hs-var">opCS</span></a></span></span><span> </span><span id="local-6989586621681130566"><span class="annot"><span class="annottext">opCSeq :: [CVal] -&gt; [CVal] -&gt; Bool
</span><a href="#local-6989586621681130566"><span class="hs-identifier hs-var">opCSeq</span></a></span></span><span> </span><span id="local-6989586621681130565"><span class="annot"><span class="annottext">opCTup :: [CVal] -&gt; [CVal] -&gt; Bool
</span><a href="#local-6989586621681130565"><span class="hs-identifier hs-var">opCTup</span></a></span></span><span> </span><span id="local-6989586621681130564"><span class="annot"><span class="annottext">opCMaybe :: Maybe CVal -&gt; Maybe CVal -&gt; Bool
</span><a href="#local-6989586621681130564"><span class="hs-identifier hs-var">opCMaybe</span></a></span></span><span> </span><span id="local-6989586621681130563"><span class="annot"><span class="annottext">opCEither :: Either CVal CVal -&gt; Either CVal CVal -&gt; Bool
</span><a href="#local-6989586621681130563"><span class="hs-identifier hs-var">opCEither</span></a></span></span><span> </span><span id="local-6989586621681130562"><span class="annot"><span class="annottext">opUI :: (Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool
</span><a href="#local-6989586621681130562"><span class="hs-identifier hs-var">opUI</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681130561"><span class="annot"><span class="annottext">a :: CV
</span><a href="#local-6989586621681130561"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681130560"><span class="annot"><span class="annottext">b :: CV
</span><a href="#local-6989586621681130560"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="#local-6989586621681130573"><span class="hs-identifier hs-var">okCV</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130561"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130560"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svBool"><span class="hs-identifier hs-var">svBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(AlgReal -&gt; AlgReal -&gt; Bool)
-&gt; (Integer -&gt; Integer -&gt; Bool)
-&gt; (Float -&gt; Float -&gt; Bool)
-&gt; (Double -&gt; Double -&gt; Bool)
-&gt; (Char -&gt; Char -&gt; Bool)
-&gt; (String -&gt; String -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; ([CVal] -&gt; [CVal] -&gt; Bool)
-&gt; (Maybe CVal -&gt; Maybe CVal -&gt; Bool)
-&gt; (Either CVal CVal -&gt; Either CVal CVal -&gt; Bool)
-&gt; ((Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool)
-&gt; CV
-&gt; CV
-&gt; Bool
forall b.
(AlgReal -&gt; AlgReal -&gt; b)
-&gt; (Integer -&gt; Integer -&gt; b)
-&gt; (Float -&gt; Float -&gt; b)
-&gt; (Double -&gt; Double -&gt; b)
-&gt; (Char -&gt; Char -&gt; b)
-&gt; (String -&gt; String -&gt; b)
-&gt; ([CVal] -&gt; [CVal] -&gt; b)
-&gt; ([CVal] -&gt; [CVal] -&gt; b)
-&gt; (Maybe CVal -&gt; Maybe CVal -&gt; b)
-&gt; (Either CVal CVal -&gt; Either CVal CVal -&gt; b)
-&gt; ((Maybe Int, String) -&gt; (Maybe Int, String) -&gt; b)
-&gt; CV
-&gt; CV
-&gt; b
</span><a href="Data.SBV.Core.Concrete.html#liftCV2"><span class="hs-identifier hs-var">liftCV2</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; Bool
</span><a href="#local-6989586621681130572"><span class="hs-identifier hs-var">opCR</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
</span><a href="#local-6989586621681130571"><span class="hs-identifier hs-var">opCI</span></a></span><span> </span><span class="annot"><span class="annottext">Float -&gt; Float -&gt; Bool
</span><a href="#local-6989586621681130570"><span class="hs-identifier hs-var">opCF</span></a></span><span> </span><span class="annot"><span class="annottext">Double -&gt; Double -&gt; Bool
</span><a href="#local-6989586621681130569"><span class="hs-identifier hs-var">opCD</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
</span><a href="#local-6989586621681130568"><span class="hs-identifier hs-var">opCC</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
</span><a href="#local-6989586621681130567"><span class="hs-identifier hs-var">opCS</span></a></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
</span><a href="#local-6989586621681130566"><span class="hs-identifier hs-var">opCSeq</span></a></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal] -&gt; Bool
</span><a href="#local-6989586621681130565"><span class="hs-identifier hs-var">opCTup</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe CVal -&gt; Maybe CVal -&gt; Bool
</span><a href="#local-6989586621681130564"><span class="hs-identifier hs-var">opCMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Either CVal CVal -&gt; Either CVal CVal -&gt; Bool
</span><a href="#local-6989586621681130563"><span class="hs-identifier hs-var">opCEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, String) -&gt; (Maybe Int, String) -&gt; Bool
</span><a href="#local-6989586621681130562"><span class="hs-identifier hs-var">opUI</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130561"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130560"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1348"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#liftSym2B"><span class="hs-identifier hs-var">liftSym2B</span></a></span><span> </span><span id="local-6989586621681130558"><span class="annot"><span class="annottext">opS :: State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="#local-6989586621681130558"><span class="hs-identifier hs-var">opS</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>    </span><span class="hs-identifier">_</span><span>      </span><span class="hs-identifier">_</span><span>      </span><span class="hs-identifier">_</span><span>        </span><span class="hs-identifier">_</span><span>         </span><span class="hs-identifier">_</span><span>    </span><span id="local-6989586621681130557"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681130557"><span class="hs-identifier hs-var">a</span></a></span></span><span>                 </span><span id="local-6989586621681130556"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681130556"><span class="hs-identifier hs-var">b</span></a></span></span><span>                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV)
-&gt; Kind -&gt; SVal -&gt; SVal -&gt; Cached SV
</span><a href="Data.SBV.Core.Operations.html#liftSV2"><span class="hs-identifier hs-var">liftSV2</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="#local-6989586621681130558"><span class="hs-identifier hs-var">opS</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130557"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130556"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1349"></span><span>
</span><span id="line-1350"></span><span class="hs-comment">-- | Create a symbolic two argument operation; with shortcut optimizations</span><span>
</span><span id="line-1351"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-type">mkSymOpSC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Op"><span class="hs-identifier hs-type">Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span>
</span><span id="line-1352"></span><span id="mkSymOpSC"><span class="annot"><span class="annottext">mkSymOpSC :: (SV -&gt; SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-var hs-var">mkSymOpSC</span></a></span></span><span> </span><span id="local-6989586621681130555"><span class="annot"><span class="annottext">shortCut :: SV -&gt; SV -&gt; Maybe SV
</span><a href="#local-6989586621681130555"><span class="hs-identifier hs-var">shortCut</span></a></span></span><span> </span><span id="local-6989586621681130554"><span class="annot"><span class="annottext">op :: Op
</span><a href="#local-6989586621681130554"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681130553"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130553"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span id="local-6989586621681130552"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130552"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681130551"><span class="annot"><span class="annottext">a :: SV
</span><a href="#local-6989586621681130551"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681130550"><span class="annot"><span class="annottext">b :: SV
</span><a href="#local-6989586621681130550"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; (SV -&gt; IO SV) -&gt; Maybe SV -&gt; IO SV
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130553"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130552"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681130554"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130551"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130550"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SV -&gt; IO SV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Maybe SV
</span><a href="#local-6989586621681130555"><span class="hs-identifier hs-var">shortCut</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130551"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130550"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1353"></span><span>
</span><span id="line-1354"></span><span class="hs-comment">-- | Create a symbolic two argument operation; no shortcut optimizations</span><span>
</span><span id="line-1355"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#mkSymOp"><span class="hs-identifier hs-type">mkSymOp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Op"><span class="hs-identifier hs-type">Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span>
</span><span id="line-1356"></span><span id="mkSymOp"><span class="annot"><span class="annottext">mkSymOp :: Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp"><span class="hs-identifier hs-var hs-var">mkSymOp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SV -&gt; SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOpSC"><span class="hs-identifier hs-var">mkSymOpSC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; Maybe SV) -&gt; SV -&gt; SV -&gt; Maybe SV
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe SV -&gt; SV -&gt; Maybe SV
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Maybe SV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1357"></span><span>
</span><span id="line-1358"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#mkSymOp1SC"><span class="hs-identifier hs-type">mkSymOp1SC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Op"><span class="hs-identifier hs-type">Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span>
</span><span id="line-1359"></span><span id="mkSymOp1SC"><span class="annot"><span class="annottext">mkSymOp1SC :: (SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp1SC"><span class="hs-identifier hs-var hs-var">mkSymOp1SC</span></a></span></span><span> </span><span id="local-6989586621681130548"><span class="annot"><span class="annottext">shortCut :: SV -&gt; Maybe SV
</span><a href="#local-6989586621681130548"><span class="hs-identifier hs-var">shortCut</span></a></span></span><span> </span><span id="local-6989586621681130547"><span class="annot"><span class="annottext">op :: Op
</span><a href="#local-6989586621681130547"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681130546"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130546"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span id="local-6989586621681130545"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130545"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681130544"><span class="annot"><span class="annottext">a :: SV
</span><a href="#local-6989586621681130544"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; (SV -&gt; IO SV) -&gt; Maybe SV -&gt; IO SV
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130546"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130545"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681130547"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130544"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SV -&gt; IO SV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
</span><a href="#local-6989586621681130548"><span class="hs-identifier hs-var">shortCut</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130544"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1360"></span><span>
</span><span id="line-1361"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#mkSymOp1"><span class="hs-identifier hs-type">mkSymOp1</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Op"><span class="hs-identifier hs-type">Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span>
</span><span id="line-1362"></span><span id="mkSymOp1"><span class="annot"><span class="annottext">mkSymOp1 :: Op -&gt; State -&gt; Kind -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp1"><span class="hs-identifier hs-var hs-var">mkSymOp1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SV -&gt; Maybe SV) -&gt; Op -&gt; State -&gt; Kind -&gt; SV -&gt; IO SV
</span><a href="Data.SBV.Core.Operations.html#mkSymOp1SC"><span class="hs-identifier hs-var">mkSymOp1SC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe SV -&gt; SV -&gt; Maybe SV
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Maybe SV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-1363"></span><span>
</span><span id="line-1364"></span><span class="hs-comment">-- | eqOpt says the references are to the same SV, thus we can optimize. Note that</span><span>
</span><span id="line-1365"></span><span class="hs-comment">-- we explicitly disallow KFloat/KDouble here. Why? Because it's *NOT* true that</span><span>
</span><span id="line-1366"></span><span class="hs-comment">-- NaN == NaN, NaN &gt;= NaN, and so-forth. So, we have to make sure we don't optimize</span><span>
</span><span id="line-1367"></span><span class="hs-comment">-- floats and doubles, in case the argument turns out to be NaN.</span><span>
</span><span id="line-1368"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#eqOpt"><span class="hs-identifier hs-type">eqOpt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span>
</span><span id="line-1369"></span><span id="eqOpt"><span class="annot"><span class="annottext">eqOpt :: SV -&gt; SV -&gt; SV -&gt; Maybe SV
</span><a href="Data.SBV.Core.Operations.html#eqOpt"><span class="hs-identifier hs-var hs-var">eqOpt</span></a></span></span><span> </span><span id="local-6989586621681130543"><span class="annot"><span class="annottext">w :: SV
</span><a href="#local-6989586621681130543"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621681130542"><span class="annot"><span class="annottext">x :: SV
</span><a href="#local-6989586621681130542"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130541"><span class="annot"><span class="annottext">y :: SV
</span><a href="#local-6989586621681130541"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
</span><a href="Data.SBV.Core.Symbolic.html#swKind"><span class="hs-identifier hs-var">swKind</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130542"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1370"></span><span>                </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe SV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1371"></span><span>                </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe SV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1372"></span><span>                </span><span class="hs-identifier">_</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130542"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130541"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130543"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe SV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1373"></span><span>
</span><span id="line-1374"></span><span class="hs-comment">-- For uninterpreted/enumerated values, we carefully lift through the constructor index for comparisons:</span><span>
</span><span id="line-1375"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#uiLift"><span class="hs-identifier hs-type">uiLift</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1376"></span><span id="uiLift"><span class="annot"><span class="annottext">uiLift :: String
-&gt; (Int -&gt; Int -&gt; Bool)
-&gt; (Maybe Int, String)
-&gt; (Maybe Int, String)
-&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#uiLift"><span class="hs-identifier hs-var hs-var">uiLift</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681130540"><span class="annot"><span class="annottext">cmp :: Int -&gt; Int -&gt; Bool
</span><a href="#local-6989586621681130540"><span class="hs-identifier hs-var">cmp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130539"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130539"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681130538"><span class="annot"><span class="annottext">j :: Int
</span><a href="#local-6989586621681130538"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130539"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
</span><a href="#local-6989586621681130540"><span class="hs-operator hs-var">`cmp`</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130538"><span class="hs-identifier hs-var">j</span></a></span><span>
</span><span id="line-1377"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#uiLift"><span class="hs-identifier hs-var">uiLift</span></a></span><span> </span><span id="local-6989586621681130537"><span class="annot"><span class="annottext">w :: String
</span><a href="#local-6989586621681130537"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681130536"><span class="annot"><span class="annottext">a :: (Maybe Int, String)
</span><a href="#local-6989586621681130536"><span class="hs-identifier hs-var">a</span></a></span></span><span>           </span><span id="local-6989586621681130535"><span class="annot"><span class="annottext">b :: (Maybe Int, String)
</span><a href="#local-6989586621681130535"><span class="hs-identifier hs-var">b</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Bool) -&gt; String -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.Core.Operations: Impossible happened while trying to lift &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130537"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; over &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">((Maybe Int, String), (Maybe Int, String)) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Maybe Int, String)
</span><a href="#local-6989586621681130536"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Maybe Int, String)
</span><a href="#local-6989586621681130535"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1378"></span><span>
</span><span id="line-1379"></span><span class="hs-comment">-- | Predicate to check if a value is concrete</span><span>
</span><span id="line-1380"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcrete"><span class="hs-identifier hs-type">isConcrete</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1381"></span><span id="isConcrete"><span class="annot"><span class="annottext">isConcrete :: SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcrete"><span class="hs-identifier hs-var hs-var">isConcrete</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1382"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcrete"><span class="hs-identifier hs-var">isConcrete</span></a></span><span> </span><span class="hs-identifier">_</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1383"></span><span>
</span><span id="line-1384"></span><span class="hs-comment">-- | Predicate for optimizing word operations like (+) and (*).</span><span>
</span><span id="line-1385"></span><span class="hs-comment">-- NB. We specifically do *not* match for Double/Float; because</span><span>
</span><span id="line-1386"></span><span class="hs-comment">-- FP-arithmetic doesn't obey traditional rules. For instance,</span><span>
</span><span id="line-1387"></span><span class="hs-comment">-- 0 * x = 0 fails if x happens to be NaN or +/- Infinity. So,</span><span>
</span><span id="line-1388"></span><span class="hs-comment">-- we merely return False when given a floating-point value here.</span><span>
</span><span id="line-1389"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-type">isConcreteZero</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1390"></span><span id="isConcreteZero"><span class="annot"><span class="annottext">isConcreteZero :: SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var hs-var">isConcreteZero</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130533"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681130533"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130533"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-1391"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-type">CAlgReal</span></a></span><span> </span><span id="local-6989586621681130532"><span class="annot"><span class="annottext">v :: AlgReal
</span><a href="#local-6989586621681130532"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; Bool
</span><a href="Data.SBV.Core.AlgReals.html#isExactRational"><span class="hs-identifier hs-var">isExactRational</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681130532"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681130532"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-1392"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteZero"><span class="hs-identifier hs-var">isConcreteZero</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1393"></span><span>
</span><span id="line-1394"></span><span class="hs-comment">-- | Predicate for optimizing word operations like (+) and (*).</span><span>
</span><span id="line-1395"></span><span class="hs-comment">-- NB. See comment on 'isConcreteZero' for why we don't match</span><span>
</span><span id="line-1396"></span><span class="hs-comment">-- for Float/Double values here.</span><span>
</span><span id="line-1397"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteOne"><span class="hs-identifier hs-type">isConcreteOne</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1398"></span><span id="isConcreteOne"><span class="annot"><span class="annottext">isConcreteOne :: SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOne"><span class="hs-identifier hs-var hs-var">isConcreteOne</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span class="hs-number">1</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1399"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteOne"><span class="hs-identifier hs-var">isConcreteOne</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-type">CAlgReal</span></a></span><span> </span><span id="local-6989586621681130530"><span class="annot"><span class="annottext">v :: AlgReal
</span><a href="#local-6989586621681130530"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; Bool
</span><a href="Data.SBV.Core.AlgReals.html#isExactRational"><span class="hs-identifier hs-var">isExactRational</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681130530"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681130530"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; AlgReal -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-1400"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteOne"><span class="hs-identifier hs-var">isConcreteOne</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1401"></span><span>
</span><span id="line-1402"></span><span class="hs-comment">-- | Predicate for optimizing bitwise operations. The unbounded integer case of checking</span><span>
</span><span id="line-1403"></span><span class="hs-comment">-- against -1 might look dubious, but that's how Haskell treats 'Integer' as a member</span><span>
</span><span id="line-1404"></span><span class="hs-comment">-- of the Bits class, try @(-1 :: Integer) `testBit` i@ for any @i@ and you'll get 'True'.</span><span>
</span><span id="line-1405"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteOnes"><span class="hs-identifier hs-type">isConcreteOnes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1406"></span><span id="isConcreteOnes"><span class="annot"><span class="annottext">isConcreteOnes :: SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteOnes"><span class="hs-identifier hs-var hs-var">isConcreteOnes</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span id="local-6989586621681130529"><span class="annot"><span class="annottext">b :: Bool
</span><a href="#local-6989586621681130529"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681130528"><span class="annot"><span class="annottext">w :: Int
</span><a href="#local-6989586621681130528"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130527"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681130527"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130527"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681130529"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130528"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-1407"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteOnes"><span class="hs-identifier hs-var">isConcreteOnes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-type">KUnbounded</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130526"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681130526"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130526"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span>  </span><span class="hs-comment">-- see comment above</span><span>
</span><span id="line-1408"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteOnes"><span class="hs-identifier hs-var">isConcreteOnes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-type">KBool</span></a></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130525"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681130525"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130525"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-1409"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteOnes"><span class="hs-identifier hs-var">isConcreteOnes</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1410"></span><span>
</span><span id="line-1411"></span><span class="hs-comment">-- | Predicate for optimizing comparisons.</span><span>
</span><span id="line-1412"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteMax"><span class="hs-identifier hs-type">isConcreteMax</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1413"></span><span id="isConcreteMax"><span class="annot"><span class="annottext">isConcreteMax :: SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteMax"><span class="hs-identifier hs-var hs-var">isConcreteMax</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span id="local-6989586621681130524"><span class="annot"><span class="annottext">w :: Int
</span><a href="#local-6989586621681130524"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130523"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681130523"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130523"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130524"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-1414"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteMax"><span class="hs-identifier hs-var">isConcreteMax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>  </span><span id="local-6989586621681130522"><span class="annot"><span class="annottext">w :: Int
</span><a href="#local-6989586621681130522"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130521"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681130521"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130521"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130522"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-1415"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteMax"><span class="hs-identifier hs-var">isConcreteMax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-type">KBool</span></a></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130520"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681130520"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130520"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-1416"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteMax"><span class="hs-identifier hs-var">isConcreteMax</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1417"></span><span>
</span><span id="line-1418"></span><span class="hs-comment">-- | Predicate for optimizing comparisons.</span><span>
</span><span id="line-1419"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteMin"><span class="hs-identifier hs-type">isConcreteMin</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1420"></span><span id="isConcreteMin"><span class="annot"><span class="annottext">isConcreteMin :: SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcreteMin"><span class="hs-identifier hs-var hs-var">isConcreteMin</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130519"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681130519"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130519"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-1421"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteMin"><span class="hs-identifier hs-var">isConcreteMin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>  </span><span id="local-6989586621681130518"><span class="annot"><span class="annottext">w :: Int
</span><a href="#local-6989586621681130518"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130517"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681130517"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130517"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-glyph">-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a. Bits a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">bit</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130518"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-1422"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteMin"><span class="hs-identifier hs-var">isConcreteMin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-type">KBool</span></a></span><span>              </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681130516"><span class="annot"><span class="annottext">n :: Integer
</span><a href="#local-6989586621681130516"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681130516"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-1423"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#isConcreteMin"><span class="hs-identifier hs-var">isConcreteMin</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1424"></span><span>
</span><span id="line-1425"></span><span class="hs-comment">-- | Most operations on concrete rationals require a compatibility check to avoid faulting</span><span>
</span><span id="line-1426"></span><span class="hs-comment">-- on algebraic reals.</span><span>
</span><span id="line-1427"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-type">rationalCheck</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1428"></span><span id="rationalCheck"><span class="annot"><span class="annottext">rationalCheck :: CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var hs-var">rationalCheck</span></a></span></span><span> </span><span id="local-6989586621681130515"><span class="annot"><span class="annottext">a :: CV
</span><a href="#local-6989586621681130515"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681130514"><span class="annot"><span class="annottext">b :: CV
</span><a href="#local-6989586621681130514"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#cvVal"><span class="hs-identifier hs-var hs-var">cvVal</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130515"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#cvVal"><span class="hs-identifier hs-var hs-var">cvVal</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130514"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1429"></span><span>                     </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-type">CAlgReal</span></a></span><span> </span><span id="local-6989586621681130513"><span class="annot"><span class="annottext">x :: AlgReal
</span><a href="#local-6989586621681130513"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-type">CAlgReal</span></a></span><span> </span><span id="local-6989586621681130512"><span class="annot"><span class="annottext">y :: AlgReal
</span><a href="#local-6989586621681130512"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; Bool
</span><a href="Data.SBV.Core.AlgReals.html#isExactRational"><span class="hs-identifier hs-var">isExactRational</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681130513"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; Bool
</span><a href="Data.SBV.Core.AlgReals.html#isExactRational"><span class="hs-identifier hs-var">isExactRational</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681130512"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1430"></span><span>                     </span><span class="hs-identifier">_</span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1431"></span><span>
</span><span id="line-1432"></span><span class="hs-comment">-- | Quot/Rem operations require a nonzero check on the divisor.</span><span>
</span><span id="line-1433"></span><span class="hs-comment">--</span><span>
</span><span id="line-1434"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#nonzeroCheck"><span class="hs-identifier hs-type">nonzeroCheck</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1435"></span><span id="nonzeroCheck"><span class="annot"><span class="annottext">nonzeroCheck :: CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#nonzeroCheck"><span class="hs-identifier hs-var hs-var">nonzeroCheck</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681130511"><span class="annot"><span class="annottext">b :: CV
</span><a href="#local-6989586621681130511"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#cvVal"><span class="hs-identifier hs-var hs-var">cvVal</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130511"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">CVal -&gt; CVal -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-var">CInteger</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-1436"></span><span>
</span><span id="line-1437"></span><span class="hs-comment">-- | Same as rationalCheck, except for SBV's</span><span>
</span><span id="line-1438"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#rationalSBVCheck"><span class="hs-identifier hs-type">rationalSBVCheck</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-1439"></span><span id="rationalSBVCheck"><span class="annot"><span class="annottext">rationalSBVCheck :: SVal -&gt; SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalSBVCheck"><span class="hs-identifier hs-var hs-var">rationalSBVCheck</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681130510"><span class="annot"><span class="annottext">a :: CV
</span><a href="#local-6989586621681130510"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681130509"><span class="annot"><span class="annottext">b :: CV
</span><a href="#local-6989586621681130509"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#rationalCheck"><span class="hs-identifier hs-var">rationalCheck</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130510"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681130509"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1440"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#rationalSBVCheck"><span class="hs-identifier hs-var">rationalSBVCheck</span></a></span><span> </span><span class="hs-identifier">_</span><span>                     </span><span class="hs-identifier">_</span><span>                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1441"></span><span>
</span><span id="line-1442"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#noReal"><span class="hs-identifier hs-type">noReal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span>
</span><span id="line-1443"></span><span id="noReal"><span class="annot"><span class="annottext">noReal :: String -&gt; AlgReal -&gt; AlgReal -&gt; AlgReal
</span><a href="Data.SBV.Core.Operations.html#noReal"><span class="hs-identifier hs-var hs-var">noReal</span></a></span></span><span> </span><span id="local-6989586621681130508"><span class="annot"><span class="annottext">o :: String
</span><a href="#local-6989586621681130508"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681130507"><span class="annot"><span class="annottext">a :: AlgReal
</span><a href="#local-6989586621681130507"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681130506"><span class="annot"><span class="annottext">b :: AlgReal
</span><a href="#local-6989586621681130506"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; AlgReal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; AlgReal) -&gt; String -&gt; AlgReal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.AlgReal.&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130508"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: Unexpected arguments: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(AlgReal, AlgReal) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681130507"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681130506"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1444"></span><span>
</span><span id="line-1445"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#noFloat"><span class="hs-identifier hs-type">noFloat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>
</span><span id="line-1446"></span><span id="noFloat"><span class="annot"><span class="annottext">noFloat :: String -&gt; Float -&gt; Float -&gt; Float
</span><a href="Data.SBV.Core.Operations.html#noFloat"><span class="hs-identifier hs-var hs-var">noFloat</span></a></span></span><span> </span><span id="local-6989586621681130505"><span class="annot"><span class="annottext">o :: String
</span><a href="#local-6989586621681130505"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681130504"><span class="annot"><span class="annottext">a :: Float
</span><a href="#local-6989586621681130504"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681130503"><span class="annot"><span class="annottext">b :: Float
</span><a href="#local-6989586621681130503"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Float
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Float) -&gt; String -&gt; Float
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.Float.&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130505"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: Unexpected arguments: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Float, Float) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681130504"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681130503"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1447"></span><span>
</span><span id="line-1448"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#noDouble"><span class="hs-identifier hs-type">noDouble</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-1449"></span><span id="noDouble"><span class="annot"><span class="annottext">noDouble :: String -&gt; Double -&gt; Double -&gt; Double
</span><a href="Data.SBV.Core.Operations.html#noDouble"><span class="hs-identifier hs-var hs-var">noDouble</span></a></span></span><span> </span><span id="local-6989586621681130502"><span class="annot"><span class="annottext">o :: String
</span><a href="#local-6989586621681130502"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681130501"><span class="annot"><span class="annottext">a :: Double
</span><a href="#local-6989586621681130501"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681130500"><span class="annot"><span class="annottext">b :: Double
</span><a href="#local-6989586621681130500"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Double
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Double) -&gt; String -&gt; Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.Double.&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130502"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: Unexpected arguments: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Double, Double) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681130501"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681130500"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1450"></span><span>
</span><span id="line-1451"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#noRealUnary"><span class="hs-identifier hs-type">noRealUnary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span>
</span><span id="line-1452"></span><span id="noRealUnary"><span class="annot"><span class="annottext">noRealUnary :: String -&gt; AlgReal -&gt; AlgReal
</span><a href="Data.SBV.Core.Operations.html#noRealUnary"><span class="hs-identifier hs-var hs-var">noRealUnary</span></a></span></span><span> </span><span id="local-6989586621681130499"><span class="annot"><span class="annottext">o :: String
</span><a href="#local-6989586621681130499"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681130498"><span class="annot"><span class="annottext">a :: AlgReal
</span><a href="#local-6989586621681130498"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; AlgReal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; AlgReal) -&gt; String -&gt; AlgReal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.AlgReal.&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130499"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: Unexpected argument: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681130498"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1453"></span><span>
</span><span id="line-1454"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#noFloatUnary"><span class="hs-identifier hs-type">noFloatUnary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span>
</span><span id="line-1455"></span><span id="noFloatUnary"><span class="annot"><span class="annottext">noFloatUnary :: String -&gt; Float -&gt; Float
</span><a href="Data.SBV.Core.Operations.html#noFloatUnary"><span class="hs-identifier hs-var hs-var">noFloatUnary</span></a></span></span><span> </span><span id="local-6989586621681130497"><span class="annot"><span class="annottext">o :: String
</span><a href="#local-6989586621681130497"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681130496"><span class="annot"><span class="annottext">a :: Float
</span><a href="#local-6989586621681130496"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Float
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Float) -&gt; String -&gt; Float
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.Float.&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130497"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: Unexpected argument: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681130496"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1456"></span><span>
</span><span id="line-1457"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#noDoubleUnary"><span class="hs-identifier hs-type">noDoubleUnary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span>
</span><span id="line-1458"></span><span id="noDoubleUnary"><span class="annot"><span class="annottext">noDoubleUnary :: String -&gt; Double -&gt; Double
</span><a href="Data.SBV.Core.Operations.html#noDoubleUnary"><span class="hs-identifier hs-var hs-var">noDoubleUnary</span></a></span></span><span> </span><span id="local-6989586621681130495"><span class="annot"><span class="annottext">o :: String
</span><a href="#local-6989586621681130495"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681130494"><span class="annot"><span class="annottext">a :: Double
</span><a href="#local-6989586621681130494"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Double
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Double) -&gt; String -&gt; Double
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV.Double.&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681130495"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: Unexpected argument: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681130494"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1459"></span><span>
</span><span id="line-1460"></span><span class="hs-comment">-- | Given a composite structure, figure out how to compare for less than</span><span>
</span><span id="line-1461"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#svStructuralLessThan"><span class="hs-identifier hs-type">svStructuralLessThan</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1462"></span><span id="svStructuralLessThan"><span class="annot"><span class="annottext">svStructuralLessThan :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svStructuralLessThan"><span class="hs-identifier hs-var hs-var">svStructuralLessThan</span></a></span></span><span> </span><span id="local-6989586621681130493"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130493"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130492"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681130492"><span class="hs-identifier hs-var">y</span></a></span></span><span>
</span><span id="line-1463"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcrete"><span class="hs-identifier hs-var">isConcrete</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130493"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Bool
</span><a href="Data.SBV.Core.Operations.html#isConcrete"><span class="hs-identifier hs-var">isConcrete</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130492"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1464"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130493"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-operator hs-var">`svLessThan`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130492"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1465"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KTuple"><span class="hs-identifier hs-type">KTuple</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130490"><span class="hs-identifier hs-var">kx</span></a></span><span>
</span><span id="line-1466"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#tupleLT"><span class="hs-identifier hs-var">tupleLT</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130493"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130492"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1467"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KMaybe"><span class="hs-identifier hs-type">KMaybe</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130490"><span class="hs-identifier hs-var">kx</span></a></span><span>
</span><span id="line-1468"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#maybeLT"><span class="hs-identifier hs-var">maybeLT</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130493"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130492"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1469"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KEither"><span class="hs-identifier hs-type">KEither</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130490"><span class="hs-identifier hs-var">kx</span></a></span><span>
</span><span id="line-1470"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#eitherLT"><span class="hs-identifier hs-var">eitherLT</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130493"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130492"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1471"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1472"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130493"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svLessThan"><span class="hs-operator hs-var">`svLessThan`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130492"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1473"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130490"><span class="annot"><span class="annottext">kx :: Kind
</span><a href="#local-6989586621681130490"><span class="hs-identifier hs-var hs-var">kx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130493"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1474"></span><span>
</span><span id="line-1475"></span><span class="hs-comment">-- | Structural less-than for tuples</span><span>
</span><span id="line-1476"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#tupleLT"><span class="hs-identifier hs-type">tupleLT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1477"></span><span id="tupleLT"><span class="annot"><span class="annottext">tupleLT :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#tupleLT"><span class="hs-identifier hs-var hs-var">tupleLT</span></a></span></span><span> </span><span id="local-6989586621681130484"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130484"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130483"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681130483"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130482"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1478"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130481"><span class="annot"><span class="annottext">ks :: [Kind]
</span><a href="#local-6989586621681130481"><span class="hs-identifier hs-var hs-var">ks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130484"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1479"></span><span>               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KTuple"><span class="hs-identifier hs-type">KTuple</span></a></span><span> </span><span id="local-6989586621681130480"><span class="annot"><span class="annottext">xs :: [Kind]
</span><a href="#local-6989586621681130480"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681130480"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1480"></span><span>               </span><span id="local-6989586621681130479"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130479"><span class="hs-identifier hs-var">k</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; [Kind]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; [Kind]) -&gt; String -&gt; [Kind]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV: Impossible happened, tupleLT called with: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, SVal, SVal) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130479"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130484"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130483"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1481"></span><span>
</span><span id="line-1482"></span><span>        </span><span id="local-6989586621681130478"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621681130478"><span class="hs-identifier hs-var hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681130481"><span class="hs-identifier hs-var">ks</span></a></span><span>
</span><span id="line-1483"></span><span>
</span><span id="line-1484"></span><span>        </span><span id="local-6989586621681130482"><span class="annot"><span class="annottext">res :: State -&gt; IO SV
</span><a href="#local-6989586621681130482"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span> </span><span id="local-6989586621681130477"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130477"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130476"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130476"><span class="hs-identifier hs-var">sx</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130477"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130484"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1485"></span><span>                    </span><span id="local-6989586621681130475"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130475"><span class="hs-identifier hs-var">sy</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130477"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130483"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-1486"></span><span>
</span><span id="line-1487"></span><span>                    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130474"><span class="annot"><span class="annottext">chkElt :: Int -&gt; Kind -&gt; (SVal, SVal)
</span><a href="#local-6989586621681130474"><span class="hs-identifier hs-var hs-var">chkElt</span></a></span></span><span> </span><span id="local-6989586621681130473"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681130473"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681130472"><span class="annot"><span class="annottext">ek :: Kind
</span><a href="#local-6989586621681130472"><span class="hs-identifier hs-var">ek</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130471"><span class="annot"><span class="annottext">xi :: SVal
</span><a href="#local-6989586621681130471"><span class="hs-identifier hs-var hs-var">xi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130472"><span class="hs-identifier hs-var">ek</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO SV) -&gt; Cached SV) -&gt; (State -&gt; IO SV) -&gt; Cached SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130477"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130472"><span class="hs-identifier hs-var">ek</span></a></span><span> </span><span class="annot"><span class="annottext">(SBVExpr -&gt; IO SV) -&gt; SBVExpr -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#TupleAccess"><span class="hs-identifier hs-var">TupleAccess</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130473"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130478"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130476"><span class="hs-identifier hs-var">sx</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1488"></span><span>                                          </span><span id="local-6989586621681130469"><span class="annot"><span class="annottext">yi :: SVal
</span><a href="#local-6989586621681130469"><span class="hs-identifier hs-var hs-var">yi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130472"><span class="hs-identifier hs-var">ek</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO SV) -&gt; Cached SV) -&gt; (State -&gt; IO SV) -&gt; Cached SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130477"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130472"><span class="hs-identifier hs-var">ek</span></a></span><span> </span><span class="annot"><span class="annottext">(SBVExpr -&gt; IO SV) -&gt; SBVExpr -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#TupleAccess"><span class="hs-identifier hs-var">TupleAccess</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130473"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681130478"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130475"><span class="hs-identifier hs-var">sy</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1489"></span><span>                                          </span><span id="local-6989586621681130468"><span class="annot"><span class="annottext">lt :: SVal
</span><a href="#local-6989586621681130468"><span class="hs-identifier hs-var hs-var">lt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130471"><span class="hs-identifier hs-var">xi</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svStructuralLessThan"><span class="hs-operator hs-var">`svStructuralLessThan`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130469"><span class="hs-identifier hs-var">yi</span></a></span><span>
</span><span id="line-1490"></span><span>                                          </span><span id="local-6989586621681130467"><span class="annot"><span class="annottext">eq :: SVal
</span><a href="#local-6989586621681130467"><span class="hs-identifier hs-var hs-var">eq</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130471"><span class="hs-identifier hs-var">xi</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svEqual"><span class="hs-operator hs-var">`svEqual`</span></a></span><span>              </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130469"><span class="hs-identifier hs-var">yi</span></a></span><span>
</span><span id="line-1491"></span><span>                                       </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130468"><span class="hs-identifier hs-var">lt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130467"><span class="hs-identifier hs-var">eq</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1492"></span><span>
</span><span id="line-1493"></span><span>                        </span><span id="local-6989586621681130466"><span class="annot"><span class="annottext">walk :: [(SVal, SVal)] -&gt; SVal
</span><a href="#local-6989586621681130466"><span class="hs-identifier hs-var hs-var">walk</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var">svFalse</span></a></span><span>
</span><span id="line-1494"></span><span>                        </span><span class="annot"><a href="#local-6989586621681130466"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span id="local-6989586621681130465"><span class="annot"><span class="annottext">lti :: SVal
</span><a href="#local-6989586621681130465"><span class="hs-identifier hs-var">lti</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130465"><span class="hs-identifier hs-var">lti</span></a></span><span>
</span><span id="line-1495"></span><span>                        </span><span class="annot"><a href="#local-6989586621681130466"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681130464"><span class="annot"><span class="annottext">lti :: SVal
</span><a href="#local-6989586621681130464"><span class="hs-identifier hs-var">lti</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130463"><span class="annot"><span class="annottext">eqi :: SVal
</span><a href="#local-6989586621681130463"><span class="hs-identifier hs-var">eqi</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681130462"><span class="annot"><span class="annottext">rest :: [(SVal, SVal)]
</span><a href="#local-6989586621681130462"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130464"><span class="hs-identifier hs-var">lti</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svOr"><span class="hs-operator hs-var">`svOr`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130463"><span class="hs-identifier hs-var">eqi</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svAnd"><span class="hs-operator hs-var">`svAnd`</span></a></span><span> </span><span class="annot"><span class="annottext">[(SVal, SVal)] -&gt; SVal
</span><a href="#local-6989586621681130466"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[(SVal, SVal)]
</span><a href="#local-6989586621681130462"><span class="hs-identifier hs-var">rest</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1496"></span><span>
</span><span id="line-1497"></span><span>                    </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130477"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; IO SV) -&gt; SVal -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(SVal, SVal)] -&gt; SVal
</span><a href="#local-6989586621681130466"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">([(SVal, SVal)] -&gt; SVal) -&gt; [(SVal, SVal)] -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Kind -&gt; (SVal, SVal)) -&gt; [Int] -&gt; [Kind] -&gt; [(SVal, SVal)]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Kind -&gt; (SVal, SVal)
</span><a href="#local-6989586621681130474"><span class="hs-identifier hs-var">chkElt</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681130481"><span class="hs-identifier hs-var">ks</span></a></span><span>
</span><span id="line-1498"></span><span>
</span><span id="line-1499"></span><span class="hs-comment">-- | Structural less-than for maybes</span><span>
</span><span id="line-1500"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#maybeLT"><span class="hs-identifier hs-type">maybeLT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1501"></span><span id="maybeLT"><span class="annot"><span class="annottext">maybeLT :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#maybeLT"><span class="hs-identifier hs-var hs-var">maybeLT</span></a></span></span><span> </span><span id="local-6989586621681130461"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130461"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130460"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681130460"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; (SVal -&gt; SVal) -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681130459"><span class="hs-identifier hs-var">sMaybeCase</span></a></span><span> </span><span class="hs-special">(</span><span>       </span><span class="annot"><span class="annottext">SVal -&gt; (SVal -&gt; SVal) -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681130459"><span class="hs-identifier hs-var">sMaybeCase</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var">svFalse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svTrue"><span class="hs-identifier hs-var">svTrue</span></a></span><span class="hs-special">)</span><span>    </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130460"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1502"></span><span>                         </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681130458"><span class="annot"><span class="annottext">jx :: SVal
</span><a href="#local-6989586621681130458"><span class="hs-identifier hs-var">jx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; (SVal -&gt; SVal) -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681130459"><span class="hs-identifier hs-var">sMaybeCase</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var">svFalse</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130458"><span class="hs-identifier hs-var">jx</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svStructuralLessThan"><span class="hs-operator hs-var">`svStructuralLessThan`</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130460"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1503"></span><span>                         </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130461"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1504"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130457"><span class="annot"><span class="annottext">ka :: Kind
</span><a href="#local-6989586621681130457"><span class="hs-identifier hs-var hs-var">ka</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130461"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1505"></span><span>               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KMaybe"><span class="hs-identifier hs-type">KMaybe</span></a></span><span> </span><span id="local-6989586621681130456"><span class="annot"><span class="annottext">k' :: Kind
</span><a href="#local-6989586621681130456"><span class="hs-identifier hs-var">k'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130456"><span class="hs-identifier hs-var">k'</span></a></span><span>
</span><span id="line-1506"></span><span>               </span><span id="local-6989586621681130455"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130455"><span class="hs-identifier hs-var">k</span></a></span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Kind
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Kind) -&gt; String -&gt; Kind
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV: Impossible happened, maybeLT called with: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, SVal, SVal) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130455"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130461"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130460"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1507"></span><span>
</span><span id="line-1508"></span><span>        </span><span id="local-6989586621681130459"><span class="annot"><span class="annottext">sMaybeCase :: SVal -&gt; (SVal -&gt; SVal) -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681130459"><span class="hs-identifier hs-var hs-var">sMaybeCase</span></a></span></span><span> </span><span id="local-6989586621681130454"><span class="annot"><span class="annottext">brNothing :: SVal
</span><a href="#local-6989586621681130454"><span class="hs-identifier hs-var">brNothing</span></a></span></span><span> </span><span id="local-6989586621681130453"><span class="annot"><span class="annottext">brJust :: SVal -&gt; SVal
</span><a href="#local-6989586621681130453"><span class="hs-identifier hs-var">brJust</span></a></span></span><span> </span><span id="local-6989586621681130452"><span class="annot"><span class="annottext">s :: SVal
</span><a href="#local-6989586621681130452"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130451"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1509"></span><span>           </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130451"><span class="annot"><span class="annottext">res :: State -&gt; IO SV
</span><a href="#local-6989586621681130451"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span> </span><span id="local-6989586621681130450"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130450"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130449"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130449"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130450"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130452"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1510"></span><span>
</span><span id="line-1511"></span><span>                             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130448"><span class="annot"><span class="annottext">justVal :: SVal
</span><a href="#local-6989586621681130448"><span class="hs-identifier hs-var hs-var">justVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130457"><span class="hs-identifier hs-var">ka</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO SV) -&gt; Cached SV) -&gt; (State -&gt; IO SV) -&gt; Cached SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130450"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130457"><span class="hs-identifier hs-var">ka</span></a></span><span> </span><span class="annot"><span class="annottext">(SBVExpr -&gt; IO SV) -&gt; SBVExpr -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#MaybeAccess"><span class="hs-identifier hs-var">MaybeAccess</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130449"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1512"></span><span>                                 </span><span id="local-6989586621681130446"><span class="annot"><span class="annottext">justRes :: SVal
</span><a href="#local-6989586621681130446"><span class="hs-identifier hs-var hs-var">justRes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130453"><span class="hs-identifier hs-var">brJust</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130448"><span class="hs-identifier hs-var">justVal</span></a></span><span>
</span><span id="line-1513"></span><span>
</span><span id="line-1514"></span><span>                             </span><span id="local-6989586621681130445"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130445"><span class="hs-identifier hs-var">br1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130450"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130454"><span class="hs-identifier hs-var">brNothing</span></a></span><span>
</span><span id="line-1515"></span><span>                             </span><span id="local-6989586621681130444"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130444"><span class="hs-identifier hs-var">br2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130450"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130446"><span class="hs-identifier hs-var">justRes</span></a></span><span>
</span><span id="line-1516"></span><span>
</span><span id="line-1517"></span><span>                             </span><span class="hs-comment">-- Do we have a value?</span><span>
</span><span id="line-1518"></span><span>                             </span><span id="local-6989586621681130443"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130443"><span class="hs-identifier hs-var">noVal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130450"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(SBVExpr -&gt; IO SV) -&gt; SBVExpr -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Bool -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#MaybeIs"><span class="hs-identifier hs-var">MaybeIs</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130457"><span class="hs-identifier hs-var">ka</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130449"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1519"></span><span>                             </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130450"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(SBVExpr -&gt; IO SV) -&gt; SBVExpr -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Ite"><span class="hs-identifier hs-var">Ite</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130443"><span class="hs-identifier hs-var">noVal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130445"><span class="hs-identifier hs-var">br1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130444"><span class="hs-identifier hs-var">br2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1520"></span><span>
</span><span id="line-1521"></span><span class="hs-comment">-- | Structural less-than for either</span><span>
</span><span id="line-1522"></span><span class="annot"><a href="Data.SBV.Core.Operations.html#eitherLT"><span class="hs-identifier hs-type">eitherLT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span>
</span><span id="line-1523"></span><span id="eitherLT"><span class="annot"><span class="annottext">eitherLT :: SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#eitherLT"><span class="hs-identifier hs-var hs-var">eitherLT</span></a></span></span><span> </span><span id="local-6989586621681130441"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681130441"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681130440"><span class="annot"><span class="annottext">y :: SVal
</span><a href="#local-6989586621681130440"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal) -&gt; (SVal -&gt; SVal) -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681130439"><span class="hs-identifier hs-var">sEitherCase</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681130438"><span class="annot"><span class="annottext">lx :: SVal
</span><a href="#local-6989586621681130438"><span class="hs-identifier hs-var">lx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal) -&gt; (SVal -&gt; SVal) -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681130439"><span class="hs-identifier hs-var">sEitherCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130438"><span class="hs-identifier hs-var">lx</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svStructuralLessThan"><span class="hs-operator hs-var">`svStructuralLessThan`</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svTrue"><span class="hs-identifier hs-var">svTrue</span></a></span><span class="hs-special">)</span><span>              </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130440"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1524"></span><span>                           </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681130437"><span class="annot"><span class="annottext">rx :: SVal
</span><a href="#local-6989586621681130437"><span class="hs-identifier hs-var">rx</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal) -&gt; (SVal -&gt; SVal) -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681130439"><span class="hs-identifier hs-var">sEitherCase</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="Data.SBV.Core.Operations.html#svFalse"><span class="hs-identifier hs-var">svFalse</span></a></span><span class="hs-special">)</span><span>             </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130437"><span class="hs-identifier hs-var">rx</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svStructuralLessThan"><span class="hs-operator hs-var">`svStructuralLessThan`</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130440"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1525"></span><span>                           </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130441"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-1526"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681130436"><span class="annot"><span class="annottext">ka :: Kind
</span><a href="#local-6989586621681130436"><span class="hs-identifier hs-var">ka</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681130435"><span class="annot"><span class="annottext">kb :: Kind
</span><a href="#local-6989586621681130435"><span class="hs-identifier hs-var">kb</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130441"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1527"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KEither"><span class="hs-identifier hs-type">KEither</span></a></span><span> </span><span id="local-6989586621681130434"><span class="annot"><span class="annottext">k1 :: Kind
</span><a href="#local-6989586621681130434"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span id="local-6989586621681130433"><span class="annot"><span class="annottext">k2 :: Kind
</span><a href="#local-6989586621681130433"><span class="hs-identifier hs-var">k2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130434"><span class="hs-identifier hs-var">k1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130433"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1528"></span><span>                     </span><span id="local-6989586621681130432"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681130432"><span class="hs-identifier hs-var">k</span></a></span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Kind, Kind)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; (Kind, Kind)) -&gt; String -&gt; (Kind, Kind)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV: Impossible happened, eitherLT called with: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, SVal, SVal) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130432"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130441"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130440"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1529"></span><span>
</span><span id="line-1530"></span><span>        </span><span id="local-6989586621681130439"><span class="annot"><span class="annottext">sEitherCase :: (SVal -&gt; SVal) -&gt; (SVal -&gt; SVal) -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681130439"><span class="hs-identifier hs-var hs-var">sEitherCase</span></a></span></span><span> </span><span id="local-6989586621681130431"><span class="annot"><span class="annottext">brA :: SVal -&gt; SVal
</span><a href="#local-6989586621681130431"><span class="hs-identifier hs-var">brA</span></a></span></span><span> </span><span id="local-6989586621681130430"><span class="annot"><span class="annottext">brB :: SVal -&gt; SVal
</span><a href="#local-6989586621681130430"><span class="hs-identifier hs-var">brB</span></a></span></span><span> </span><span id="local-6989586621681130429"><span class="annot"><span class="annottext">sab :: SVal
</span><a href="#local-6989586621681130429"><span class="hs-identifier hs-var">sab</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681130428"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1531"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681130428"><span class="annot"><span class="annottext">res :: State -&gt; IO SV
</span><a href="#local-6989586621681130428"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span> </span><span id="local-6989586621681130427"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681130427"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681130426"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130426"><span class="hs-identifier hs-var">abv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130427"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130429"><span class="hs-identifier hs-var">sab</span></a></span><span>
</span><span id="line-1532"></span><span>
</span><span id="line-1533"></span><span>                            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681130425"><span class="annot"><span class="annottext">leftVal :: SVal
</span><a href="#local-6989586621681130425"><span class="hs-identifier hs-var hs-var">leftVal</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130436"><span class="hs-identifier hs-var">ka</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO SV) -&gt; Cached SV) -&gt; (State -&gt; IO SV) -&gt; Cached SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130427"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130436"><span class="hs-identifier hs-var">ka</span></a></span><span> </span><span class="annot"><span class="annottext">(SBVExpr -&gt; IO SV) -&gt; SBVExpr -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#EitherAccess"><span class="hs-identifier hs-var">EitherAccess</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130426"><span class="hs-identifier hs-var">abv</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1534"></span><span>                                </span><span id="local-6989586621681130423"><span class="annot"><span class="annottext">rightVal :: SVal
</span><a href="#local-6989586621681130423"><span class="hs-identifier hs-var hs-var">rightVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130435"><span class="hs-identifier hs-var">kb</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO SV) -&gt; Cached SV) -&gt; (State -&gt; IO SV) -&gt; Cached SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130427"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130435"><span class="hs-identifier hs-var">kb</span></a></span><span> </span><span class="annot"><span class="annottext">(SBVExpr -&gt; IO SV) -&gt; SBVExpr -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#EitherAccess"><span class="hs-identifier hs-var">EitherAccess</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130426"><span class="hs-identifier hs-var">abv</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1535"></span><span>
</span><span id="line-1536"></span><span>                                </span><span id="local-6989586621681130422"><span class="annot"><span class="annottext">leftRes :: SVal
</span><a href="#local-6989586621681130422"><span class="hs-identifier hs-var hs-var">leftRes</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130431"><span class="hs-identifier hs-var">brA</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130425"><span class="hs-identifier hs-var">leftVal</span></a></span><span>
</span><span id="line-1537"></span><span>                                </span><span id="local-6989586621681130421"><span class="annot"><span class="annottext">rightRes :: SVal
</span><a href="#local-6989586621681130421"><span class="hs-identifier hs-var hs-var">rightRes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="#local-6989586621681130430"><span class="hs-identifier hs-var">brB</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130423"><span class="hs-identifier hs-var">rightVal</span></a></span><span>
</span><span id="line-1538"></span><span>
</span><span id="line-1539"></span><span>                            </span><span id="local-6989586621681130420"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130420"><span class="hs-identifier hs-var">br1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130427"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130422"><span class="hs-identifier hs-var">leftRes</span></a></span><span>
</span><span id="line-1540"></span><span>                            </span><span id="local-6989586621681130419"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130419"><span class="hs-identifier hs-var">br2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130427"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681130421"><span class="hs-identifier hs-var">rightRes</span></a></span><span>
</span><span id="line-1541"></span><span>
</span><span id="line-1542"></span><span>                            </span><span class="hs-comment">--  Which branch are we in? Return the appropriate value:</span><span>
</span><span id="line-1543"></span><span>                            </span><span id="local-6989586621681130418"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130418"><span class="hs-identifier hs-var">onLeft</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130427"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(SBVExpr -&gt; IO SV) -&gt; SBVExpr -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#EitherIs"><span class="hs-identifier hs-var">EitherIs</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130436"><span class="hs-identifier hs-var">ka</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681130435"><span class="hs-identifier hs-var">kb</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130426"><span class="hs-identifier hs-var">abv</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1544"></span><span>                            </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681130427"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(SBVExpr -&gt; IO SV) -&gt; SBVExpr -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Ite"><span class="hs-identifier hs-var">Ite</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130418"><span class="hs-identifier hs-var">onLeft</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130420"><span class="hs-identifier hs-var">br1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681130419"><span class="hs-identifier hs-var">br2</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1545"></span><span>
</span><span id="line-1546"></span><span class="hs-pragma">{-# ANN</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svIte"><span class="hs-pragma hs-type">svIte</span></a></span><span>     </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma">&quot;HLint: ignore Eta reduce&quot;</span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span class="hs-pragma">)</span><span>         </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1547"></span><span class="hs-pragma">{-# ANN</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svLazyIte"><span class="hs-pragma hs-type">svLazyIte</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma">&quot;HLint: ignore Eta reduce&quot;</span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span class="hs-pragma">)</span><span>         </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1548"></span><span class="hs-pragma">{-# ANN</span><span> </span><span class="hs-pragma">module</span><span>    </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma">&quot;HLint: ignore Reduce duplication&quot;</span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1549"></span></pre></body></html>