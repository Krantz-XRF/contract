<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Module    : Data.SBV.Compilers.C</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Copyright : (c) Levent Erkok</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- License   : BSD3</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Maintainer: erkokl@gmail.com</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Stability : experimental</span><span>
</span><span id="line-8"></span><span class="hs-comment">--</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Compilation of symbolic programs to C</span><span>
</span><span id="line-10"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE CPP           #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE PatternGuards #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wall -Werror #-}</span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.SBV.Compilers.C</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Compilers.C.html#compileToC"><span class="hs-identifier">compileToC</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.C.html#compileToCLib"><span class="hs-identifier">compileToCLib</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.C.html#compileToC%27"><span class="hs-identifier">compileToC'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.C.html#compileToCLib%27"><span class="hs-identifier">compileToCLib'</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-18"></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">rnf</span></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isSpace</span></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span>                      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">nub</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">intercalate</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">intersperse</span></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>                     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isJust</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">isNothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromJust</span></span><span class="hs-special">)</span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">F</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">toList</span></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span>      </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">member</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">union</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unions</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">empty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">singleton</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromList</span></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.FilePath</span></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">takeBaseName</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">replaceExtension</span></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Random</span></span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-comment">-- Work around the fact that GHC 8.4.1 started exporting &lt;&gt;.. Hmm..</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Text.PrettyPrint.HughesPJ</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Text.PrettyPrint.HughesPJ</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">P</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(&lt;&gt;)</span></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html"><span class="hs-identifier">Data.SBV.Core.Data</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html"><span class="hs-identifier">Data.SBV.Compilers.CodeGen</span></a></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Utils.PrettyNum.html"><span class="hs-identifier">Data.SBV.Utils.PrettyNum</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.PrettyNum.html#chex"><span class="hs-identifier">chex</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.PrettyNum.html#showCFloat"><span class="hs-identifier">showCFloat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.PrettyNum.html#showCDouble"><span class="hs-identifier">showCDouble</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Stack</span></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-40"></span><span class="hs-comment">-- * API</span><span>
</span><span id="line-41"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-comment">-- | Given a symbolic computation, render it as an equivalent collection of files</span><span>
</span><span id="line-44"></span><span class="hs-comment">-- that make up a C program:</span><span>
</span><span id="line-45"></span><span class="hs-comment">--</span><span>
</span><span id="line-46"></span><span class="hs-comment">--   * The first argument is the directory name under which the files will be saved. To save</span><span>
</span><span id="line-47"></span><span class="hs-comment">--     files in the current directory pass @'Just' \&quot;.\&quot;@. Use 'Nothing' for printing to stdout.</span><span>
</span><span id="line-48"></span><span class="hs-comment">--</span><span>
</span><span id="line-49"></span><span class="hs-comment">--   * The second argument is the name of the C function to generate.</span><span>
</span><span id="line-50"></span><span class="hs-comment">--</span><span>
</span><span id="line-51"></span><span class="hs-comment">--   * The final argument is the function to be compiled.</span><span>
</span><span id="line-52"></span><span class="hs-comment">--</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- Compilation will also generate a @Makefile@,  a header file, and a driver (test) program, etc. As a</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- result, we return whatever the code-gen function returns. Most uses should simply have @()@ as</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- the return type here, but the value can be useful if you want to chain the result of</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- one compilation act to the next.</span><span>
</span><span id="line-57"></span><span id="local-6989586621681155305"><span class="annot"><a href="Data.SBV.Compilers.C.html#compileToC"><span class="hs-identifier hs-type">compileToC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#SBVCodeGen"><span class="hs-identifier hs-type">SBVCodeGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681155305"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621681155305"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-58"></span><span id="compileToC"><span class="annot"><span class="annottext">compileToC :: Maybe FilePath -&gt; FilePath -&gt; SBVCodeGen a -&gt; IO a
</span><a href="Data.SBV.Compilers.C.html#compileToC"><span class="hs-identifier hs-var hs-var">compileToC</span></a></span></span><span> </span><span id="local-6989586621681155303"><span class="annot"><span class="annottext">mbDirName :: Maybe FilePath
</span><a href="#local-6989586621681155303"><span class="hs-identifier hs-var">mbDirName</span></a></span></span><span> </span><span id="local-6989586621681155302"><span class="annot"><span class="annottext">nm :: FilePath
</span><a href="#local-6989586621681155302"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621681155301"><span class="annot"><span class="annottext">f :: SBVCodeGen a
</span><a href="#local-6989586621681155301"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681155300"><span class="annot"><span class="annottext">retVal :: a
</span><a href="#local-6989586621681155300"><span class="hs-identifier hs-var">retVal</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155299"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681155299"><span class="hs-identifier hs-var">cfg</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155298"><span class="annot"><span class="annottext">bundle :: CgPgmBundle
</span><a href="#local-6989586621681155298"><span class="hs-identifier hs-var">bundle</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; SBVCodeGen a -&gt; IO (a, CgConfig, CgPgmBundle)
forall a. FilePath -&gt; SBVCodeGen a -&gt; IO (a, CgConfig, CgPgmBundle)
</span><a href="Data.SBV.Compilers.C.html#compileToC%27"><span class="hs-identifier hs-var">compileToC'</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155302"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">SBVCodeGen a
</span><a href="#local-6989586621681155301"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-59"></span><span>                               </span><span class="annot"><span class="annottext">Maybe FilePath -&gt; (CgConfig, CgPgmBundle) -&gt; IO ()
</span><a href="Data.SBV.Compilers.CodeGen.html#renderCgPgmBundle"><span class="hs-identifier hs-var">renderCgPgmBundle</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621681155303"><span class="hs-identifier hs-var">mbDirName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155299"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CgPgmBundle
</span><a href="#local-6989586621681155298"><span class="hs-identifier hs-var">bundle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>                               </span><span class="annot"><span class="annottext">a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681155300"><span class="hs-identifier hs-var">retVal</span></a></span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-comment">-- | Lower level version of 'compileToC', producing a 'CgPgmBundle'</span><span>
</span><span id="line-63"></span><span id="local-6989586621681155495"><span class="annot"><a href="Data.SBV.Compilers.C.html#compileToC%27"><span class="hs-identifier hs-type">compileToC'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#SBVCodeGen"><span class="hs-identifier hs-type">SBVCodeGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681155495"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681155495"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgConfig"><span class="hs-identifier hs-type">CgConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgPgmBundle"><span class="hs-identifier hs-type">CgPgmBundle</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-64"></span><span id="compileToC%27"><span class="annot"><span class="annottext">compileToC' :: FilePath -&gt; SBVCodeGen a -&gt; IO (a, CgConfig, CgPgmBundle)
</span><a href="Data.SBV.Compilers.C.html#compileToC%27"><span class="hs-identifier hs-var hs-var">compileToC'</span></a></span></span><span> </span><span id="local-6989586621681155296"><span class="annot"><span class="annottext">nm :: FilePath
</span><a href="#local-6989586621681155296"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621681155295"><span class="annot"><span class="annottext">f :: SBVCodeGen a
</span><a href="#local-6989586621681155295"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681155294"><span class="annot"><span class="annottext">[Integer]
</span><a href="#local-6989586621681155294"><span class="hs-identifier hs-var">rands</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">StdGen -&gt; [Integer]
forall a g. (Random a, RandomGen g) =&gt; g -&gt; [a]
</span><span class="hs-identifier hs-var">randoms</span></span><span> </span><span class="annot"><span class="annottext">(StdGen -&gt; [Integer]) -&gt; IO StdGen -&gt; IO [Integer]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">`fmap`</span></span><span> </span><span class="annot"><span class="annottext">IO StdGen
</span><span class="hs-identifier hs-var">newStdGen</span></span><span>
</span><span id="line-65"></span><span>                      </span><span class="annot"><span class="annottext">SBVToC
-&gt; CgConfig
-&gt; FilePath
-&gt; SBVCodeGen a
-&gt; IO (a, CgConfig, CgPgmBundle)
forall l a.
CgTarget l =&gt;
l
-&gt; CgConfig
-&gt; FilePath
-&gt; SBVCodeGen a
-&gt; IO (a, CgConfig, CgPgmBundle)
</span><a href="Data.SBV.Compilers.CodeGen.html#codeGen"><span class="hs-identifier hs-var">codeGen</span></a></span><span> </span><span class="annot"><span class="annottext">SBVToC
</span><a href="Data.SBV.Compilers.C.html#SBVToC"><span class="hs-identifier hs-var">SBVToC</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig
</span><a href="Data.SBV.Compilers.CodeGen.html#defaultCgConfig"><span class="hs-identifier hs-var">defaultCgConfig</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">cgDriverVals :: [Integer]
</span><a href="Data.SBV.Compilers.CodeGen.html#cgDriverVals"><span class="hs-identifier hs-var">cgDriverVals</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Integer]
</span><a href="#local-6989586621681155294"><span class="hs-identifier hs-var">rands</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155296"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">SBVCodeGen a
</span><a href="#local-6989586621681155295"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-comment">-- | Create code to generate a library archive (.a) from given symbolic functions. Useful when generating code</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- from multiple functions that work together as a library.</span><span>
</span><span id="line-69"></span><span class="hs-comment">--</span><span>
</span><span id="line-70"></span><span class="hs-comment">--   * The first argument is the directory name under which the files will be saved. To save</span><span>
</span><span id="line-71"></span><span class="hs-comment">--     files in the current directory pass @'Just' \&quot;.\&quot;@. Use 'Nothing' for printing to stdout.</span><span>
</span><span id="line-72"></span><span class="hs-comment">--</span><span>
</span><span id="line-73"></span><span class="hs-comment">--   * The second argument is the name of the archive to generate.</span><span>
</span><span id="line-74"></span><span class="hs-comment">--</span><span>
</span><span id="line-75"></span><span class="hs-comment">--   * The third argument is the list of functions to include, in the form of function-name/code pairs, similar</span><span>
</span><span id="line-76"></span><span class="hs-comment">--     to the second and third arguments of 'compileToC', except in a list.</span><span>
</span><span id="line-77"></span><span id="local-6989586621681155287"><span class="annot"><a href="Data.SBV.Compilers.C.html#compileToCLib"><span class="hs-identifier hs-type">compileToCLib</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#SBVCodeGen"><span class="hs-identifier hs-type">SBVCodeGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681155287"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681155287"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-78"></span><span id="compileToCLib"><span class="annot"><span class="annottext">compileToCLib :: Maybe FilePath -&gt; FilePath -&gt; [(FilePath, SBVCodeGen a)] -&gt; IO [a]
</span><a href="Data.SBV.Compilers.C.html#compileToCLib"><span class="hs-identifier hs-var hs-var">compileToCLib</span></a></span></span><span> </span><span id="local-6989586621681155286"><span class="annot"><span class="annottext">mbDirName :: Maybe FilePath
</span><a href="#local-6989586621681155286"><span class="hs-identifier hs-var">mbDirName</span></a></span></span><span> </span><span id="local-6989586621681155285"><span class="annot"><span class="annottext">libName :: FilePath
</span><a href="#local-6989586621681155285"><span class="hs-identifier hs-var">libName</span></a></span></span><span> </span><span id="local-6989586621681155284"><span class="annot"><span class="annottext">comps :: [(FilePath, SBVCodeGen a)]
</span><a href="#local-6989586621681155284"><span class="hs-identifier hs-var">comps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681155283"><span class="annot"><span class="annottext">retVal :: [a]
</span><a href="#local-6989586621681155283"><span class="hs-identifier hs-var">retVal</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155282"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681155282"><span class="hs-identifier hs-var">cfg</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155281"><span class="annot"><span class="annottext">pgm :: CgPgmBundle
</span><a href="#local-6989586621681155281"><span class="hs-identifier hs-var">pgm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">FilePath
-&gt; [(FilePath, SBVCodeGen a)] -&gt; IO ([a], CgConfig, CgPgmBundle)
forall a.
FilePath
-&gt; [(FilePath, SBVCodeGen a)] -&gt; IO ([a], CgConfig, CgPgmBundle)
</span><a href="Data.SBV.Compilers.C.html#compileToCLib%27"><span class="hs-identifier hs-var">compileToCLib'</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155285"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, SBVCodeGen a)]
</span><a href="#local-6989586621681155284"><span class="hs-identifier hs-var">comps</span></a></span><span>
</span><span id="line-79"></span><span>                                           </span><span class="annot"><span class="annottext">Maybe FilePath -&gt; (CgConfig, CgPgmBundle) -&gt; IO ()
</span><a href="Data.SBV.Compilers.CodeGen.html#renderCgPgmBundle"><span class="hs-identifier hs-var">renderCgPgmBundle</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe FilePath
</span><a href="#local-6989586621681155286"><span class="hs-identifier hs-var">mbDirName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155282"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CgPgmBundle
</span><a href="#local-6989586621681155281"><span class="hs-identifier hs-var">pgm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>                                           </span><span class="annot"><span class="annottext">[a] -&gt; IO [a]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681155283"><span class="hs-identifier hs-var">retVal</span></a></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="hs-comment">-- | Lower level version of 'compileToCLib', producing a 'CgPgmBundle'</span><span>
</span><span id="line-83"></span><span id="local-6989586621681155478"><span class="annot"><a href="Data.SBV.Compilers.C.html#compileToCLib%27"><span class="hs-identifier hs-type">compileToCLib'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#SBVCodeGen"><span class="hs-identifier hs-type">SBVCodeGen</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681155478"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681155478"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgConfig"><span class="hs-identifier hs-type">CgConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgPgmBundle"><span class="hs-identifier hs-type">CgPgmBundle</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-84"></span><span id="compileToCLib%27"><span class="annot"><span class="annottext">compileToCLib' :: FilePath
-&gt; [(FilePath, SBVCodeGen a)] -&gt; IO ([a], CgConfig, CgPgmBundle)
</span><a href="Data.SBV.Compilers.C.html#compileToCLib%27"><span class="hs-identifier hs-var hs-var">compileToCLib'</span></a></span></span><span> </span><span id="local-6989586621681155280"><span class="annot"><span class="annottext">libName :: FilePath
</span><a href="#local-6989586621681155280"><span class="hs-identifier hs-var">libName</span></a></span></span><span> </span><span id="local-6989586621681155279"><span class="annot"><span class="annottext">comps :: [(FilePath, SBVCodeGen a)]
</span><a href="#local-6989586621681155279"><span class="hs-identifier hs-var">comps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681155278"><span class="annot"><span class="annottext">[(a, CgConfig, CgPgmBundle)]
</span><a href="#local-6989586621681155278"><span class="hs-identifier hs-var">resCfgBundles</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((FilePath, SBVCodeGen a) -&gt; IO (a, CgConfig, CgPgmBundle))
-&gt; [(FilePath, SBVCodeGen a)] -&gt; IO [(a, CgConfig, CgPgmBundle)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FilePath -&gt; SBVCodeGen a -&gt; IO (a, CgConfig, CgPgmBundle))
-&gt; (FilePath, SBVCodeGen a) -&gt; IO (a, CgConfig, CgPgmBundle)
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; SBVCodeGen a -&gt; IO (a, CgConfig, CgPgmBundle)
forall a. FilePath -&gt; SBVCodeGen a -&gt; IO (a, CgConfig, CgPgmBundle)
</span><a href="Data.SBV.Compilers.C.html#compileToC%27"><span class="hs-identifier hs-var">compileToC'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(FilePath, SBVCodeGen a)]
</span><a href="#local-6989586621681155279"><span class="hs-identifier hs-var">comps</span></a></span><span>
</span><span id="line-85"></span><span>                                  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681155275"><span class="annot"><span class="annottext">finalCfg :: CgConfig
</span><a href="#local-6989586621681155275"><span class="hs-identifier hs-var">finalCfg</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155274"><span class="annot"><span class="annottext">finalPgm :: CgPgmBundle
</span><a href="#local-6989586621681155274"><span class="hs-identifier hs-var">finalPgm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [(CgConfig, CgPgmBundle)] -&gt; (CgConfig, CgPgmBundle)
</span><a href="Data.SBV.Compilers.C.html#mergeToLib"><span class="hs-identifier hs-var">mergeToLib</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155280"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155272"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CgPgmBundle
</span><a href="#local-6989586621681155271"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155272"><span class="annot"><span class="annottext">c :: CgConfig
</span><a href="#local-6989586621681155272"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155271"><span class="annot"><span class="annottext">b :: CgPgmBundle
</span><a href="#local-6989586621681155271"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(a, CgConfig, CgPgmBundle)]
</span><a href="#local-6989586621681155278"><span class="hs-identifier hs-var">resCfgBundles</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-86"></span><span>                                  </span><span class="annot"><span class="annottext">([a], CgConfig, CgPgmBundle) -&gt; IO ([a], CgConfig, CgPgmBundle)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681155270"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681155270"><span class="annot"><span class="annottext">r :: a
</span><a href="#local-6989586621681155270"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(a, CgConfig, CgPgmBundle)]
</span><a href="#local-6989586621681155278"><span class="hs-identifier hs-var">resCfgBundles</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155275"><span class="hs-identifier hs-var">finalCfg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CgPgmBundle
</span><a href="#local-6989586621681155274"><span class="hs-identifier hs-var">finalPgm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-89"></span><span class="hs-comment">-- * Implementation</span><span>
</span><span id="line-90"></span><span class="hs-comment">---------------------------------------------------------------------------</span><span>
</span><span id="line-91"></span><span>
</span><span id="line-92"></span><span class="hs-comment">-- token for the target language</span><span>
</span><span id="line-93"></span><span class="hs-keyword">data</span><span> </span><span id="SBVToC"><span class="annot"><a href="Data.SBV.Compilers.C.html#SBVToC"><span class="hs-identifier hs-var">SBVToC</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SBVToC"><span class="annot"><a href="Data.SBV.Compilers.C.html#SBVToC"><span class="hs-identifier hs-var">SBVToC</span></a></span></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgTarget"><span class="hs-identifier hs-type">CgTarget</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Compilers.C.html#SBVToC"><span class="hs-identifier hs-type">SBVToC</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>  </span><span id="local-6989586621681155266"><span class="annot"><span class="annottext">targetName :: SBVToC -&gt; FilePath
</span><a href="Data.SBV.Compilers.CodeGen.html#targetName"><span class="hs-identifier hs-var hs-var hs-var hs-var">targetName</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;C&quot;</span></span><span>
</span><span id="line-97"></span><span>  </span><span id="local-6989586621681155264"><span class="annot"><span class="annottext">translate :: SBVToC -&gt; CgConfig -&gt; FilePath -&gt; CgState -&gt; Result -&gt; CgPgmBundle
</span><a href="Data.SBV.Compilers.CodeGen.html#translate"><span class="hs-identifier hs-var hs-var hs-var hs-var">translate</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; FilePath -&gt; CgState -&gt; Result -&gt; CgPgmBundle
</span><a href="Data.SBV.Compilers.C.html#cgen"><span class="hs-identifier hs-var">cgen</span></a></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-comment">-- Unexpected input, or things we will probably never support</span><span>
</span><span id="line-100"></span><span id="local-6989586621681155261"><span class="annot"><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-type">die</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681155261"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-101"></span><span id="die"><span class="annot"><span class="annottext">die :: FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var hs-var">die</span></a></span></span><span> </span><span id="local-6989586621681155259"><span class="annot"><span class="annottext">msg :: FilePath
</span><a href="#local-6989586621681155259"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; a
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; a) -&gt; FilePath -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Unexpected: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155259"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">-- Unsupported features, or features TBD</span><span>
</span><span id="line-104"></span><span id="local-6989586621681155446"><span class="annot"><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-type">tbd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681155446"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-105"></span><span id="tbd"><span class="annot"><span class="annottext">tbd :: FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var hs-var">tbd</span></a></span></span><span> </span><span id="local-6989586621681155256"><span class="annot"><span class="annottext">msg :: FilePath
</span><a href="#local-6989586621681155256"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; a
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; a) -&gt; FilePath -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Not yet supported: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155256"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#cgen"><span class="hs-identifier hs-type">cgen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgConfig"><span class="hs-identifier hs-type">CgConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgState"><span class="hs-identifier hs-type">CgState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgPgmBundle"><span class="hs-identifier hs-type">CgPgmBundle</span></a></span><span>
</span><span id="line-108"></span><span id="cgen"><span class="annot"><span class="annottext">cgen :: CgConfig -&gt; FilePath -&gt; CgState -&gt; Result -&gt; CgPgmBundle
</span><a href="Data.SBV.Compilers.C.html#cgen"><span class="hs-identifier hs-var hs-var">cgen</span></a></span></span><span> </span><span id="local-6989586621681155255"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681155255"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621681155254"><span class="annot"><span class="annottext">nm :: FilePath
</span><a href="#local-6989586621681155254"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621681155253"><span class="annot"><span class="annottext">st :: CgState
</span><a href="#local-6989586621681155253"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span id="local-6989586621681155252"><span class="annot"><span class="annottext">sbvProg :: Result
</span><a href="#local-6989586621681155252"><span class="hs-identifier hs-var">sbvProg</span></a></span></span><span>
</span><span id="line-109"></span><span>   </span><span class="hs-comment">-- we rnf the main pg and the sig to make sure any exceptions in type conversion pop-out early enough</span><span>
</span><span id="line-110"></span><span>   </span><span class="hs-comment">-- this is purely cosmetic, of course..</span><span>
</span><span id="line-111"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><span class="hs-identifier hs-var">rnf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; FilePath
</span><span class="hs-identifier hs-var">render</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155250"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">() -&gt; CgPgmBundle -&gt; CgPgmBundle
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ()
forall a. NFData a =&gt; a -&gt; ()
</span><span class="hs-identifier hs-var">rnf</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; FilePath
</span><span class="hs-identifier hs-var">render</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681155248"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">() -&gt; CgPgmBundle -&gt; CgPgmBundle
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">CgPgmBundle
</span><a href="#local-6989586621681155247"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-112"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681155247"><span class="annot"><span class="annottext">result :: CgPgmBundle
</span><a href="#local-6989586621681155247"><span class="hs-identifier hs-var hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe Int, Maybe CgSRealType)
-&gt; [(FilePath, (CgPgmKind, [Doc]))] -&gt; CgPgmBundle
</span><a href="Data.SBV.Compilers.CodeGen.html#CgPgmBundle"><span class="hs-identifier hs-var">CgPgmBundle</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, Maybe CgSRealType)
</span><a href="#local-6989586621681155245"><span class="hs-identifier hs-var">bundleKind</span></a></span><span>
</span><span id="line-113"></span><span>                        </span><span class="annot"><span class="annottext">([(FilePath, (CgPgmKind, [Doc]))] -&gt; CgPgmBundle)
-&gt; [(FilePath, (CgPgmKind, [Doc]))] -&gt; CgPgmBundle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(FilePath, (CgPgmKind, [Doc]))]
-&gt; [(FilePath, (CgPgmKind, [Doc]))]
forall a b. [(a, (CgPgmKind, b))] -&gt; [(a, (CgPgmKind, b))]
</span><a href="#local-6989586621681155244"><span class="hs-identifier hs-var">filt</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;Makefile&quot;</span></span><span class="hs-special">,</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FilePath] -&gt; CgPgmKind
</span><a href="Data.SBV.Compilers.CodeGen.html#CgMakefile"><span class="hs-identifier hs-var">CgMakefile</span></a></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681155242"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Bool -&gt; FilePath -&gt; FilePath -&gt; [FilePath] -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#genMake"><span class="hs-identifier hs-var">genMake</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; Bool
</span><a href="Data.SBV.Compilers.CodeGen.html#cgGenDriver"><span class="hs-identifier hs-var hs-var">cgGenDriver</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155255"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155254"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155239"><span class="hs-identifier hs-var">nmd</span></a></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681155242"><span class="hs-identifier hs-var">flags</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155254"><span class="hs-identifier hs-var">nm</span></a></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.h&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; CgPgmKind
</span><a href="Data.SBV.Compilers.CodeGen.html#CgHeader"><span class="hs-identifier hs-var">CgHeader</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155250"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span>   </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(Maybe Int, Maybe CgSRealType) -&gt; FilePath -&gt; [Doc] -&gt; Doc -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#genHeader"><span class="hs-identifier hs-var">genHeader</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, Maybe CgSRealType)
</span><a href="#local-6989586621681155245"><span class="hs-identifier hs-var">bundleKind</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155254"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155250"><span class="hs-identifier hs-var">sig</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155236"><span class="hs-identifier hs-var">extProtos</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155239"><span class="hs-identifier hs-var">nmd</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.c&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgPgmKind
</span><a href="Data.SBV.Compilers.CodeGen.html#CgDriver"><span class="hs-identifier hs-var">CgDriver</span></a></span><span class="hs-special">,</span><span>         </span><span class="annot"><span class="annottext">CgConfig
-&gt; [Integer]
-&gt; FilePath
-&gt; [(FilePath, CgVal)]
-&gt; [(FilePath, CgVal)]
-&gt; Maybe SV
-&gt; [Doc]
</span><a href="Data.SBV.Compilers.C.html#genDriver"><span class="hs-identifier hs-var">genDriver</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155255"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[Integer]
</span><a href="#local-6989586621681155233"><span class="hs-identifier hs-var">randVals</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155254"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155232"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155231"><span class="hs-identifier hs-var">outs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SV
</span><a href="#local-6989586621681155230"><span class="hs-identifier hs-var">mbRet</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155254"><span class="hs-identifier hs-var">nm</span></a></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.c&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgPgmKind
</span><a href="Data.SBV.Compilers.CodeGen.html#CgSource"><span class="hs-identifier hs-var">CgSource</span></a></span><span class="hs-special">,</span><span>         </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681155248"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>                               </span><span class="hs-special">]</span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681155248"><span class="annot"><span class="annottext">body :: [Doc]
</span><a href="#local-6989586621681155248"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155228"><span class="annot"><span class="annottext">flagsNeeded :: [FilePath]
</span><a href="#local-6989586621681155228"><span class="hs-identifier hs-var">flagsNeeded</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgConfig
-&gt; FilePath
-&gt; Doc
-&gt; Result
-&gt; [(FilePath, CgVal)]
-&gt; [(FilePath, CgVal)]
-&gt; Maybe SV
-&gt; Doc
-&gt; ([Doc], [FilePath])
</span><a href="Data.SBV.Compilers.C.html#genCProg"><span class="hs-identifier hs-var">genCProg</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155255"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155254"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155250"><span class="hs-identifier hs-var">sig</span></a></span><span> </span><span class="annot"><span class="annottext">Result
</span><a href="#local-6989586621681155252"><span class="hs-identifier hs-var">sbvProg</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155232"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155231"><span class="hs-identifier hs-var">outs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SV
</span><a href="#local-6989586621681155230"><span class="hs-identifier hs-var">mbRet</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155226"><span class="hs-identifier hs-var">extDecls</span></a></span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span>        </span><span id="local-6989586621681155245"><span class="annot"><span class="annottext">bundleKind :: (Maybe Int, Maybe CgSRealType)
</span><a href="#local-6989586621681155245"><span class="hs-identifier hs-var hs-var">bundleKind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; Maybe Int
</span><a href="Data.SBV.Compilers.CodeGen.html#cgInteger"><span class="hs-identifier hs-var hs-var">cgInteger</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155255"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; Maybe CgSRealType
</span><a href="Data.SBV.Compilers.CodeGen.html#cgReal"><span class="hs-identifier hs-var hs-var">cgReal</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155255"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span>        </span><span id="local-6989586621681155233"><span class="annot"><span class="annottext">randVals :: [Integer]
</span><a href="#local-6989586621681155233"><span class="hs-identifier hs-var hs-var">randVals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; [Integer]
</span><a href="Data.SBV.Compilers.CodeGen.html#cgDriverVals"><span class="hs-identifier hs-var hs-var">cgDriverVals</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155255"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span>        </span><span id="local-6989586621681155244"><span class="annot"><span class="annottext">filt :: [(a, (CgPgmKind, b))] -&gt; [(a, (CgPgmKind, b))]
</span><a href="#local-6989586621681155244"><span class="hs-identifier hs-var hs-var">filt</span></a></span></span><span> </span><span id="local-6989586621681155223"><span class="annot"><span class="annottext">xs :: [(a, (CgPgmKind, b))]
</span><a href="#local-6989586621681155223"><span class="hs-identifier hs-var">xs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(a, (CgPgmKind, b))
</span><a href="#local-6989586621681155222"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681155222"><span class="annot"><span class="annottext">c :: (a, (CgPgmKind, b))
</span><a href="#local-6989586621681155222"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681155221"><span class="annot"><span class="annottext">k :: CgPgmKind
</span><a href="#local-6989586621681155221"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(a, (CgPgmKind, b))]
</span><a href="#local-6989586621681155223"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CgPgmKind -&gt; Bool
</span><a href="#local-6989586621681155220"><span class="hs-identifier hs-var">need</span></a></span><span> </span><span class="annot"><span class="annottext">CgPgmKind
</span><a href="#local-6989586621681155221"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-126"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681155220"><span class="annot"><span class="annottext">need :: CgPgmKind -&gt; Bool
</span><a href="#local-6989586621681155220"><span class="hs-identifier hs-var hs-var">need</span></a></span></span><span> </span><span id="local-6989586621681155219"><span class="annot"><span class="annottext">k :: CgPgmKind
</span><a href="#local-6989586621681155219"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CgPgmKind -&gt; Bool
</span><a href="Data.SBV.Compilers.CodeGen.html#isCgDriver"><span class="hs-identifier hs-var">isCgDriver</span></a></span><span>   </span><span class="annot"><span class="annottext">CgPgmKind
</span><a href="#local-6989586621681155219"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; Bool
</span><a href="Data.SBV.Compilers.CodeGen.html#cgGenDriver"><span class="hs-identifier hs-var hs-var">cgGenDriver</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155255"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-127"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CgPgmKind -&gt; Bool
</span><a href="Data.SBV.Compilers.CodeGen.html#isCgMakefile"><span class="hs-identifier hs-var">isCgMakefile</span></a></span><span> </span><span class="annot"><span class="annottext">CgPgmKind
</span><a href="#local-6989586621681155219"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; Bool
</span><a href="Data.SBV.Compilers.CodeGen.html#cgGenMakefile"><span class="hs-identifier hs-var hs-var">cgGenMakefile</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155255"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-128"></span><span>                       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span>        </span><span id="local-6989586621681155239"><span class="annot"><span class="annottext">nmd :: FilePath
</span><a href="#local-6989586621681155239"><span class="hs-identifier hs-var hs-var">nmd</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155254"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_driver&quot;</span></span><span>
</span><span id="line-131"></span><span>        </span><span id="local-6989586621681155250"><span class="annot"><span class="annottext">sig :: Doc
</span><a href="#local-6989586621681155250"><span class="hs-identifier hs-var hs-var">sig</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath
-&gt; [(FilePath, CgVal)] -&gt; [(FilePath, CgVal)] -&gt; Maybe SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCFunHeader"><span class="hs-identifier hs-var">pprCFunHeader</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155254"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155232"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155231"><span class="hs-identifier hs-var">outs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SV
</span><a href="#local-6989586621681155230"><span class="hs-identifier hs-var">mbRet</span></a></span><span>
</span><span id="line-132"></span><span>        </span><span id="local-6989586621681155232"><span class="annot"><span class="annottext">ins :: [(FilePath, CgVal)]
</span><a href="#local-6989586621681155232"><span class="hs-identifier hs-var hs-var">ins</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgState -&gt; [(FilePath, CgVal)]
</span><a href="Data.SBV.Compilers.CodeGen.html#cgInputs"><span class="hs-identifier hs-var hs-var">cgInputs</span></a></span><span> </span><span class="annot"><span class="annottext">CgState
</span><a href="#local-6989586621681155253"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-133"></span><span>        </span><span id="local-6989586621681155231"><span class="annot"><span class="annottext">outs :: [(FilePath, CgVal)]
</span><a href="#local-6989586621681155231"><span class="hs-identifier hs-var hs-var">outs</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgState -&gt; [(FilePath, CgVal)]
</span><a href="Data.SBV.Compilers.CodeGen.html#cgOutputs"><span class="hs-identifier hs-var hs-var">cgOutputs</span></a></span><span> </span><span class="annot"><span class="annottext">CgState
</span><a href="#local-6989586621681155253"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-134"></span><span>        </span><span id="local-6989586621681155230"><span class="annot"><span class="annottext">mbRet :: Maybe SV
</span><a href="#local-6989586621681155230"><span class="hs-identifier hs-var hs-var">mbRet</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CgState -&gt; [CgVal]
</span><a href="Data.SBV.Compilers.CodeGen.html#cgReturns"><span class="hs-identifier hs-var hs-var">cgReturns</span></a></span><span> </span><span class="annot"><span class="annottext">CgState
</span><a href="#local-6989586621681155253"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-135"></span><span>                     </span><span class="hs-special">[</span><span class="hs-special">]</span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe SV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-136"></span><span>                     </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span> </span><span id="local-6989586621681155210"><span class="annot"><span class="annottext">o :: SV
</span><a href="#local-6989586621681155210"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Maybe SV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155210"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-137"></span><span>                     </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Maybe SV
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Non-atomic return values&quot;</span></span><span>
</span><span id="line-138"></span><span>                     </span><span class="hs-identifier">_</span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Maybe SV
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Multiple return values&quot;</span></span><span>
</span><span id="line-139"></span><span>        </span><span id="local-6989586621681155236"><span class="annot"><span class="annottext">extProtos :: Doc
</span><a href="#local-6989586621681155236"><span class="hs-identifier hs-var hs-var">extProtos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CgState -&gt; [FilePath]
</span><a href="Data.SBV.Compilers.CodeGen.html#cgPrototypes"><span class="hs-identifier hs-var hs-var">cgPrototypes</span></a></span><span> </span><span class="annot"><span class="annottext">CgState
</span><a href="#local-6989586621681155253"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-140"></span><span>                     </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-141"></span><span>                     </span><span id="local-6989586621681155206"><span class="annot"><span class="annottext">xs :: [FilePath]
</span><a href="#local-6989586621681155206"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="annot"><span class="annottext">([Doc] -&gt; Doc) -&gt; [Doc] -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* User given prototypes: */&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; [FilePath] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681155206"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-142"></span><span>        </span><span id="local-6989586621681155226"><span class="annot"><span class="annottext">extDecls :: Doc
</span><a href="#local-6989586621681155226"><span class="hs-identifier hs-var hs-var">extDecls</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CgState -&gt; [FilePath]
</span><a href="Data.SBV.Compilers.CodeGen.html#cgDecls"><span class="hs-identifier hs-var hs-var">cgDecls</span></a></span><span> </span><span class="annot"><span class="annottext">CgState
</span><a href="#local-6989586621681155253"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-143"></span><span>                     </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-144"></span><span>                     </span><span id="local-6989586621681155203"><span class="annot"><span class="annottext">xs :: [FilePath]
</span><a href="#local-6989586621681155203"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="annot"><span class="annottext">([Doc] -&gt; Doc) -&gt; [Doc] -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* User given declarations: */&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; [FilePath] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681155203"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-145"></span><span>        </span><span id="local-6989586621681155242"><span class="annot"><span class="annottext">flags :: [FilePath]
</span><a href="#local-6989586621681155242"><span class="hs-identifier hs-var hs-var">flags</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681155228"><span class="hs-identifier hs-var">flagsNeeded</span></a></span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; [FilePath] -&gt; [FilePath]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">CgState -&gt; [FilePath]
</span><a href="Data.SBV.Compilers.CodeGen.html#cgLDFlags"><span class="hs-identifier hs-var hs-var">cgLDFlags</span></a></span><span> </span><span class="annot"><span class="annottext">CgState
</span><a href="#local-6989586621681155253"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span class="hs-comment">-- | Pretty print a functions type. If there is only one output, we compile it</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- as a function that returns that value. Otherwise, we compile it as a void function</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- that takes return values as pointers to be updated.</span><span>
</span><span id="line-150"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#pprCFunHeader"><span class="hs-identifier hs-type">pprCFunHeader</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgVal"><span class="hs-identifier hs-type">CgVal</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgVal"><span class="hs-identifier hs-type">CgVal</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-151"></span><span id="pprCFunHeader"><span class="annot"><span class="annottext">pprCFunHeader :: FilePath
-&gt; [(FilePath, CgVal)] -&gt; [(FilePath, CgVal)] -&gt; Maybe SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCFunHeader"><span class="hs-identifier hs-var hs-var">pprCFunHeader</span></a></span></span><span> </span><span id="local-6989586621681155201"><span class="annot"><span class="annottext">fn :: FilePath
</span><a href="#local-6989586621681155201"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621681155200"><span class="annot"><span class="annottext">ins :: [(FilePath, CgVal)]
</span><a href="#local-6989586621681155200"><span class="hs-identifier hs-var">ins</span></a></span></span><span> </span><span id="local-6989586621681155199"><span class="annot"><span class="annottext">outs :: [(FilePath, CgVal)]
</span><a href="#local-6989586621681155199"><span class="hs-identifier hs-var">outs</span></a></span></span><span> </span><span id="local-6989586621681155198"><span class="annot"><span class="annottext">mbRet :: Maybe SV
</span><a href="#local-6989586621681155198"><span class="hs-identifier hs-var">mbRet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155197"><span class="hs-identifier hs-var">retType</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155201"><span class="hs-identifier hs-var">fn</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((FilePath, CgVal) -&gt; Doc) -&gt; [(FilePath, CgVal)] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, CgVal) -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#mkParam"><span class="hs-identifier hs-var">mkParam</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155200"><span class="hs-identifier hs-var">ins</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; [Doc] -&gt; [Doc]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">((FilePath, CgVal) -&gt; Doc) -&gt; [(FilePath, CgVal)] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, CgVal) -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#mkPParam"><span class="hs-identifier hs-var">mkPParam</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155199"><span class="hs-identifier hs-var">outs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681155197"><span class="annot"><span class="annottext">retType :: Doc
</span><a href="#local-6989586621681155197"><span class="hs-identifier hs-var hs-var">retType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe SV
</span><a href="#local-6989586621681155198"><span class="hs-identifier hs-var">mbRet</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-153"></span><span>                   </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;void&quot;</span></span><span>
</span><span id="line-154"></span><span>                   </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681155189"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681155189"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SV -&gt; Doc
forall a. HasKind a =&gt; Bool -&gt; a -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCWord"><span class="hs-identifier hs-var">pprCWord</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155189"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkParam"><span class="hs-identifier hs-type">mkParam</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkPParam"><span class="hs-identifier hs-type">mkPParam</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgVal"><span class="hs-identifier hs-type">CgVal</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-157"></span><span id="mkParam"><span class="annot"><span class="annottext">mkParam :: (FilePath, CgVal) -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#mkParam"><span class="hs-identifier hs-var hs-var">mkParam</span></a></span></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621681155187"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681155187"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span> </span><span id="local-6989586621681155186"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681155186"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SV -&gt; Doc
forall a. HasKind a =&gt; Bool -&gt; a -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCWord"><span class="hs-identifier hs-var">pprCWord</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155186"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155187"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-158"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkParam"><span class="hs-identifier hs-var">mkParam</span></a></span><span>  </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span>  </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;mkParam: CgArray with no elements!&quot;</span></span><span>
</span><span id="line-159"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkParam"><span class="hs-identifier hs-var">mkParam</span></a></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621681155185"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681155185"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621681155184"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681155184"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SV -&gt; Doc
forall a. HasKind a =&gt; Bool -&gt; a -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCWord"><span class="hs-identifier hs-var">pprCWord</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155184"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;*&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155185"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-160"></span><span id="mkPParam"><span class="annot"><span class="annottext">mkPParam :: (FilePath, CgVal) -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#mkPParam"><span class="hs-identifier hs-var hs-var">mkPParam</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681155183"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681155183"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span> </span><span id="local-6989586621681155182"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681155182"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SV -&gt; Doc
forall a. HasKind a =&gt; Bool -&gt; a -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCWord"><span class="hs-identifier hs-var">pprCWord</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155182"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;*&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155183"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-161"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkPParam"><span class="hs-identifier hs-var">mkPParam</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span>  </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;mPkParam: CgArray with no elements!&quot;</span></span><span>
</span><span id="line-162"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkPParam"><span class="hs-identifier hs-var">mkPParam</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681155181"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681155181"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621681155180"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681155180"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SV -&gt; Doc
forall a. HasKind a =&gt; Bool -&gt; a -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCWord"><span class="hs-identifier hs-var">pprCWord</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155180"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;*&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155181"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-comment">-- | Renders as &quot;const SWord8 s0&quot;, etc. the first parameter is the width of the typefield</span><span>
</span><span id="line-165"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#declSV"><span class="hs-identifier hs-type">declSV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-166"></span><span id="declSV"><span class="annot"><span class="annottext">declSV :: Int -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#declSV"><span class="hs-identifier hs-var hs-var">declSV</span></a></span></span><span> </span><span id="local-6989586621681155178"><span class="annot"><span class="annottext">w :: Int
</span><a href="#local-6989586621681155178"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621681155177"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681155177"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;const&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><a href="#local-6989586621681155176"><span class="hs-identifier hs-var">pad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; FilePath
forall a. HasKind a =&gt; a -&gt; FilePath
</span><a href="Data.SBV.Compilers.C.html#showCType"><span class="hs-identifier hs-var">showCType</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155177"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155177"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681155176"><span class="annot"><span class="annottext">pad :: FilePath -&gt; Doc
</span><a href="#local-6989586621681155176"><span class="hs-identifier hs-var hs-var">pad</span></a></span></span><span> </span><span id="local-6989586621681155173"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681155173"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155173"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; FilePath
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681155178"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155173"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-char">' '</span></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span class="hs-comment">-- | Return the proper declaration and the result as a pair. No consts</span><span>
</span><span id="line-170"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#declSVNoConst"><span class="hs-identifier hs-type">declSVNoConst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span id="declSVNoConst"><span class="annot"><span class="annottext">declSVNoConst :: Int -&gt; SV -&gt; (Doc, Doc)
</span><a href="Data.SBV.Compilers.C.html#declSVNoConst"><span class="hs-identifier hs-var hs-var">declSVNoConst</span></a></span></span><span> </span><span id="local-6989586621681155169"><span class="annot"><span class="annottext">w :: Int
</span><a href="#local-6989586621681155169"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621681155168"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681155168"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;     &quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><a href="#local-6989586621681155167"><span class="hs-identifier hs-var">pad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; FilePath
forall a. HasKind a =&gt; a -&gt; FilePath
</span><a href="Data.SBV.Compilers.C.html#showCType"><span class="hs-identifier hs-var">showCType</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155168"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155168"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681155167"><span class="annot"><span class="annottext">pad :: FilePath -&gt; Doc
</span><a href="#local-6989586621681155167"><span class="hs-identifier hs-var hs-var">pad</span></a></span></span><span> </span><span id="local-6989586621681155166"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681155166"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155166"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; FilePath
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681155169"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155166"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-char">' '</span></span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-comment">-- | Renders as &quot;s0&quot;, etc, or the corresponding constant</span><span>
</span><span id="line-175"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSV"><span class="hs-identifier hs-type">showSV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgConfig"><span class="hs-identifier hs-type">CgConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-176"></span><span id="showSV"><span class="annot"><span class="annottext">showSV :: CgConfig -&gt; [(SV, CV)] -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSV"><span class="hs-identifier hs-var hs-var">showSV</span></a></span></span><span> </span><span id="local-6989586621681155164"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681155164"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621681155163"><span class="annot"><span class="annottext">consts :: [(SV, CV)]
</span><a href="#local-6989586621681155163"><span class="hs-identifier hs-var">consts</span></a></span></span><span> </span><span id="local-6989586621681155162"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681155162"><span class="hs-identifier hs-var">sv</span></a></span></span><span>
</span><span id="line-177"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155162"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;false&quot;</span></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155162"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;true&quot;</span></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681155159"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681155159"><span class="hs-identifier hs-var">cv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155162"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; [(SV, CV)] -&gt; Maybe CV
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-operator hs-var">`lookup`</span></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681155163"><span class="hs-identifier hs-var">consts</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; CV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var">mkConst</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155164"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681155159"><span class="hs-identifier hs-var">cv</span></a></span><span>
</span><span id="line-180"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155162"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-181"></span><span>
</span><span id="line-182"></span><span class="hs-comment">-- | Words as it would map to a C word</span><span>
</span><span id="line-183"></span><span id="local-6989586621681155443"><span class="annot"><a href="Data.SBV.Compilers.C.html#pprCWord"><span class="hs-identifier hs-type">pprCWord</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681155443"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681155443"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span></span><span>
</span><span id="line-184"></span><span id="pprCWord"><span class="annot"><span class="annottext">pprCWord :: Bool -&gt; a -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCWord"><span class="hs-identifier hs-var hs-var">pprCWord</span></a></span></span><span> </span><span id="local-6989586621681155156"><span class="annot"><span class="annottext">cnst :: Bool
</span><a href="#local-6989586621681155156"><span class="hs-identifier hs-var">cnst</span></a></span></span><span> </span><span id="local-6989586621681155155"><span class="annot"><span class="annottext">v :: a
</span><a href="#local-6989586621681155155"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155156"><span class="hs-identifier hs-var">cnst</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;const&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; FilePath
forall a. HasKind a =&gt; a -&gt; FilePath
</span><a href="Data.SBV.Compilers.C.html#showCType"><span class="hs-identifier hs-var">showCType</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681155155"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-comment">-- | Almost a &quot;show&quot;, but map &quot;SWord1&quot; to &quot;SBool&quot;</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- which is used for extracting one-bit words.</span><span>
</span><span id="line-188"></span><span id="local-6989586621681155441"><span class="annot"><a href="Data.SBV.Compilers.C.html#showCType"><span class="hs-identifier hs-type">showCType</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681155441"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681155441"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-189"></span><span id="showCType"><span class="annot"><span class="annottext">showCType :: a -&gt; FilePath
</span><a href="Data.SBV.Compilers.C.html#showCType"><span class="hs-identifier hs-var hs-var">showCType</span></a></span></span><span> </span><span id="local-6989586621681155154"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621681155154"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681155154"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-190"></span><span>                </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-string">&quot;SBool&quot;</span></span><span>
</span><span id="line-191"></span><span>                </span><span id="local-6989586621681155151"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681155151"><span class="hs-identifier hs-var">k</span></a></span></span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681155151"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-comment">-- | The printf specifier for the type</span><span>
</span><span id="line-194"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#specifier"><span class="hs-identifier hs-type">specifier</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgConfig"><span class="hs-identifier hs-type">CgConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-195"></span><span id="specifier"><span class="annot"><span class="annottext">specifier :: CgConfig -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#specifier"><span class="hs-identifier hs-var hs-var">specifier</span></a></span></span><span> </span><span id="local-6989586621681155149"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681155149"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621681155148"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681155148"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155148"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-196"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-type">KBool</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Bool, Int) -&gt; Doc
</span><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span id="local-6989586621681155145"><span class="annot"><span class="annottext">b :: Bool
</span><a href="#local-6989586621681155145"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681155144"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681155144"><span class="hs-identifier hs-var">i</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Bool, Int) -&gt; Doc
</span><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155145"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681155144"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-type">KUnbounded</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Bool, Int) -&gt; Doc
</span><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; Int
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; Maybe Int
</span><a href="Data.SBV.Compilers.CodeGen.html#cgInteger"><span class="hs-identifier hs-var hs-var">cgInteger</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155149"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CgSRealType -&gt; Doc
</span><a href="#local-6989586621681155141"><span class="hs-identifier hs-var">specF</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe CgSRealType -&gt; CgSRealType
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; Maybe CgSRealType
</span><a href="Data.SBV.Compilers.CodeGen.html#cgReal"><span class="hs-identifier hs-var hs-var">cgReal</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155149"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CgSRealType -&gt; Doc
</span><a href="#local-6989586621681155141"><span class="hs-identifier hs-var">specF</span></a></span><span> </span><span class="annot"><span class="annottext">CgSRealType
</span><a href="Data.SBV.Compilers.CodeGen.html#CgFloat"><span class="hs-identifier hs-var">CgFloat</span></a></span><span>
</span><span id="line-201"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CgSRealType -&gt; Doc
</span><a href="#local-6989586621681155141"><span class="hs-identifier hs-var">specF</span></a></span><span> </span><span class="annot"><span class="annottext">CgSRealType
</span><a href="Data.SBV.Compilers.CodeGen.html#CgDouble"><span class="hs-identifier hs-var">CgDouble</span></a></span><span>
</span><span id="line-202"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KString"><span class="hs-identifier hs-type">KString</span></a></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;%s&quot;</span></span><span>
</span><span id="line-203"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KChar"><span class="hs-identifier hs-type">KChar</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;%c&quot;</span></span><span>
</span><span id="line-204"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KList"><span class="hs-identifier hs-type">KList</span></a></span><span> </span><span id="local-6989586621681155133"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681155133"><span class="hs-identifier hs-var">k</span></a></span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;list sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681155133"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-205"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KSet"><span class="hs-identifier hs-type">KSet</span></a></span><span>  </span><span id="local-6989586621681155131"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681155131"><span class="hs-identifier hs-var">k</span></a></span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;set sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681155131"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-206"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span> </span><span id="local-6989586621681155129"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681155129"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;uninterpreted sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155129"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-207"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KTuple"><span class="hs-identifier hs-type">KTuple</span></a></span><span> </span><span id="local-6989586621681155127"><span class="annot"><span class="annottext">k :: [Kind]
</span><a href="#local-6989586621681155127"><span class="hs-identifier hs-var">k</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;tuple sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681155127"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-208"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KMaybe"><span class="hs-identifier hs-type">KMaybe</span></a></span><span>  </span><span id="local-6989586621681155125"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681155125"><span class="hs-identifier hs-var">k</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;maybe sort: &quot;</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681155125"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-209"></span><span>                     </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KEither"><span class="hs-identifier hs-type">KEither</span></a></span><span> </span><span id="local-6989586621681155123"><span class="annot"><span class="annottext">k1 :: Kind
</span><a href="#local-6989586621681155123"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span id="local-6989586621681155122"><span class="annot"><span class="annottext">k2 :: Kind
</span><a href="#local-6989586621681155122"><span class="hs-identifier hs-var">k2</span></a></span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;either sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681155123"><span class="hs-identifier hs-var">k1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681155122"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-210"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681155121"><span class="annot"><span class="annottext">u8InHex :: Bool
</span><a href="#local-6989586621681155121"><span class="hs-identifier hs-var hs-var">u8InHex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; Bool
</span><a href="Data.SBV.Compilers.CodeGen.html#cgShowU8InHex"><span class="hs-identifier hs-var hs-var">cgShowU8InHex</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155149"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span>        </span><span class="annot"><a href="#local-6989586621681155146"><span class="hs-identifier hs-type">spec</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-213"></span><span>        </span><span id="local-6989586621681155146"><span class="annot"><span class="annottext">spec :: (Bool, Int) -&gt; Doc
</span><a href="#local-6989586621681155146"><span class="hs-identifier hs-var hs-var">spec</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span>  </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;%d&quot;</span></span><span>
</span><span id="line-214"></span><span>        </span><span class="annot"><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span>  </span><span class="hs-number">8</span><span class="hs-special">)</span><span>
</span><span id="line-215"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155121"><span class="hs-identifier hs-var">u8InHex</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;0x%02\&quot;PRIx8\&quot;&quot;</span></span><span>
</span><span id="line-216"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;%\&quot;PRIu8\&quot;&quot;</span></span><span>
</span><span id="line-217"></span><span>        </span><span class="annot"><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span>   </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;%\&quot;PRId8\&quot;&quot;</span></span><span>
</span><span id="line-218"></span><span>        </span><span class="annot"><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span> </span><span class="hs-number">16</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;0x%04\&quot;PRIx16\&quot;U&quot;</span></span><span>
</span><span id="line-219"></span><span>        </span><span class="annot"><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span>  </span><span class="hs-number">16</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;%\&quot;PRId16\&quot;&quot;</span></span><span>
</span><span id="line-220"></span><span>        </span><span class="annot"><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span> </span><span class="hs-number">32</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;0x%08\&quot;PRIx32\&quot;UL&quot;</span></span><span>
</span><span id="line-221"></span><span>        </span><span class="annot"><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span>  </span><span class="hs-number">32</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;%\&quot;PRId32\&quot;L&quot;</span></span><span>
</span><span id="line-222"></span><span>        </span><span class="annot"><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span> </span><span class="hs-number">64</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;0x%016\&quot;PRIx64\&quot;ULL&quot;</span></span><span>
</span><span id="line-223"></span><span>        </span><span class="annot"><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span>  </span><span class="hs-number">64</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;%\&quot;PRId64\&quot;LL&quot;</span></span><span>
</span><span id="line-224"></span><span>        </span><span class="annot"><a href="#local-6989586621681155146"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681155119"><span class="annot"><span class="annottext">s :: Bool
</span><a href="#local-6989586621681155119"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155118"><span class="annot"><span class="annottext">sz :: Int
</span><a href="#local-6989586621681155118"><span class="hs-identifier hs-var">sz</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Format specifier at type &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155119"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-string">&quot;SInt&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-string">&quot;SWord&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681155118"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span>        </span><span class="annot"><a href="#local-6989586621681155141"><span class="hs-identifier hs-type">specF</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgSRealType"><span class="hs-identifier hs-type">CgSRealType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-227"></span><span>        </span><span id="local-6989586621681155141"><span class="annot"><span class="annottext">specF :: CgSRealType -&gt; Doc
</span><a href="#local-6989586621681155141"><span class="hs-identifier hs-var hs-var">specF</span></a></span></span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgFloat"><span class="hs-identifier hs-type">CgFloat</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;%a&quot;</span></span><span>
</span><span id="line-228"></span><span>        </span><span class="annot"><a href="#local-6989586621681155141"><span class="hs-identifier hs-var">specF</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgDouble"><span class="hs-identifier hs-type">CgDouble</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;%a&quot;</span></span><span>
</span><span id="line-229"></span><span>        </span><span class="annot"><a href="#local-6989586621681155141"><span class="hs-identifier hs-var">specF</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgLongDouble"><span class="hs-identifier hs-type">CgLongDouble</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;%Lf&quot;</span></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-comment">-- | Make a constant value of the given type. We don't check for out of bounds here, as it should not be needed.</span><span>
</span><span id="line-232"></span><span class="hs-comment">--   There are many options here, using binary, decimal, etc. We simply use decimal for values 8-bits or less,</span><span>
</span><span id="line-233"></span><span class="hs-comment">--   and hex otherwise.</span><span>
</span><span id="line-234"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-type">mkConst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgConfig"><span class="hs-identifier hs-type">CgConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-235"></span><span id="mkConst"><span class="annot"><span class="annottext">mkConst :: CgConfig -&gt; CV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var hs-var">mkConst</span></a></span></span><span> </span><span id="local-6989586621681155116"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681155116"><span class="hs-identifier hs-var">cfg</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-type">CAlgReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgRational"><span class="hs-identifier hs-type">AlgRational</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681155112"><span class="annot"><span class="annottext">r :: Rational
</span><a href="#local-6989586621681155112"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Doc
</span><span class="hs-identifier hs-var">double</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rational -&gt; Double
forall a. Fractional a =&gt; Rational -&gt; a
</span><span class="hs-identifier hs-var">fromRational</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621681155112"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">CgSRealType -&gt; Doc
</span><a href="#local-6989586621681155110"><span class="hs-identifier hs-var">sRealSuffix</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe CgSRealType -&gt; CgSRealType
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; Maybe CgSRealType
</span><a href="Data.SBV.Compilers.CodeGen.html#cgReal"><span class="hs-identifier hs-var hs-var">cgReal</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155116"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681155110"><span class="annot"><span class="annottext">sRealSuffix :: CgSRealType -&gt; Doc
</span><a href="#local-6989586621681155110"><span class="hs-identifier hs-var hs-var">sRealSuffix</span></a></span></span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgFloat"><span class="hs-identifier hs-type">CgFloat</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;F&quot;</span></span><span>
</span><span id="line-237"></span><span>        </span><span class="annot"><a href="#local-6989586621681155110"><span class="hs-identifier hs-var">sRealSuffix</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgDouble"><span class="hs-identifier hs-type">CgDouble</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-238"></span><span>        </span><span class="annot"><a href="#local-6989586621681155110"><span class="hs-identifier hs-var">sRealSuffix</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgLongDouble"><span class="hs-identifier hs-type">CgLongDouble</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;L&quot;</span></span><span>
</span><span id="line-239"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var">mkConst</span></a></span><span> </span><span id="local-6989586621681155109"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681155109"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-type">KUnbounded</span></a></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681155107"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155107"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Integer -&gt; (Bool, Int) -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; Bool
</span><a href="Data.SBV.Compilers.CodeGen.html#cgShowU8InHex"><span class="hs-identifier hs-var hs-var">cgShowU8InHex</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155109"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155107"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; Int
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; Maybe Int
</span><a href="Data.SBV.Compilers.CodeGen.html#cgInteger"><span class="hs-identifier hs-var hs-var">cgInteger</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155109"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var">mkConst</span></a></span><span> </span><span id="local-6989586621681155105"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681155105"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span id="local-6989586621681155104"><span class="annot"><span class="annottext">sg :: Bool
</span><a href="#local-6989586621681155104"><span class="hs-identifier hs-var">sg</span></a></span></span><span> </span><span id="local-6989586621681155103"><span class="annot"><span class="annottext">sz :: Int
</span><a href="#local-6989586621681155103"><span class="hs-identifier hs-var">sz</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681155102"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155102"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Integer -&gt; (Bool, Int) -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; Bool
</span><a href="Data.SBV.Compilers.CodeGen.html#cgShowU8InHex"><span class="hs-identifier hs-var hs-var">cgShowU8InHex</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155105"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155102"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155104"><span class="hs-identifier hs-var">sg</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681155103"><span class="hs-identifier hs-var">sz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var">mkConst</span></a></span><span> </span><span id="local-6989586621681155101"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681155101"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-type">KBool</span></a></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681155100"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155100"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Integer -&gt; (Bool, Int) -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; Bool
</span><a href="Data.SBV.Compilers.CodeGen.html#cgShowU8InHex"><span class="hs-identifier hs-var hs-var">cgShowU8InHex</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155101"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155100"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-242"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var">mkConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span>           </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CFloat"><span class="hs-identifier hs-type">CFloat</span></a></span><span> </span><span id="local-6989586621681155098"><span class="annot"><span class="annottext">f :: Float
</span><a href="#local-6989586621681155098"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; FilePath
</span><a href="Data.SBV.Utils.PrettyNum.html#showCFloat"><span class="hs-identifier hs-var">showCFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681155098"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-243"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var">mkConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CDouble"><span class="hs-identifier hs-type">CDouble</span></a></span><span> </span><span id="local-6989586621681155096"><span class="annot"><span class="annottext">d :: Double
</span><a href="#local-6989586621681155096"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; FilePath
</span><a href="Data.SBV.Utils.PrettyNum.html#showCDouble"><span class="hs-identifier hs-var">showCDouble</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681155096"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-244"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var">mkConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KString"><span class="hs-identifier hs-type">KString</span></a></span><span>          </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CString"><span class="hs-identifier hs-type">CString</span></a></span><span> </span><span id="local-6989586621681155094"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681155094"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155094"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-245"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var">mkConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KChar"><span class="hs-identifier hs-type">KChar</span></a></span><span>            </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CChar"><span class="hs-identifier hs-type">CChar</span></a></span><span> </span><span id="local-6989586621681155092"><span class="annot"><span class="annottext">c :: Char
</span><a href="#local-6989586621681155092"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681155092"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-246"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var">mkConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681155091"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681155091"><span class="hs-identifier hs-var">cv</span></a></span></span><span>                                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;mkConst: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681155091"><span class="hs-identifier hs-var">cv</span></a></span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-type">showSizedConst</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-249"></span><span id="showSizedConst"><span class="annot"><span class="annottext">showSizedConst :: Bool -&gt; Integer -&gt; (Bool, Int) -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var hs-var">showSizedConst</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681155090"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155090"><span class="hs-identifier hs-var">i</span></a></span></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span>  </span><span class="hs-number">1</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155090"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-string">&quot;false&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-string">&quot;true&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-250"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span id="local-6989586621681155089"><span class="annot"><span class="annottext">u8h :: Bool
</span><a href="#local-6989586621681155089"><span class="hs-identifier hs-var">u8h</span></a></span></span><span> </span><span id="local-6989586621681155088"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155088"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681155087"><span class="annot"><span class="annottext">t :: (Bool, Int)
</span><a href="#local-6989586621681155087"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span>  </span><span class="hs-number">8</span><span class="hs-special">)</span><span>
</span><span id="line-251"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155089"><span class="hs-identifier hs-var">u8h</span></a></span><span>                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; (Bool, Int) -&gt; Integer -&gt; FilePath
forall a.
(Show a, Integral a) =&gt;
Bool -&gt; Bool -&gt; (Bool, Int) -&gt; a -&gt; FilePath
</span><a href="Data.SBV.Utils.PrettyNum.html#chex"><span class="hs-identifier hs-var">chex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(Bool, Int)
</span><a href="#local-6989586621681155087"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155088"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Doc
</span><span class="hs-identifier hs-var">integer</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155088"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-253"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681155085"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155085"><span class="hs-identifier hs-var">i</span></a></span></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span>   </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Doc
</span><span class="hs-identifier hs-var">integer</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155085"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-254"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681155084"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155084"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681155083"><span class="annot"><span class="annottext">t :: (Bool, Int)
</span><a href="#local-6989586621681155083"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span> </span><span class="hs-number">16</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; (Bool, Int) -&gt; Integer -&gt; FilePath
forall a.
(Show a, Integral a) =&gt;
Bool -&gt; Bool -&gt; (Bool, Int) -&gt; a -&gt; FilePath
</span><a href="Data.SBV.Utils.PrettyNum.html#chex"><span class="hs-identifier hs-var">chex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(Bool, Int)
</span><a href="#local-6989586621681155083"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155084"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-255"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681155082"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155082"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681155081"><span class="annot"><span class="annottext">t :: (Bool, Int)
</span><a href="#local-6989586621681155081"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span>  </span><span class="hs-number">16</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; (Bool, Int) -&gt; Integer -&gt; FilePath
forall a.
(Show a, Integral a) =&gt;
Bool -&gt; Bool -&gt; (Bool, Int) -&gt; a -&gt; FilePath
</span><a href="Data.SBV.Utils.PrettyNum.html#chex"><span class="hs-identifier hs-var">chex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(Bool, Int)
</span><a href="#local-6989586621681155081"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155082"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-256"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681155080"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155080"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681155079"><span class="annot"><span class="annottext">t :: (Bool, Int)
</span><a href="#local-6989586621681155079"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span> </span><span class="hs-number">32</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; (Bool, Int) -&gt; Integer -&gt; FilePath
forall a.
(Show a, Integral a) =&gt;
Bool -&gt; Bool -&gt; (Bool, Int) -&gt; a -&gt; FilePath
</span><a href="Data.SBV.Utils.PrettyNum.html#chex"><span class="hs-identifier hs-var">chex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(Bool, Int)
</span><a href="#local-6989586621681155079"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155080"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-257"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681155078"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155078"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681155077"><span class="annot"><span class="annottext">t :: (Bool, Int)
</span><a href="#local-6989586621681155077"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span>  </span><span class="hs-number">32</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; (Bool, Int) -&gt; Integer -&gt; FilePath
forall a.
(Show a, Integral a) =&gt;
Bool -&gt; Bool -&gt; (Bool, Int) -&gt; a -&gt; FilePath
</span><a href="Data.SBV.Utils.PrettyNum.html#chex"><span class="hs-identifier hs-var">chex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(Bool, Int)
</span><a href="#local-6989586621681155077"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155078"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-258"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681155076"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155076"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681155075"><span class="annot"><span class="annottext">t :: (Bool, Int)
</span><a href="#local-6989586621681155075"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">,</span><span> </span><span class="hs-number">64</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; (Bool, Int) -&gt; Integer -&gt; FilePath
forall a.
(Show a, Integral a) =&gt;
Bool -&gt; Bool -&gt; (Bool, Int) -&gt; a -&gt; FilePath
</span><a href="Data.SBV.Utils.PrettyNum.html#chex"><span class="hs-identifier hs-var">chex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(Bool, Int)
</span><a href="#local-6989586621681155075"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155076"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-259"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681155074"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155074"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681155073"><span class="annot"><span class="annottext">t :: (Bool, Int)
</span><a href="#local-6989586621681155073"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span>  </span><span class="hs-number">64</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; (Bool, Int) -&gt; Integer -&gt; FilePath
forall a.
(Show a, Integral a) =&gt;
Bool -&gt; Bool -&gt; (Bool, Int) -&gt; a -&gt; FilePath
</span><a href="Data.SBV.Utils.PrettyNum.html#chex"><span class="hs-identifier hs-var">chex</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(Bool, Int)
</span><a href="#local-6989586621681155073"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155074"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-260"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681155072"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155072"><span class="hs-identifier hs-var">i</span></a></span></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span>  </span><span class="hs-number">1</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Signed 1-bit value &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155072"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-261"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#showSizedConst"><span class="hs-identifier hs-var">showSizedConst</span></a></span><span> </span><span class="hs-identifier">_</span><span>   </span><span id="local-6989586621681155071"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681155071"><span class="hs-identifier hs-var">i</span></a></span></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621681155070"><span class="annot"><span class="annottext">s :: Bool
</span><a href="#local-6989586621681155070"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155069"><span class="annot"><span class="annottext">sz :: Int
</span><a href="#local-6989586621681155069"><span class="hs-identifier hs-var">sz</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Constant &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681155071"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; at type &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155070"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-string">&quot;SInt&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-string">&quot;SWord&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681155069"><span class="hs-identifier hs-var">sz</span></a></span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span class="hs-comment">-- | Generate a makefile. The first argument is True if we have a driver.</span><span>
</span><span id="line-264"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#genMake"><span class="hs-identifier hs-type">genMake</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-265"></span><span id="genMake"><span class="annot"><span class="annottext">genMake :: Bool -&gt; FilePath -&gt; FilePath -&gt; [FilePath] -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#genMake"><span class="hs-identifier hs-var hs-var">genMake</span></a></span></span><span> </span><span id="local-6989586621681155068"><span class="annot"><span class="annottext">ifdr :: Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span></span><span> </span><span id="local-6989586621681155067"><span class="annot"><span class="annottext">fn :: FilePath
</span><a href="#local-6989586621681155067"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621681155066"><span class="annot"><span class="annottext">dn :: FilePath
</span><a href="#local-6989586621681155066"><span class="hs-identifier hs-var">dn</span></a></span></span><span> </span><span id="local-6989586621681155065"><span class="annot"><span class="annottext">ldFlags :: [FilePath]
</span><a href="#local-6989586621681155065"><span class="hs-identifier hs-var">ldFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; Doc -&gt; Doc) -&gt; [Doc] -&gt; Doc
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldr1</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">($$)</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155062"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155062"><span class="annot"><span class="annottext">l :: Doc
</span><a href="#local-6989586621681155062"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Bool, Doc)]
</span><a href="#local-6989586621681155061"><span class="hs-identifier hs-var">lns</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-266"></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681155060"><span class="annot"><span class="annottext">ifld :: Bool
</span><a href="#local-6989586621681155060"><span class="hs-identifier hs-var hs-var">ifld</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FilePath] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681155065"><span class="hs-identifier hs-var">ldFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>       </span><span id="local-6989586621681155057"><span class="annot"><span class="annottext">ld :: Doc
</span><a href="#local-6989586621681155057"><span class="hs-identifier hs-var hs-var">ld</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155060"><span class="hs-identifier hs-var">ifld</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;${LDFLAGS}&quot;</span></span><span>
</span><span id="line-268"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-269"></span><span>       </span><span id="local-6989586621681155061"><span class="annot"><span class="annottext">lns :: [(Bool, Doc)]
</span><a href="#local-6989586621681155061"><span class="hs-identifier hs-var hs-var">lns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;# Makefile for&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155056"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;. Automatically generated by SBV. Do not edit!&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;# include any user-defined .mk file in the current directory.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;-include *.mk&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-273"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-274"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;CC?=gcc&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-275"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;CCFLAGS?=-Wall -O3 -DNDEBUG -fomit-frame-pointer&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-276"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155060"><span class="hs-identifier hs-var">ifld</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;LDFLAGS?=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FilePath] -&gt; FilePath
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681155065"><span class="hs-identifier hs-var">ldFlags</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-278"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;all:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155054"><span class="hs-identifier hs-var">nmd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-279"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-280"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155053"><span class="hs-identifier hs-var">nmo</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; FilePath
</span><a href="Data.SBV.Compilers.C.html#ppSameLine"><span class="hs-identifier hs-var">ppSameLine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155050"><span class="hs-identifier hs-var">nmc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155049"><span class="hs-identifier hs-var">nmh</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-281"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\t${CC} ${CCFLAGS}&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;-c $&lt; -o $@&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-282"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155048"><span class="hs-identifier hs-var">nmdo</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155047"><span class="hs-identifier hs-var">nmdc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-284"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\t${CC} ${CCFLAGS}&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;-c $&lt; -o $@&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155054"><span class="hs-identifier hs-var">nmd</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; FilePath
</span><a href="Data.SBV.Compilers.C.html#ppSameLine"><span class="hs-identifier hs-var">ppSameLine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">hsep</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155053"><span class="hs-identifier hs-var">nmo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155048"><span class="hs-identifier hs-var">nmdo</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\t${CC} ${CCFLAGS}&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;$^ -o $@&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155057"><span class="hs-identifier hs-var">ld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-289"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;clean:&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\trm -f *.o&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;veryclean: clean&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\trm -f&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155054"><span class="hs-identifier hs-var">nmd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155068"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-296"></span><span>       </span><span id="local-6989586621681155056"><span class="annot"><span class="annottext">nm :: Doc
</span><a href="#local-6989586621681155056"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155067"><span class="hs-identifier hs-var">fn</span></a></span><span>
</span><span id="line-297"></span><span>       </span><span id="local-6989586621681155054"><span class="annot"><span class="annottext">nmd :: Doc
</span><a href="#local-6989586621681155054"><span class="hs-identifier hs-var hs-var">nmd</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155066"><span class="hs-identifier hs-var">dn</span></a></span><span>
</span><span id="line-298"></span><span>       </span><span id="local-6989586621681155049"><span class="annot"><span class="annottext">nmh :: Doc
</span><a href="#local-6989586621681155049"><span class="hs-identifier hs-var hs-var">nmh</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155056"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.h&quot;</span></span><span>
</span><span id="line-299"></span><span>       </span><span id="local-6989586621681155050"><span class="annot"><span class="annottext">nmc :: Doc
</span><a href="#local-6989586621681155050"><span class="hs-identifier hs-var hs-var">nmc</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155056"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.c&quot;</span></span><span>
</span><span id="line-300"></span><span>       </span><span id="local-6989586621681155053"><span class="annot"><span class="annottext">nmo :: Doc
</span><a href="#local-6989586621681155053"><span class="hs-identifier hs-var hs-var">nmo</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155056"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.o&quot;</span></span><span>
</span><span id="line-301"></span><span>       </span><span id="local-6989586621681155047"><span class="annot"><span class="annottext">nmdc :: Doc
</span><a href="#local-6989586621681155047"><span class="hs-identifier hs-var hs-var">nmdc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155054"><span class="hs-identifier hs-var">nmd</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.c&quot;</span></span><span>
</span><span id="line-302"></span><span>       </span><span id="local-6989586621681155048"><span class="annot"><span class="annottext">nmdo :: Doc
</span><a href="#local-6989586621681155048"><span class="hs-identifier hs-var hs-var">nmdo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155054"><span class="hs-identifier hs-var">nmd</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.o&quot;</span></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-comment">-- | Generate the header</span><span>
</span><span id="line-305"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#genHeader"><span class="hs-identifier hs-type">genHeader</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgSRealType"><span class="hs-identifier hs-type">CgSRealType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-306"></span><span id="genHeader"><span class="annot"><span class="annottext">genHeader :: (Maybe Int, Maybe CgSRealType) -&gt; FilePath -&gt; [Doc] -&gt; Doc -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#genHeader"><span class="hs-identifier hs-var hs-var">genHeader</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681155046"><span class="annot"><span class="annottext">ik :: Maybe Int
</span><a href="#local-6989586621681155046"><span class="hs-identifier hs-var">ik</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681155045"><span class="annot"><span class="annottext">rk :: Maybe CgSRealType
</span><a href="#local-6989586621681155045"><span class="hs-identifier hs-var">rk</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681155044"><span class="annot"><span class="annottext">fn :: FilePath
</span><a href="#local-6989586621681155044"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621681155043"><span class="annot"><span class="annottext">sigs :: [Doc]
</span><a href="#local-6989586621681155043"><span class="hs-identifier hs-var">sigs</span></a></span></span><span> </span><span id="local-6989586621681155042"><span class="annot"><span class="annottext">protos :: Doc
</span><a href="#local-6989586621681155042"><span class="hs-identifier hs-var">protos</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-307"></span><span>     </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* Header file for&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155041"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;. Automatically generated by SBV. Do not edit! */&quot;</span></span><span>
</span><span id="line-308"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-309"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#ifndef&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155040"><span class="hs-identifier hs-var">tag</span></a></span><span>
</span><span id="line-310"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#define&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155040"><span class="hs-identifier hs-var">tag</span></a></span><span>
</span><span id="line-311"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-312"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include &lt;stdio.h&gt;&quot;</span></span><span>
</span><span id="line-313"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include &lt;stdlib.h&gt;&quot;</span></span><span>
</span><span id="line-314"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include &lt;inttypes.h&gt;&quot;</span></span><span>
</span><span id="line-315"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include &lt;stdint.h&gt;&quot;</span></span><span>
</span><span id="line-316"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include &lt;stdbool.h&gt;&quot;</span></span><span>
</span><span id="line-317"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include &lt;string.h&gt;&quot;</span></span><span>
</span><span id="line-318"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include &lt;math.h&gt;&quot;</span></span><span>
</span><span id="line-319"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-320"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* The boolean type */&quot;</span></span><span>
</span><span id="line-321"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;typedef bool SBool;&quot;</span></span><span>
</span><span id="line-322"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-323"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* The float type */&quot;</span></span><span>
</span><span id="line-324"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;typedef float SFloat;&quot;</span></span><span>
</span><span id="line-325"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-326"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* The double type */&quot;</span></span><span>
</span><span id="line-327"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;typedef double SDouble;&quot;</span></span><span>
</span><span id="line-328"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-329"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* Unsigned bit-vectors */&quot;</span></span><span>
</span><span id="line-330"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;typedef uint8_t  SWord8;&quot;</span></span><span>
</span><span id="line-331"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;typedef uint16_t SWord16;&quot;</span></span><span>
</span><span id="line-332"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;typedef uint32_t SWord32;&quot;</span></span><span>
</span><span id="line-333"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;typedef uint64_t SWord64;&quot;</span></span><span>
</span><span id="line-334"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-335"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* Signed bit-vectors */&quot;</span></span><span>
</span><span id="line-336"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;typedef int8_t  SInt8;&quot;</span></span><span>
</span><span id="line-337"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;typedef int16_t SInt16;&quot;</span></span><span>
</span><span id="line-338"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;typedef int32_t SInt32;&quot;</span></span><span>
</span><span id="line-339"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;typedef int64_t SInt64;&quot;</span></span><span>
</span><span id="line-340"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-341"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155039"><span class="hs-identifier hs-var">imapping</span></a></span><span>
</span><span id="line-342"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155038"><span class="hs-identifier hs-var">rmapping</span></a></span><span>
</span><span id="line-343"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;/* Entry point prototype&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155037"><span class="hs-identifier hs-var">plu</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;: */&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Doc -&gt; Doc) -&gt; [Doc] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681155043"><span class="hs-identifier hs-var">sigs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-346"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155042"><span class="hs-identifier hs-var">protos</span></a></span><span>
</span><span id="line-347"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#endif /*&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155040"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;*/&quot;</span></span><span>
</span><span id="line-348"></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-349"></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681155041"><span class="annot"><span class="annottext">nm :: Doc
</span><a href="#local-6989586621681155041"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155044"><span class="hs-identifier hs-var">fn</span></a></span><span>
</span><span id="line-350"></span><span>       </span><span id="local-6989586621681155040"><span class="annot"><span class="annottext">tag :: Doc
</span><a href="#local-6989586621681155040"><span class="hs-identifier hs-var hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;__&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155041"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;__HEADER_INCLUDED__&quot;</span></span><span>
</span><span id="line-351"></span><span>       </span><span id="local-6989586621681155037"><span class="annot"><span class="annottext">plu :: FilePath
</span><a href="#local-6989586621681155037"><span class="hs-identifier hs-var hs-var">plu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681155043"><span class="hs-identifier hs-var">sigs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-string">&quot;s&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-352"></span><span>       </span><span id="local-6989586621681155039"><span class="annot"><span class="annottext">imapping :: Doc
</span><a href="#local-6989586621681155039"><span class="hs-identifier hs-var hs-var">imapping</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621681155046"><span class="hs-identifier hs-var">ik</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-353"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-354"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681155034"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681155034"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span>    </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* User requested mapping for SInteger.                                 */&quot;</span></span><span>
</span><span id="line-355"></span><span>                               </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* NB. Loss of precision: Target type is subject to modular arithmetic. */&quot;</span></span><span>
</span><span id="line-356"></span><span>                               </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;typedef SInt&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681155034"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; SInteger;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>                               </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-358"></span><span>       </span><span id="local-6989586621681155038"><span class="annot"><span class="annottext">rmapping :: Doc
</span><a href="#local-6989586621681155038"><span class="hs-identifier hs-var hs-var">rmapping</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe CgSRealType
</span><a href="#local-6989586621681155045"><span class="hs-identifier hs-var">rk</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-359"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-360"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681155033"><span class="annot"><span class="annottext">t :: CgSRealType
</span><a href="#local-6989586621681155033"><span class="hs-identifier hs-var">t</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span>    </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* User requested mapping for SReal.                          */&quot;</span></span><span>
</span><span id="line-361"></span><span>                               </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* NB. Loss of precision: Target type is subject to rounding. */&quot;</span></span><span>
</span><span id="line-362"></span><span>                               </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;typedef &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">CgSRealType -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">CgSRealType
</span><a href="#local-6989586621681155033"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; SReal;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-363"></span><span>                               </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-364"></span><span>
</span><span id="line-365"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#sepIf"><span class="hs-identifier hs-type">sepIf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-366"></span><span id="sepIf"><span class="annot"><span class="annottext">sepIf :: Bool -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#sepIf"><span class="hs-identifier hs-var hs-var">sepIf</span></a></span></span><span> </span><span id="local-6989586621681155031"><span class="annot"><span class="annottext">b :: Bool
</span><a href="#local-6989586621681155031"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681155031"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="hs-comment">-- | Generate an example driver program</span><span>
</span><span id="line-369"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#genDriver"><span class="hs-identifier hs-type">genDriver</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgConfig"><span class="hs-identifier hs-type">CgConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgVal"><span class="hs-identifier hs-type">CgVal</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgVal"><span class="hs-identifier hs-type">CgVal</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">]</span><span>
</span><span id="line-370"></span><span id="genDriver"><span class="annot"><span class="annottext">genDriver :: CgConfig
-&gt; [Integer]
-&gt; FilePath
-&gt; [(FilePath, CgVal)]
-&gt; [(FilePath, CgVal)]
-&gt; Maybe SV
-&gt; [Doc]
</span><a href="Data.SBV.Compilers.C.html#genDriver"><span class="hs-identifier hs-var hs-var">genDriver</span></a></span></span><span> </span><span id="local-6989586621681155030"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681155030"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621681155029"><span class="annot"><span class="annottext">randVals :: [Integer]
</span><a href="#local-6989586621681155029"><span class="hs-identifier hs-var">randVals</span></a></span></span><span> </span><span id="local-6989586621681155028"><span class="annot"><span class="annottext">fn :: FilePath
</span><a href="#local-6989586621681155028"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621681155027"><span class="annot"><span class="annottext">inps :: [(FilePath, CgVal)]
</span><a href="#local-6989586621681155027"><span class="hs-identifier hs-var">inps</span></a></span></span><span> </span><span id="local-6989586621681155026"><span class="annot"><span class="annottext">outs :: [(FilePath, CgVal)]
</span><a href="#local-6989586621681155026"><span class="hs-identifier hs-var">outs</span></a></span></span><span> </span><span id="local-6989586621681155025"><span class="annot"><span class="annottext">mbRet :: Maybe SV
</span><a href="#local-6989586621681155025"><span class="hs-identifier hs-var">mbRet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155024"><span class="hs-identifier hs-var">pre</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155023"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155022"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155021"><span class="hs-identifier hs-var">post</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-371"></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681155024"><span class="annot"><span class="annottext">pre :: Doc
</span><a href="#local-6989586621681155024"><span class="hs-identifier hs-var hs-var">pre</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* Example driver program for&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155020"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;. */&quot;</span></span><span>
</span><span id="line-372"></span><span>              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* Automatically generated by SBV. Edit as you see fit! */&quot;</span></span><span>
</span><span id="line-373"></span><span>              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-374"></span><span>              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include &lt;stdio.h&gt;&quot;</span></span><span>
</span><span id="line-375"></span><span>       </span><span id="local-6989586621681155023"><span class="annot"><span class="annottext">header :: Doc
</span><a href="#local-6989586621681155023"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">doubleQuotes</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155020"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.h&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-376"></span><span>              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-377"></span><span>              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;int main(void)&quot;</span></span><span>
</span><span id="line-378"></span><span>              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;{&quot;</span></span><span>
</span><span id="line-379"></span><span>       </span><span id="local-6989586621681155022"><span class="annot"><span class="annottext">body :: Doc
</span><a href="#local-6989586621681155022"><span class="hs-identifier hs-var hs-var">body</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-380"></span><span>              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc -&gt; Doc
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span>   </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(([Doc], FilePath, CgVal) -&gt; Doc)
-&gt; [([Doc], FilePath, CgVal)] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">([Doc], FilePath, CgVal) -&gt; Doc
</span><a href="#local-6989586621681155017"><span class="hs-identifier hs-var">mkInp</span></a></span><span> </span><span class="annot"><span class="annottext">[([Doc], FilePath, CgVal)]
</span><a href="#local-6989586621681155016"><span class="hs-identifier hs-var">pairedInputs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-381"></span><span>                      </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((FilePath, CgVal) -&gt; Doc) -&gt; [(FilePath, CgVal)] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, CgVal) -&gt; Doc
</span><a href="#local-6989586621681155015"><span class="hs-identifier hs-var">mkOut</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155026"><span class="hs-identifier hs-var">outs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-382"></span><span>                      </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#sepIf"><span class="hs-identifier hs-var">sepIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[()] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[([Doc], FilePath, CgVal)]
</span><a href="#local-6989586621681155016"><span class="hs-identifier hs-var">pairedInputs</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(FilePath, CgVal)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155026"><span class="hs-identifier hs-var">outs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-383"></span><span>                      </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155013"><span class="hs-identifier hs-var">call</span></a></span><span>
</span><span id="line-384"></span><span>                      </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-385"></span><span>                      </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe SV
</span><a href="#local-6989586621681155025"><span class="hs-identifier hs-var">mbRet</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-386"></span><span>                              </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681155012"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681155012"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;printf&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#printQuotes"><span class="hs-identifier hs-var">printQuotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155010"><span class="hs-identifier hs-var">fcall</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#specifier"><span class="hs-identifier hs-var">specifier</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155030"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155012"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\\n&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>                                                                              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155009"><span class="hs-identifier hs-var">resultVar</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-388"></span><span>                              </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;printf&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#printQuotes"><span class="hs-identifier hs-var">printQuotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155010"><span class="hs-identifier hs-var">fcall</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;-&gt;\\n&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span class="hs-special">)</span><span>
</span><span id="line-389"></span><span>                      </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((FilePath, CgVal) -&gt; Doc) -&gt; [(FilePath, CgVal)] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, CgVal) -&gt; Doc
</span><a href="#local-6989586621681155008"><span class="hs-identifier hs-var">display</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155026"><span class="hs-identifier hs-var">outs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>                      </span><span class="hs-special">)</span><span>
</span><span id="line-391"></span><span>       </span><span id="local-6989586621681155021"><span class="annot"><span class="annottext">post :: Doc
</span><a href="#local-6989586621681155021"><span class="hs-identifier hs-var hs-var">post</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span>   </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-392"></span><span>              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$+$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc -&gt; Doc
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;return 0&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span class="hs-special">)</span><span>
</span><span id="line-393"></span><span>              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;}&quot;</span></span><span>
</span><span id="line-394"></span><span>              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-395"></span><span>       </span><span id="local-6989586621681155020"><span class="annot"><span class="annottext">nm :: Doc
</span><a href="#local-6989586621681155020"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681155028"><span class="hs-identifier hs-var">fn</span></a></span><span>
</span><span id="line-396"></span><span>       </span><span id="local-6989586621681155016"><span class="annot"><span class="annottext">pairedInputs :: [([Doc], FilePath, CgVal)]
</span><a href="#local-6989586621681155016"><span class="hs-identifier hs-var hs-var">pairedInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Integer] -&gt; [(FilePath, CgVal)] -&gt; [([Doc], FilePath, CgVal)]
forall a b.
(Integral a, Show b) =&gt;
[a] -&gt; [(b, CgVal)] -&gt; [([Doc], b, CgVal)]
</span><a href="#local-6989586621681155006"><span class="hs-identifier hs-var">matchRands</span></a></span><span> </span><span class="annot"><span class="annottext">[Integer]
</span><a href="#local-6989586621681155029"><span class="hs-identifier hs-var">randVals</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155027"><span class="hs-identifier hs-var">inps</span></a></span><span>
</span><span id="line-397"></span><span>       </span><span id="local-6989586621681155006"><span class="annot"><span class="annottext">matchRands :: [a] -&gt; [(b, CgVal)] -&gt; [([Doc], b, CgVal)]
</span><a href="#local-6989586621681155006"><span class="hs-identifier hs-var hs-var">matchRands</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>      </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-398"></span><span>       </span><span class="annot"><a href="#local-6989586621681155006"><span class="hs-identifier hs-var">matchRands</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-identifier">_</span><span>                                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [([Doc], b, CgVal)]
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Run out of driver values!&quot;</span></span><span>
</span><span id="line-399"></span><span>       </span><span class="annot"><a href="#local-6989586621681155006"><span class="hs-identifier hs-var">matchRands</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681155005"><span class="annot"><span class="annottext">r :: a
</span><a href="#local-6989586621681155005"><span class="hs-identifier hs-var">r</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681155004"><span class="annot"><span class="annottext">rs :: [a]
</span><a href="#local-6989586621681155004"><span class="hs-identifier hs-var">rs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681155003"><span class="annot"><span class="annottext">n :: b
</span><a href="#local-6989586621681155003"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span> </span><span id="local-6989586621681155002"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681155002"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">)</span><span>            </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681155001"><span class="annot"><span class="annottext">cs :: [(b, CgVal)]
</span><a href="#local-6989586621681155001"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV -&gt; a -&gt; Doc
forall a a. (Integral a, HasKind a) =&gt; a -&gt; a -&gt; Doc
</span><a href="#local-6989586621681155000"><span class="hs-identifier hs-var">mkRVal</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155002"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681155005"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681155003"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV -&gt; CgVal
</span><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-var">CgAtomic</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681155002"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Doc], b, CgVal) -&gt; [([Doc], b, CgVal)] -&gt; [([Doc], b, CgVal)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [(b, CgVal)] -&gt; [([Doc], b, CgVal)]
</span><a href="#local-6989586621681155006"><span class="hs-identifier hs-var">matchRands</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681155004"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="annot"><span class="annottext">[(b, CgVal)]
</span><a href="#local-6989586621681155001"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-400"></span><span>       </span><span class="annot"><a href="#local-6989586621681155006"><span class="hs-identifier hs-var">matchRands</span></a></span><span> </span><span class="hs-identifier">_</span><span>      </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681154999"><span class="annot"><span class="annottext">n :: b
</span><a href="#local-6989586621681154999"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>             </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [([Doc], b, CgVal)]
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; [([Doc], b, CgVal)])
-&gt; FilePath -&gt; [([Doc], b, CgVal)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unsupported empty array input &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154999"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-401"></span><span>       </span><span class="annot"><a href="#local-6989586621681155006"><span class="hs-identifier hs-var">matchRands</span></a></span><span> </span><span id="local-6989586621681154998"><span class="annot"><span class="annottext">rs :: [a]
</span><a href="#local-6989586621681154998"><span class="hs-identifier hs-var">rs</span></a></span></span><span>     </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681154997"><span class="annot"><span class="annottext">n :: b
</span><a href="#local-6989586621681154997"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154996"><span class="annot"><span class="annottext">a :: CgVal
</span><a href="#local-6989586621681154996"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span> </span><span id="local-6989586621681154995"><span class="annot"><span class="annottext">sws :: [SV]
</span><a href="#local-6989586621681154995"><span class="hs-identifier hs-var">sws</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681154994"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154994"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681154993"><span class="annot"><span class="annottext">cs :: [(b, CgVal)]
</span><a href="#local-6989586621681154993"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-402"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681154992"><span class="hs-identifier hs-var">frs</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154991"><span class="hs-identifier hs-var">l</span></a></span><span>                                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [([Doc], b, CgVal)]
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Run out of driver values!&quot;</span></span><span>
</span><span id="line-403"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                                            </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(a -&gt; Doc) -&gt; [a] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; a -&gt; Doc
forall a a. (Integral a, HasKind a) =&gt; a -&gt; a -&gt; Doc
</span><a href="#local-6989586621681155000"><span class="hs-identifier hs-var">mkRVal</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154994"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681154992"><span class="hs-identifier hs-var">frs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154997"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CgVal
</span><a href="#local-6989586621681154996"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Doc], b, CgVal) -&gt; [([Doc], b, CgVal)] -&gt; [([Doc], b, CgVal)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [(b, CgVal)] -&gt; [([Doc], b, CgVal)]
</span><a href="#local-6989586621681155006"><span class="hs-identifier hs-var">matchRands</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681154990"><span class="hs-identifier hs-var">srs</span></a></span><span> </span><span class="annot"><span class="annottext">[(b, CgVal)]
</span><a href="#local-6989586621681154993"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-404"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154991"><span class="annot"><span class="annottext">l :: Int
</span><a href="#local-6989586621681154991"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SV] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154995"><span class="hs-identifier hs-var">sws</span></a></span><span>
</span><span id="line-405"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621681154992"><span class="annot"><span class="annottext">frs :: [a]
</span><a href="#local-6989586621681154992"><span class="hs-identifier hs-var">frs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154990"><span class="annot"><span class="annottext">srs :: [a]
</span><a href="#local-6989586621681154990"><span class="hs-identifier hs-var">srs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [a] -&gt; ([a], [a])
forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">splitAt</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154991"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681154998"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-406"></span><span>       </span><span id="local-6989586621681155000"><span class="annot"><span class="annottext">mkRVal :: a -&gt; a -&gt; Doc
</span><a href="#local-6989586621681155000"><span class="hs-identifier hs-var hs-var">mkRVal</span></a></span></span><span> </span><span id="local-6989586621681154988"><span class="annot"><span class="annottext">sv :: a
</span><a href="#local-6989586621681154988"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span id="local-6989586621681154987"><span class="annot"><span class="annottext">r :: a
</span><a href="#local-6989586621681154987"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; CV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var">mkConst</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155030"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Doc) -&gt; CV -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; a -&gt; CV
forall a. Integral a =&gt; Kind -&gt; a -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mkConstCV"><span class="hs-identifier hs-var">mkConstCV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154988"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154987"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-407"></span><span>       </span><span id="local-6989586621681155017"><span class="annot"><span class="annottext">mkInp :: ([Doc], FilePath, CgVal) -&gt; Doc
</span><a href="#local-6989586621681155017"><span class="hs-identifier hs-var hs-var">mkInp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span>  </span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span>  </span><span class="hs-comment">-- constant, no need to declare</span><span>
</span><span id="line-408"></span><span>       </span><span class="annot"><a href="#local-6989586621681155017"><span class="hs-identifier hs-var">mkInp</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span>  </span><span id="local-6989586621681154985"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681154985"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unsupported empty array value for &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154985"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-409"></span><span>       </span><span class="annot"><a href="#local-6989586621681155017"><span class="hs-identifier hs-var">mkInp</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154984"><span class="annot"><span class="annottext">vs :: [Doc]
</span><a href="#local-6989586621681154984"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154983"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681154983"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span> </span><span id="local-6989586621681154982"><span class="annot"><span class="annottext">sws :: [SV]
</span><a href="#local-6989586621681154982"><span class="hs-identifier hs-var">sws</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681154981"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154981"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; SV -&gt; Doc
forall a. HasKind a =&gt; Bool -&gt; a -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCWord"><span class="hs-identifier hs-var">pprCWord</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154981"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154983"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">brackets</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154982"><span class="hs-identifier hs-var">sws</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;= {&quot;</span></span><span>
</span><span id="line-410"></span><span>                                                      </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc -&gt; Doc
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; [Doc]
</span><a href="Data.SBV.Compilers.C.html#align"><span class="hs-identifier hs-var">align</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154984"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-411"></span><span>                                                      </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;};&quot;</span></span><span>
</span><span id="line-412"></span><span>                                         </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-413"></span><span>                                         </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;printf&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#printQuotes"><span class="hs-identifier hs-var">printQuotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Contents of input array&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154983"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:\\n&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-414"></span><span>                                         </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, CgVal) -&gt; Doc
</span><a href="#local-6989586621681155008"><span class="hs-identifier hs-var">display</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154983"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SV] -&gt; CgVal
</span><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-var">CgArray</span></a></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154982"><span class="hs-identifier hs-var">sws</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-415"></span><span>                                         </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-416"></span><span>       </span><span id="local-6989586621681155015"><span class="annot"><span class="annottext">mkOut :: (FilePath, CgVal) -&gt; Doc
</span><a href="#local-6989586621681155015"><span class="hs-identifier hs-var hs-var">mkOut</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154977"><span class="annot"><span class="annottext">v :: FilePath
</span><a href="#local-6989586621681154977"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span> </span><span id="local-6989586621681154976"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154976"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SV -&gt; Doc
forall a. HasKind a =&gt; Bool -&gt; a -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCWord"><span class="hs-identifier hs-var">pprCWord</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154976"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154977"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-417"></span><span>       </span><span class="annot"><a href="#local-6989586621681155015"><span class="hs-identifier hs-var">mkOut</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154975"><span class="annot"><span class="annottext">v :: FilePath
</span><a href="#local-6989586621681154975"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unsupported empty array value for &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154975"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-418"></span><span>       </span><span class="annot"><a href="#local-6989586621681155015"><span class="hs-identifier hs-var">mkOut</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154974"><span class="annot"><span class="annottext">v :: FilePath
</span><a href="#local-6989586621681154974"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span> </span><span id="local-6989586621681154973"><span class="annot"><span class="annottext">sws :: [SV]
</span><a href="#local-6989586621681154973"><span class="hs-identifier hs-var">sws</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681154972"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154972"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SV -&gt; Doc
forall a. HasKind a =&gt; Bool -&gt; a -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCWord"><span class="hs-identifier hs-var">pprCWord</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154972"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154974"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">brackets</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154973"><span class="hs-identifier hs-var">sws</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-419"></span><span>       </span><span id="local-6989586621681155009"><span class="annot"><span class="annottext">resultVar :: Doc
</span><a href="#local-6989586621681155009"><span class="hs-identifier hs-var hs-var">resultVar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;__result&quot;</span></span><span>
</span><span id="line-420"></span><span>       </span><span id="local-6989586621681155013"><span class="annot"><span class="annottext">call :: Doc
</span><a href="#local-6989586621681155013"><span class="hs-identifier hs-var hs-var">call</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe SV
</span><a href="#local-6989586621681155025"><span class="hs-identifier hs-var">mbRet</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-421"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155010"><span class="hs-identifier hs-var">fcall</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-422"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681154971"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154971"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SV -&gt; Doc
forall a. HasKind a =&gt; Bool -&gt; a -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#pprCWord"><span class="hs-identifier hs-var">pprCWord</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154971"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155009"><span class="hs-identifier hs-var">resultVar</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155010"><span class="hs-identifier hs-var">fcall</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-423"></span><span>       </span><span id="local-6989586621681155010"><span class="annot"><span class="annottext">fcall :: Doc
</span><a href="#local-6989586621681155010"><span class="hs-identifier hs-var hs-var">fcall</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681155020"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(([Doc], FilePath, CgVal) -&gt; Doc)
-&gt; [([Doc], FilePath, CgVal)] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">([Doc], FilePath, CgVal) -&gt; Doc
</span><a href="#local-6989586621681154970"><span class="hs-identifier hs-var">mkCVal</span></a></span><span> </span><span class="annot"><span class="annottext">[([Doc], FilePath, CgVal)]
</span><a href="#local-6989586621681155016"><span class="hs-identifier hs-var">pairedInputs</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; [Doc] -&gt; [Doc]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">((FilePath, CgVal) -&gt; Doc) -&gt; [(FilePath, CgVal)] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, CgVal) -&gt; Doc
</span><a href="#local-6989586621681154969"><span class="hs-identifier hs-var">mkOVal</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681155026"><span class="hs-identifier hs-var">outs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-424"></span><span>       </span><span id="local-6989586621681154970"><span class="annot"><span class="annottext">mkCVal :: ([Doc], FilePath, CgVal) -&gt; Doc
</span><a href="#local-6989586621681154970"><span class="hs-identifier hs-var hs-var">mkCVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span id="local-6989586621681154968"><span class="annot"><span class="annottext">v :: Doc
</span><a href="#local-6989586621681154968"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154968"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-425"></span><span>       </span><span class="annot"><a href="#local-6989586621681154970"><span class="hs-identifier hs-var">mkCVal</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154967"><span class="annot"><span class="annottext">vs :: [Doc]
</span><a href="#local-6989586621681154967"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">,</span><span>  </span><span id="local-6989586621681154966"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681154966"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unexpected driver value computed for &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154966"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; FilePath
</span><span class="hs-identifier hs-var">render</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">hcat</span></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154967"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-426"></span><span>       </span><span class="annot"><a href="#local-6989586621681154970"><span class="hs-identifier hs-var">mkCVal</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span>   </span><span id="local-6989586621681154964"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681154964"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154964"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-427"></span><span>       </span><span id="local-6989586621681154969"><span class="annot"><span class="annottext">mkOVal :: (FilePath, CgVal) -&gt; Doc
</span><a href="#local-6989586621681154969"><span class="hs-identifier hs-var hs-var">mkOVal</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154963"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681154963"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154963"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-428"></span><span>       </span><span class="annot"><a href="#local-6989586621681154969"><span class="hs-identifier hs-var">mkOVal</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154962"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681154962"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154962"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-429"></span><span>       </span><span id="local-6989586621681155008"><span class="annot"><span class="annottext">display :: (FilePath, CgVal) -&gt; Doc
</span><a href="#local-6989586621681155008"><span class="hs-identifier hs-var hs-var">display</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154961"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681154961"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span> </span><span id="local-6989586621681154960"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154960"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;printf&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#printQuotes"><span class="hs-identifier hs-var">printQuotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154961"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#specifier"><span class="hs-identifier hs-var">specifier</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155030"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154960"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-430"></span><span>                                                                                </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\\n&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154961"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-431"></span><span>       </span><span class="annot"><a href="#local-6989586621681155008"><span class="hs-identifier hs-var">display</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154959"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681154959"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>         </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unsupported empty array value for &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154959"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-432"></span><span>       </span><span class="annot"><a href="#local-6989586621681155008"><span class="hs-identifier hs-var">display</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154958"><span class="annot"><span class="annottext">n :: FilePath
</span><a href="#local-6989586621681154958"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span> </span><span id="local-6989586621681154957"><span class="annot"><span class="annottext">sws :: [SV]
</span><a href="#local-6989586621681154957"><span class="hs-identifier hs-var">sws</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681154956"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154956"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>   </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;int&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154955"><span class="hs-identifier hs-var">nctr</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-433"></span><span>                                        </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;for(&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154955"><span class="hs-identifier hs-var">nctr</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;= 0;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154955"><span class="hs-identifier hs-var">nctr</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154954"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;; ++&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154955"><span class="hs-identifier hs-var">nctr</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-434"></span><span>                                        </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc -&gt; Doc
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;printf&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#printQuotes"><span class="hs-identifier hs-var">printQuotes</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154953"><span class="hs-identifier hs-var">entrySpec</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154952"><span class="hs-identifier hs-var">spec</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\\n&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span>                                                                 </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154955"><span class="hs-identifier hs-var">nctr</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154951"><span class="hs-identifier hs-var">entry</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span class="hs-special">)</span><span>
</span><span id="line-436"></span><span>                  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154955"><span class="annot"><span class="annottext">nctr :: Doc
</span><a href="#local-6989586621681154955"><span class="hs-identifier hs-var hs-var">nctr</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154958"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_ctr&quot;</span></span><span>
</span><span id="line-437"></span><span>                        </span><span id="local-6989586621681154951"><span class="annot"><span class="annottext">entry :: Doc
</span><a href="#local-6989586621681154951"><span class="hs-identifier hs-var hs-var">entry</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154958"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;[&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154955"><span class="hs-identifier hs-var">nctr</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;]&quot;</span></span><span>
</span><span id="line-438"></span><span>                        </span><span id="local-6989586621681154953"><span class="annot"><span class="annottext">entrySpec :: Doc
</span><a href="#local-6989586621681154953"><span class="hs-identifier hs-var hs-var">entrySpec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154958"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;[%&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154950"><span class="hs-identifier hs-var">tab</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;d]&quot;</span></span><span>
</span><span id="line-439"></span><span>                        </span><span id="local-6989586621681154952"><span class="annot"><span class="annottext">spec :: Doc
</span><a href="#local-6989586621681154952"><span class="hs-identifier hs-var hs-var">spec</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#specifier"><span class="hs-identifier hs-var">specifier</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681155030"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154956"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-440"></span><span>                        </span><span id="local-6989586621681154954"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621681154954"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SV] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154957"><span class="hs-identifier hs-var">sws</span></a></span><span>
</span><span id="line-441"></span><span>                        </span><span id="local-6989586621681154950"><span class="annot"><span class="annottext">tab :: Int
</span><a href="#local-6989586621681154950"><span class="hs-identifier hs-var hs-var">tab</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Int) -&gt; FilePath -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154954"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span class="hs-comment">-- | Generate the C program</span><span>
</span><span id="line-444"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#genCProg"><span class="hs-identifier hs-type">genCProg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgConfig"><span class="hs-identifier hs-type">CgConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgVal"><span class="hs-identifier hs-type">CgVal</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgVal"><span class="hs-identifier hs-type">CgVal</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span id="genCProg"><span class="annot"><span class="annottext">genCProg :: CgConfig
-&gt; FilePath
-&gt; Doc
-&gt; Result
-&gt; [(FilePath, CgVal)]
-&gt; [(FilePath, CgVal)]
-&gt; Maybe SV
-&gt; Doc
-&gt; ([Doc], [FilePath])
</span><a href="Data.SBV.Compilers.C.html#genCProg"><span class="hs-identifier hs-var hs-var">genCProg</span></a></span></span><span> </span><span id="local-6989586621681154949"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681154949"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621681154948"><span class="annot"><span class="annottext">fn :: FilePath
</span><a href="#local-6989586621681154948"><span class="hs-identifier hs-var">fn</span></a></span></span><span> </span><span id="local-6989586621681154947"><span class="annot"><span class="annottext">proto :: Doc
</span><a href="#local-6989586621681154947"><span class="hs-identifier hs-var">proto</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span id="local-6989586621681154945"><span class="annot"><span class="annottext">kindInfo :: Set Kind
</span><a href="#local-6989586621681154945"><span class="hs-identifier hs-var">kindInfo</span></a></span></span><span> </span><span id="local-6989586621681154944"><span class="annot"><span class="annottext">_tvals :: [(FilePath, CV)]
</span><a href="#local-6989586621681154944"><span class="hs-identifier hs-var">_tvals</span></a></span></span><span> </span><span id="local-6989586621681154943"><span class="annot"><span class="annottext">_ovals :: [(FilePath, CV -&gt; Bool, SV)]
</span><a href="#local-6989586621681154943"><span class="hs-identifier hs-var">_ovals</span></a></span></span><span> </span><span id="local-6989586621681154942"><span class="annot"><span class="annottext">cgs :: [(FilePath, [FilePath])]
</span><a href="#local-6989586621681154942"><span class="hs-identifier hs-var">cgs</span></a></span></span><span> </span><span id="local-6989586621681154941"><span class="annot"><span class="annottext">ins :: ([(Quantifier, NamedSymVar)], [NamedSymVar])
</span><a href="#local-6989586621681154941"><span class="hs-identifier hs-var">ins</span></a></span></span><span> </span><span id="local-6989586621681154940"><span class="annot"><span class="annottext">preConsts :: [(SV, CV)]
</span><a href="#local-6989586621681154940"><span class="hs-identifier hs-var">preConsts</span></a></span></span><span> </span><span id="local-6989586621681154939"><span class="annot"><span class="annottext">tbls :: [((Int, Kind, Kind), [SV])]
</span><a href="#local-6989586621681154939"><span class="hs-identifier hs-var">tbls</span></a></span></span><span> </span><span id="local-6989586621681154938"><span class="annot"><span class="annottext">arrs :: [(Int, ArrayInfo)]
</span><a href="#local-6989586621681154938"><span class="hs-identifier hs-var">arrs</span></a></span></span><span> </span><span id="local-6989586621681154937"><span class="annot"><span class="annottext">_uis :: [(FilePath, SBVType)]
</span><a href="#local-6989586621681154937"><span class="hs-identifier hs-var">_uis</span></a></span></span><span> </span><span id="local-6989586621681154936"><span class="annot"><span class="annottext">_axioms :: [(FilePath, [FilePath])]
</span><a href="#local-6989586621681154936"><span class="hs-identifier hs-var">_axioms</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVPgm"><span class="hs-identifier hs-type">SBVPgm</span></a></span><span> </span><span id="local-6989586621681154934"><span class="annot"><span class="annottext">asgns :: Seq (SV, SBVExpr)
</span><a href="#local-6989586621681154934"><span class="hs-identifier hs-var">asgns</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681154933"><span class="annot"><span class="annottext">cstrs :: Seq (Bool, [(FilePath, FilePath)], SV)
</span><a href="#local-6989586621681154933"><span class="hs-identifier hs-var">cstrs</span></a></span></span><span> </span><span id="local-6989586621681154932"><span class="annot"><span class="annottext">origAsserts :: [(FilePath, Maybe CallStack, SV)]
</span><a href="#local-6989586621681154932"><span class="hs-identifier hs-var">origAsserts</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681154931"><span class="annot"><span class="annottext">inVars :: [(FilePath, CgVal)]
</span><a href="#local-6989586621681154931"><span class="hs-identifier hs-var">inVars</span></a></span></span><span> </span><span id="local-6989586621681154930"><span class="annot"><span class="annottext">outVars :: [(FilePath, CgVal)]
</span><a href="#local-6989586621681154930"><span class="hs-identifier hs-var">outVars</span></a></span></span><span> </span><span id="local-6989586621681154929"><span class="annot"><span class="annottext">mbRet :: Maybe SV
</span><a href="#local-6989586621681154929"><span class="hs-identifier hs-var">mbRet</span></a></span></span><span> </span><span id="local-6989586621681154928"><span class="annot"><span class="annottext">extDecls :: Doc
</span><a href="#local-6989586621681154928"><span class="hs-identifier hs-var">extDecls</span></a></span></span><span>
</span><span id="line-446"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isNothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; Maybe Int
</span><a href="Data.SBV.Compilers.CodeGen.html#cgInteger"><span class="hs-identifier hs-var hs-var">cgInteger</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154949"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-var">KUnbounded</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Set Kind -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><span class="hs-operator hs-var">`Set.member`</span></span><span> </span><span class="annot"><span class="annottext">Set Kind
</span><a href="#local-6989586621681154945"><span class="hs-identifier hs-var">kindInfo</span></a></span><span>
</span><span id="line-447"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; ([Doc], [FilePath]))
-&gt; FilePath -&gt; ([Doc], [FilePath])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Unbounded integers are not supported by the C compiler.&quot;</span></span><span>
</span><span id="line-448"></span><span>          </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\nUse 'cgIntegerSize' to specify a fixed size for SInteger representation.&quot;</span></span><span>
</span><span id="line-449"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KString"><span class="hs-identifier hs-var">KString</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Set Kind -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><span class="hs-operator hs-var">`Set.member`</span></span><span> </span><span class="annot"><span class="annottext">Set Kind
</span><a href="#local-6989586621681154945"><span class="hs-identifier hs-var">kindInfo</span></a></span><span>
</span><span id="line-450"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Strings are currently not supported by the C compiler. Please get in touch if you'd like support for this feature!&quot;</span></span><span>
</span><span id="line-451"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KChar"><span class="hs-identifier hs-var">KChar</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Set Kind -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><span class="hs-operator hs-var">`Set.member`</span></span><span> </span><span class="annot"><span class="annottext">Set Kind
</span><a href="#local-6989586621681154945"><span class="hs-identifier hs-var">kindInfo</span></a></span><span>
</span><span id="line-452"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Characters are currently not supported by the C compiler. Please get in touch if you'd like support for this feature!&quot;</span></span><span>
</span><span id="line-453"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Bool) -&gt; Set Kind -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isSet"><span class="hs-identifier hs-var">isSet</span></a></span><span> </span><span class="annot"><span class="annottext">Set Kind
</span><a href="#local-6989586621681154945"><span class="hs-identifier hs-var">kindInfo</span></a></span><span>
</span><span id="line-454"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Sets (SSet) are currently not supported by the C compiler. Please get in touch if you'd like support for this feature!&quot;</span></span><span>
</span><span id="line-455"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Bool) -&gt; Set Kind -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isList"><span class="hs-identifier hs-var">isList</span></a></span><span> </span><span class="annot"><span class="annottext">Set Kind
</span><a href="#local-6989586621681154945"><span class="hs-identifier hs-var">kindInfo</span></a></span><span>
</span><span id="line-456"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Lists (SList) are currently not supported by the C compiler. Please get in touch if you'd like support for this feature!&quot;</span></span><span>
</span><span id="line-457"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Bool) -&gt; Set Kind -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isTuple"><span class="hs-identifier hs-var">isTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Set Kind
</span><a href="#local-6989586621681154945"><span class="hs-identifier hs-var">kindInfo</span></a></span><span>
</span><span id="line-458"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Tuples (STupleN) are currently not supported by the C compiler. Please get in touch if you'd like support for this feature!&quot;</span></span><span>
</span><span id="line-459"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Bool) -&gt; Set Kind -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isMaybe"><span class="hs-identifier hs-var">isMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Set Kind
</span><a href="#local-6989586621681154945"><span class="hs-identifier hs-var">kindInfo</span></a></span><span>
</span><span id="line-460"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Optional (SMaybe) values are currently not supported by the C compiler. Please get in touch if you'd like support for this feature!&quot;</span></span><span>
</span><span id="line-461"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Bool) -&gt; Set Kind -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isEither"><span class="hs-identifier hs-var">isEither</span></a></span><span> </span><span class="annot"><span class="annottext">Set Kind
</span><a href="#local-6989586621681154945"><span class="hs-identifier hs-var">kindInfo</span></a></span><span>
</span><span id="line-462"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Either (SEither) values are currently not supported by the C compiler. Please get in touch if you'd like support for this feature!&quot;</span></span><span>
</span><span id="line-463"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Maybe CgSRealType -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isNothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; Maybe CgSRealType
</span><a href="Data.SBV.Compilers.CodeGen.html#cgReal"><span class="hs-identifier hs-var hs-var">cgReal</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154949"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-var">KReal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Set Kind -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><span class="hs-operator hs-var">`Set.member`</span></span><span> </span><span class="annot"><span class="annottext">Set Kind
</span><a href="#local-6989586621681154945"><span class="hs-identifier hs-var">kindInfo</span></a></span><span>
</span><span id="line-464"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; ([Doc], [FilePath]))
-&gt; FilePath -&gt; ([Doc], [FilePath])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: SReal values are not supported by the C compiler.&quot;</span></span><span>
</span><span id="line-465"></span><span>          </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\nUse 'cgSRealType' to specify a custom type for SReal representation.&quot;</span></span><span>
</span><span id="line-466"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FilePath] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154920"><span class="hs-identifier hs-var">usorts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-467"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; ([Doc], [FilePath]))
-&gt; FilePath -&gt; ([Doc], [FilePath])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Cannot compile functions with uninterpreted sorts: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [FilePath] -&gt; FilePath
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154920"><span class="hs-identifier hs-var">usorts</span></a></span><span>
</span><span id="line-468"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Seq (Bool, [(FilePath, FilePath)], SV) -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">Seq (Bool, [(FilePath, FilePath)], SV)
</span><a href="#local-6989586621681154933"><span class="hs-identifier hs-var">cstrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-469"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Explicit constraints&quot;</span></span><span>
</span><span id="line-470"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Int, ArrayInfo)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(Int, ArrayInfo)]
</span><a href="#local-6989586621681154938"><span class="hs-identifier hs-var">arrs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;User specified arrays&quot;</span></span><span>
</span><span id="line-472"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Quantifier] -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#needsExistentials"><span class="hs-identifier hs-var">needsExistentials</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar) -&gt; Quantifier)
-&gt; [(Quantifier, NamedSymVar)] -&gt; [Quantifier]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar) -&gt; Quantifier
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([(Quantifier, NamedSymVar)], [NamedSymVar])
-&gt; [(Quantifier, NamedSymVar)]
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">([(Quantifier, NamedSymVar)], [NamedSymVar])
</span><a href="#local-6989586621681154941"><span class="hs-identifier hs-var">ins</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; ([Doc], [FilePath])
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SBV-&gt;C: Cannot compile functions with existentially quantified variables.&quot;</span></span><span>
</span><span id="line-474"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-475"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154918"><span class="hs-identifier hs-var">pre</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154917"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154916"><span class="hs-identifier hs-var">post</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154915"><span class="hs-identifier hs-var">flagsNeeded</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154914"><span class="annot"><span class="annottext">asserts :: [(FilePath, Maybe CallStack, SV)]
</span><a href="#local-6989586621681154914"><span class="hs-identifier hs-var hs-var">asserts</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; Bool
</span><a href="Data.SBV.Compilers.CodeGen.html#cgIgnoreAsserts"><span class="hs-identifier hs-var hs-var">cgIgnoreAsserts</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154949"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-477"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(FilePath, Maybe CallStack, SV)]
</span><a href="#local-6989586621681154932"><span class="hs-identifier hs-var">origAsserts</span></a></span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span>       </span><span id="local-6989586621681154920"><span class="annot"><span class="annottext">usorts :: [FilePath]
</span><a href="#local-6989586621681154920"><span class="hs-identifier hs-var hs-var">usorts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154912"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span> </span><span id="local-6989586621681154912"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681154912"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set Kind -&gt; [Kind]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">Set.toList</span></span><span> </span><span class="annot"><span class="annottext">Set Kind
</span><a href="#local-6989586621681154945"><span class="hs-identifier hs-var">kindInfo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154912"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="hs-string">&quot;RoundingMode&quot;</span></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- No support for any sorts other than RoundingMode!</span><span>
</span><span id="line-480"></span><span>
</span><span id="line-481"></span><span>       </span><span id="local-6989586621681154918"><span class="annot"><span class="annottext">pre :: Doc
</span><a href="#local-6989586621681154918"><span class="hs-identifier hs-var hs-var">pre</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* File:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">doubleQuotes</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154911"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.c&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;. Automatically generated by SBV. Do not edit! */&quot;</span></span><span>
</span><span id="line-482"></span><span>              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-483"></span><span>
</span><span id="line-484"></span><span>       </span><span id="local-6989586621681154917"><span class="annot"><span class="annottext">header :: Doc
</span><a href="#local-6989586621681154917"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">doubleQuotes</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154911"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.h&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-485"></span><span>
</span><span id="line-486"></span><span>       </span><span id="local-6989586621681154916"><span class="annot"><span class="annottext">post :: Doc
</span><a href="#local-6989586621681154916"><span class="hs-identifier hs-var hs-var">post</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-487"></span><span>             </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((FilePath, [FilePath]) -&gt; Doc)
-&gt; [(FilePath, [FilePath])] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, [FilePath]) -&gt; Doc
</span><a href="#local-6989586621681154910"><span class="hs-identifier hs-var">codeSeg</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, [FilePath])]
</span><a href="#local-6989586621681154942"><span class="hs-identifier hs-var">cgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-488"></span><span>             </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154928"><span class="hs-identifier hs-var">extDecls</span></a></span><span>
</span><span id="line-489"></span><span>             </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154947"><span class="hs-identifier hs-var">proto</span></a></span><span>
</span><span id="line-490"></span><span>             </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;{&quot;</span></span><span>
</span><span id="line-491"></span><span>             </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-492"></span><span>             </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc -&gt; Doc
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span>   </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((FilePath, CgVal) -&gt; [Doc]) -&gt; [(FilePath, CgVal)] -&gt; [Doc]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; (Bool, (FilePath, CgVal)) -&gt; [Doc]
</span><a href="#local-6989586621681154908"><span class="hs-identifier hs-var">genIO</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">((Bool, (FilePath, CgVal)) -&gt; [Doc])
-&gt; ((FilePath, CgVal) -&gt; (Bool, (FilePath, CgVal)))
-&gt; (FilePath, CgVal)
-&gt; [Doc]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681154906"><span class="annot"><span class="annottext">v :: (FilePath, CgVal)
</span><a href="#local-6989586621681154906"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FilePath, CgVal) -&gt; Bool
</span><a href="#local-6989586621681154905"><span class="hs-identifier hs-var">isAlive</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath, CgVal)
</span><a href="#local-6989586621681154906"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(FilePath, CgVal)
</span><a href="#local-6989586621681154906"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681154931"><span class="hs-identifier hs-var">inVars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-493"></span><span>                        </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Int, Doc)] -&gt; [(Int, Doc)] -&gt; [(Int, Doc)] -&gt; [Doc]
</span><a href="#local-6989586621681154904"><span class="hs-identifier hs-var">merge</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(((Int, Kind, Kind), [SV]) -&gt; (Int, Doc))
-&gt; [((Int, Kind, Kind), [SV])] -&gt; [(Int, Doc)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">((Int, Kind, Kind), [SV]) -&gt; (Int, Doc)
</span><a href="#local-6989586621681154903"><span class="hs-identifier hs-var">genTbl</span></a></span><span> </span><span class="annot"><span class="annottext">[((Int, Kind, Kind), [SV])]
</span><a href="#local-6989586621681154939"><span class="hs-identifier hs-var">tbls</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((SV, SBVExpr) -&gt; (Int, Doc)) -&gt; [(SV, SBVExpr)] -&gt; [(Int, Doc)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(SV, SBVExpr) -&gt; (Int, Doc)
</span><a href="#local-6989586621681154902"><span class="hs-identifier hs-var">genAsgn</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, SBVExpr)]
</span><a href="#local-6989586621681154901"><span class="hs-identifier hs-var">assignments</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((FilePath, Maybe CallStack, SV) -&gt; (Int, Doc))
-&gt; [(FilePath, Maybe CallStack, SV)] -&gt; [(Int, Doc)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, Maybe CallStack, SV) -&gt; (Int, Doc)
</span><a href="#local-6989586621681154900"><span class="hs-identifier hs-var">genAssert</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, Maybe CallStack, SV)]
</span><a href="#local-6989586621681154914"><span class="hs-identifier hs-var">asserts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span>                        </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#sepIf"><span class="hs-identifier hs-var">sepIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(SV, SBVExpr)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(SV, SBVExpr)]
</span><a href="#local-6989586621681154901"><span class="hs-identifier hs-var">assignments</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[((Int, Kind, Kind), [SV])] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[((Int, Kind, Kind), [SV])]
</span><a href="#local-6989586621681154939"><span class="hs-identifier hs-var">tbls</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-495"></span><span>                        </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Bool, (FilePath, CgVal)) -&gt; [Doc])
-&gt; [(Bool, (FilePath, CgVal))] -&gt; [Doc]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; (Bool, (FilePath, CgVal)) -&gt; [Doc]
</span><a href="#local-6989586621681154908"><span class="hs-identifier hs-var">genIO</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Bool] -&gt; [(FilePath, CgVal)] -&gt; [(Bool, (FilePath, CgVal))]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; [Bool]
forall a. a -&gt; [a]
</span><span class="hs-identifier hs-var">repeat</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681154930"><span class="hs-identifier hs-var">outVars</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-496"></span><span>                        </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; (SV -&gt; Doc) -&gt; Maybe SV -&gt; Doc
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; Doc
</span><a href="#local-6989586621681154897"><span class="hs-identifier hs-var">mkRet</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe SV
</span><a href="#local-6989586621681154929"><span class="hs-identifier hs-var">mbRet</span></a></span><span>
</span><span id="line-497"></span><span>                       </span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>             </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;}&quot;</span></span><span>
</span><span id="line-499"></span><span>             </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-500"></span><span>
</span><span id="line-501"></span><span>       </span><span id="local-6989586621681154911"><span class="annot"><span class="annottext">nm :: Doc
</span><a href="#local-6989586621681154911"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154948"><span class="hs-identifier hs-var">fn</span></a></span><span>
</span><span id="line-502"></span><span>
</span><span id="line-503"></span><span>       </span><span id="local-6989586621681154901"><span class="annot"><span class="annottext">assignments :: [(SV, SBVExpr)]
</span><a href="#local-6989586621681154901"><span class="hs-identifier hs-var hs-var">assignments</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Seq (SV, SBVExpr) -&gt; [(SV, SBVExpr)]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">F.toList</span></span><span> </span><span class="annot"><span class="annottext">Seq (SV, SBVExpr)
</span><a href="#local-6989586621681154934"><span class="hs-identifier hs-var">asgns</span></a></span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span>       </span><span class="hs-comment">-- Do we need any linker flags for C?</span><span>
</span><span id="line-506"></span><span>       </span><span id="local-6989586621681154915"><span class="annot"><span class="annottext">flagsNeeded :: [FilePath]
</span><a href="#local-6989586621681154915"><span class="hs-identifier hs-var hs-var">flagsNeeded</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; [FilePath]
forall a. Eq a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nub</span></span><span> </span><span class="annot"><span class="annottext">([FilePath] -&gt; [FilePath]) -&gt; [FilePath] -&gt; [FilePath]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((SV, SBVExpr) -&gt; [FilePath]) -&gt; [(SV, SBVExpr)] -&gt; [FilePath]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Op, Kind) -&gt; [FilePath]
</span><a href="Data.SBV.Compilers.C.html#getLDFlag"><span class="hs-identifier hs-var">getLDFlag</span></a></span><span> </span><span class="annot"><span class="annottext">((Op, Kind) -&gt; [FilePath])
-&gt; ((SV, SBVExpr) -&gt; (Op, Kind)) -&gt; (SV, SBVExpr) -&gt; [FilePath]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(SV, SBVExpr) -&gt; (Op, Kind)
forall a. HasKind a =&gt; (a, SBVExpr) -&gt; (Op, Kind)
</span><a href="#local-6989586621681154895"><span class="hs-identifier hs-var">opRes</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(SV, SBVExpr)]
</span><a href="#local-6989586621681154901"><span class="hs-identifier hs-var">assignments</span></a></span><span>
</span><span id="line-507"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154895"><span class="annot"><span class="annottext">opRes :: (a, SBVExpr) -&gt; (Op, Kind)
</span><a href="#local-6989586621681154895"><span class="hs-identifier hs-var hs-var">opRes</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154894"><span class="annot"><span class="annottext">sv :: a
</span><a href="#local-6989586621681154894"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-type">SBVApp</span></a></span><span> </span><span id="local-6989586621681154892"><span class="annot"><span class="annottext">o :: Op
</span><a href="#local-6989586621681154892"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681154892"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154894"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-508"></span><span>
</span><span id="line-509"></span><span>       </span><span id="local-6989586621681154910"><span class="annot"><span class="annottext">codeSeg :: (FilePath, [FilePath]) -&gt; Doc
</span><a href="#local-6989586621681154910"><span class="hs-identifier hs-var hs-var">codeSeg</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154891"><span class="annot"><span class="annottext">fnm :: FilePath
</span><a href="#local-6989586621681154891"><span class="hs-identifier hs-var">fnm</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154890"><span class="annot"><span class="annottext">ls :: [FilePath]
</span><a href="#local-6989586621681154890"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* User specified custom code for&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">doubleQuotes</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154891"><span class="hs-identifier hs-var">fnm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;*/&quot;</span></span><span>
</span><span id="line-510"></span><span>                         </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; [FilePath] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154890"><span class="hs-identifier hs-var">ls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-511"></span><span>                         </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-512"></span><span>
</span><span id="line-513"></span><span>       </span><span id="local-6989586621681154889"><span class="annot"><span class="annottext">typeWidth :: Int
</span><a href="#local-6989586621681154889"><span class="hs-identifier hs-var hs-var">typeWidth</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Int] -&gt; Int
forall t. (Num t, Ord t) =&gt; t -&gt; [t] -&gt; t
</span><a href="#local-6989586621681154888"><span class="hs-identifier hs-var">getMax</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">([Int] -&gt; Int) -&gt; [Int] -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Kind -&gt; Int
</span><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154886"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154886"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681154886"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(SV, SBVExpr)]
</span><a href="#local-6989586621681154901"><span class="hs-identifier hs-var">assignments</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; [Int] -&gt; [Int]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Kind -&gt; Int
</span><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154885"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154885"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681154885"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">([(Quantifier, NamedSymVar)], [NamedSymVar])
-&gt; [(Quantifier, NamedSymVar)]
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">([(Quantifier, NamedSymVar)], [NamedSymVar])
</span><a href="#local-6989586621681154941"><span class="hs-identifier hs-var">ins</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-514"></span><span>                </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154887"><span class="annot"><span class="annottext">len :: Kind -&gt; Int
</span><a href="#local-6989586621681154887"><span class="hs-identifier hs-var hs-var">len</span></a></span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">5</span></span><span>
</span><span id="line-515"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">6</span></span><span> </span><span class="hs-comment">-- SFloat</span><span>
</span><span id="line-516"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">7</span></span><span> </span><span class="hs-comment">-- SDouble</span><span>
</span><span id="line-517"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KString"><span class="hs-identifier hs-type">KString</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">7</span></span><span> </span><span class="hs-comment">-- SString</span><span>
</span><span id="line-518"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KChar"><span class="hs-identifier hs-type">KChar</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">5</span></span><span> </span><span class="hs-comment">-- SChar</span><span>
</span><span id="line-519"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-type">KUnbounded</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">8</span></span><span>
</span><span id="line-520"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-type">KBool</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">5</span></span><span> </span><span class="hs-comment">-- SBool</span><span>
</span><span id="line-521"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span id="local-6989586621681154884"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621681154884"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154884"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- SWordN</span><span>
</span><span id="line-522"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>  </span><span id="local-6989586621681154882"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621681154882"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154882"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- SIntN</span><span>
</span><span id="line-523"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KList"><span class="hs-identifier hs-type">KList</span></a></span><span> </span><span id="local-6989586621681154881"><span class="annot"><span class="annottext">s :: Kind
</span><a href="#local-6989586621681154881"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Int) -&gt; FilePath -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;List sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154881"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-524"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KSet"><span class="hs-identifier hs-type">KSet</span></a></span><span>  </span><span id="local-6989586621681154880"><span class="annot"><span class="annottext">s :: Kind
</span><a href="#local-6989586621681154880"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Int) -&gt; FilePath -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Set sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154880"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-525"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KTuple"><span class="hs-identifier hs-type">KTuple</span></a></span><span> </span><span id="local-6989586621681154879"><span class="annot"><span class="annottext">s :: [Kind]
</span><a href="#local-6989586621681154879"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Int) -&gt; FilePath -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Tuple sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681154879"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-526"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KMaybe"><span class="hs-identifier hs-type">KMaybe</span></a></span><span> </span><span id="local-6989586621681154878"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681154878"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Int) -&gt; FilePath -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Maybe sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154878"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-527"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KEither"><span class="hs-identifier hs-type">KEither</span></a></span><span> </span><span id="local-6989586621681154877"><span class="annot"><span class="annottext">k1 :: Kind
</span><a href="#local-6989586621681154877"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span id="local-6989586621681154876"><span class="annot"><span class="annottext">k2 :: Kind
</span><a href="#local-6989586621681154876"><span class="hs-identifier hs-var">k2</span></a></span></span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Int) -&gt; FilePath -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Either sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154877"><span class="hs-identifier hs-var">k1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154876"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-528"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154887"><span class="hs-identifier hs-var">len</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span> </span><span id="local-6989586621681154875"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681154875"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Int) -&gt; FilePath -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Uninterpreted sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154875"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span>                      </span><span id="local-6989586621681154888"><span class="annot"><span class="annottext">getMax :: t -&gt; [t] -&gt; t
</span><a href="#local-6989586621681154888"><span class="hs-identifier hs-var hs-var">getMax</span></a></span></span><span> </span><span class="hs-number">8</span><span> </span><span class="hs-identifier">_</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-number">8</span></span><span>  </span><span class="hs-comment">-- 8 is the max we can get with SInteger, so don't bother looking any further</span><span>
</span><span id="line-531"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154888"><span class="hs-identifier hs-var">getMax</span></a></span><span> </span><span id="local-6989586621681154874"><span class="annot"><span class="annottext">m :: t
</span><a href="#local-6989586621681154874"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681154874"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-532"></span><span>                      </span><span class="annot"><a href="#local-6989586621681154888"><span class="hs-identifier hs-var">getMax</span></a></span><span> </span><span id="local-6989586621681154873"><span class="annot"><span class="annottext">m :: t
</span><a href="#local-6989586621681154873"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154872"><span class="annot"><span class="annottext">x :: t
</span><a href="#local-6989586621681154872"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681154871"><span class="annot"><span class="annottext">xs :: [t]
</span><a href="#local-6989586621681154871"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; [t] -&gt; t
</span><a href="#local-6989586621681154888"><span class="hs-identifier hs-var">getMax</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681154873"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; t
forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`max`</span></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681154872"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[t]
</span><a href="#local-6989586621681154871"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-533"></span><span>
</span><span id="line-534"></span><span>       </span><span id="local-6989586621681154869"><span class="annot"><span class="annottext">consts :: [(SV, CV)]
</span><a href="#local-6989586621681154869"><span class="hs-identifier hs-var hs-var">consts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="Data.SBV.Core.Concrete.html#falseCV"><span class="hs-identifier hs-var">falseCV</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SV, CV) -&gt; [(SV, CV)] -&gt; [(SV, CV)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="Data.SBV.Core.Concrete.html#trueCV"><span class="hs-identifier hs-var">trueCV</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SV, CV) -&gt; [(SV, CV)] -&gt; [(SV, CV)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154940"><span class="hs-identifier hs-var">preConsts</span></a></span><span>
</span><span id="line-535"></span><span>
</span><span id="line-536"></span><span>       </span><span id="local-6989586621681154866"><span class="annot"><span class="annottext">isConst :: SV -&gt; Bool
</span><a href="#local-6989586621681154866"><span class="hs-identifier hs-var hs-var">isConst</span></a></span></span><span> </span><span id="local-6989586621681154865"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681154865"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe CV -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; [(SV, CV)] -&gt; Maybe CV
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-identifier hs-var">lookup</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154865"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154869"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-537"></span><span>
</span><span id="line-538"></span><span>       </span><span class="hs-comment">-- TODO: The following is brittle. We should really have a function elsewhere</span><span>
</span><span id="line-539"></span><span>       </span><span class="hs-comment">-- that walks the SBVExprs and collects the SWs together.</span><span>
</span><span id="line-540"></span><span>       </span><span id="local-6989586621681154864"><span class="annot"><span class="annottext">usedVariables :: Set SV
</span><a href="#local-6989586621681154864"><span class="hs-identifier hs-var hs-var">usedVariables</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Set SV] -&gt; Set SV
forall (f :: * -&gt; *) a. (Foldable f, Ord a) =&gt; f (Set a) -&gt; Set a
</span><span class="hs-identifier hs-var">Set.unions</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set SV
</span><a href="#local-6989586621681154863"><span class="hs-identifier hs-var">retSWs</span></a></span><span> </span><span class="annot"><span class="annottext">Set SV -&gt; [Set SV] -&gt; [Set SV]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">((FilePath, CgVal) -&gt; Set SV) -&gt; [(FilePath, CgVal)] -&gt; [Set SV]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, CgVal) -&gt; Set SV
forall a. (a, CgVal) -&gt; Set SV
</span><a href="#local-6989586621681154862"><span class="hs-identifier hs-var">usedCgVal</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, CgVal)]
</span><a href="#local-6989586621681154930"><span class="hs-identifier hs-var">outVars</span></a></span><span> </span><span class="annot"><span class="annottext">[Set SV] -&gt; [Set SV] -&gt; [Set SV]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">((SV, SBVExpr) -&gt; Set SV) -&gt; [(SV, SBVExpr)] -&gt; [Set SV]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(SV, SBVExpr) -&gt; Set SV
forall a. (a, SBVExpr) -&gt; Set SV
</span><a href="#local-6989586621681154861"><span class="hs-identifier hs-var">usedAsgn</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, SBVExpr)]
</span><a href="#local-6989586621681154901"><span class="hs-identifier hs-var">assignments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-541"></span><span>         </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154863"><span class="annot"><span class="annottext">retSWs :: Set SV
</span><a href="#local-6989586621681154863"><span class="hs-identifier hs-var hs-var">retSWs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set SV -&gt; (SV -&gt; Set SV) -&gt; Maybe SV -&gt; Set SV
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Set SV
forall a. Set a
</span><span class="hs-identifier hs-var">Set.empty</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; Set SV
forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">Maybe SV
</span><a href="#local-6989586621681154929"><span class="hs-identifier hs-var">mbRet</span></a></span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span>               </span><span id="local-6989586621681154862"><span class="annot"><span class="annottext">usedCgVal :: (a, CgVal) -&gt; Set SV
</span><a href="#local-6989586621681154862"><span class="hs-identifier hs-var hs-var">usedCgVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span> </span><span id="local-6989586621681154860"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681154860"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Set SV
forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154860"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-544"></span><span>               </span><span class="annot"><a href="#local-6989586621681154862"><span class="hs-identifier hs-var">usedCgVal</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span> </span><span id="local-6989586621681154859"><span class="annot"><span class="annottext">ss :: [SV]
</span><a href="#local-6989586621681154859"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SV] -&gt; Set SV
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154859"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-545"></span><span>               </span><span id="local-6989586621681154861"><span class="annot"><span class="annottext">usedAsgn :: (a, SBVExpr) -&gt; Set SV
</span><a href="#local-6989586621681154861"><span class="hs-identifier hs-var hs-var">usedAsgn</span></a></span></span><span>  </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-type">SBVApp</span></a></span><span> </span><span id="local-6989586621681154858"><span class="annot"><span class="annottext">o :: Op
</span><a href="#local-6989586621681154858"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681154857"><span class="annot"><span class="annottext">ss :: [SV]
</span><a href="#local-6989586621681154857"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set SV -&gt; Set SV -&gt; Set SV
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.union</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; Set SV
</span><a href="#local-6989586621681154856"><span class="hs-identifier hs-var">opSWs</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681154858"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; Set SV
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154857"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-546"></span><span>
</span><span id="line-547"></span><span>               </span><span id="local-6989586621681154856"><span class="annot"><span class="annottext">opSWs :: Op -&gt; Set SV
</span><a href="#local-6989586621681154856"><span class="hs-identifier hs-var hs-var">opSWs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#LkUp"><span class="hs-identifier hs-type">LkUp</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681154854"><span class="annot"><span class="annottext">a :: SV
</span><a href="#local-6989586621681154854"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681154853"><span class="annot"><span class="annottext">b :: SV
</span><a href="#local-6989586621681154853"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SV] -&gt; Set SV
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154854"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154853"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-548"></span><span>               </span><span class="annot"><a href="#local-6989586621681154856"><span class="hs-identifier hs-var">opSWs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#IEEEFP"><span class="hs-identifier hs-type">IEEEFP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Cast"><span class="hs-identifier hs-type">FP_Cast</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681154850"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681154850"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Set SV
forall a. a -&gt; Set a
</span><span class="hs-identifier hs-var">Set.singleton</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154850"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-549"></span><span>               </span><span class="annot"><a href="#local-6989586621681154856"><span class="hs-identifier hs-var">opSWs</span></a></span><span> </span><span class="hs-identifier">_</span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set SV
forall a. Set a
</span><span class="hs-identifier hs-var">Set.empty</span></span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span>       </span><span class="annot"><a href="#local-6989586621681154905"><span class="hs-identifier hs-type">isAlive</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgVal"><span class="hs-identifier hs-type">CgVal</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-552"></span><span>       </span><span id="local-6989586621681154905"><span class="annot"><span class="annottext">isAlive :: (FilePath, CgVal) -&gt; Bool
</span><a href="#local-6989586621681154905"><span class="hs-identifier hs-var hs-var">isAlive</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span> </span><span id="local-6989586621681154849"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154849"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154849"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; Set SV -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><span class="hs-operator hs-var">`Set.member`</span></span><span> </span><span class="annot"><span class="annottext">Set SV
</span><a href="#local-6989586621681154864"><span class="hs-identifier hs-var">usedVariables</span></a></span><span>
</span><span id="line-553"></span><span>       </span><span class="annot"><a href="#local-6989586621681154905"><span class="hs-identifier hs-var">isAlive</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-554"></span><span>
</span><span id="line-555"></span><span>       </span><span class="annot"><a href="#local-6989586621681154908"><span class="hs-identifier hs-type">genIO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgVal"><span class="hs-identifier hs-type">CgVal</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">]</span><span>
</span><span id="line-556"></span><span>       </span><span id="local-6989586621681154908"><span class="annot"><span class="annottext">genIO :: Bool -&gt; (Bool, (FilePath, CgVal)) -&gt; [Doc]
</span><a href="#local-6989586621681154908"><span class="hs-identifier hs-var hs-var">genIO</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621681154848"><span class="annot"><span class="annottext">alive :: Bool
</span><a href="#local-6989586621681154848"><span class="hs-identifier hs-var">alive</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154847"><span class="annot"><span class="annottext">cNm :: FilePath
</span><a href="#local-6989586621681154847"><span class="hs-identifier hs-var">cNm</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span> </span><span id="local-6989586621681154846"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154846"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#declSV"><span class="hs-identifier hs-var">declSV</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154889"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154846"><span class="hs-identifier hs-var">sv</span></a></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154847"><span class="hs-identifier hs-var">cNm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154848"><span class="hs-identifier hs-var">alive</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-557"></span><span>       </span><span class="annot"><a href="#local-6989586621681154908"><span class="hs-identifier hs-var">genIO</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154845"><span class="annot"><span class="annottext">alive :: Bool
</span><a href="#local-6989586621681154845"><span class="hs-identifier hs-var">alive</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154844"><span class="annot"><span class="annottext">cNm :: FilePath
</span><a href="#local-6989586621681154844"><span class="hs-identifier hs-var">cNm</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgAtomic"><span class="hs-identifier hs-type">CgAtomic</span></a></span><span> </span><span id="local-6989586621681154843"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154843"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;*&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154844"><span class="hs-identifier hs-var">cNm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; [(SV, CV)] -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSV"><span class="hs-identifier hs-var">showSV</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154949"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154869"><span class="hs-identifier hs-var">consts</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154843"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154845"><span class="hs-identifier hs-var">alive</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-558"></span><span>       </span><span class="annot"><a href="#local-6989586621681154908"><span class="hs-identifier hs-var">genIO</span></a></span><span> </span><span id="local-6989586621681154842"><span class="annot"><span class="annottext">isInp :: Bool
</span><a href="#local-6989586621681154842"><span class="hs-identifier hs-var">isInp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span>     </span><span class="hs-special">(</span><span id="local-6989586621681154841"><span class="annot"><span class="annottext">cNm :: FilePath
</span><a href="#local-6989586621681154841"><span class="hs-identifier hs-var">cNm</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgArray"><span class="hs-identifier hs-type">CgArray</span></a></span><span> </span><span id="local-6989586621681154840"><span class="annot"><span class="annottext">sws :: [SV]
</span><a href="#local-6989586621681154840"><span class="hs-identifier hs-var">sws</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SV -&gt; Int -&gt; Doc) -&gt; [SV] -&gt; [Int] -&gt; [Doc]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; Int -&gt; Doc
forall a. Show a =&gt; SV -&gt; a -&gt; Doc
</span><a href="#local-6989586621681154838"><span class="hs-identifier hs-var">genElt</span></a></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154840"><span class="hs-identifier hs-var">sws</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-glyph">..</span><span class="hs-special">]</span><span>
</span><span id="line-559"></span><span>         </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154838"><span class="annot"><span class="annottext">genElt :: SV -&gt; a -&gt; Doc
</span><a href="#local-6989586621681154838"><span class="hs-identifier hs-var hs-var">genElt</span></a></span></span><span> </span><span id="local-6989586621681154837"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154837"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span id="local-6989586621681154836"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621681154836"><span class="hs-identifier hs-var">i</span></a></span></span><span>
</span><span id="line-560"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154842"><span class="hs-identifier hs-var">isInp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#declSV"><span class="hs-identifier hs-var">declSV</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154889"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154837"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154835"><span class="hs-identifier hs-var">entry</span></a></span><span>       </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-561"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154835"><span class="hs-identifier hs-var">entry</span></a></span><span>          </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; [(SV, CV)] -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSV"><span class="hs-identifier hs-var">showSV</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154949"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154869"><span class="hs-identifier hs-var">consts</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154837"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-562"></span><span>                 </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154835"><span class="annot"><span class="annottext">entry :: FilePath
</span><a href="#local-6989586621681154835"><span class="hs-identifier hs-var hs-var">entry</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154841"><span class="hs-identifier hs-var">cNm</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;[&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154836"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;]&quot;</span></span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span>       </span><span id="local-6989586621681154897"><span class="annot"><span class="annottext">mkRet :: SV -&gt; Doc
</span><a href="#local-6989586621681154897"><span class="hs-identifier hs-var hs-var">mkRet</span></a></span></span><span> </span><span id="local-6989586621681154834"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154834"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;return&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; [(SV, CV)] -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSV"><span class="hs-identifier hs-var">showSV</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154949"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154869"><span class="hs-identifier hs-var">consts</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154834"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span>
</span><span id="line-565"></span><span>
</span><span id="line-566"></span><span>       </span><span class="annot"><a href="#local-6989586621681154903"><span class="hs-identifier hs-type">genTbl</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">)</span><span>
</span><span id="line-567"></span><span>       </span><span id="local-6989586621681154903"><span class="annot"><span class="annottext">genTbl :: ((Int, Kind, Kind), [SV]) -&gt; (Int, Doc)
</span><a href="#local-6989586621681154903"><span class="hs-identifier hs-var hs-var">genTbl</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681154833"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681154833"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154832"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681154832"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154831"><span class="annot"><span class="annottext">elts :: [SV]
</span><a href="#local-6989586621681154831"><span class="hs-identifier hs-var">elts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154830"><span class="hs-identifier hs-var">location</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154829"><span class="hs-identifier hs-var">static</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;const&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154832"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;table&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154833"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;[] = {&quot;</span></span><span>
</span><span id="line-568"></span><span>                                              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc -&gt; Doc
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="hs-number">4</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; [Doc]
</span><a href="Data.SBV.Compilers.C.html#align"><span class="hs-identifier hs-var">align</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; Doc) -&gt; [SV] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; [(SV, CV)] -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSV"><span class="hs-identifier hs-var">showSV</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154949"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154869"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154831"><span class="hs-identifier hs-var">elts</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-569"></span><span>                                              </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;};&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-570"></span><span>         </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154829"><span class="annot"><span class="annottext">static :: Doc
</span><a href="#local-6989586621681154829"><span class="hs-identifier hs-var hs-var">static</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154830"><span class="hs-identifier hs-var">location</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;static&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-571"></span><span>               </span><span id="local-6989586621681154830"><span class="annot"><span class="annottext">location :: Int
</span><a href="#local-6989586621681154830"><span class="hs-identifier hs-var hs-var">location</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Int
forall (t :: * -&gt; *) a. (Foldable t, Ord a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">maximum</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Int] -&gt; [Int]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(SV -&gt; Int) -&gt; [SV] -&gt; [Int]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; Int
</span><a href="#local-6989586621681154827"><span class="hs-identifier hs-var">getNodeId</span></a></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154831"><span class="hs-identifier hs-var">elts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-572"></span><span>
</span><span id="line-573"></span><span>       </span><span id="local-6989586621681154827"><span class="annot"><span class="annottext">getNodeId :: SV -&gt; Int
</span><a href="#local-6989586621681154827"><span class="hs-identifier hs-var hs-var">getNodeId</span></a></span></span><span> </span><span id="local-6989586621681154826"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681154826"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NodeId"><span class="hs-identifier hs-type">NodeId</span></a></span><span> </span><span id="local-6989586621681154823"><span class="annot"><span class="annottext">n :: Int
</span><a href="#local-6989586621681154823"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Bool
</span><a href="#local-6989586621681154866"><span class="hs-identifier hs-var">isConst</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154826"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-574"></span><span>                                     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154823"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-575"></span><span>
</span><span id="line-576"></span><span>       </span><span class="annot"><a href="#local-6989586621681154902"><span class="hs-identifier hs-type">genAsgn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVExpr"><span class="hs-identifier hs-type">SBVExpr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">)</span><span>
</span><span id="line-577"></span><span>       </span><span id="local-6989586621681154902"><span class="annot"><span class="annottext">genAsgn :: (SV, SBVExpr) -&gt; (Int, Doc)
</span><a href="#local-6989586621681154902"><span class="hs-identifier hs-var hs-var">genAsgn</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154822"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154822"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154821"><span class="annot"><span class="annottext">n :: SBVExpr
</span><a href="#local-6989586621681154821"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; Int
</span><a href="#local-6989586621681154827"><span class="hs-identifier hs-var">getNodeId</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154822"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; [(SV, CV)] -&gt; SBVExpr -&gt; Doc -&gt; (Doc, Doc) -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#ppExpr"><span class="hs-identifier hs-var">ppExpr</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154949"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154869"><span class="hs-identifier hs-var">consts</span></a></span><span> </span><span class="annot"><span class="annottext">SBVExpr
</span><a href="#local-6989586621681154821"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#declSV"><span class="hs-identifier hs-var">declSV</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154889"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154822"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; SV -&gt; (Doc, Doc)
</span><a href="Data.SBV.Compilers.C.html#declSVNoConst"><span class="hs-identifier hs-var">declSVNoConst</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154889"><span class="hs-identifier hs-var">typeWidth</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154822"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span class="hs-special">)</span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span>       </span><span class="hs-comment">-- merge tables intermixed with assignments and assertions, paying attention to putting tables as</span><span>
</span><span id="line-580"></span><span>       </span><span class="hs-comment">-- early as possible and tables right after.. Note that the assignment list (second argument) is sorted on its order</span><span>
</span><span id="line-581"></span><span>       </span><span class="annot"><a href="#local-6989586621681154904"><span class="hs-identifier hs-type">merge</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">]</span><span>
</span><span id="line-582"></span><span>       </span><span id="local-6989586621681154904"><span class="annot"><span class="annottext">merge :: [(Int, Doc)] -&gt; [(Int, Doc)] -&gt; [(Int, Doc)] -&gt; [Doc]
</span><a href="#local-6989586621681154904"><span class="hs-identifier hs-var hs-var">merge</span></a></span></span><span> </span><span id="local-6989586621681154819"><span class="annot"><span class="annottext">tables :: [(Int, Doc)]
</span><a href="#local-6989586621681154819"><span class="hs-identifier hs-var">tables</span></a></span></span><span> </span><span id="local-6989586621681154818"><span class="annot"><span class="annottext">asgnments :: [(Int, Doc)]
</span><a href="#local-6989586621681154818"><span class="hs-identifier hs-var">asgnments</span></a></span></span><span> </span><span id="local-6989586621681154817"><span class="annot"><span class="annottext">asrts :: [(Int, Doc)]
</span><a href="#local-6989586621681154817"><span class="hs-identifier hs-var">asrts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Int, Doc) -&gt; Doc) -&gt; [(Int, Doc)] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Int, Doc) -&gt; Doc
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">([(Int, Doc)] -&gt; [Doc]) -&gt; [(Int, Doc)] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Int, Doc)] -&gt; [(Int, Doc)] -&gt; [(Int, Doc)]
forall a b. Ord a =&gt; [(a, b)] -&gt; [(a, b)] -&gt; [(a, b)]
</span><a href="#local-6989586621681154816"><span class="hs-identifier hs-var">merge2</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, Doc)]
</span><a href="#local-6989586621681154817"><span class="hs-identifier hs-var">asrts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Int, Doc)] -&gt; [(Int, Doc)] -&gt; [(Int, Doc)]
forall a b. Ord a =&gt; [(a, b)] -&gt; [(a, b)] -&gt; [(a, b)]
</span><a href="#local-6989586621681154816"><span class="hs-identifier hs-var">merge2</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, Doc)]
</span><a href="#local-6989586621681154819"><span class="hs-identifier hs-var">tables</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, Doc)]
</span><a href="#local-6989586621681154818"><span class="hs-identifier hs-var">asgnments</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-583"></span><span>         </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154816"><span class="annot"><span class="annottext">merge2 :: [(a, b)] -&gt; [(a, b)] -&gt; [(a, b)]
</span><a href="#local-6989586621681154816"><span class="hs-identifier hs-var hs-var">merge2</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>               </span><span id="local-6989586621681154815"><span class="annot"><span class="annottext">as :: [(a, b)]
</span><a href="#local-6989586621681154815"><span class="hs-keyword hs-var">as</span></a></span></span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621681154815"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-584"></span><span>               </span><span class="annot"><a href="#local-6989586621681154816"><span class="hs-identifier hs-var">merge2</span></a></span><span> </span><span id="local-6989586621681154814"><span class="annot"><span class="annottext">ts :: [(a, b)]
</span><a href="#local-6989586621681154814"><span class="hs-identifier hs-var">ts</span></a></span></span><span>               </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621681154814"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-585"></span><span>               </span><span class="annot"><a href="#local-6989586621681154816"><span class="hs-identifier hs-var">merge2</span></a></span><span> </span><span id="local-6989586621681154813"><span class="annot"><span class="annottext">ts :: [(a, b)]
</span><a href="#local-6989586621681154813"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681154812"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621681154812"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154811"><span class="annot"><span class="annottext">t :: b
</span><a href="#local-6989586621681154811"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681154810"><span class="annot"><span class="annottext">trest :: [(a, b)]
</span><a href="#local-6989586621681154810"><span class="hs-identifier hs-var">trest</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681154809"><span class="annot"><span class="annottext">as :: [(a, b)]
</span><a href="#local-6989586621681154809"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681154808"><span class="annot"><span class="annottext">i' :: a
</span><a href="#local-6989586621681154808"><span class="hs-identifier hs-var">i'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154807"><span class="annot"><span class="annottext">a :: b
</span><a href="#local-6989586621681154807"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681154806"><span class="annot"><span class="annottext">arest :: [(a, b)]
</span><a href="#local-6989586621681154806"><span class="hs-identifier hs-var">arest</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-586"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154812"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154808"><span class="hs-identifier hs-var">i'</span></a></span><span>                                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154812"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154811"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">(a, b) -&gt; [(a, b)] -&gt; [(a, b)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[(a, b)] -&gt; [(a, b)] -&gt; [(a, b)]
</span><a href="#local-6989586621681154816"><span class="hs-identifier hs-var">merge2</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621681154810"><span class="hs-identifier hs-var">trest</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621681154809"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-587"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154808"><span class="hs-identifier hs-var">i'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154807"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a, b) -&gt; [(a, b)] -&gt; [(a, b)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[(a, b)] -&gt; [(a, b)] -&gt; [(a, b)]
</span><a href="#local-6989586621681154816"><span class="hs-identifier hs-var">merge2</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621681154813"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621681154806"><span class="hs-identifier hs-var">arest</span></a></span><span>
</span><span id="line-588"></span><span>
</span><span id="line-589"></span><span>       </span><span id="local-6989586621681154900"><span class="annot"><span class="annottext">genAssert :: (FilePath, Maybe CallStack, SV) -&gt; (Int, Doc)
</span><a href="#local-6989586621681154900"><span class="hs-identifier hs-var hs-var">genAssert</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154804"><span class="annot"><span class="annottext">msg :: FilePath
</span><a href="#local-6989586621681154804"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154803"><span class="annot"><span class="annottext">cs :: Maybe CallStack
</span><a href="#local-6989586621681154803"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154802"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154802"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; Int
</span><a href="#local-6989586621681154827"><span class="hs-identifier hs-var">getNodeId</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154802"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154801"><span class="hs-identifier hs-var">doc</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-590"></span><span>         </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154801"><span class="annot"><span class="annottext">doc :: Doc
</span><a href="#local-6989586621681154801"><span class="hs-identifier hs-var hs-var">doc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>     </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* ASSERTION:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154804"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-591"></span><span>                     </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; ([FilePath] -&gt; Doc) -&gt; Maybe [FilePath] -&gt; Doc
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="annot"><span class="annottext">([Doc] -&gt; Doc) -&gt; ([FilePath] -&gt; [Doc]) -&gt; [FilePath] -&gt; Doc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; [FilePath] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe [(FilePath, SrcLoc)] -&gt; Maybe [FilePath]
</span><a href="#local-6989586621681154800"><span class="hs-identifier hs-var">locInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CallStack -&gt; [(FilePath, SrcLoc)]
</span><span class="hs-identifier hs-var">getCallStack</span></span><span> </span><span class="annot"><span class="annottext">(CallStack -&gt; [(FilePath, SrcLoc)])
-&gt; Maybe CallStack -&gt; Maybe [(FilePath, SrcLoc)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">`fmap`</span></span><span> </span><span class="annot"><span class="annottext">Maybe CallStack
</span><a href="#local-6989586621681154803"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span>                     </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot; */&quot;</span></span><span>
</span><span id="line-593"></span><span>                     </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;if&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; [(SV, CV)] -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSV"><span class="hs-identifier hs-var">showSV</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154949"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154869"><span class="hs-identifier hs-var">consts</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154802"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-594"></span><span>                     </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;{&quot;</span></span><span>
</span><span id="line-595"></span><span>                     </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$+$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc -&gt; Doc
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154798"><span class="hs-identifier hs-var">errOut</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;exit(-1);&quot;</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-596"></span><span>                     </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;}&quot;</span></span><span>
</span><span id="line-597"></span><span>                     </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-598"></span><span>               </span><span id="local-6989586621681154798"><span class="annot"><span class="annottext">errOut :: Doc
</span><a href="#local-6989586621681154798"><span class="hs-identifier hs-var hs-var">errOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;fprintf(stderr, \&quot;%s:%d:ASSERTION FAILED: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154804"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\\n\&quot;, __FILE__, __LINE__);&quot;</span></span><span>
</span><span id="line-599"></span><span>               </span><span id="local-6989586621681154800"><span class="annot"><span class="annottext">locInfo :: Maybe [(FilePath, SrcLoc)] -&gt; Maybe [FilePath]
</span><a href="#local-6989586621681154800"><span class="hs-identifier hs-var hs-var">locInfo</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681154797"><span class="annot"><span class="annottext">ps :: [(FilePath, SrcLoc)]
</span><a href="#local-6989586621681154797"><span class="hs-identifier hs-var">ps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681154796"><span class="annot"><span class="annottext">loc :: (FilePath, SrcLoc) -&gt; FilePath
</span><a href="#local-6989586621681154796"><span class="hs-identifier hs-var hs-var">loc</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154795"><span class="annot"><span class="annottext">f :: FilePath
</span><a href="#local-6989586621681154795"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154794"><span class="annot"><span class="annottext">sl :: SrcLoc
</span><a href="#local-6989586621681154794"><span class="hs-identifier hs-var">sl</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; FilePath
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SrcLoc -&gt; FilePath
</span><span class="hs-identifier hs-var hs-var">srcLocFile</span></span><span> </span><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621681154794"><span class="hs-identifier hs-var">sl</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcLoc -&gt; Int
</span><span class="hs-identifier hs-var hs-var">srcLocStartLine</span></span><span> </span><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621681154794"><span class="hs-identifier hs-var">sl</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SrcLoc -&gt; Int
</span><span class="hs-identifier hs-var hs-var">srcLocStartCol</span></span><span> </span><span class="annot"><span class="annottext">SrcLoc
</span><a href="#local-6989586621681154794"><span class="hs-identifier hs-var">sl</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154795"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-600"></span><span>                                   </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">((FilePath, SrcLoc) -&gt; FilePath)
-&gt; [(FilePath, SrcLoc)] -&gt; [FilePath]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, SrcLoc) -&gt; FilePath
</span><a href="#local-6989586621681154796"><span class="hs-identifier hs-var">loc</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, SrcLoc)]
</span><a href="#local-6989586621681154797"><span class="hs-identifier hs-var">ps</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-601"></span><span>                                         </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe [FilePath]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-602"></span><span>                                         </span><span class="hs-special">(</span><span id="local-6989586621681154789"><span class="annot"><span class="annottext">f :: FilePath
</span><a href="#local-6989586621681154789"><span class="hs-identifier hs-var">f</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681154788"><span class="annot"><span class="annottext">rs :: [FilePath]
</span><a href="#local-6989586621681154788"><span class="hs-identifier hs-var">rs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; Maybe [FilePath]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([FilePath] -&gt; Maybe [FilePath]) -&gt; [FilePath] -&gt; Maybe [FilePath]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot; * SOURCE   : &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154789"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [FilePath] -&gt; [FilePath]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; FilePath) -&gt; [FilePath] -&gt; [FilePath]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot; *            &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154788"><span class="hs-identifier hs-var">rs</span></a></span><span>
</span><span id="line-603"></span><span>               </span><span class="annot"><a href="#local-6989586621681154800"><span class="hs-identifier hs-var">locInfo</span></a></span><span> </span><span class="hs-identifier">_</span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [FilePath]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-604"></span><span>
</span><span id="line-605"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#handlePB"><span class="hs-identifier hs-type">handlePB</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#PBOp"><span class="hs-identifier hs-type">PBOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-606"></span><span id="handlePB"><span class="annot"><span class="annottext">handlePB :: PBOp -&gt; [Doc] -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#handlePB"><span class="hs-identifier hs-var hs-var">handlePB</span></a></span></span><span> </span><span id="local-6989586621681154786"><span class="annot"><span class="annottext">o :: PBOp
</span><a href="#local-6989586621681154786"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681154785"><span class="annot"><span class="annottext">args :: [Doc]
</span><a href="#local-6989586621681154785"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">PBOp
</span><a href="#local-6989586621681154786"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-607"></span><span>                    </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#PB_AtMost"><span class="hs-identifier hs-type">PB_AtMost</span></a></span><span>  </span><span id="local-6989586621681154783"><span class="annot"><span class="annottext">k :: Int
</span><a href="#local-6989586621681154783"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Doc
</span><a href="#local-6989586621681154782"><span class="hs-identifier hs-var">addIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Int]
forall a. a -&gt; [a]
</span><span class="hs-identifier hs-var">repeat</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154783"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-608"></span><span>                    </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#PB_AtLeast"><span class="hs-identifier hs-type">PB_AtLeast</span></a></span><span> </span><span id="local-6989586621681154780"><span class="annot"><span class="annottext">k :: Int
</span><a href="#local-6989586621681154780"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Doc
</span><a href="#local-6989586621681154782"><span class="hs-identifier hs-var">addIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Int]
forall a. a -&gt; [a]
</span><span class="hs-identifier hs-var">repeat</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154780"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-609"></span><span>                    </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#PB_Exactly"><span class="hs-identifier hs-type">PB_Exactly</span></a></span><span> </span><span id="local-6989586621681154778"><span class="annot"><span class="annottext">k :: Int
</span><a href="#local-6989586621681154778"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Doc
</span><a href="#local-6989586621681154782"><span class="hs-identifier hs-var">addIf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Int]
forall a. a -&gt; [a]
</span><span class="hs-identifier hs-var">repeat</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;==&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154778"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-610"></span><span>                    </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#PB_Le"><span class="hs-identifier hs-type">PB_Le</span></a></span><span> </span><span id="local-6989586621681154776"><span class="annot"><span class="annottext">cs :: [Int]
</span><a href="#local-6989586621681154776"><span class="hs-identifier hs-var">cs</span></a></span></span><span>   </span><span id="local-6989586621681154775"><span class="annot"><span class="annottext">k :: Int
</span><a href="#local-6989586621681154775"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Doc
</span><a href="#local-6989586621681154782"><span class="hs-identifier hs-var">addIf</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621681154776"><span class="hs-identifier hs-var">cs</span></a></span><span>         </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154775"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-611"></span><span>                    </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#PB_Ge"><span class="hs-identifier hs-type">PB_Ge</span></a></span><span> </span><span id="local-6989586621681154773"><span class="annot"><span class="annottext">cs :: [Int]
</span><a href="#local-6989586621681154773"><span class="hs-identifier hs-var">cs</span></a></span></span><span>   </span><span id="local-6989586621681154772"><span class="annot"><span class="annottext">k :: Int
</span><a href="#local-6989586621681154772"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Doc
</span><a href="#local-6989586621681154782"><span class="hs-identifier hs-var">addIf</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621681154773"><span class="hs-identifier hs-var">cs</span></a></span><span>         </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154772"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-612"></span><span>                    </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#PB_Eq"><span class="hs-identifier hs-type">PB_Eq</span></a></span><span> </span><span id="local-6989586621681154770"><span class="annot"><span class="annottext">cs :: [Int]
</span><a href="#local-6989586621681154770"><span class="hs-identifier hs-var">cs</span></a></span></span><span>   </span><span id="local-6989586621681154769"><span class="annot"><span class="annottext">k :: Int
</span><a href="#local-6989586621681154769"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Doc
</span><a href="#local-6989586621681154782"><span class="hs-identifier hs-var">addIf</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621681154770"><span class="hs-identifier hs-var">cs</span></a></span><span>         </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;==&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154769"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621681154782"><span class="hs-identifier hs-type">addIf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-615"></span><span>        </span><span id="local-6989586621681154782"><span class="annot"><span class="annottext">addIf :: [Int] -&gt; Doc
</span><a href="#local-6989586621681154782"><span class="hs-identifier hs-var hs-var">addIf</span></a></span></span><span> </span><span id="local-6989586621681154768"><span class="annot"><span class="annottext">cs :: [Int]
</span><a href="#local-6989586621681154768"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; Doc) -&gt; Doc -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="annot"><span class="annottext">([Doc] -&gt; Doc) -&gt; [Doc] -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">intersperse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;+&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154767"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;?&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154766"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154767"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154767"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154766"><span class="annot"><span class="annottext">c :: Int
</span><a href="#local-6989586621681154766"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; [Int] -&gt; [(Doc, Int)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154785"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">[Int]
</span><a href="#local-6989586621681154768"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-616"></span><span>
</span><span id="line-617"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#handleIEEE"><span class="hs-identifier hs-type">handleIEEE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FPOp"><span class="hs-identifier hs-type">FPOp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-618"></span><span id="handleIEEE"><span class="annot"><span class="annottext">handleIEEE :: FPOp -&gt; [(SV, CV)] -&gt; [(SV, Doc)] -&gt; Doc -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#handleIEEE"><span class="hs-identifier hs-var hs-var">handleIEEE</span></a></span></span><span> </span><span id="local-6989586621681154764"><span class="annot"><span class="annottext">w :: FPOp
</span><a href="#local-6989586621681154764"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621681154763"><span class="annot"><span class="annottext">consts :: [(SV, CV)]
</span><a href="#local-6989586621681154763"><span class="hs-identifier hs-var">consts</span></a></span></span><span> </span><span id="local-6989586621681154762"><span class="annot"><span class="annottext">as :: [(SV, Doc)]
</span><a href="#local-6989586621681154762"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span id="local-6989586621681154761"><span class="annot"><span class="annottext">var :: Doc
</span><a href="#local-6989586621681154761"><span class="hs-identifier hs-var">var</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FPOp -&gt; Doc
</span><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="#local-6989586621681154764"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-619"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154759"><span class="annot"><span class="annottext">same :: b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var hs-var">same</span></a></span></span><span> </span><span id="local-6989586621681154758"><span class="annot"><span class="annottext">f :: b
</span><a href="#local-6989586621681154758"><span class="hs-identifier hs-var">f</span></a></span></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154758"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154758"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-620"></span><span>        </span><span id="local-6989586621681154757"><span class="annot"><span class="annottext">named :: t -&gt; t -&gt; (t -&gt; b) -&gt; (b, b)
</span><a href="#local-6989586621681154757"><span class="hs-identifier hs-var hs-var">named</span></a></span></span><span> </span><span id="local-6989586621681154756"><span class="annot"><span class="annottext">fnm :: t
</span><a href="#local-6989586621681154756"><span class="hs-identifier hs-var">fnm</span></a></span></span><span> </span><span id="local-6989586621681154755"><span class="annot"><span class="annottext">dnm :: t
</span><a href="#local-6989586621681154755"><span class="hs-identifier hs-var">dnm</span></a></span></span><span> </span><span id="local-6989586621681154754"><span class="annot"><span class="annottext">f :: t -&gt; b
</span><a href="#local-6989586621681154754"><span class="hs-identifier hs-var">f</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">t -&gt; b
</span><a href="#local-6989586621681154754"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681154756"><span class="hs-identifier hs-var">fnm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">t -&gt; b
</span><a href="#local-6989586621681154754"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621681154755"><span class="hs-identifier hs-var">dnm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-621"></span><span>
</span><span id="line-622"></span><span>        </span><span id="local-6989586621681154760"><span class="annot"><span class="annottext">cvt :: FPOp -&gt; Doc
</span><a href="#local-6989586621681154760"><span class="hs-identifier hs-var hs-var">cvt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Cast"><span class="hs-identifier hs-type">FP_Cast</span></a></span><span> </span><span id="local-6989586621681154753"><span class="annot"><span class="annottext">from :: Kind
</span><a href="#local-6989586621681154753"><span class="hs-identifier hs-var">from</span></a></span></span><span> </span><span id="local-6989586621681154752"><span class="annot"><span class="annottext">to :: Kind
</span><a href="#local-6989586621681154752"><span class="hs-identifier hs-var">to</span></a></span></span><span> </span><span id="local-6989586621681154751"><span class="annot"><span class="annottext">m :: SV
</span><a href="#local-6989586621681154751"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe CV -&gt; Maybe (Either FilePath FilePath)
</span><a href="#local-6989586621681154750"><span class="hs-identifier hs-var">checkRM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154751"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; [(SV, CV)] -&gt; Maybe CV
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-operator hs-var">`lookup`</span></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154763"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-623"></span><span>                                        </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Doc] -&gt; Doc) -&gt; Doc
forall t. ([Doc] -&gt; t) -&gt; t
</span><a href="#local-6989586621681154749"><span class="hs-identifier hs-var">cast</span></a></span><span> </span><span class="annot"><span class="annottext">(([Doc] -&gt; Doc) -&gt; Doc) -&gt; ([Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621681154748"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154748"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154752"><span class="hs-identifier hs-var">to</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154747"><span class="hs-identifier hs-var">rnd</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154748"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-624"></span><span>                                        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span>  </span><span id="local-6989586621681154746"><span class="annot"><span class="annottext">msg :: FilePath
</span><a href="#local-6989586621681154746"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154746"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-625"></span><span>                                        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621681154745"><span class="annot"><span class="annottext">msg :: FilePath
</span><a href="#local-6989586621681154745"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154745"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-626"></span><span>                                      </span><span class="hs-keyword">where</span><span> </span><span class="hs-comment">-- if we're converting from float to some integral like; first use rint/rintf to do the internal conversion and then cast.</span><span>
</span><span id="line-627"></span><span>                                            </span><span id="local-6989586621681154747"><span class="annot"><span class="annottext">rnd :: Doc -&gt; Doc
</span><a href="#local-6989586621681154747"><span class="hs-identifier hs-var hs-var">rnd</span></a></span></span><span> </span><span id="local-6989586621681154744"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154744"><span class="hs-identifier hs-var">a</span></a></span></span><span>
</span><span id="line-628"></span><span>                                             </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isFloat"><span class="hs-identifier hs-var">isFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154753"><span class="hs-identifier hs-var">from</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isDouble"><span class="hs-identifier hs-var">isDouble</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154753"><span class="hs-identifier hs-var">from</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isBounded"><span class="hs-identifier hs-var">isBounded</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154752"><span class="hs-identifier hs-var">to</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isUnbounded"><span class="hs-identifier hs-var">isUnbounded</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154752"><span class="hs-identifier hs-var">to</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-629"></span><span>                                             </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681154739"><span class="annot"><span class="annottext">f :: FilePath
</span><a href="#local-6989586621681154739"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isFloat"><span class="hs-identifier hs-var">isFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154753"><span class="hs-identifier hs-var">from</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="hs-string">&quot;rintf&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="hs-string">&quot;rint&quot;</span></span><span>
</span><span id="line-630"></span><span>                                               </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154739"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154744"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-631"></span><span>                                             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-632"></span><span>                                             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154744"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-633"></span><span>
</span><span id="line-634"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Reinterpret"><span class="hs-identifier hs-type">FP_Reinterpret</span></a></span><span> </span><span id="local-6989586621681154737"><span class="annot"><span class="annottext">f :: Kind
</span><a href="#local-6989586621681154737"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681154736"><span class="annot"><span class="annottext">t :: Kind
</span><a href="#local-6989586621681154736"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154737"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154736"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-635"></span><span>                                     </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-number">32</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Doc] -&gt; Doc) -&gt; Doc
forall t. ([Doc] -&gt; t) -&gt; t
</span><a href="#local-6989586621681154749"><span class="hs-identifier hs-var">cast</span></a></span><span> </span><span class="annot"><span class="annottext">(([Doc] -&gt; Doc) -&gt; Doc) -&gt; ([Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [Doc] -&gt; Doc
</span><a href="#local-6989586621681154735"><span class="hs-identifier hs-var">cpy</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;sizeof(SFloat)&quot;</span></span><span>
</span><span id="line-636"></span><span>                                     </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-number">64</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Doc] -&gt; Doc) -&gt; Doc
forall t. ([Doc] -&gt; t) -&gt; t
</span><a href="#local-6989586621681154749"><span class="hs-identifier hs-var">cast</span></a></span><span> </span><span class="annot"><span class="annottext">(([Doc] -&gt; Doc) -&gt; Doc) -&gt; ([Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [Doc] -&gt; Doc
</span><a href="#local-6989586621681154735"><span class="hs-identifier hs-var">cpy</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;sizeof(SDouble)&quot;</span></span><span>
</span><span id="line-637"></span><span>                                     </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-number">32</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Doc] -&gt; Doc) -&gt; Doc
forall t. ([Doc] -&gt; t) -&gt; t
</span><a href="#local-6989586621681154749"><span class="hs-identifier hs-var">cast</span></a></span><span> </span><span class="annot"><span class="annottext">(([Doc] -&gt; Doc) -&gt; Doc) -&gt; ([Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [Doc] -&gt; Doc
</span><a href="#local-6989586621681154735"><span class="hs-identifier hs-var">cpy</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;sizeof(SWord32)&quot;</span></span><span>
</span><span id="line-638"></span><span>                                     </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-number">64</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Doc] -&gt; Doc) -&gt; Doc
forall t. ([Doc] -&gt; t) -&gt; t
</span><a href="#local-6989586621681154749"><span class="hs-identifier hs-var">cast</span></a></span><span> </span><span class="annot"><span class="annottext">(([Doc] -&gt; Doc) -&gt; Doc) -&gt; ([Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [Doc] -&gt; Doc
</span><a href="#local-6989586621681154735"><span class="hs-identifier hs-var">cpy</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;sizeof(SWord64)&quot;</span></span><span>
</span><span id="line-639"></span><span>                                     </span><span class="hs-identifier">_</span><span>                            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Reinterpretation from : &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154737"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; to &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154736"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-640"></span><span>                                    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154735"><span class="annot"><span class="annottext">cpy :: FilePath -&gt; [Doc] -&gt; Doc
</span><a href="#local-6989586621681154735"><span class="hs-identifier hs-var hs-var">cpy</span></a></span></span><span> </span><span id="local-6989586621681154734"><span class="annot"><span class="annottext">sz :: FilePath
</span><a href="#local-6989586621681154734"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">[</span><span id="local-6989586621681154733"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154733"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681154732"><span class="annot"><span class="annottext">alhs :: Doc
</span><a href="#local-6989586621681154732"><span class="hs-identifier hs-var hs-var">alhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154761"><span class="hs-identifier hs-var">var</span></a></span><span>
</span><span id="line-641"></span><span>                                                               </span><span id="local-6989586621681154731"><span class="annot"><span class="annottext">arhs :: Doc
</span><a href="#local-6989586621681154731"><span class="hs-identifier hs-var hs-var">arhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154733"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-642"></span><span>                                                           </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;memcpy&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154732"><span class="hs-identifier hs-var">alhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154731"><span class="hs-identifier hs-var">arhs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154734"><span class="hs-identifier hs-var">sz</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-643"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Abs"><span class="hs-identifier hs-type">FP_Abs</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath
-&gt; FilePath
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall t b. t -&gt; t -&gt; (t -&gt; b) -&gt; (b, b)
</span><a href="#local-6989586621681154757"><span class="hs-identifier hs-var">named</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;fabsf&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;fabs&quot;</span></span><span> </span><span class="annot"><span class="annottext">((FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681154728"><span class="annot"><span class="annottext">nm :: FilePath
</span><a href="#local-6989586621681154728"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154727"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154727"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154728"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154727"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-644"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Neg"><span class="hs-identifier hs-type">FP_Neg</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154725"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154725"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154725"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-645"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Add"><span class="hs-identifier hs-type">FP_Add</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154723"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154723"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154722"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154722"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154723"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;+&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154722"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-646"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Sub"><span class="hs-identifier hs-type">FP_Sub</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154720"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154720"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154719"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154719"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154720"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154719"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-647"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Mul"><span class="hs-identifier hs-type">FP_Mul</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154717"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154717"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154716"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154716"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154717"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;*&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154716"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-648"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Div"><span class="hs-identifier hs-type">FP_Div</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154714"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154714"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154713"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154713"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154714"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154713"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-649"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_FMA"><span class="hs-identifier hs-type">FP_FMA</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath
-&gt; FilePath
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall t b. t -&gt; t -&gt; (t -&gt; b) -&gt; (b, b)
</span><a href="#local-6989586621681154757"><span class="hs-identifier hs-var">named</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;fmaf&quot;</span></span><span>  </span><span class="annot"><span class="hs-string">&quot;fma&quot;</span></span><span>  </span><span class="annot"><span class="annottext">((FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681154711"><span class="annot"><span class="annottext">nm :: FilePath
</span><a href="#local-6989586621681154711"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154710"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154710"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154709"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154709"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154708"><span class="annot"><span class="annottext">c :: Doc
</span><a href="#local-6989586621681154708"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154711"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154710"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154709"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154708"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-650"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Sqrt"><span class="hs-identifier hs-type">FP_Sqrt</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath
-&gt; FilePath
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall t b. t -&gt; t -&gt; (t -&gt; b) -&gt; (b, b)
</span><a href="#local-6989586621681154757"><span class="hs-identifier hs-var">named</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;sqrtf&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;sqrt&quot;</span></span><span> </span><span class="annot"><span class="annottext">((FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681154706"><span class="annot"><span class="annottext">nm :: FilePath
</span><a href="#local-6989586621681154706"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154705"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154705"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154706"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154705"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-651"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Rem"><span class="hs-identifier hs-type">FP_Rem</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath
-&gt; FilePath
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall t b. t -&gt; t -&gt; (t -&gt; b) -&gt; (b, b)
</span><a href="#local-6989586621681154757"><span class="hs-identifier hs-var">named</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;fmodf&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;fmod&quot;</span></span><span> </span><span class="annot"><span class="annottext">((FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681154703"><span class="annot"><span class="annottext">nm :: FilePath
</span><a href="#local-6989586621681154703"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154702"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154702"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154701"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154701"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154703"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154702"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154701"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-652"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_RoundToIntegral"><span class="hs-identifier hs-type">FP_RoundToIntegral</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath
-&gt; FilePath
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall t b. t -&gt; t -&gt; (t -&gt; b) -&gt; (b, b)
</span><a href="#local-6989586621681154757"><span class="hs-identifier hs-var">named</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;rintf&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;rint&quot;</span></span><span> </span><span class="annot"><span class="annottext">((FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681154699"><span class="annot"><span class="annottext">nm :: FilePath
</span><a href="#local-6989586621681154699"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154698"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154698"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154699"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154698"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-653"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Min"><span class="hs-identifier hs-type">FP_Min</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath
-&gt; FilePath
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall t b. t -&gt; t -&gt; (t -&gt; b) -&gt; (b, b)
</span><a href="#local-6989586621681154757"><span class="hs-identifier hs-var">named</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;fminf&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;fmin&quot;</span></span><span> </span><span class="annot"><span class="annottext">((FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681154696"><span class="annot"><span class="annottext">nm :: FilePath
</span><a href="#local-6989586621681154696"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621681154695"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681154695"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154694"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154694"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154693"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154693"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Doc -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154692"><span class="hs-identifier hs-var">wrapMinMax</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154695"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154694"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154693"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154696"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154694"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154693"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-654"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Max"><span class="hs-identifier hs-type">FP_Max</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FilePath
-&gt; FilePath
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall t b. t -&gt; t -&gt; (t -&gt; b) -&gt; (b, b)
</span><a href="#local-6989586621681154757"><span class="hs-identifier hs-var">named</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;fmaxf&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;fmax&quot;</span></span><span> </span><span class="annot"><span class="annottext">((FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (FilePath -&gt; Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621681154690"><span class="annot"><span class="annottext">nm :: FilePath
</span><a href="#local-6989586621681154690"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621681154689"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681154689"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154688"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154688"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154687"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154687"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Doc -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154692"><span class="hs-identifier hs-var">wrapMinMax</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154689"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154688"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154687"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154690"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154688"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154687"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-655"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_ObjEqual"><span class="hs-identifier hs-type">FP_ObjEqual</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681154685"><span class="annot"><span class="annottext">mkIte :: Doc -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154685"><span class="hs-identifier hs-var hs-var">mkIte</span></a></span></span><span>   </span><span id="local-6989586621681154684"><span class="annot"><span class="annottext">x :: Doc
</span><a href="#local-6989586621681154684"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681154683"><span class="annot"><span class="annottext">y :: Doc
</span><a href="#local-6989586621681154683"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621681154682"><span class="annot"><span class="annottext">z :: Doc
</span><a href="#local-6989586621681154682"><span class="hs-identifier hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154684"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;?&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154683"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154682"><span class="hs-identifier hs-var">z</span></a></span><span>
</span><span id="line-656"></span><span>                                       </span><span id="local-6989586621681154681"><span class="annot"><span class="annottext">chkNaN :: Doc -&gt; Doc
</span><a href="#local-6989586621681154681"><span class="hs-identifier hs-var hs-var">chkNaN</span></a></span></span><span>  </span><span id="local-6989586621681154680"><span class="annot"><span class="annottext">x :: Doc
</span><a href="#local-6989586621681154680"><span class="hs-identifier hs-var">x</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;isnan&quot;</span></span><span>   </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154680"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-657"></span><span>                                       </span><span id="local-6989586621681154679"><span class="annot"><span class="annottext">signbit :: Doc -&gt; Doc
</span><a href="#local-6989586621681154679"><span class="hs-identifier hs-var hs-var">signbit</span></a></span></span><span> </span><span id="local-6989586621681154678"><span class="annot"><span class="annottext">x :: Doc
</span><a href="#local-6989586621681154678"><span class="hs-identifier hs-var">x</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;signbit&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154678"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-658"></span><span>                                       </span><span id="local-6989586621681154677"><span class="annot"><span class="annottext">eq :: Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154677"><span class="hs-identifier hs-var hs-var">eq</span></a></span></span><span>      </span><span id="local-6989586621681154676"><span class="annot"><span class="annottext">x :: Doc
</span><a href="#local-6989586621681154676"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621681154675"><span class="annot"><span class="annottext">y :: Doc
</span><a href="#local-6989586621681154675"><span class="hs-identifier hs-var">y</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154676"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;==&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154675"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-659"></span><span>                                       </span><span id="local-6989586621681154674"><span class="annot"><span class="annottext">eqZero :: Doc -&gt; Doc
</span><a href="#local-6989586621681154674"><span class="hs-identifier hs-var hs-var">eqZero</span></a></span></span><span>  </span><span id="local-6989586621681154673"><span class="annot"><span class="annottext">x :: Doc
</span><a href="#local-6989586621681154673"><span class="hs-identifier hs-var">x</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154677"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154673"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;0&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-660"></span><span>                                       </span><span id="local-6989586621681154672"><span class="annot"><span class="annottext">negZero :: Doc -&gt; Doc
</span><a href="#local-6989586621681154672"><span class="hs-identifier hs-var hs-var">negZero</span></a></span></span><span> </span><span id="local-6989586621681154671"><span class="annot"><span class="annottext">x :: Doc
</span><a href="#local-6989586621681154671"><span class="hs-identifier hs-var">x</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154679"><span class="hs-identifier hs-var">signbit</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154671"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&amp;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154674"><span class="hs-identifier hs-var">eqZero</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154671"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-661"></span><span>                                   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154670"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154670"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154669"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154669"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154685"><span class="hs-identifier hs-var">mkIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154681"><span class="hs-identifier hs-var">chkNaN</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154670"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154681"><span class="hs-identifier hs-var">chkNaN</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154669"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154685"><span class="hs-identifier hs-var">mkIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154672"><span class="hs-identifier hs-var">negZero</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154670"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154672"><span class="hs-identifier hs-var">negZero</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154669"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154685"><span class="hs-identifier hs-var">mkIte</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154672"><span class="hs-identifier hs-var">negZero</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154669"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154672"><span class="hs-identifier hs-var">negZero</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154670"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154677"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154670"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154669"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-662"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_IsNormal"><span class="hs-identifier hs-type">FP_IsNormal</span></a></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154667"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154667"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;isnormal&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154667"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-663"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_IsSubnormal"><span class="hs-identifier hs-type">FP_IsSubnormal</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154665"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154665"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;FP_SUBNORMAL == fpclassify&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154665"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-664"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_IsZero"><span class="hs-identifier hs-type">FP_IsZero</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154663"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154663"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;FP_ZERO == fpclassify&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154663"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-665"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_IsInfinite"><span class="hs-identifier hs-type">FP_IsInfinite</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154661"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154661"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;isinf&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154661"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-666"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_IsNaN"><span class="hs-identifier hs-type">FP_IsNaN</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154659"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154659"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;isnan&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154659"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-667"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_IsNegative"><span class="hs-identifier hs-type">FP_IsNegative</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154657"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154657"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;!isnan&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154657"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&amp;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;signbit&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154657"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-668"></span><span>        </span><span class="annot"><a href="#local-6989586621681154760"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_IsPositive"><span class="hs-identifier hs-type">FP_IsPositive</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall p. (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var">dispatch</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc) -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall b. b -&gt; (b, b)
</span><a href="#local-6989586621681154759"><span class="hs-identifier hs-var">same</span></a></span><span> </span><span class="annot"><span class="annottext">((Kind -&gt; [Doc] -&gt; Doc)
 -&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc))
-&gt; (Kind -&gt; [Doc] -&gt; Doc)
-&gt; (Kind -&gt; [Doc] -&gt; Doc, Kind -&gt; [Doc] -&gt; Doc)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154655"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154655"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;!isnan&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154655"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&amp;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;!signbit&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154655"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-669"></span><span>
</span><span id="line-670"></span><span>        </span><span class="hs-comment">-- grab the rounding-mode, if present, and make sure it's RoundNearestTiesToEven. Otherwise skip.</span><span>
</span><span id="line-671"></span><span>        </span><span id="local-6989586621681154654"><span class="annot"><span class="annottext">fpArgs :: [(SV, Doc)]
</span><a href="#local-6989586621681154654"><span class="hs-identifier hs-var hs-var">fpArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[(SV, Doc)]
</span><a href="#local-6989586621681154762"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-672"></span><span>                   </span><span class="hs-special">[</span><span class="hs-special">]</span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-673"></span><span>                   </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681154653"><span class="annot"><span class="annottext">m :: SV
</span><a href="#local-6989586621681154653"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681154652"><span class="annot"><span class="annottext">args :: [(SV, Doc)]
</span><a href="#local-6989586621681154652"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154653"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-674"></span><span>                                      </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span> </span><span class="hs-string">&quot;RoundingMode&quot;</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe CV -&gt; Maybe (Either FilePath FilePath)
</span><a href="#local-6989586621681154750"><span class="hs-identifier hs-var">checkRM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154653"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; [(SV, CV)] -&gt; Maybe CV
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-operator hs-var">`lookup`</span></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154763"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-675"></span><span>                                                                           </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(SV, Doc)]
</span><a href="#local-6989586621681154652"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-676"></span><span>                                                                           </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span>  </span><span id="local-6989586621681154651"><span class="annot"><span class="annottext">msg :: FilePath
</span><a href="#local-6989586621681154651"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [(SV, Doc)]
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154651"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-677"></span><span>                                                                           </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621681154650"><span class="annot"><span class="annottext">msg :: FilePath
</span><a href="#local-6989586621681154650"><span class="hs-identifier hs-var">msg</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [(SV, Doc)]
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154650"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-678"></span><span>                                      </span><span class="hs-identifier">_</span><span>                               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[(SV, Doc)]
</span><a href="#local-6989586621681154762"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-679"></span><span>
</span><span id="line-680"></span><span>        </span><span class="hs-comment">-- Check that the RM is RoundNearestTiesToEven.</span><span>
</span><span id="line-681"></span><span>        </span><span class="hs-comment">-- If we start supporting other rounding-modes, this would be the point where we'd insert the rounding-mode set/reset code</span><span>
</span><span id="line-682"></span><span>        </span><span class="hs-comment">-- instead of merely returning OK or not</span><span>
</span><span id="line-683"></span><span>        </span><span id="local-6989586621681154750"><span class="annot"><span class="annottext">checkRM :: Maybe CV -&gt; Maybe (Either FilePath FilePath)
</span><a href="#local-6989586621681154750"><span class="hs-identifier hs-var hs-var">checkRM</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681154649"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681154649"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span> </span><span class="hs-string">&quot;RoundingMode&quot;</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681154648"><span class="annot"><span class="annottext">v :: CVal
</span><a href="#local-6989586621681154648"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-684"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CVal
</span><a href="#local-6989586621681154648"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-685"></span><span>                </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CUserSort"><span class="hs-identifier hs-type">CUserSort</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;RoundNearestTiesToEven&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Either FilePath FilePath)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-686"></span><span>                </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CUserSort"><span class="hs-identifier hs-type">CUserSort</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154646"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681154646"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either FilePath FilePath -&gt; Maybe (Either FilePath FilePath)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath FilePath
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Either FilePath FilePath)
-&gt; FilePath -&gt; Either FilePath FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;handleIEEE: Unsupported rounding-mode: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154646"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; for: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FPOp -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="#local-6989586621681154764"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-687"></span><span>                </span><span class="hs-identifier">_</span><span>                                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either FilePath FilePath -&gt; Maybe (Either FilePath FilePath)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath FilePath
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span>  </span><span class="annot"><span class="annottext">(FilePath -&gt; Either FilePath FilePath)
-&gt; FilePath -&gt; Either FilePath FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;handleIEEE: Unexpected value for rounding-mode: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681154649"><span class="hs-identifier hs-var">cv</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; for: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FPOp -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="#local-6989586621681154764"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-688"></span><span>        </span><span class="annot"><a href="#local-6989586621681154750"><span class="hs-identifier hs-var">checkRM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681154645"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681154645"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either FilePath FilePath -&gt; Maybe (Either FilePath FilePath)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath FilePath
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span>  </span><span class="annot"><span class="annottext">(FilePath -&gt; Either FilePath FilePath)
-&gt; FilePath -&gt; Either FilePath FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;handleIEEE: Expected rounding-mode, but got: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681154645"><span class="hs-identifier hs-var">cv</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; for: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FPOp -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="#local-6989586621681154764"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-689"></span><span>        </span><span class="annot"><a href="#local-6989586621681154750"><span class="hs-identifier hs-var">checkRM</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either FilePath FilePath -&gt; Maybe (Either FilePath FilePath)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Either FilePath FilePath
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Either FilePath FilePath)
-&gt; FilePath -&gt; Either FilePath FilePath
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;handleIEEE: Non-constant rounding-mode for: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FPOp -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="#local-6989586621681154764"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-690"></span><span>
</span><span id="line-691"></span><span>        </span><span id="local-6989586621681154644"><span class="annot"><span class="annottext">pickOp :: (Kind -&gt; [b] -&gt; p, Kind -&gt; [b] -&gt; p) -&gt; [(a, b)] -&gt; p
</span><a href="#local-6989586621681154644"><span class="hs-identifier hs-var hs-var">pickOp</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>          </span><span class="hs-special">[</span><span class="hs-special">]</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; p
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; p) -&gt; FilePath -&gt; p
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Cannot determine float/double kind for op: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FPOp -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="#local-6989586621681154764"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-692"></span><span>        </span><span class="annot"><a href="#local-6989586621681154644"><span class="hs-identifier hs-var">pickOp</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154643"><span class="annot"><span class="annottext">fOp :: Kind -&gt; [b] -&gt; p
</span><a href="#local-6989586621681154643"><span class="hs-identifier hs-var">fOp</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154642"><span class="annot"><span class="annottext">dOp :: Kind -&gt; [b] -&gt; p
</span><a href="#local-6989586621681154642"><span class="hs-identifier hs-var">dOp</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681154641"><span class="annot"><span class="annottext">args :: [(a, b)]
</span><a href="#local-6989586621681154641"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681154640"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621681154640"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154640"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-693"></span><span>                                             </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; [b] -&gt; p
</span><a href="#local-6989586621681154643"><span class="hs-identifier hs-var">fOp</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-var">KFloat</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((a, b) -&gt; b) -&gt; [(a, b)] -&gt; [b]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(a, b) -&gt; b
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621681154641"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-694"></span><span>                                             </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; [b] -&gt; p
</span><a href="#local-6989586621681154642"><span class="hs-identifier hs-var">dOp</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-var">KDouble</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((a, b) -&gt; b) -&gt; [(a, b)] -&gt; [b]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(a, b) -&gt; b
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">[(a, b)]
</span><a href="#local-6989586621681154641"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-695"></span><span>                                             </span><span id="local-6989586621681154639"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681154639"><span class="hs-identifier hs-var">k</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; p
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; p) -&gt; FilePath -&gt; p
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;handleIEEE: Expected double/float args, but got: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154639"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; for: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FPOp -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="#local-6989586621681154764"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-696"></span><span>
</span><span id="line-697"></span><span>        </span><span id="local-6989586621681154729"><span class="annot"><span class="annottext">dispatch :: (Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; p
</span><a href="#local-6989586621681154729"><span class="hs-identifier hs-var hs-var">dispatch</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154638"><span class="annot"><span class="annottext">fOp :: Kind -&gt; [Doc] -&gt; p
</span><a href="#local-6989586621681154638"><span class="hs-identifier hs-var">fOp</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154637"><span class="annot"><span class="annottext">dOp :: Kind -&gt; [Doc] -&gt; p
</span><a href="#local-6989586621681154637"><span class="hs-identifier hs-var">dOp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; [Doc] -&gt; p, Kind -&gt; [Doc] -&gt; p) -&gt; [(SV, Doc)] -&gt; p
forall a b p.
HasKind a =&gt;
(Kind -&gt; [b] -&gt; p, Kind -&gt; [b] -&gt; p) -&gt; [(a, b)] -&gt; p
</span><a href="#local-6989586621681154644"><span class="hs-identifier hs-var">pickOp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; [Doc] -&gt; p
</span><a href="#local-6989586621681154638"><span class="hs-identifier hs-var">fOp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; [Doc] -&gt; p
</span><a href="#local-6989586621681154637"><span class="hs-identifier hs-var">dOp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(SV, Doc)]
</span><a href="#local-6989586621681154654"><span class="hs-identifier hs-var">fpArgs</span></a></span><span>
</span><span id="line-698"></span><span>        </span><span id="local-6989586621681154749"><span class="annot"><span class="annottext">cast :: ([Doc] -&gt; t) -&gt; t
</span><a href="#local-6989586621681154749"><span class="hs-identifier hs-var hs-var">cast</span></a></span></span><span> </span><span id="local-6989586621681154636"><span class="annot"><span class="annottext">f :: [Doc] -&gt; t
</span><a href="#local-6989586621681154636"><span class="hs-identifier hs-var">f</span></a></span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; t
</span><a href="#local-6989586621681154636"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((SV, Doc) -&gt; Doc) -&gt; [(SV, Doc)] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(SV, Doc) -&gt; Doc
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">[(SV, Doc)]
</span><a href="#local-6989586621681154654"><span class="hs-identifier hs-var">fpArgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-699"></span><span>
</span><span id="line-700"></span><span>        </span><span class="hs-comment">-- In SMT-Lib, fpMin/fpMax is underspecified when given +0/-0 as the two arguments. (In any order.)</span><span>
</span><span id="line-701"></span><span>        </span><span class="hs-comment">-- In C, the second argument is returned. (I think, might depend on the architecture, optimizations etc.).</span><span>
</span><span id="line-702"></span><span>        </span><span class="hs-comment">-- We'll translate it so that we deterministically return +0.</span><span>
</span><span id="line-703"></span><span>        </span><span class="hs-comment">-- There's really no good choice here.</span><span>
</span><span id="line-704"></span><span>        </span><span id="local-6989586621681154692"><span class="annot"><span class="annottext">wrapMinMax :: Kind -&gt; Doc -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154692"><span class="hs-identifier hs-var hs-var">wrapMinMax</span></a></span></span><span> </span><span id="local-6989586621681154635"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681154635"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681154634"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154634"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681154633"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154633"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621681154632"><span class="annot"><span class="annottext">s :: Doc
</span><a href="#local-6989586621681154632"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154631"><span class="hs-identifier hs-var">cond</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;?&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154630"><span class="hs-identifier hs-var">zero</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154632"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-705"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154630"><span class="annot"><span class="annottext">zero :: Doc
</span><a href="#local-6989586621681154630"><span class="hs-identifier hs-var hs-var">zero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154635"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-var">KFloat</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Float -&gt; FilePath
</span><a href="Data.SBV.Utils.PrettyNum.html#showCFloat"><span class="hs-identifier hs-var">showCFloat</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Double -&gt; FilePath
</span><a href="Data.SBV.Utils.PrettyNum.html#showCDouble"><span class="hs-identifier hs-var">showCDouble</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-706"></span><span>                </span><span id="local-6989586621681154631"><span class="annot"><span class="annottext">cond :: Doc
</span><a href="#local-6989586621681154631"><span class="hs-identifier hs-var hs-var">cond</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>                   </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;FP_ZERO == fpclassify&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154634"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>                                      </span><span class="hs-comment">-- a is zero</span><span>
</span><span id="line-707"></span><span>                       </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&amp;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;FP_ZERO == fpclassify&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154633"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>                                      </span><span class="hs-comment">-- b is zero</span><span>
</span><span id="line-708"></span><span>                       </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&amp;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;signbit&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154634"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;!=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;signbit&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154633"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>       </span><span class="hs-comment">-- a and b differ in sign</span><span>
</span><span id="line-709"></span><span>
</span><span id="line-710"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#ppExpr"><span class="hs-identifier hs-type">ppExpr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgConfig"><span class="hs-identifier hs-type">CgConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVExpr"><span class="hs-identifier hs-type">SBVExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-711"></span><span id="ppExpr"><span class="annot"><span class="annottext">ppExpr :: CgConfig -&gt; [(SV, CV)] -&gt; SBVExpr -&gt; Doc -&gt; (Doc, Doc) -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#ppExpr"><span class="hs-identifier hs-var hs-var">ppExpr</span></a></span></span><span> </span><span id="local-6989586621681154629"><span class="annot"><span class="annottext">cfg :: CgConfig
</span><a href="#local-6989586621681154629"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span id="local-6989586621681154628"><span class="annot"><span class="annottext">consts :: [(SV, CV)]
</span><a href="#local-6989586621681154628"><span class="hs-identifier hs-var">consts</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-type">SBVApp</span></a></span><span> </span><span id="local-6989586621681154627"><span class="annot"><span class="annottext">op :: Op
</span><a href="#local-6989586621681154627"><span class="hs-identifier hs-var">op</span></a></span></span><span> </span><span id="local-6989586621681154626"><span class="annot"><span class="annottext">opArgs :: [SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681154625"><span class="annot"><span class="annottext">lhs :: Doc
</span><a href="#local-6989586621681154625"><span class="hs-identifier hs-var">lhs</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154624"><span class="annot"><span class="annottext">typ :: Doc
</span><a href="#local-6989586621681154624"><span class="hs-identifier hs-var">typ</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154623"><span class="annot"><span class="annottext">var :: Doc
</span><a href="#local-6989586621681154623"><span class="hs-identifier hs-var">var</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-712"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Op -&gt; Bool
</span><a href="#local-6989586621681154622"><span class="hs-identifier hs-var">doNotAssign</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681154627"><span class="hs-identifier hs-var">op</span></a></span><span>
</span><span id="line-713"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154624"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154623"><span class="hs-identifier hs-var">var</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">semi</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154621"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-714"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-715"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154625"><span class="hs-identifier hs-var">lhs</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154621"><span class="hs-identifier hs-var">rhs</span></a></span><span>
</span><span id="line-716"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154622"><span class="annot"><span class="annottext">doNotAssign :: Op -&gt; Bool
</span><a href="#local-6989586621681154622"><span class="hs-identifier hs-var hs-var">doNotAssign</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#IEEEFP"><span class="hs-identifier hs-type">IEEEFP</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Reinterpret"><span class="hs-identifier hs-type">FP_Reinterpret</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-comment">-- generates a memcpy instead; no simple assignment</span><span>
</span><span id="line-717"></span><span>        </span><span class="annot"><a href="#local-6989586621681154622"><span class="hs-identifier hs-var">doNotAssign</span></a></span><span> </span><span class="hs-identifier">_</span><span>                         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>  </span><span class="hs-comment">-- generates simple assignment</span><span>
</span><span id="line-718"></span><span>
</span><span id="line-719"></span><span>        </span><span id="local-6989586621681154621"><span class="annot"><span class="annottext">rhs :: Doc
</span><a href="#local-6989586621681154621"><span class="hs-identifier hs-var hs-var">rhs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Op -&gt; [Doc] -&gt; Doc
</span><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681154627"><span class="hs-identifier hs-var">op</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(SV -&gt; Doc) -&gt; [SV] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; [(SV, CV)] -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSV"><span class="hs-identifier hs-var">showSV</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154629"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154628"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-720"></span><span>
</span><span id="line-721"></span><span>        </span><span id="local-6989586621681154619"><span class="annot"><span class="annottext">rtc :: Bool
</span><a href="#local-6989586621681154619"><span class="hs-identifier hs-var hs-var">rtc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; Bool
</span><a href="Data.SBV.Compilers.CodeGen.html#cgRTC"><span class="hs-identifier hs-var hs-var">cgRTC</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154629"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-722"></span><span>
</span><span id="line-723"></span><span>        </span><span id="local-6989586621681154617"><span class="annot"><span class="annottext">cBinOps :: [(Op, FilePath)]
</span><a href="#local-6989586621681154617"><span class="hs-identifier hs-var hs-var">cBinOps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Plus"><span class="hs-identifier hs-var">Plus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;+&quot;</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Times"><span class="hs-identifier hs-var">Times</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*&quot;</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Minus"><span class="hs-identifier hs-var">Minus</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;-&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-724"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Equal"><span class="hs-identifier hs-var">Equal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;==&quot;</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#NotEqual"><span class="hs-identifier hs-var">NotEqual</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;!=&quot;</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#LessThan"><span class="hs-identifier hs-var">LessThan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;&quot;</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#GreaterThan"><span class="hs-identifier hs-var">GreaterThan</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;&quot;</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#LessEq"><span class="hs-identifier hs-var">LessEq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;=&quot;</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#GreaterEq"><span class="hs-identifier hs-var">GreaterEq</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;=&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-725"></span><span>                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#And"><span class="hs-identifier hs-var">And</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&quot;</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#Or"><span class="hs-identifier hs-var">Or</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;|&quot;</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op
</span><a href="Data.SBV.Core.Symbolic.html#XOr"><span class="hs-identifier hs-var">XOr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;^&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-726"></span><span>                  </span><span class="hs-special">]</span><span>
</span><span id="line-727"></span><span>
</span><span id="line-728"></span><span>        </span><span class="hs-comment">-- see if we can find a constant shift; makes the output way more readable</span><span>
</span><span id="line-729"></span><span>        </span><span id="local-6989586621681154604"><span class="annot"><span class="annottext">getShiftAmnt :: Doc -&gt; [SV] -&gt; Doc
</span><a href="#local-6989586621681154604"><span class="hs-identifier hs-var hs-var">getShiftAmnt</span></a></span></span><span> </span><span id="local-6989586621681154603"><span class="annot"><span class="annottext">def :: Doc
</span><a href="#local-6989586621681154603"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154602"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681154602"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154602"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; [(SV, CV)] -&gt; Maybe CV
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-operator hs-var">`lookup`</span></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154628"><span class="hs-identifier hs-var">consts</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-730"></span><span>                                    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-type">CInteger</span></a></span><span> </span><span id="local-6989586621681154601"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681154601"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Doc
</span><span class="hs-identifier hs-var">integer</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681154601"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-731"></span><span>                                    </span><span class="hs-identifier">_</span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154603"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-732"></span><span>        </span><span class="annot"><a href="#local-6989586621681154604"><span class="hs-identifier hs-var">getShiftAmnt</span></a></span><span> </span><span id="local-6989586621681154600"><span class="annot"><span class="annottext">def :: Doc
</span><a href="#local-6989586621681154600"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span class="hs-identifier">_</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154600"><span class="hs-identifier hs-var">def</span></a></span><span>
</span><span id="line-733"></span><span>
</span><span id="line-734"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Op"><span class="hs-identifier hs-type">Op</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-735"></span><span>        </span><span id="local-6989586621681154620"><span class="annot"><span class="annottext">p :: Op -&gt; [Doc] -&gt; Doc
</span><a href="#local-6989586621681154620"><span class="hs-identifier hs-var hs-var">p</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#ArrRead"><span class="hs-identifier hs-type">ArrRead</span></a></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>       </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;User specified arrays (ArrRead)&quot;</span></span><span>
</span><span id="line-736"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#ArrEq"><span class="hs-identifier hs-type">ArrEq</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>       </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;User specified arrays (ArrEq)&quot;</span></span><span>
</span><span id="line-737"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span id="local-6989586621681154596"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681154596"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-special">[</span><span id="local-6989586621681154595"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154595"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154595"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/*&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154596"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;*/&quot;</span></span><span>
</span><span id="line-738"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#IEEEFP"><span class="hs-identifier hs-type">IEEEFP</span></a></span><span> </span><span id="local-6989586621681154594"><span class="annot"><span class="annottext">w :: FPOp
</span><a href="#local-6989586621681154594"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span>         </span><span id="local-6989586621681154593"><span class="annot"><span class="annottext">as :: [Doc]
</span><a href="#local-6989586621681154593"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FPOp -&gt; [(SV, CV)] -&gt; [(SV, Doc)] -&gt; Doc -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#handleIEEE"><span class="hs-identifier hs-var">handleIEEE</span></a></span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="#local-6989586621681154594"><span class="hs-identifier hs-var">w</span></a></span><span>  </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154628"><span class="hs-identifier hs-var">consts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; [Doc] -&gt; [(SV, Doc)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154593"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154623"><span class="hs-identifier hs-var">var</span></a></span><span>
</span><span id="line-739"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#PseudoBoolean"><span class="hs-identifier hs-type">PseudoBoolean</span></a></span><span> </span><span id="local-6989586621681154591"><span class="annot"><span class="annottext">pb :: PBOp
</span><a href="#local-6989586621681154591"><span class="hs-identifier hs-var">pb</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681154590"><span class="annot"><span class="annottext">as :: [Doc]
</span><a href="#local-6989586621681154590"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PBOp -&gt; [Doc] -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#handlePB"><span class="hs-identifier hs-var">handlePB</span></a></span><span> </span><span class="annot"><span class="annottext">PBOp
</span><a href="#local-6989586621681154591"><span class="hs-identifier hs-var">pb</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154590"><span class="hs-keyword hs-var">as</span></a></span><span>
</span><span id="line-740"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#OverflowOp"><span class="hs-identifier hs-type">OverflowOp</span></a></span><span> </span><span id="local-6989586621681154588"><span class="annot"><span class="annottext">o :: OvOp
</span><a href="#local-6989586621681154588"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Overflow operations&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">OvOp -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">OvOp
</span><a href="#local-6989586621681154588"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-741"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#KindCast"><span class="hs-identifier hs-type">KindCast</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681154586"><span class="annot"><span class="annottext">to :: Kind
</span><a href="#local-6989586621681154586"><span class="hs-identifier hs-var">to</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-special">[</span><span id="local-6989586621681154585"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154585"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154586"><span class="hs-identifier hs-var">to</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154585"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-742"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Uninterpreted"><span class="hs-identifier hs-type">Uninterpreted</span></a></span><span> </span><span id="local-6989586621681154583"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681154583"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* Uninterpreted constant */&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154583"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-743"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Uninterpreted"><span class="hs-identifier hs-type">Uninterpreted</span></a></span><span> </span><span id="local-6989586621681154582"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681154582"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681154581"><span class="annot"><span class="annottext">as :: [Doc]
</span><a href="#local-6989586621681154581"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* Uninterpreted function */&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154582"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><span class="hs-identifier hs-var">punctuate</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">comma</span></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154581"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-744"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Extract"><span class="hs-identifier hs-type">Extract</span></a></span><span> </span><span id="local-6989586621681154579"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681154579"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681154578"><span class="annot"><span class="annottext">j :: Int
</span><a href="#local-6989586621681154578"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154577"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154577"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; SV -&gt; Doc -&gt; Doc
forall a. (HasKind a, Show a) =&gt; Int -&gt; Int -&gt; a -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154576"><span class="hs-identifier hs-var">extract</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154579"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154578"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; SV
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154577"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-745"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Join"><span class="hs-identifier hs-type">Join</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154573"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154573"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154572"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154572"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SV, SV, Doc, Doc) -&gt; Doc
forall b b.
(HasKind b, HasKind b, Show b, Show b) =&gt;
(b, b, Doc, Doc) -&gt; Doc
</span><a href="#local-6989586621681154571"><span class="hs-identifier hs-var">join</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154570"><span class="annot"><span class="annottext">s1 :: SV
</span><a href="#local-6989586621681154570"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681154569"><span class="annot"><span class="annottext">s2 :: SV
</span><a href="#local-6989586621681154569"><span class="hs-identifier hs-var">s2</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154570"><span class="hs-identifier hs-var">s1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154569"><span class="hs-identifier hs-var">s2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154573"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154572"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-746"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Rol"><span class="hs-identifier hs-type">Rol</span></a></span><span> </span><span id="local-6989586621681154567"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681154567"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154566"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154566"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Doc -&gt; SV -&gt; Doc
forall c. (HasKind c, Show c) =&gt; Bool -&gt; Int -&gt; Doc -&gt; c -&gt; Doc
</span><a href="#local-6989586621681154565"><span class="hs-identifier hs-var">rotate</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154567"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154566"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; SV
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-747"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Ror"><span class="hs-identifier hs-type">Ror</span></a></span><span> </span><span id="local-6989586621681154563"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681154563"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154562"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154562"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Doc -&gt; SV -&gt; Doc
forall c. (HasKind c, Show c) =&gt; Bool -&gt; Int -&gt; Doc -&gt; c -&gt; Doc
</span><a href="#local-6989586621681154565"><span class="hs-identifier hs-var">rotate</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154563"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154562"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; SV
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-748"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Shl"><span class="hs-identifier hs-type">Shl</span></a></span><span>     </span><span class="hs-special">[</span><span id="local-6989586621681154560"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154560"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154559"><span class="annot"><span class="annottext">i :: Doc
</span><a href="#local-6989586621681154559"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">]</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154558"><span class="hs-identifier hs-var">shift</span></a></span><span>  </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [SV] -&gt; Doc
</span><a href="#local-6989586621681154604"><span class="hs-identifier hs-var">getShiftAmnt</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154559"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154560"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-comment">-- The order of i/a being reversed here is</span><span>
</span><span id="line-749"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Shr"><span class="hs-identifier hs-type">Shr</span></a></span><span>     </span><span class="hs-special">[</span><span id="local-6989586621681154556"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154556"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154555"><span class="annot"><span class="annottext">i :: Doc
</span><a href="#local-6989586621681154555"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">]</span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154558"><span class="hs-identifier hs-var">shift</span></a></span><span>  </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; [SV] -&gt; Doc
</span><a href="#local-6989586621681154604"><span class="hs-identifier hs-var">getShiftAmnt</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154555"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154556"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-comment">-- intentional and historical (from the days when Shl/Shr had a constant parameter.)</span><span>
</span><span id="line-750"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Not"><span class="hs-identifier hs-type">Not</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154553"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154553"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; SV
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-751"></span><span>                                   </span><span class="hs-comment">-- be careful about booleans, bitwise complement is not correct for them!</span><span>
</span><span id="line-752"></span><span>                                   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-type">KBool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;!&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154553"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-753"></span><span>                                   </span><span class="hs-identifier">_</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;~&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154553"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-754"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Ite"><span class="hs-identifier hs-type">Ite</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154551"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154551"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154550"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154550"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154549"><span class="annot"><span class="annottext">c :: Doc
</span><a href="#local-6989586621681154549"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154551"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;?&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154550"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154549"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-755"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#LkUp"><span class="hs-identifier hs-type">LkUp</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154548"><span class="annot"><span class="annottext">t :: Int
</span><a href="#local-6989586621681154548"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154547"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681154547"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154546"><span class="annot"><span class="annottext">len :: Int
</span><a href="#local-6989586621681154546"><span class="hs-identifier hs-var">len</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681154545"><span class="annot"><span class="annottext">ind :: SV
</span><a href="#local-6989586621681154545"><span class="hs-identifier hs-var">ind</span></a></span></span><span> </span><span id="local-6989586621681154544"><span class="annot"><span class="annottext">def :: SV
</span><a href="#local-6989586621681154544"><span class="hs-identifier hs-var">def</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-756"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154619"><span class="hs-identifier hs-var">rtc</span></a></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154543"><span class="hs-identifier hs-var">lkUp</span></a></span><span> </span><span class="hs-comment">-- ignore run-time-checks per user request</span><span>
</span><span id="line-757"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154542"><span class="hs-identifier hs-var">needsCheckL</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154541"><span class="hs-identifier hs-var">needsCheckR</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154540"><span class="hs-identifier hs-var">cndLkUp</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154539"><span class="hs-identifier hs-var">checkBoth</span></a></span><span>
</span><span id="line-758"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154542"><span class="hs-identifier hs-var">needsCheckL</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154540"><span class="hs-identifier hs-var">cndLkUp</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154538"><span class="hs-identifier hs-var">checkLeft</span></a></span><span>
</span><span id="line-759"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154541"><span class="hs-identifier hs-var">needsCheckR</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><a href="#local-6989586621681154540"><span class="hs-identifier hs-var">cndLkUp</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154537"><span class="hs-identifier hs-var">checkRight</span></a></span><span>
</span><span id="line-760"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154543"><span class="hs-identifier hs-var">lkUp</span></a></span><span>
</span><span id="line-761"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154536"><span class="annot"><span class="annottext">index :: Doc
</span><a href="#local-6989586621681154536"><span class="hs-identifier hs-var">index</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154535"><span class="annot"><span class="annottext">defVal :: Doc
</span><a href="#local-6989586621681154535"><span class="hs-identifier hs-var">defVal</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SV -&gt; Doc) -&gt; [SV] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; [(SV, CV)] -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSV"><span class="hs-identifier hs-var">showSV</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154629"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154628"><span class="hs-identifier hs-var">consts</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154545"><span class="hs-identifier hs-var">ind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154544"><span class="hs-identifier hs-var">def</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-762"></span><span>
</span><span id="line-763"></span><span>                </span><span id="local-6989586621681154543"><span class="annot"><span class="annottext">lkUp :: Doc
</span><a href="#local-6989586621681154543"><span class="hs-identifier hs-var hs-var">lkUp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;table&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154548"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">brackets</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig -&gt; [(SV, CV)] -&gt; SV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#showSV"><span class="hs-identifier hs-var">showSV</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154629"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681154628"><span class="hs-identifier hs-var">consts</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681154545"><span class="hs-identifier hs-var">ind</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-764"></span><span>                </span><span id="local-6989586621681154540"><span class="annot"><span class="annottext">cndLkUp :: Doc -&gt; Doc
</span><a href="#local-6989586621681154540"><span class="hs-identifier hs-var hs-var">cndLkUp</span></a></span></span><span> </span><span id="local-6989586621681154534"><span class="annot"><span class="annottext">cnd :: Doc
</span><a href="#local-6989586621681154534"><span class="hs-identifier hs-var">cnd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154534"><span class="hs-identifier hs-var">cnd</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;?&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154535"><span class="hs-identifier hs-var">defVal</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154543"><span class="hs-identifier hs-var">lkUp</span></a></span><span>
</span><span id="line-765"></span><span>
</span><span id="line-766"></span><span>                </span><span id="local-6989586621681154538"><span class="annot"><span class="annottext">checkLeft :: Doc
</span><a href="#local-6989586621681154538"><span class="hs-identifier hs-var hs-var">checkLeft</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154536"><span class="hs-identifier hs-var">index</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&lt; 0&quot;</span></span><span>
</span><span id="line-767"></span><span>                </span><span id="local-6989586621681154537"><span class="annot"><span class="annottext">checkRight :: Doc
</span><a href="#local-6989586621681154537"><span class="hs-identifier hs-var hs-var">checkRight</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154536"><span class="hs-identifier hs-var">index</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154546"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-768"></span><span>                </span><span id="local-6989586621681154539"><span class="annot"><span class="annottext">checkBoth :: Doc
</span><a href="#local-6989586621681154539"><span class="hs-identifier hs-var hs-var">checkBoth</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154538"><span class="hs-identifier hs-var">checkLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;||&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154537"><span class="hs-identifier hs-var">checkRight</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-769"></span><span>
</span><span id="line-770"></span><span>                </span><span id="local-6989586621681154533"><span class="annot"><span class="annottext">canOverflow :: Bool -&gt; b -&gt; Bool
</span><a href="#local-6989586621681154533"><span class="hs-identifier hs-var hs-var">canOverflow</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span>  </span><span id="local-6989586621681154532"><span class="annot"><span class="annottext">sz :: b
</span><a href="#local-6989586621681154532"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Integer -&gt; b -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span class="hs-special">(</span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154532"><span class="hs-identifier hs-var">sz</span></a></span><span class="annot"><span class="annottext">b -&gt; b -&gt; b
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154546"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-771"></span><span>                </span><span class="annot"><a href="#local-6989586621681154533"><span class="hs-identifier hs-var">canOverflow</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span id="local-6989586621681154530"><span class="annot"><span class="annottext">sz :: b
</span><a href="#local-6989586621681154530"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">2</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span class="annot"><span class="annottext">Integer -&gt; b -&gt; Integer
forall a b. (Num a, Integral b) =&gt; a -&gt; b -&gt; a
</span><span class="hs-operator hs-var">^</span></span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154530"><span class="hs-identifier hs-var">sz</span></a></span><span>    </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154546"><span class="hs-identifier hs-var">len</span></a></span><span>
</span><span id="line-772"></span><span>
</span><span id="line-773"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621681154542"><span class="annot"><span class="annottext">needsCheckL :: Bool
</span><a href="#local-6989586621681154542"><span class="hs-identifier hs-var">needsCheckL</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154541"><span class="annot"><span class="annottext">needsCheckR :: Bool
</span><a href="#local-6989586621681154541"><span class="hs-identifier hs-var">needsCheckR</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154547"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-774"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-type">KBool</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Bool
forall b. Integral b =&gt; Bool -&gt; b -&gt; Bool
</span><a href="#local-6989586621681154533"><span class="hs-identifier hs-var">canOverflow</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-775"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span id="local-6989586621681154529"><span class="annot"><span class="annottext">sg :: Bool
</span><a href="#local-6989586621681154529"><span class="hs-identifier hs-var">sg</span></a></span></span><span> </span><span id="local-6989586621681154528"><span class="annot"><span class="annottext">sz :: Int
</span><a href="#local-6989586621681154528"><span class="hs-identifier hs-var">sz</span></a></span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154529"><span class="hs-identifier hs-var">sg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Bool
forall b. Integral b =&gt; Bool -&gt; b -&gt; Bool
</span><a href="#local-6989586621681154533"><span class="hs-identifier hs-var">canOverflow</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154529"><span class="hs-identifier hs-var">sg</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154528"><span class="hs-identifier hs-var">sz</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-776"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (Bool, Bool)
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;array index with real value&quot;</span></span><span>
</span><span id="line-777"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (Bool, Bool)
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;array index with float value&quot;</span></span><span>
</span><span id="line-778"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (Bool, Bool)
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;array index with double value&quot;</span></span><span>
</span><span id="line-779"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KString"><span class="hs-identifier hs-type">KString</span></a></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (Bool, Bool)
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;array index with string value&quot;</span></span><span>
</span><span id="line-780"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KChar"><span class="hs-identifier hs-type">KChar</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (Bool, Bool)
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;array index with character value&quot;</span></span><span>
</span><span id="line-781"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-type">KUnbounded</span></a></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; Maybe Int
</span><a href="Data.SBV.Compilers.CodeGen.html#cgInteger"><span class="hs-identifier hs-var hs-var">cgInteger</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154629"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-782"></span><span>                                                                       </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- won't matter, it'll be rejected later</span><span>
</span><span id="line-783"></span><span>                                                                       </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681154527"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681154527"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Bool
forall b. Integral b =&gt; Bool -&gt; b -&gt; Bool
</span><a href="#local-6989586621681154533"><span class="hs-identifier hs-var">canOverflow</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154527"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-784"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KList"><span class="hs-identifier hs-type">KList</span></a></span><span>     </span><span id="local-6989586621681154526"><span class="annot"><span class="annottext">s :: Kind
</span><a href="#local-6989586621681154526"><span class="hs-identifier hs-var">s</span></a></span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (Bool, Bool)
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; (Bool, Bool)) -&gt; FilePath -&gt; (Bool, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;List sort &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154526"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-785"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KSet"><span class="hs-identifier hs-type">KSet</span></a></span><span>      </span><span id="local-6989586621681154525"><span class="annot"><span class="annottext">s :: Kind
</span><a href="#local-6989586621681154525"><span class="hs-identifier hs-var">s</span></a></span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (Bool, Bool)
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; (Bool, Bool)) -&gt; FilePath -&gt; (Bool, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Set sort &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154525"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-786"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KTuple"><span class="hs-identifier hs-type">KTuple</span></a></span><span>    </span><span id="local-6989586621681154524"><span class="annot"><span class="annottext">s :: [Kind]
</span><a href="#local-6989586621681154524"><span class="hs-identifier hs-var">s</span></a></span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (Bool, Bool)
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; (Bool, Bool)) -&gt; FilePath -&gt; (Bool, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Tuple sort &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681154524"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-787"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KMaybe"><span class="hs-identifier hs-type">KMaybe</span></a></span><span>    </span><span id="local-6989586621681154523"><span class="annot"><span class="annottext">ek :: Kind
</span><a href="#local-6989586621681154523"><span class="hs-identifier hs-var">ek</span></a></span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (Bool, Bool)
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; (Bool, Bool)) -&gt; FilePath -&gt; (Bool, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Maybe sort &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154523"><span class="hs-identifier hs-var">ek</span></a></span><span>
</span><span id="line-788"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KEither"><span class="hs-identifier hs-type">KEither</span></a></span><span>   </span><span id="local-6989586621681154522"><span class="annot"><span class="annottext">k1 :: Kind
</span><a href="#local-6989586621681154522"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span id="local-6989586621681154521"><span class="annot"><span class="annottext">k2 :: Kind
</span><a href="#local-6989586621681154521"><span class="hs-identifier hs-var">k2</span></a></span></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (Bool, Bool)
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; (Bool, Bool)) -&gt; FilePath -&gt; (Bool, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Either sort &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, Kind) -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154522"><span class="hs-identifier hs-var">k1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154521"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-789"></span><span>                                               </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span> </span><span id="local-6989586621681154520"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681154520"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (Bool, Bool)
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; (Bool, Bool)) -&gt; FilePath -&gt; (Bool, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Uninterpreted sort: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154520"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-790"></span><span>
</span><span id="line-791"></span><span>        </span><span class="hs-comment">-- Div/Rem should be careful on 0, in the SBV world x `div` 0 is 0, x `rem` 0 is x</span><span>
</span><span id="line-792"></span><span>        </span><span class="hs-comment">-- NB: Quot is supposed to truncate toward 0; Not clear to me if C guarantees this behavior.</span><span>
</span><span id="line-793"></span><span>        </span><span class="hs-comment">-- Brief googling suggests C99 does indeed truncate toward 0, but other C compilers might differ.</span><span>
</span><span id="line-794"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Quot"><span class="hs-identifier hs-type">Quot</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154518"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154518"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154517"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154517"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681154516"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681154516"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; SV
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-795"></span><span>                            </span><span id="local-6989586621681154515"><span class="annot"><span class="annottext">z :: Doc
</span><a href="#local-6989586621681154515"><span class="hs-identifier hs-var hs-var">z</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; CV -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#mkConst"><span class="hs-identifier hs-var">mkConst</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154629"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Doc) -&gt; CV -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; CV
forall a. Integral a =&gt; Kind -&gt; a -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mkConstCV"><span class="hs-identifier hs-var">mkConstCV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154516"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-796"></span><span>                        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath -&gt; Doc -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154514"><span class="hs-identifier hs-var">protectDiv0</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154516"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;/&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154515"><span class="hs-identifier hs-var">z</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154518"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154517"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-797"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Rem"><span class="hs-identifier hs-type">Rem</span></a></span><span>  </span><span class="hs-special">[</span><span id="local-6989586621681154512"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154512"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154511"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154511"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; FilePath -&gt; Doc -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154514"><span class="hs-identifier hs-var">protectDiv0</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; SV
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-string">&quot;%&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154512"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154512"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154511"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-798"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#UNeg"><span class="hs-identifier hs-type">UNeg</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154509"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154509"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154509"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-799"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span>  </span><span class="hs-special">[</span><span id="local-6989586621681154507"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154507"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681154506"><span class="annot"><span class="annottext">f :: Kind -&gt; Doc
</span><a href="#local-6989586621681154506"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;fabsf&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154507"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-800"></span><span>                            </span><span class="annot"><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;fabs&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154507"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-801"></span><span>                            </span><span class="annot"><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* unsigned, skipping call to abs */&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154507"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-802"></span><span>                            </span><span class="annot"><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-number">32</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;labs&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154507"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-803"></span><span>                            </span><span class="annot"><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-number">64</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;llabs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154507"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-804"></span><span>                            </span><span class="annot"><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-type">KUnbounded</span></a></span><span>         </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; Maybe Int
</span><a href="Data.SBV.Compilers.CodeGen.html#cgInteger"><span class="hs-identifier hs-var hs-var">cgInteger</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154629"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-805"></span><span>                                                     </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Doc
</span><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Doc) -&gt; Kind -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-var">KBounded</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="hs-number">32</span></span><span> </span><span class="hs-comment">-- won't matter, it'll be rejected later</span><span>
</span><span id="line-806"></span><span>                                                     </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681154505"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681154505"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Doc
</span><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Doc) -&gt; Kind -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-var">KBounded</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154505"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-807"></span><span>                            </span><span class="annot"><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CgConfig -&gt; Maybe CgSRealType
</span><a href="Data.SBV.Compilers.CodeGen.html#cgReal"><span class="hs-identifier hs-var hs-var">cgReal</span></a></span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154629"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-808"></span><span>                                                     </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Doc
</span><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-var">KDouble</span></a></span><span> </span><span class="hs-comment">-- won't matter, it'll be rejected later</span><span>
</span><span id="line-809"></span><span>                                                     </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgFloat"><span class="hs-identifier hs-type">CgFloat</span></a></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Doc
</span><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-var">KFloat</span></a></span><span>
</span><span id="line-810"></span><span>                                                     </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgDouble"><span class="hs-identifier hs-type">CgDouble</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Doc
</span><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-var">KDouble</span></a></span><span>
</span><span id="line-811"></span><span>                                                     </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgLongDouble"><span class="hs-identifier hs-type">CgLongDouble</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;fabsl&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154507"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-812"></span><span>                            </span><span class="annot"><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-identifier">_</span><span>                  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;abs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154507"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-813"></span><span>                        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Doc
</span><a href="#local-6989586621681154506"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; SV
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-814"></span><span>        </span><span class="hs-comment">-- for And/Or, translate to boolean versions if on boolean kind</span><span>
</span><span id="line-815"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#And"><span class="hs-identifier hs-type">And</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154504"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154504"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154503"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154503"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; SV
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154504"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&amp;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154503"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-816"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Or"><span class="hs-identifier hs-type">Or</span></a></span><span>  </span><span class="hs-special">[</span><span id="local-6989586621681154502"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154502"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154501"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154501"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SV] -&gt; SV
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681154626"><span class="hs-identifier hs-var">opArgs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154502"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;||&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154501"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-817"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span id="local-6989586621681154500"><span class="annot"><span class="annottext">o :: Op
</span><a href="#local-6989586621681154500"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154499"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154499"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154498"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154498"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-818"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681154497"><span class="annot"><span class="annottext">co :: FilePath
</span><a href="#local-6989586621681154497"><span class="hs-identifier hs-var">co</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Op -&gt; [(Op, FilePath)] -&gt; Maybe FilePath
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-identifier hs-var">lookup</span></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681154500"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">[(Op, FilePath)]
</span><a href="#local-6989586621681154617"><span class="hs-identifier hs-var">cBinOps</span></a></span><span>
</span><span id="line-819"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154499"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154497"><span class="hs-identifier hs-var">co</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154498"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-820"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NotEqual"><span class="hs-identifier hs-type">NotEqual</span></a></span><span> </span><span id="local-6989586621681154496"><span class="annot"><span class="annottext">xs :: [Doc]
</span><a href="#local-6989586621681154496"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><a href="#local-6989586621681154495"><span class="hs-identifier hs-var">mkDistinct</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154496"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-821"></span><span>        </span><span class="annot"><a href="#local-6989586621681154620"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span id="local-6989586621681154494"><span class="annot"><span class="annottext">o :: Op
</span><a href="#local-6989586621681154494"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681154493"><span class="annot"><span class="annottext">args :: [Doc]
</span><a href="#local-6989586621681154493"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Received operator &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Op -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681154494"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; applied to &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154493"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-822"></span><span>
</span><span id="line-823"></span><span>        </span><span class="hs-comment">-- generate a pairwise inequality check</span><span>
</span><span id="line-824"></span><span>        </span><span id="local-6989586621681154495"><span class="annot"><span class="annottext">mkDistinct :: [Doc] -&gt; Doc
</span><a href="#local-6989586621681154495"><span class="hs-identifier hs-var hs-var">mkDistinct</span></a></span></span><span> </span><span id="local-6989586621681154492"><span class="annot"><span class="annottext">args :: [Doc]
</span><a href="#local-6989586621681154492"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">fsep</span></span><span> </span><span class="annot"><span class="annottext">([Doc] -&gt; Doc) -&gt; [Doc] -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; [Doc]
</span><a href="#local-6989586621681154491"><span class="hs-identifier hs-var">andAll</span></a></span><span> </span><span class="annot"><span class="annottext">([Doc] -&gt; [Doc]) -&gt; [Doc] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; [Doc]
</span><a href="#local-6989586621681154490"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154492"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-825"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154490"><span class="annot"><span class="annottext">walk :: [Doc] -&gt; [Doc]
</span><a href="#local-6989586621681154490"><span class="hs-identifier hs-var hs-var">walk</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-826"></span><span>                </span><span class="annot"><a href="#local-6989586621681154490"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154489"><span class="annot"><span class="annottext">e :: Doc
</span><a href="#local-6989586621681154489"><span class="hs-identifier hs-var">e</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681154488"><span class="annot"><span class="annottext">es :: [Doc]
</span><a href="#local-6989586621681154488"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; Doc) -&gt; [Doc] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154487"><span class="hs-identifier hs-var">pair</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154489"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154488"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; [Doc] -&gt; [Doc]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; [Doc]
</span><a href="#local-6989586621681154490"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154488"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-827"></span><span>
</span><span id="line-828"></span><span>                </span><span id="local-6989586621681154487"><span class="annot"><span class="annottext">pair :: Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154487"><span class="hs-identifier hs-var hs-var">pair</span></a></span></span><span> </span><span id="local-6989586621681154486"><span class="annot"><span class="annottext">e1 :: Doc
</span><a href="#local-6989586621681154486"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621681154485"><span class="annot"><span class="annottext">e2 :: Doc
</span><a href="#local-6989586621681154485"><span class="hs-identifier hs-var">e2</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154486"><span class="hs-identifier hs-var">e1</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;!=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154485"><span class="hs-identifier hs-var">e2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-829"></span><span>
</span><span id="line-830"></span><span>                </span><span class="hs-comment">-- like punctuate, but more spacing</span><span>
</span><span id="line-831"></span><span>                </span><span id="local-6989586621681154491"><span class="annot"><span class="annottext">andAll :: [Doc] -&gt; [Doc]
</span><a href="#local-6989586621681154491"><span class="hs-identifier hs-var hs-var">andAll</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-832"></span><span>                </span><span class="annot"><a href="#local-6989586621681154491"><span class="hs-identifier hs-var">andAll</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154484"><span class="annot"><span class="annottext">d :: Doc
</span><a href="#local-6989586621681154484"><span class="hs-identifier hs-var">d</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681154483"><span class="annot"><span class="annottext">ds :: [Doc]
</span><a href="#local-6989586621681154483"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><a href="#local-6989586621681154482"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154484"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154483"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-833"></span><span>                     </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154482"><span class="annot"><span class="annottext">go :: Doc -&gt; [Doc] -&gt; [Doc]
</span><a href="#local-6989586621681154482"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621681154481"><span class="annot"><span class="annottext">d' :: Doc
</span><a href="#local-6989586621681154481"><span class="hs-identifier hs-var">d'</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154481"><span class="hs-identifier hs-var">d'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-834"></span><span>                           </span><span class="annot"><a href="#local-6989586621681154482"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span id="local-6989586621681154480"><span class="annot"><span class="annottext">d' :: Doc
</span><a href="#local-6989586621681154480"><span class="hs-identifier hs-var">d'</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154479"><span class="annot"><span class="annottext">e :: Doc
</span><a href="#local-6989586621681154479"><span class="hs-identifier hs-var">e</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681154478"><span class="annot"><span class="annottext">es :: [Doc]
</span><a href="#local-6989586621681154478"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154480"><span class="hs-identifier hs-var">d'</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp;&amp;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
</span><a href="#local-6989586621681154482"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154479"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154478"><span class="hs-identifier hs-var">es</span></a></span><span>
</span><span id="line-835"></span><span>
</span><span id="line-836"></span><span>        </span><span class="hs-comment">-- Div0 needs to protect, but only when the arguments are not float/double. (Div by 0 for those are well defined to be Inf/NaN etc.)</span><span>
</span><span id="line-837"></span><span>        </span><span id="local-6989586621681154514"><span class="annot"><span class="annottext">protectDiv0 :: Kind -&gt; FilePath -&gt; Doc -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154514"><span class="hs-identifier hs-var hs-var">protectDiv0</span></a></span></span><span> </span><span id="local-6989586621681154477"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681154477"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681154476"><span class="annot"><span class="annottext">divOp :: FilePath
</span><a href="#local-6989586621681154476"><span class="hs-identifier hs-var">divOp</span></a></span></span><span> </span><span id="local-6989586621681154475"><span class="annot"><span class="annottext">def :: Doc
</span><a href="#local-6989586621681154475"><span class="hs-identifier hs-var">def</span></a></span></span><span> </span><span id="local-6989586621681154474"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154474"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681154473"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154473"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154477"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-838"></span><span>                                        </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154472"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-839"></span><span>                                        </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154472"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-840"></span><span>                                        </span><span class="hs-identifier">_</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154471"><span class="hs-identifier hs-var">wrap</span></a></span><span>
</span><span id="line-841"></span><span>           </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154472"><span class="annot"><span class="annottext">res :: Doc
</span><a href="#local-6989586621681154472"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154474"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154476"><span class="hs-identifier hs-var">divOp</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154473"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-842"></span><span>                 </span><span id="local-6989586621681154471"><span class="annot"><span class="annottext">wrap :: Doc
</span><a href="#local-6989586621681154471"><span class="hs-identifier hs-var hs-var">wrap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154473"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;== 0&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;?&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154475"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154472"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-843"></span><span>
</span><span id="line-844"></span><span>        </span><span id="local-6989586621681154558"><span class="annot"><span class="annottext">shift :: Bool -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154558"><span class="hs-identifier hs-var hs-var">shift</span></a></span></span><span> </span><span id="local-6989586621681154470"><span class="annot"><span class="annottext">toLeft :: Bool
</span><a href="#local-6989586621681154470"><span class="hs-identifier hs-var">toLeft</span></a></span></span><span> </span><span id="local-6989586621681154469"><span class="annot"><span class="annottext">i :: Doc
</span><a href="#local-6989586621681154469"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681154468"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154468"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154468"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154467"><span class="hs-identifier hs-var">cop</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154469"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-845"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154467"><span class="annot"><span class="annottext">cop :: FilePath
</span><a href="#local-6989586621681154467"><span class="hs-identifier hs-var hs-var">cop</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154470"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;&lt;&quot;</span></span><span>
</span><span id="line-846"></span><span>                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;&gt;&quot;</span></span><span>
</span><span id="line-847"></span><span>
</span><span id="line-848"></span><span>        </span><span id="local-6989586621681154565"><span class="annot"><span class="annottext">rotate :: Bool -&gt; Int -&gt; Doc -&gt; c -&gt; Doc
</span><a href="#local-6989586621681154565"><span class="hs-identifier hs-var hs-var">rotate</span></a></span></span><span> </span><span id="local-6989586621681154466"><span class="annot"><span class="annottext">toLeft :: Bool
</span><a href="#local-6989586621681154466"><span class="hs-identifier hs-var">toLeft</span></a></span></span><span> </span><span id="local-6989586621681154465"><span class="annot"><span class="annottext">i :: Int
</span><a href="#local-6989586621681154465"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681154464"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154464"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681154463"><span class="annot"><span class="annottext">s :: c
</span><a href="#local-6989586621681154463"><span class="hs-identifier hs-var">s</span></a></span></span><span>
</span><span id="line-849"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154465"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Doc -&gt; c -&gt; Doc
</span><a href="#local-6989586621681154565"><span class="hs-identifier hs-var">rotate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154466"><span class="hs-identifier hs-var">toLeft</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154465"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154464"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681154463"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-850"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154465"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154464"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-851"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681154463"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-852"></span><span>                        </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Rotation of signed quantities: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Bool, Int, c) -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154466"><span class="hs-identifier hs-var">toLeft</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154465"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681154463"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-853"></span><span>                        </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span id="local-6989586621681154462"><span class="annot"><span class="annottext">sz :: Int
</span><a href="#local-6989586621681154462"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154465"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154462"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Int -&gt; Doc -&gt; c -&gt; Doc
</span><a href="#local-6989586621681154565"><span class="hs-identifier hs-var">rotate</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154466"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154465"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mod`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154462"><span class="hs-identifier hs-var">sz</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154464"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681154463"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-854"></span><span>                        </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span id="local-6989586621681154460"><span class="annot"><span class="annottext">sz :: Int
</span><a href="#local-6989586621681154460"><span class="hs-identifier hs-var">sz</span></a></span></span><span>           </span><span class="hs-glyph">-&gt;</span><span>     </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154464"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154459"><span class="hs-identifier hs-var">cop</span></a></span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154465"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-855"></span><span>                                                      </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;|&quot;</span></span><span>
</span><span id="line-856"></span><span>                                                      </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154464"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154458"><span class="hs-identifier hs-var">cop'</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154460"><span class="hs-identifier hs-var">sz</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154465"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-857"></span><span>                        </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-type">KUnbounded</span></a></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Doc -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154558"><span class="hs-identifier hs-var">shift</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154466"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154465"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154464"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-comment">-- For SInteger, rotate is the same as shift in Haskell</span><span>
</span><span id="line-858"></span><span>                        </span><span class="hs-identifier">_</span><span>                           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Rotation for unbounded quantity: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Bool, Int, c) -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154466"><span class="hs-identifier hs-var">toLeft</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154465"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681154463"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-859"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154459"><span class="annot"><span class="annottext">cop :: FilePath
</span><a href="#local-6989586621681154459"><span class="hs-identifier hs-var">cop</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154458"><span class="annot"><span class="annottext">cop' :: FilePath
</span><a href="#local-6989586621681154458"><span class="hs-identifier hs-var">cop'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154466"><span class="hs-identifier hs-var">toLeft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;&lt;&lt;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;&gt;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-860"></span><span>                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;&gt;&gt;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;&lt;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-861"></span><span>
</span><span id="line-862"></span><span>        </span><span class="hs-comment">-- TBD: below we only support the values for extract that are &quot;easy&quot; to implement. These should cover</span><span>
</span><span id="line-863"></span><span>        </span><span class="hs-comment">-- almost all instances actually generated by SBV, however.</span><span>
</span><span id="line-864"></span><span>        </span><span id="local-6989586621681154576"><span class="annot"><span class="annottext">extract :: Int -&gt; Int -&gt; a -&gt; Doc -&gt; Doc
</span><a href="#local-6989586621681154576"><span class="hs-identifier hs-var hs-var">extract</span></a></span></span><span> </span><span id="local-6989586621681154457"><span class="annot"><span class="annottext">hi :: Int
</span><a href="#local-6989586621681154457"><span class="hs-identifier hs-var">hi</span></a></span></span><span> </span><span id="local-6989586621681154456"><span class="annot"><span class="annottext">lo :: Int
</span><a href="#local-6989586621681154456"><span class="hs-identifier hs-var">lo</span></a></span></span><span> </span><span id="local-6989586621681154455"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621681154455"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681154454"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154454"><span class="hs-identifier hs-var">a</span></a></span></span><span>  </span><span class="hs-comment">-- Isolate the bit-extraction case</span><span>
</span><span id="line-865"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154457"><span class="hs-identifier hs-var">hi</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154456"><span class="hs-identifier hs-var">lo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681154453"><span class="annot"><span class="annottext">sz :: Int
</span><a href="#local-6989586621681154453"><span class="hs-identifier hs-var">sz</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154455"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154457"><span class="hs-identifier hs-var">hi</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154453"><span class="hs-identifier hs-var">sz</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154457"><span class="hs-identifier hs-var">hi</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-866"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154457"><span class="hs-identifier hs-var">hi</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-867"></span><span>            </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(SBool)&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154454"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp; 1&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-868"></span><span>            </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(SBool)&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154454"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154457"><span class="hs-identifier hs-var">hi</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&amp; 1&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-869"></span><span>        </span><span class="annot"><a href="#local-6989586621681154576"><span class="hs-identifier hs-var">extract</span></a></span><span> </span><span id="local-6989586621681154452"><span class="annot"><span class="annottext">hi :: Int
</span><a href="#local-6989586621681154452"><span class="hs-identifier hs-var">hi</span></a></span></span><span> </span><span id="local-6989586621681154451"><span class="annot"><span class="annottext">lo :: Int
</span><a href="#local-6989586621681154451"><span class="hs-identifier hs-var">lo</span></a></span></span><span> </span><span id="local-6989586621681154450"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621681154450"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621681154449"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154449"><span class="hs-identifier hs-var">a</span></a></span></span><span>
</span><span id="line-870"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154448"><span class="hs-identifier hs-var">srcSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Int] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`notElem`</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">64</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">32</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">16</span></span><span class="hs-special">]</span><span>
</span><span id="line-871"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="#local-6989586621681154446"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Unsupported source size&quot;</span></span><span>
</span><span id="line-872"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154452"><span class="hs-identifier hs-var">hi</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mod`</span></span><span> </span><span class="annot"><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154451"><span class="hs-identifier hs-var">lo</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mod`</span></span><span> </span><span class="annot"><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-873"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="#local-6989586621681154446"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Unsupported non-byte-aligned extraction&quot;</span></span><span>
</span><span id="line-874"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154445"><span class="hs-identifier hs-var">tgtSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154445"><span class="hs-identifier hs-var">tgtSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mod`</span></span><span> </span><span class="annot"><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-875"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="#local-6989586621681154446"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Unsupported target size&quot;</span></span><span>
</span><span id="line-876"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-877"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154444"><span class="hs-identifier hs-var">cast</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154443"><span class="hs-identifier hs-var">shifted</span></a></span><span>
</span><span id="line-878"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154446"><span class="annot"><span class="annottext">bad :: FilePath -&gt; a
</span><a href="#local-6989586621681154446"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span id="local-6989586621681154442"><span class="annot"><span class="annottext">why :: FilePath
</span><a href="#local-6989586621681154442"><span class="hs-identifier hs-var">why</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; a
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; a) -&gt; FilePath -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;extract with &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Int, Int, Kind, a) -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154452"><span class="hs-identifier hs-var">hi</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154451"><span class="hs-identifier hs-var">lo</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154441"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154450"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; (Reason: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154442"><span class="hs-identifier hs-var">why</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.)&quot;</span></span><span>
</span><span id="line-879"></span><span>
</span><span id="line-880"></span><span>                </span><span id="local-6989586621681154441"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681154441"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681154450"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-881"></span><span>                </span><span id="local-6989586621681154448"><span class="annot"><span class="annottext">srcSize :: Int
</span><a href="#local-6989586621681154448"><span class="hs-identifier hs-var hs-var">srcSize</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Int
forall a. HasKind a =&gt; a -&gt; Int
</span><a href="Data.SBV.Core.Kind.html#intSizeOf"><span class="hs-identifier hs-var">intSizeOf</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154441"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-882"></span><span>                </span><span id="local-6989586621681154445"><span class="annot"><span class="annottext">tgtSize :: Int
</span><a href="#local-6989586621681154445"><span class="hs-identifier hs-var hs-var">tgtSize</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154452"><span class="hs-identifier hs-var">hi</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154451"><span class="hs-identifier hs-var">lo</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-883"></span><span>                </span><span id="local-6989586621681154439"><span class="annot"><span class="annottext">signChange :: Bool
</span><a href="#local-6989586621681154439"><span class="hs-identifier hs-var hs-var">signChange</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154448"><span class="hs-identifier hs-var">srcSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154445"><span class="hs-identifier hs-var">tgtSize</span></a></span><span>
</span><span id="line-884"></span><span>
</span><span id="line-885"></span><span>                </span><span id="local-6989586621681154444"><span class="annot"><span class="annottext">cast :: FilePath
</span><a href="#local-6989586621681154444"><span class="hs-identifier hs-var hs-var">cast</span></a></span></span><span>
</span><span id="line-886"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154439"><span class="hs-identifier hs-var">signChange</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#hasSign"><span class="hs-identifier hs-var">hasSign</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154441"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(SWord&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154448"><span class="hs-identifier hs-var">srcSize</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-887"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154439"><span class="hs-identifier hs-var">signChange</span></a></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(SInt&quot;</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154448"><span class="hs-identifier hs-var">srcSize</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-888"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(SWord&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154445"><span class="hs-identifier hs-var">tgtSize</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-889"></span><span>
</span><span id="line-890"></span><span>                </span><span id="local-6989586621681154443"><span class="annot"><span class="annottext">shifted :: Doc
</span><a href="#local-6989586621681154443"><span class="hs-identifier hs-var hs-var">shifted</span></a></span></span><span>
</span><span id="line-891"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154451"><span class="hs-identifier hs-var">lo</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154449"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-892"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154449"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;&gt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc
</span><span class="hs-identifier hs-var">int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154451"><span class="hs-identifier hs-var">lo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-893"></span><span>
</span><span id="line-894"></span><span>        </span><span class="hs-comment">-- TBD: ditto here for join, just like extract above</span><span>
</span><span id="line-895"></span><span>        </span><span id="local-6989586621681154571"><span class="annot"><span class="annottext">join :: (b, b, Doc, Doc) -&gt; Doc
</span><a href="#local-6989586621681154571"><span class="hs-identifier hs-var hs-var">join</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154437"><span class="annot"><span class="annottext">i :: b
</span><a href="#local-6989586621681154437"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154436"><span class="annot"><span class="annottext">j :: b
</span><a href="#local-6989586621681154436"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154435"><span class="annot"><span class="annottext">a :: Doc
</span><a href="#local-6989586621681154435"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154434"><span class="annot"><span class="annottext">b :: Doc
</span><a href="#local-6989586621681154434"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154437"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154436"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-896"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span>  </span><span class="hs-number">8</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span>  </span><span class="hs-number">8</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(SWord16)&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154435"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;&lt; 8&quot;</span></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;|&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(SWord16)&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154434"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-897"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-number">16</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-number">16</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(SWord32)&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154435"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;&lt; 16&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;|&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(SWord32)&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154434"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-898"></span><span>                              </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-number">32</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span> </span><span class="hs-number">32</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(SWord64)&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154435"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&lt;&lt; 32&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;|&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc
</span><span class="hs-identifier hs-var">parens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(SWord64)&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154434"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-899"></span><span>                              </span><span class="hs-special">(</span><span id="local-6989586621681154433"><span class="annot"><span class="annottext">k1 :: Kind
</span><a href="#local-6989586621681154433"><span class="hs-identifier hs-var">k1</span></a></span></span><span class="hs-special">,</span><span>                </span><span id="local-6989586621681154432"><span class="annot"><span class="annottext">k2 :: Kind
</span><a href="#local-6989586621681154432"><span class="hs-identifier hs-var">k2</span></a></span></span><span class="hs-special">)</span><span>                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#tbd"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;join with &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">((Kind, b), (Kind, b)) -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154433"><span class="hs-identifier hs-var">k1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154437"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154432"><span class="hs-identifier hs-var">k2</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681154436"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-900"></span><span>
</span><span id="line-901"></span><span class="hs-comment">-- same as doubleQuotes, except we have to make sure there are no line breaks..</span><span>
</span><span id="line-902"></span><span class="hs-comment">-- Otherwise breaks the generated code.. sigh</span><span>
</span><span id="line-903"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#printQuotes"><span class="hs-identifier hs-type">printQuotes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-904"></span><span id="printQuotes"><span class="annot"><span class="annottext">printQuotes :: Doc -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#printQuotes"><span class="hs-identifier hs-var hs-var">printQuotes</span></a></span></span><span> </span><span id="local-6989586621681154431"><span class="annot"><span class="annottext">d :: Doc
</span><a href="#local-6989586621681154431"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; FilePath -&gt; Doc
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-char">'&quot;'</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; FilePath -&gt; FilePath
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; FilePath
</span><a href="Data.SBV.Compilers.C.html#ppSameLine"><span class="hs-identifier hs-var">ppSameLine</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154431"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\&quot;&quot;</span></span><span>
</span><span id="line-905"></span><span>
</span><span id="line-906"></span><span class="hs-comment">-- Remove newlines.. Useful when generating Makefile and such</span><span>
</span><span id="line-907"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#ppSameLine"><span class="hs-identifier hs-type">ppSameLine</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-908"></span><span id="ppSameLine"><span class="annot"><span class="annottext">ppSameLine :: Doc -&gt; FilePath
</span><a href="Data.SBV.Compilers.C.html#ppSameLine"><span class="hs-identifier hs-var hs-var">ppSameLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
</span><a href="#local-6989586621681154430"><span class="hs-identifier hs-var">trim</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; FilePath) -&gt; (Doc -&gt; FilePath) -&gt; Doc -&gt; FilePath
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; FilePath
</span><span class="hs-identifier hs-var">render</span></span><span>
</span><span id="line-909"></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154430"><span class="annot"><span class="annottext">trim :: FilePath -&gt; FilePath
</span><a href="#local-6989586621681154430"><span class="hs-identifier hs-var hs-var">trim</span></a></span></span><span> </span><span class="hs-string">&quot;&quot;</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-910"></span><span>       </span><span class="annot"><a href="#local-6989586621681154430"><span class="hs-identifier hs-var">trim</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-char">'\n'</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681154429"><span class="annot"><span class="annottext">cs :: FilePath
</span><a href="#local-6989586621681154429"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; FilePath -&gt; FilePath
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
</span><a href="#local-6989586621681154430"><span class="hs-identifier hs-var">trim</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; FilePath -&gt; FilePath
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">dropWhile</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isSpace</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154429"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-911"></span><span>       </span><span class="annot"><a href="#local-6989586621681154430"><span class="hs-identifier hs-var">trim</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154427"><span class="annot"><span class="annottext">c :: Char
</span><a href="#local-6989586621681154427"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681154426"><span class="annot"><span class="annottext">cs :: FilePath
</span><a href="#local-6989586621681154426"><span class="hs-identifier hs-var">cs</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681154427"><span class="hs-identifier hs-var">c</span></a></span><span>   </span><span class="annot"><span class="annottext">Char -&gt; FilePath -&gt; FilePath
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
</span><a href="#local-6989586621681154430"><span class="hs-identifier hs-var">trim</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154426"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-912"></span><span>
</span><span id="line-913"></span><span class="hs-comment">-- Align a bunch of docs to occupy the exact same length by padding in the left by space</span><span>
</span><span id="line-914"></span><span class="hs-comment">-- this is ugly and inefficient, but easy to code..</span><span>
</span><span id="line-915"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#align"><span class="hs-identifier hs-type">align</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">]</span><span>
</span><span id="line-916"></span><span id="align"><span class="annot"><span class="annottext">align :: [Doc] -&gt; [Doc]
</span><a href="Data.SBV.Compilers.C.html#align"><span class="hs-identifier hs-var hs-var">align</span></a></span></span><span> </span><span id="local-6989586621681154425"><span class="annot"><span class="annottext">ds :: [Doc]
</span><a href="#local-6989586621681154425"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; [FilePath] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; (FilePath -&gt; FilePath) -&gt; FilePath -&gt; Doc
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
</span><a href="#local-6989586621681154424"><span class="hs-identifier hs-var">pad</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154423"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-917"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154423"><span class="annot"><span class="annottext">ss :: [FilePath]
</span><a href="#local-6989586621681154423"><span class="hs-identifier hs-var hs-var">ss</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; FilePath) -&gt; [Doc] -&gt; [FilePath]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; FilePath
</span><span class="hs-identifier hs-var">render</span></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154425"><span class="hs-identifier hs-var">ds</span></a></span><span>
</span><span id="line-918"></span><span>        </span><span id="local-6989586621681154422"><span class="annot"><span class="annottext">l :: Int
</span><a href="#local-6989586621681154422"><span class="hs-identifier hs-var hs-var">l</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; Int
forall (t :: * -&gt; *) a. (Foldable t, Ord a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">maximum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Int] -&gt; [Int]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; Int) -&gt; [FilePath] -&gt; [Int]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154423"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-919"></span><span>        </span><span id="local-6989586621681154424"><span class="annot"><span class="annottext">pad :: FilePath -&gt; FilePath
</span><a href="#local-6989586621681154424"><span class="hs-identifier hs-var hs-var">pad</span></a></span></span><span> </span><span id="local-6989586621681154421"><span class="annot"><span class="annottext">s :: FilePath
</span><a href="#local-6989586621681154421"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; FilePath
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621681154422"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154421"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154421"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-920"></span><span>
</span><span id="line-921"></span><span class="hs-comment">-- | Merge a bunch of bundles to generate code for a library. For the final</span><span>
</span><span id="line-922"></span><span class="hs-comment">-- config, we simply return the first config we receive, or the default if none.</span><span>
</span><span id="line-923"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mergeToLib"><span class="hs-identifier hs-type">mergeToLib</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgConfig"><span class="hs-identifier hs-type">CgConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgPgmBundle"><span class="hs-identifier hs-type">CgPgmBundle</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgConfig"><span class="hs-identifier hs-type">CgConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgPgmBundle"><span class="hs-identifier hs-type">CgPgmBundle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-924"></span><span id="mergeToLib"><span class="annot"><span class="annottext">mergeToLib :: FilePath -&gt; [(CgConfig, CgPgmBundle)] -&gt; (CgConfig, CgPgmBundle)
</span><a href="Data.SBV.Compilers.C.html#mergeToLib"><span class="hs-identifier hs-var hs-var">mergeToLib</span></a></span></span><span> </span><span id="local-6989586621681154420"><span class="annot"><span class="annottext">libName :: FilePath
</span><a href="#local-6989586621681154420"><span class="hs-identifier hs-var">libName</span></a></span></span><span> </span><span id="local-6989586621681154419"><span class="annot"><span class="annottext">cfgBundles :: [(CgConfig, CgPgmBundle)]
</span><a href="#local-6989586621681154419"><span class="hs-identifier hs-var">cfgBundles</span></a></span></span><span>
</span><span id="line-925"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[(Maybe Int, Maybe CgSRealType)] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[(Maybe Int, Maybe CgSRealType)]
</span><a href="#local-6989586621681154418"><span class="hs-identifier hs-var">nubKinds</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-926"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; (CgConfig, CgPgmBundle)
forall a. HasCallStack =&gt; FilePath -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; (CgConfig, CgPgmBundle))
-&gt; FilePath -&gt; (CgConfig, CgPgmBundle)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>  </span><span class="annot"><span class="hs-string">&quot;Cannot merge programs with differing SInteger/SReal mappings. Received the following kinds:\n&quot;</span></span><span>
</span><span id="line-927"></span><span>          </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; FilePath
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((Maybe Int, Maybe CgSRealType) -&gt; FilePath)
-&gt; [(Maybe Int, Maybe CgSRealType)] -&gt; [FilePath]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, Maybe CgSRealType) -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[(Maybe Int, Maybe CgSRealType)]
</span><a href="#local-6989586621681154418"><span class="hs-identifier hs-var">nubKinds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-928"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-929"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154416"><span class="hs-identifier hs-var">finalCfg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Maybe Int, Maybe CgSRealType)
-&gt; [(FilePath, (CgPgmKind, [Doc]))] -&gt; CgPgmBundle
</span><a href="Data.SBV.Compilers.CodeGen.html#CgPgmBundle"><span class="hs-identifier hs-var">CgPgmBundle</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, Maybe CgSRealType)
</span><a href="#local-6989586621681154415"><span class="hs-identifier hs-var">bundleKind</span></a></span><span> </span><span class="annot"><span class="annottext">([(FilePath, (CgPgmKind, [Doc]))] -&gt; CgPgmBundle)
-&gt; [(FilePath, (CgPgmKind, [Doc]))] -&gt; CgPgmBundle
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(FilePath, (CgPgmKind, [Doc]))]
</span><a href="#local-6989586621681154414"><span class="hs-identifier hs-var">sources</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, (CgPgmKind, [Doc]))]
-&gt; [(FilePath, (CgPgmKind, [Doc]))]
-&gt; [(FilePath, (CgPgmKind, [Doc]))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, (CgPgmKind, [Doc]))
</span><a href="#local-6989586621681154413"><span class="hs-identifier hs-var">libHeader</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath, (CgPgmKind, [Doc]))
-&gt; [(FilePath, (CgPgmKind, [Doc]))]
-&gt; [(FilePath, (CgPgmKind, [Doc]))]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(FilePath, (CgPgmKind, [Doc]))
</span><a href="#local-6989586621681154412"><span class="hs-identifier hs-var">libDriver</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154411"><span class="hs-identifier hs-var">anyDriver</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[(FilePath, (CgPgmKind, [Doc]))]
-&gt; [(FilePath, (CgPgmKind, [Doc]))]
-&gt; [(FilePath, (CgPgmKind, [Doc]))]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(FilePath, (CgPgmKind, [Doc]))
</span><a href="#local-6989586621681154410"><span class="hs-identifier hs-var">libMake</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154409"><span class="hs-identifier hs-var">anyMake</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-930"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154408"><span class="annot"><span class="annottext">bundles :: [CgPgmBundle]
</span><a href="#local-6989586621681154408"><span class="hs-identifier hs-var hs-var">bundles</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((CgConfig, CgPgmBundle) -&gt; CgPgmBundle)
-&gt; [(CgConfig, CgPgmBundle)] -&gt; [CgPgmBundle]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(CgConfig, CgPgmBundle) -&gt; CgPgmBundle
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">[(CgConfig, CgPgmBundle)]
</span><a href="#local-6989586621681154419"><span class="hs-identifier hs-var">cfgBundles</span></a></span><span>
</span><span id="line-931"></span><span>        </span><span id="local-6989586621681154407"><span class="annot"><span class="annottext">kinds :: [(Maybe Int, Maybe CgSRealType)]
</span><a href="#local-6989586621681154407"><span class="hs-identifier hs-var hs-var">kinds</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(Maybe Int, Maybe CgSRealType)
</span><a href="#local-6989586621681154406"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgPgmBundle"><span class="hs-identifier hs-type">CgPgmBundle</span></a></span><span> </span><span id="local-6989586621681154406"><span class="annot"><span class="annottext">k :: (Maybe Int, Maybe CgSRealType)
</span><a href="#local-6989586621681154406"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[CgPgmBundle]
</span><a href="#local-6989586621681154408"><span class="hs-identifier hs-var">bundles</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-932"></span><span>        </span><span id="local-6989586621681154418"><span class="annot"><span class="annottext">nubKinds :: [(Maybe Int, Maybe CgSRealType)]
</span><a href="#local-6989586621681154418"><span class="hs-identifier hs-var hs-var">nubKinds</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Maybe Int, Maybe CgSRealType)]
-&gt; [(Maybe Int, Maybe CgSRealType)]
forall a. Eq a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nub</span></span><span> </span><span class="annot"><span class="annottext">[(Maybe Int, Maybe CgSRealType)]
</span><a href="#local-6989586621681154407"><span class="hs-identifier hs-var">kinds</span></a></span><span>
</span><span id="line-933"></span><span>        </span><span id="local-6989586621681154415"><span class="annot"><span class="annottext">bundleKind :: (Maybe Int, Maybe CgSRealType)
</span><a href="#local-6989586621681154415"><span class="hs-identifier hs-var hs-var">bundleKind</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Maybe Int, Maybe CgSRealType)] -&gt; (Maybe Int, Maybe CgSRealType)
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">[(Maybe Int, Maybe CgSRealType)]
</span><a href="#local-6989586621681154418"><span class="hs-identifier hs-var">nubKinds</span></a></span><span>
</span><span id="line-934"></span><span>        </span><span id="local-6989586621681154405"><span class="annot"><span class="annottext">files :: [(FilePath, (CgPgmKind, [Doc]))]
</span><a href="#local-6989586621681154405"><span class="hs-identifier hs-var hs-var">files</span></a></span></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[(FilePath, (CgPgmKind, [Doc]))]]
-&gt; [(FilePath, (CgPgmKind, [Doc]))]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[(FilePath, (CgPgmKind, [Doc]))]
</span><a href="#local-6989586621681154404"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgPgmBundle"><span class="hs-identifier hs-type">CgPgmBundle</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681154404"><span class="annot"><span class="annottext">fs :: [(FilePath, (CgPgmKind, [Doc]))]
</span><a href="#local-6989586621681154404"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[CgPgmBundle]
</span><a href="#local-6989586621681154408"><span class="hs-identifier hs-var">bundles</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-935"></span><span>        </span><span id="local-6989586621681154403"><span class="annot"><span class="annottext">sigs :: [Doc]
</span><a href="#local-6989586621681154403"><span class="hs-identifier hs-var hs-var">sigs</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Doc]] -&gt; [Doc]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154402"><span class="hs-identifier hs-var">ss</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgHeader"><span class="hs-identifier hs-type">CgHeader</span></a></span><span> </span><span id="local-6989586621681154402"><span class="annot"><span class="annottext">ss :: [Doc]
</span><a href="#local-6989586621681154402"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(FilePath, (CgPgmKind, [Doc]))]
</span><a href="#local-6989586621681154405"><span class="hs-identifier hs-var">files</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-936"></span><span>        </span><span id="local-6989586621681154409"><span class="annot"><span class="annottext">anyMake :: Bool
</span><a href="#local-6989586621681154409"><span class="hs-identifier hs-var hs-var">anyMake</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[()] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgMakefile"><span class="hs-identifier hs-type">CgMakefile</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(FilePath, (CgPgmKind, [Doc]))]
</span><a href="#local-6989586621681154405"><span class="hs-identifier hs-var">files</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-937"></span><span>        </span><span id="local-6989586621681154401"><span class="annot"><span class="annottext">drivers :: [[Doc]]
</span><a href="#local-6989586621681154401"><span class="hs-identifier hs-var hs-var">drivers</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154400"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgDriver"><span class="hs-identifier hs-type">CgDriver</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154400"><span class="annot"><span class="annottext">ds :: [Doc]
</span><a href="#local-6989586621681154400"><span class="hs-identifier hs-var">ds</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(FilePath, (CgPgmKind, [Doc]))]
</span><a href="#local-6989586621681154405"><span class="hs-identifier hs-var">files</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-938"></span><span>        </span><span id="local-6989586621681154411"><span class="annot"><span class="annottext">anyDriver :: Bool
</span><a href="#local-6989586621681154411"><span class="hs-identifier hs-var hs-var">anyDriver</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[[Doc]] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[[Doc]]
</span><a href="#local-6989586621681154401"><span class="hs-identifier hs-var">drivers</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-939"></span><span>        </span><span id="local-6989586621681154399"><span class="annot"><span class="annottext">mkFlags :: [FilePath]
</span><a href="#local-6989586621681154399"><span class="hs-identifier hs-var hs-var">mkFlags</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; [FilePath]
forall a. Eq a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nub</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[[FilePath]] -&gt; [FilePath]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154398"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgMakefile"><span class="hs-identifier hs-type">CgMakefile</span></a></span><span> </span><span id="local-6989586621681154398"><span class="annot"><span class="annottext">xs :: [FilePath]
</span><a href="#local-6989586621681154398"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(FilePath, (CgPgmKind, [Doc]))]
</span><a href="#local-6989586621681154405"><span class="hs-identifier hs-var">files</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-940"></span><span>        </span><span id="local-6989586621681154414"><span class="annot"><span class="annottext">sources :: [(FilePath, (CgPgmKind, [Doc]))]
</span><a href="#local-6989586621681154414"><span class="hs-identifier hs-var hs-var">sources</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154397"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgPgmKind
</span><a href="Data.SBV.Compilers.CodeGen.html#CgSource"><span class="hs-identifier hs-var">CgSource</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154396"><span class="hs-identifier hs-var">pre</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154395"><span class="hs-identifier hs-var">libHInclude</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154394"><span class="hs-identifier hs-var">post</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154397"><span class="annot"><span class="annottext">f :: FilePath
</span><a href="#local-6989586621681154397"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Compilers.CodeGen.html#CgSource"><span class="hs-identifier hs-type">CgSource</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154396"><span class="annot"><span class="annottext">pre :: Doc
</span><a href="#local-6989586621681154396"><span class="hs-identifier hs-var">pre</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154394"><span class="annot"><span class="annottext">post :: Doc
</span><a href="#local-6989586621681154394"><span class="hs-identifier hs-var">post</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(FilePath, (CgPgmKind, [Doc]))]
</span><a href="#local-6989586621681154405"><span class="hs-identifier hs-var">files</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-941"></span><span>        </span><span id="local-6989586621681154393"><span class="annot"><span class="annottext">sourceNms :: [FilePath]
</span><a href="#local-6989586621681154393"><span class="hs-identifier hs-var hs-var">sourceNms</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((FilePath, (CgPgmKind, [Doc])) -&gt; FilePath)
-&gt; [(FilePath, (CgPgmKind, [Doc]))] -&gt; [FilePath]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, (CgPgmKind, [Doc])) -&gt; FilePath
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(FilePath, (CgPgmKind, [Doc]))]
</span><a href="#local-6989586621681154414"><span class="hs-identifier hs-var">sources</span></a></span><span>
</span><span id="line-942"></span><span>        </span><span id="local-6989586621681154413"><span class="annot"><span class="annottext">libHeader :: (FilePath, (CgPgmKind, [Doc]))
</span><a href="#local-6989586621681154413"><span class="hs-identifier hs-var hs-var">libHeader</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154420"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.h&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; CgPgmKind
</span><a href="Data.SBV.Compilers.CodeGen.html#CgHeader"><span class="hs-identifier hs-var">CgHeader</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154403"><span class="hs-identifier hs-var">sigs</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(Maybe Int, Maybe CgSRealType) -&gt; FilePath -&gt; [Doc] -&gt; Doc -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#genHeader"><span class="hs-identifier hs-var">genHeader</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Int, Maybe CgSRealType)
</span><a href="#local-6989586621681154415"><span class="hs-identifier hs-var">bundleKind</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154420"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc]
</span><a href="#local-6989586621681154403"><span class="hs-identifier hs-var">sigs</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-943"></span><span>        </span><span id="local-6989586621681154395"><span class="annot"><span class="annottext">libHInclude :: Doc
</span><a href="#local-6989586621681154395"><span class="hs-identifier hs-var hs-var">libHInclude</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154420"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.h&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-944"></span><span>        </span><span id="local-6989586621681154410"><span class="annot"><span class="annottext">libMake :: (FilePath, (CgPgmKind, [Doc]))
</span><a href="#local-6989586621681154410"><span class="hs-identifier hs-var hs-var">libMake</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;Makefile&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FilePath] -&gt; CgPgmKind
</span><a href="Data.SBV.Compilers.CodeGen.html#CgMakefile"><span class="hs-identifier hs-var">CgMakefile</span></a></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154399"><span class="hs-identifier hs-var">mkFlags</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Bool -&gt; FilePath -&gt; [FilePath] -&gt; [FilePath] -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#genLibMake"><span class="hs-identifier hs-var">genLibMake</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154411"><span class="hs-identifier hs-var">anyDriver</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154420"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154393"><span class="hs-identifier hs-var">sourceNms</span></a></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154399"><span class="hs-identifier hs-var">mkFlags</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-945"></span><span>        </span><span id="local-6989586621681154412"><span class="annot"><span class="annottext">libDriver :: (FilePath, (CgPgmKind, [Doc]))
</span><a href="#local-6989586621681154412"><span class="hs-identifier hs-var hs-var">libDriver</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154420"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_driver.c&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CgPgmKind
</span><a href="Data.SBV.Compilers.CodeGen.html#CgDriver"><span class="hs-identifier hs-var">CgDriver</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc -&gt; [(FilePath, [Doc])] -&gt; [Doc]
</span><a href="Data.SBV.Compilers.C.html#mergeDrivers"><span class="hs-identifier hs-var">mergeDrivers</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154420"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154395"><span class="hs-identifier hs-var">libHInclude</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FilePath] -&gt; [[Doc]] -&gt; [(FilePath, [Doc])]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FilePath -&gt; FilePath) -&gt; [FilePath] -&gt; [FilePath]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
</span><span class="hs-identifier hs-var">takeBaseName</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154393"><span class="hs-identifier hs-var">sourceNms</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[[Doc]]
</span><a href="#local-6989586621681154401"><span class="hs-identifier hs-var">drivers</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-946"></span><span>        </span><span id="local-6989586621681154416"><span class="annot"><span class="annottext">finalCfg :: CgConfig
</span><a href="#local-6989586621681154416"><span class="hs-identifier hs-var hs-var">finalCfg</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[(CgConfig, CgPgmBundle)]
</span><a href="#local-6989586621681154419"><span class="hs-identifier hs-var">cfgBundles</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-947"></span><span>                        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="Data.SBV.Compilers.CodeGen.html#defaultCgConfig"><span class="hs-identifier hs-var">defaultCgConfig</span></a></span><span>
</span><span id="line-948"></span><span>                        </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681154390"><span class="annot"><span class="annottext">c :: CgConfig
</span><a href="#local-6989586621681154390"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CgConfig
</span><a href="#local-6989586621681154390"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-949"></span><span>
</span><span id="line-950"></span><span class="hs-comment">-- | Create a Makefile for the library</span><span>
</span><span id="line-951"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#genLibMake"><span class="hs-identifier hs-type">genLibMake</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span>
</span><span id="line-952"></span><span id="genLibMake"><span class="annot"><span class="annottext">genLibMake :: Bool -&gt; FilePath -&gt; [FilePath] -&gt; [FilePath] -&gt; Doc
</span><a href="Data.SBV.Compilers.C.html#genLibMake"><span class="hs-identifier hs-var hs-var">genLibMake</span></a></span></span><span> </span><span id="local-6989586621681154389"><span class="annot"><span class="annottext">ifdr :: Bool
</span><a href="#local-6989586621681154389"><span class="hs-identifier hs-var">ifdr</span></a></span></span><span> </span><span id="local-6989586621681154388"><span class="annot"><span class="annottext">libName :: FilePath
</span><a href="#local-6989586621681154388"><span class="hs-identifier hs-var">libName</span></a></span></span><span> </span><span id="local-6989586621681154387"><span class="annot"><span class="annottext">fs :: [FilePath]
</span><a href="#local-6989586621681154387"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span id="local-6989586621681154386"><span class="annot"><span class="annottext">ldFlags :: [FilePath]
</span><a href="#local-6989586621681154386"><span class="hs-identifier hs-var">ldFlags</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Doc -&gt; Doc -&gt; Doc) -&gt; [Doc] -&gt; Doc
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldr1</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">($$)</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154385"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154385"><span class="annot"><span class="annottext">l :: Doc
</span><a href="#local-6989586621681154385"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Bool, Doc)]
</span><a href="#local-6989586621681154384"><span class="hs-identifier hs-var">lns</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-953"></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154383"><span class="annot"><span class="annottext">ifld :: Bool
</span><a href="#local-6989586621681154383"><span class="hs-identifier hs-var hs-var">ifld</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FilePath] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154386"><span class="hs-identifier hs-var">ldFlags</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-954"></span><span>       </span><span id="local-6989586621681154382"><span class="annot"><span class="annottext">ld :: Doc
</span><a href="#local-6989586621681154382"><span class="hs-identifier hs-var hs-var">ld</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154383"><span class="hs-identifier hs-var">ifld</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;${LDFLAGS}&quot;</span></span><span>
</span><span id="line-955"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-956"></span><span>       </span><span id="local-6989586621681154384"><span class="annot"><span class="annottext">lns :: [(Bool, Doc)]
</span><a href="#local-6989586621681154384"><span class="hs-identifier hs-var hs-var">lns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;# Makefile for&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154381"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;. Automatically generated by SBV. Do not edit!&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-957"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-958"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;# include any user-defined .mk file in the current directory.&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-959"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;-include *.mk&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-960"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-961"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;CC?=gcc&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-962"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;CCFLAGS?=-Wall -O3 -DNDEBUG -fomit-frame-pointer&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-963"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154383"><span class="hs-identifier hs-var">ifld</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;LDFLAGS?=&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FilePath] -&gt; FilePath
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154386"><span class="hs-identifier hs-var">ldFlags</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-964"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;AR?=ar&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-965"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;ARFLAGS?=cr&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-966"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-967"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154389"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;all: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154380"><span class="hs-identifier hs-var">liba</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-968"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154389"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span>      </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;all: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; FilePath
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154380"><span class="hs-identifier hs-var">liba</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154379"><span class="hs-identifier hs-var">libd</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-969"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-970"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154380"><span class="hs-identifier hs-var">liba</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; FilePath
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154378"><span class="hs-identifier hs-var">os</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-971"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\t${AR} ${ARFLAGS} $@ $^&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-972"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-973"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154389"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154379"><span class="hs-identifier hs-var">libd</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; FilePath
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154379"><span class="hs-identifier hs-var">libd</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.c&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154377"><span class="hs-identifier hs-var">libh</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-974"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154389"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;\t${CC} ${CCFLAGS} $&lt; -o $@ &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154380"><span class="hs-identifier hs-var">liba</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154382"><span class="hs-identifier hs-var">ld</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-975"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154389"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-976"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FilePath -&gt; FilePath -&gt; Doc) -&gt; [FilePath] -&gt; [FilePath] -&gt; [Doc]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; Doc
</span><a href="#local-6989586621681154376"><span class="hs-identifier hs-var">mkObj</span></a></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154378"><span class="hs-identifier hs-var">os</span></a></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154387"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-977"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;clean:&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-978"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\trm -f *.o&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-979"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-980"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;veryclean: clean&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-981"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154389"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\trm -f&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154380"><span class="hs-identifier hs-var">liba</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-982"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681154389"><span class="hs-identifier hs-var">ifdr</span></a></span><span class="hs-special">,</span><span>      </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\trm -f&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[FilePath] -&gt; FilePath
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154380"><span class="hs-identifier hs-var">liba</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154379"><span class="hs-identifier hs-var">libd</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-983"></span><span>             </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-984"></span><span>             </span><span class="hs-special">]</span><span>
</span><span id="line-985"></span><span>       </span><span id="local-6989586621681154381"><span class="annot"><span class="annottext">nm :: Doc
</span><a href="#local-6989586621681154381"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154388"><span class="hs-identifier hs-var">libName</span></a></span><span>
</span><span id="line-986"></span><span>       </span><span id="local-6989586621681154380"><span class="annot"><span class="annottext">liba :: FilePath
</span><a href="#local-6989586621681154380"><span class="hs-identifier hs-var hs-var">liba</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154388"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.a&quot;</span></span><span>
</span><span id="line-987"></span><span>       </span><span id="local-6989586621681154377"><span class="annot"><span class="annottext">libh :: FilePath
</span><a href="#local-6989586621681154377"><span class="hs-identifier hs-var hs-var">libh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154388"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.h&quot;</span></span><span>
</span><span id="line-988"></span><span>       </span><span id="local-6989586621681154379"><span class="annot"><span class="annottext">libd :: FilePath
</span><a href="#local-6989586621681154379"><span class="hs-identifier hs-var hs-var">libd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154388"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_driver&quot;</span></span><span>
</span><span id="line-989"></span><span>       </span><span id="local-6989586621681154378"><span class="annot"><span class="annottext">os :: [FilePath]
</span><a href="#local-6989586621681154378"><span class="hs-identifier hs-var hs-var">os</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; FilePath) -&gt; [FilePath] -&gt; [FilePath]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
</span><span class="hs-operator hs-var">`replaceExtension`</span></span><span> </span><span class="annot"><span class="hs-string">&quot;.o&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154387"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-990"></span><span>       </span><span id="local-6989586621681154376"><span class="annot"><span class="annottext">mkObj :: FilePath -&gt; FilePath -&gt; Doc
</span><a href="#local-6989586621681154376"><span class="hs-identifier hs-var hs-var">mkObj</span></a></span></span><span> </span><span id="local-6989586621681154375"><span class="annot"><span class="annottext">o :: FilePath
</span><a href="#local-6989586621681154375"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span id="local-6989586621681154374"><span class="annot"><span class="annottext">f :: FilePath
</span><a href="#local-6989586621681154374"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154375"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[FilePath] -&gt; FilePath
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154374"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154377"><span class="hs-identifier hs-var">libh</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-991"></span><span>                 </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\t${CC} ${CCFLAGS} -c $&lt; -o $@&quot;</span></span><span>
</span><span id="line-992"></span><span>                 </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-993"></span><span>
</span><span id="line-994"></span><span class="hs-comment">-- | Create a driver for a library</span><span>
</span><span id="line-995"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#mergeDrivers"><span class="hs-identifier hs-type">mergeDrivers</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Doc</span></span><span class="hs-special">]</span><span>
</span><span id="line-996"></span><span id="mergeDrivers"><span class="annot"><span class="annottext">mergeDrivers :: FilePath -&gt; Doc -&gt; [(FilePath, [Doc])] -&gt; [Doc]
</span><a href="Data.SBV.Compilers.C.html#mergeDrivers"><span class="hs-identifier hs-var hs-var">mergeDrivers</span></a></span></span><span> </span><span id="local-6989586621681154373"><span class="annot"><span class="annottext">libName :: FilePath
</span><a href="#local-6989586621681154373"><span class="hs-identifier hs-var">libName</span></a></span></span><span> </span><span id="local-6989586621681154372"><span class="annot"><span class="annottext">inc :: Doc
</span><a href="#local-6989586621681154372"><span class="hs-identifier hs-var">inc</span></a></span></span><span> </span><span id="local-6989586621681154371"><span class="annot"><span class="annottext">ds :: [(FilePath, [Doc])]
</span><a href="#local-6989586621681154371"><span class="hs-identifier hs-var">ds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154370"><span class="hs-identifier hs-var">pre</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; [Doc] -&gt; [Doc]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">((FilePath, [Doc]) -&gt; [Doc]) -&gt; [(FilePath, [Doc])] -&gt; [Doc]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, [Doc]) -&gt; [Doc]
</span><a href="#local-6989586621681154369"><span class="hs-identifier hs-var">mkDFun</span></a></span><span> </span><span class="annot"><span class="annottext">[(FilePath, [Doc])]
</span><a href="#local-6989586621681154371"><span class="hs-identifier hs-var">ds</span></a></span><span> </span><span class="annot"><span class="annottext">[Doc] -&gt; [Doc] -&gt; [Doc]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[FilePath] -&gt; Doc
</span><a href="#local-6989586621681154368"><span class="hs-identifier hs-var">callDrivers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((FilePath, [Doc]) -&gt; FilePath)
-&gt; [(FilePath, [Doc])] -&gt; [FilePath]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(FilePath, [Doc]) -&gt; FilePath
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(FilePath, [Doc])]
</span><a href="#local-6989586621681154371"><span class="hs-identifier hs-var">ds</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-997"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154370"><span class="annot"><span class="annottext">pre :: Doc
</span><a href="#local-6989586621681154370"><span class="hs-identifier hs-var hs-var">pre</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* Example driver program for&quot;</span></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">&lt;+&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154373"><span class="hs-identifier hs-var">libName</span></a></span><span> </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">P.&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;. */&quot;</span></span><span>
</span><span id="line-998"></span><span>            </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;/* Automatically generated by SBV. Edit as you see fit! */&quot;</span></span><span>
</span><span id="line-999"></span><span>            </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1000"></span><span>            </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;#include &lt;stdio.h&gt;&quot;</span></span><span>
</span><span id="line-1001"></span><span>            </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154372"><span class="hs-identifier hs-var">inc</span></a></span><span>
</span><span id="line-1002"></span><span>        </span><span id="local-6989586621681154369"><span class="annot"><span class="annottext">mkDFun :: (FilePath, [Doc]) -&gt; [Doc]
</span><a href="#local-6989586621681154369"><span class="hs-identifier hs-var hs-var">mkDFun</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154367"><span class="annot"><span class="annottext">f :: FilePath
</span><a href="#local-6989586621681154367"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681154366"><span class="annot"><span class="annottext">_pre :: Doc
</span><a href="#local-6989586621681154366"><span class="hs-identifier hs-var">_pre</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154365"><span class="annot"><span class="annottext">_header :: Doc
</span><a href="#local-6989586621681154365"><span class="hs-identifier hs-var">_header</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154364"><span class="annot"><span class="annottext">body :: Doc
</span><a href="#local-6989586621681154364"><span class="hs-identifier hs-var">body</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154363"><span class="annot"><span class="annottext">_post :: Doc
</span><a href="#local-6989586621681154363"><span class="hs-identifier hs-var">_post</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154362"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154364"><span class="hs-identifier hs-var">body</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Doc
</span><a href="#local-6989586621681154361"><span class="hs-identifier hs-var">post</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1003"></span><span>           </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154362"><span class="annot"><span class="annottext">header :: Doc
</span><a href="#local-6989586621681154362"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1004"></span><span>                        </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;void &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154367"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_driver(void)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1005"></span><span>                        </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;{&quot;</span></span><span>
</span><span id="line-1006"></span><span>                 </span><span id="local-6989586621681154361"><span class="annot"><span class="annottext">post :: Doc
</span><a href="#local-6989586621681154361"><span class="hs-identifier hs-var hs-var">post</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;}&quot;</span></span><span>
</span><span id="line-1007"></span><span>        </span><span class="annot"><a href="#local-6989586621681154369"><span class="hs-identifier hs-var">mkDFun</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154360"><span class="annot"><span class="annottext">f :: FilePath
</span><a href="#local-6989586621681154360"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; [Doc]
forall a. FilePath -&gt; a
</span><a href="Data.SBV.Compilers.C.html#die"><span class="hs-identifier hs-var">die</span></a></span><span> </span><span class="annot"><span class="annottext">(FilePath -&gt; [Doc]) -&gt; FilePath -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;mergeDrivers: non-conforming driver program for &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath
forall a. Show a =&gt; a -&gt; FilePath
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154360"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-1008"></span><span>        </span><span id="local-6989586621681154368"><span class="annot"><span class="annottext">callDrivers :: [FilePath] -&gt; Doc
</span><a href="#local-6989586621681154368"><span class="hs-identifier hs-var hs-var">callDrivers</span></a></span></span><span> </span><span id="local-6989586621681154359"><span class="annot"><span class="annottext">fs :: [FilePath]
</span><a href="#local-6989586621681154359"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>   </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1009"></span><span>                       </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;int main(void)&quot;</span></span><span>
</span><span id="line-1010"></span><span>                       </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;{&quot;</span></span><span>
</span><span id="line-1011"></span><span>                       </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$+$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Doc -&gt; Doc
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Doc] -&gt; Doc
</span><span class="hs-identifier hs-var">vcat</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FilePath -&gt; Doc) -&gt; [FilePath] -&gt; [Doc]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><a href="#local-6989586621681154358"><span class="hs-identifier hs-var">call</span></a></span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154359"><span class="hs-identifier hs-var">fs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1012"></span><span>                       </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">Int -&gt; Doc -&gt; Doc
</span><span class="hs-identifier hs-var">nest</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;return 0;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1013"></span><span>                       </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;}&quot;</span></span><span>
</span><span id="line-1014"></span><span>        </span><span id="local-6989586621681154358"><span class="annot"><span class="annottext">call :: FilePath -&gt; Doc
</span><a href="#local-6989586621681154358"><span class="hs-identifier hs-var hs-var">call</span></a></span></span><span> </span><span id="local-6989586621681154357"><span class="annot"><span class="annottext">f :: FilePath
</span><a href="#local-6989586621681154357"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154356"><span class="hs-identifier hs-var">psep</span></a></span><span>
</span><span id="line-1015"></span><span>               </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154355"><span class="hs-identifier hs-var">ptag</span></a></span><span>
</span><span id="line-1016"></span><span>               </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154356"><span class="hs-identifier hs-var">psep</span></a></span><span>
</span><span id="line-1017"></span><span>               </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154357"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_driver();&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-1018"></span><span>               </span><span class="annot"><span class="annottext">Doc -&gt; Doc -&gt; Doc
</span><span class="hs-operator hs-var">$$</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; Doc
</span><span class="hs-identifier hs-var">text</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1019"></span><span>           </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154354"><span class="annot"><span class="annottext">tag :: FilePath
</span><a href="#local-6989586621681154354"><span class="hs-identifier hs-var hs-var">tag</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;** Driver run for &quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154357"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span>
</span><span id="line-1020"></span><span>                 </span><span id="local-6989586621681154355"><span class="annot"><span class="annottext">ptag :: FilePath
</span><a href="#local-6989586621681154355"><span class="hs-identifier hs-var hs-var">ptag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;printf(\&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154354"><span class="hs-identifier hs-var">tag</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\\n\&quot;);&quot;</span></span><span>
</span><span id="line-1021"></span><span>                 </span><span id="local-6989586621681154353"><span class="annot"><span class="annottext">lsep :: FilePath
</span><a href="#local-6989586621681154353"><span class="hs-identifier hs-var hs-var">lsep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Char -&gt; FilePath
forall a. Int -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FilePath -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154354"><span class="hs-identifier hs-var">tag</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-char">'='</span></span><span>
</span><span id="line-1022"></span><span>                 </span><span id="local-6989586621681154356"><span class="annot"><span class="annottext">psep :: FilePath
</span><a href="#local-6989586621681154356"><span class="hs-identifier hs-var hs-var">psep</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;printf(\&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">FilePath
</span><a href="#local-6989586621681154353"><span class="hs-identifier hs-var">lsep</span></a></span><span> </span><span class="annot"><span class="annottext">FilePath -&gt; FilePath -&gt; FilePath
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;\\n\&quot;);&quot;</span></span><span>
</span><span id="line-1023"></span><span>
</span><span id="line-1024"></span><span class="hs-comment">-- Does this operation with this result kind require an LD flag?</span><span>
</span><span id="line-1025"></span><span class="annot"><a href="Data.SBV.Compilers.C.html#getLDFlag"><span class="hs-identifier hs-type">getLDFlag</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Op"><span class="hs-identifier hs-type">Op</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-1026"></span><span id="getLDFlag"><span class="annot"><span class="annottext">getLDFlag :: (Op, Kind) -&gt; [FilePath]
</span><a href="Data.SBV.Compilers.C.html#getLDFlag"><span class="hs-identifier hs-var hs-var">getLDFlag</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681154352"><span class="annot"><span class="annottext">o :: Op
</span><a href="#local-6989586621681154352"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681154351"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681154351"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Op -&gt; [FilePath]
</span><a href="#local-6989586621681154350"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><span class="annottext">Op
</span><a href="#local-6989586621681154352"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-1027"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681154349"><span class="annot"><span class="annottext">math :: [FilePath]
</span><a href="#local-6989586621681154349"><span class="hs-identifier hs-var hs-var">math</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;-lm&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1028"></span><span>
</span><span id="line-1029"></span><span>        </span><span id="local-6989586621681154350"><span class="annot"><span class="annottext">flag :: Op -&gt; [FilePath]
</span><a href="#local-6989586621681154350"><span class="hs-identifier hs-var hs-var">flag</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#IEEEFP"><span class="hs-identifier hs-type">IEEEFP</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FP_Cast"><span class="hs-identifier hs-type">FP_Cast</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>                                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154349"><span class="hs-identifier hs-var">math</span></a></span><span>
</span><span id="line-1030"></span><span>        </span><span class="annot"><a href="#local-6989586621681154350"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#IEEEFP"><span class="hs-identifier hs-type">IEEEFP</span></a></span><span> </span><span id="local-6989586621681154348"><span class="annot"><span class="annottext">fop :: FPOp
</span><a href="#local-6989586621681154348"><span class="hs-identifier hs-var">fop</span></a></span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="#local-6989586621681154348"><span class="hs-identifier hs-var">fop</span></a></span><span> </span><span class="annot"><span class="annottext">FPOp -&gt; [FPOp] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[FPOp]
</span><a href="#local-6989586621681154346"><span class="hs-identifier hs-var">requiresMath</span></a></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154349"><span class="hs-identifier hs-var">math</span></a></span><span>
</span><span id="line-1031"></span><span>        </span><span class="annot"><a href="#local-6989586621681154350"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Abs"><span class="hs-identifier hs-type">Abs</span></a></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681154351"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; [Kind] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-var">KFloat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-var">KDouble</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-var">KReal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FilePath]
</span><a href="#local-6989586621681154349"><span class="hs-identifier hs-var">math</span></a></span><span>
</span><span id="line-1032"></span><span>        </span><span class="annot"><a href="#local-6989586621681154350"><span class="hs-identifier hs-var">flag</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                                      </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1033"></span><span>
</span><span id="line-1034"></span><span>        </span><span id="local-6989586621681154346"><span class="annot"><span class="annottext">requiresMath :: [FPOp]
</span><a href="#local-6989586621681154346"><span class="hs-identifier hs-var hs-var">requiresMath</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_Abs"><span class="hs-identifier hs-var">FP_Abs</span></a></span><span>
</span><span id="line-1035"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_FMA"><span class="hs-identifier hs-var">FP_FMA</span></a></span><span>
</span><span id="line-1036"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_Sqrt"><span class="hs-identifier hs-var">FP_Sqrt</span></a></span><span>
</span><span id="line-1037"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_Rem"><span class="hs-identifier hs-var">FP_Rem</span></a></span><span>
</span><span id="line-1038"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_Min"><span class="hs-identifier hs-var">FP_Min</span></a></span><span>
</span><span id="line-1039"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_Max"><span class="hs-identifier hs-var">FP_Max</span></a></span><span>
</span><span id="line-1040"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_RoundToIntegral"><span class="hs-identifier hs-var">FP_RoundToIntegral</span></a></span><span>
</span><span id="line-1041"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_ObjEqual"><span class="hs-identifier hs-var">FP_ObjEqual</span></a></span><span>
</span><span id="line-1042"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_IsSubnormal"><span class="hs-identifier hs-var">FP_IsSubnormal</span></a></span><span>
</span><span id="line-1043"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_IsInfinite"><span class="hs-identifier hs-var">FP_IsInfinite</span></a></span><span>
</span><span id="line-1044"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_IsNaN"><span class="hs-identifier hs-var">FP_IsNaN</span></a></span><span>
</span><span id="line-1045"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_IsNegative"><span class="hs-identifier hs-var">FP_IsNegative</span></a></span><span>
</span><span id="line-1046"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_IsPositive"><span class="hs-identifier hs-var">FP_IsPositive</span></a></span><span>
</span><span id="line-1047"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_IsNormal"><span class="hs-identifier hs-var">FP_IsNormal</span></a></span><span>
</span><span id="line-1048"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_IsZero"><span class="hs-identifier hs-var">FP_IsZero</span></a></span><span>
</span><span id="line-1049"></span><span>                       </span><span class="hs-special">]</span><span>
</span><span id="line-1050"></span><span>
</span><span id="line-1051"></span><span class="hs-pragma">{-# ANN</span><span> </span><span class="hs-pragma">module</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma">&quot;HLint: ignore Redundant lambda&quot;</span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1052"></span></pre></body></html>