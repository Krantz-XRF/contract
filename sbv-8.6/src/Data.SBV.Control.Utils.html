<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Module    : Data.SBV.Control.Utils</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Copyright : (c) Levent Erkok</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- License   : BSD3</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Maintainer: erkokl@gmail.com</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Stability : experimental</span><span>
</span><span id="line-8"></span><span class="hs-comment">--</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Query related utils.</span><span>
</span><span id="line-10"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-pragma">{-# LANGUAGE BangPatterns           #-}</span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# LANGUAGE DefaultSignatures      #-}</span><span>
</span><span id="line-14"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts       #-}</span><span>
</span><span id="line-15"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances      #-}</span><span>
</span><span id="line-16"></span><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-17"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase             #-}</span><span>
</span><span id="line-18"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns         #-}</span><span>
</span><span id="line-19"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables    #-}</span><span>
</span><span id="line-20"></span><span class="hs-pragma">{-# LANGUAGE TupleSections          #-}</span><span>
</span><span id="line-21"></span><span class="hs-pragma">{-# LANGUAGE TypeApplications       #-}</span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wall -Werror -fno-warn-orphans #-}</span><span>
</span><span id="line-24"></span><span>
</span><span id="line-25"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.SBV.Control.Utils</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-26"></span><span>       </span><span class="annot"><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier">io</span></a></span><span>
</span><span id="line-27"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier">ask</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier">send</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getValue"><span class="hs-identifier">getValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getFunction"><span class="hs-identifier">getFunction</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getUninterpretedValue"><span class="hs-identifier">getUninterpretedValue</span></a></span><span>
</span><span id="line-28"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getValueCV"><span class="hs-identifier">getValueCV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getUIFunCVAssoc"><span class="hs-identifier">getUIFunCVAssoc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getUnsatAssumptions"><span class="hs-identifier">getUnsatAssumptions</span></a></span><span>
</span><span id="line-29"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier">SMTValue</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier">SMTFunction</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#registerUISMTFunction"><span class="hs-identifier">registerUISMTFunction</span></a></span><span>
</span><span id="line-30"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier">getQueryState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#modifyQueryState"><span class="hs-identifier">modifyQueryState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier">getConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getObjectives"><span class="hs-identifier">getObjectives</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getUIs"><span class="hs-identifier">getUIs</span></a></span><span>
</span><span id="line-31"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getSBVAssertions"><span class="hs-identifier">getSBVAssertions</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getSBVPgm"><span class="hs-identifier">getSBVPgm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getQuantifiedInputs"><span class="hs-identifier">getQuantifiedInputs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getObservables"><span class="hs-identifier">getObservables</span></a></span><span>
</span><span id="line-32"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#checkSat"><span class="hs-identifier">checkSat</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#checkSatUsing"><span class="hs-identifier">checkSatUsing</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getAllSatResult"><span class="hs-identifier">getAllSatResult</span></a></span><span>
</span><span id="line-33"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier">inNewContext</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#freshVar"><span class="hs-identifier">freshVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#freshVar_"><span class="hs-identifier">freshVar_</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#freshArray"><span class="hs-identifier">freshArray</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#freshArray_"><span class="hs-identifier">freshArray_</span></a></span><span>
</span><span id="line-34"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier">parse</span></a></span><span>
</span><span id="line-35"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier">unexpected</span></a></span><span>
</span><span id="line-36"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#timeout"><span class="hs-identifier">timeout</span></a></span><span>
</span><span id="line-37"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier">queryDebug</span></a></span><span>
</span><span id="line-38"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#retrieveResponse"><span class="hs-identifier">retrieveResponse</span></a></span><span>
</span><span id="line-39"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier">recoverKindedValue</span></a></span><span>
</span><span id="line-40"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#runProofOn"><span class="hs-identifier">runProofOn</span></a></span><span>
</span><span id="line-41"></span><span>     </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#executeQuery"><span class="hs-identifier">executeQuery</span></a></span><span>
</span><span id="line-42"></span><span>     </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isJust</span></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">sortBy</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">sortOn</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">elemIndex</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">partition</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">groupBy</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">tails</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">intercalate</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">nub</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">sort</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">isPrefixOf</span></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">isPunctuation</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">isSpace</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">chr</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ord</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">isDigit</span></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Function</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">on</span></span><span class="hs-special">)</span><span>
</span><span id="line-49"></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Proxy</span></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Typeable</span></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Int</span></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Word</span></span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span>    </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.IntMap.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">IMap</span></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Sequence</span></span><span>      </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">join</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unless</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">zipWithM</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">when</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">replicateM</span></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.IO.Class</span></span><span>   </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadIO</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">liftIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans</span></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">lift</span></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Reader</span></span><span>     </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">runReaderT</span></span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.IORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">readIORef</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">writeIORef</span></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">getZonedTime</span></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html"><span class="hs-identifier">Data.SBV.Core.Data</span></a></span><span>     </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier">SV</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier">trueSV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier">falseSV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier">CV</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#trueCV"><span class="hs-identifier">trueCV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#falseCV"><span class="hs-identifier">falseCV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier">SBV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier">AlgReal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#sbvToSV"><span class="hs-identifier">sbvToSV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier">kindOf</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier">Kind</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier">HasKind</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#mkConstCV"><span class="hs-identifier">mkConstCV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier">CVal</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTResult"><span class="hs-identifier">SMTResult</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NamedSymVar"><span class="hs-identifier">NamedSymVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTConfig"><span class="hs-identifier">SMTConfig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTModel"><span class="hs-identifier">SMTModel</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryState"><span class="hs-identifier">QueryState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier">SVal</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Quantifier"><span class="hs-identifier">Quantifier</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier">cache</span></a></span><span>
</span><span id="line-73"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier">newExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVExpr"><span class="hs-identifier">SBVExpr</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Op"><span class="hs-identifier">Op</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#FPOp"><span class="hs-identifier">FPOp</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier">SBV</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymArray"><span class="hs-identifier">SymArray</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SolverContext"><span class="hs-identifier">SolverContext</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBool"><span class="hs-identifier">SBool</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Objective"><span class="hs-identifier">Objective</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SolverCapabilities"><span class="hs-identifier">SolverCapabilities</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#capabilities"><span class="hs-identifier">capabilities</span></a></span><span>
</span><span id="line-75"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Result"><span class="hs-identifier">Result</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SMTProblem"><span class="hs-identifier">SMTProblem</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier">trueSV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier">SymVal</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVPgm"><span class="hs-identifier">SBVPgm</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTSolver"><span class="hs-identifier">SMTSolver</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVRunMode"><span class="hs-identifier">SBVRunMode</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier">SBVType</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#forceSVArg"><span class="hs-identifier">forceSVArg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#RoundingMode"><span class="hs-identifier">RoundingMode</span></a></span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#RoundNearestTiesToEven"><span class="hs-identifier">RoundNearestTiesToEven</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#.%3D%3E"><span class="hs-operator">(.=&gt;)</span></a></span><span>
</span><span id="line-77"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#RCSet"><span class="hs-identifier">RCSet</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span>                              </span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html"><span class="hs-identifier">Data.SBV.Core.Symbolic</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#IncState"><span class="hs-identifier">IncState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#withNewIncState"><span class="hs-identifier">withNewIncState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier">State</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier">svToSV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#symbolicEnv"><span class="hs-identifier">symbolicEnv</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SymbolicT"><span class="hs-identifier">SymbolicT</span></a></span><span>
</span><span id="line-81"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier">MonadQuery</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryContext"><span class="hs-identifier">QueryContext</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Queriable"><span class="hs-identifier">Queriable</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Fresh"><span class="hs-identifier">Fresh</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#registerLabel"><span class="hs-identifier">registerLabel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#svMkSymVar"><span class="hs-identifier">svMkSymVar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#validationRequested"><span class="hs-identifier">validationRequested</span></a></span><span>
</span><span id="line-83"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#isSafetyCheckingIStage"><span class="hs-identifier">isSafetyCheckingIStage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#isSetupIStage"><span class="hs-identifier">isSetupIStage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#isRunIStage"><span class="hs-identifier">isRunIStage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#IStage"><span class="hs-identifier">IStage</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryT"><span class="hs-identifier">QueryT</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>                              </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#extractSymbolicSimulationState"><span class="hs-identifier">extractSymbolicSimulationState</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadSymbolic"><span class="hs-identifier">MonadSymbolic</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#newUninterpreted"><span class="hs-identifier">newUninterpreted</span></a></span><span>
</span><span id="line-85"></span><span>                              </span><span class="hs-special">)</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html"><span class="hs-identifier">Data.SBV.Core.AlgReals</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#mergeAlgReals"><span class="hs-identifier">mergeAlgReals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html"><span class="hs-identifier">Data.SBV.Core.Kind</span></a></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#smtType"><span class="hs-identifier">smtType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#hasUninterpretedSorts"><span class="hs-identifier">hasUninterpretedSorts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-89"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html"><span class="hs-identifier">Data.SBV.Core.Operations</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Operations.html#svNot"><span class="hs-identifier">svNot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svNotEqual"><span class="hs-identifier">svNotEqual</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Operations.html#svOr"><span class="hs-identifier">svOr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html"><span class="hs-identifier">Data.SBV.SMT.SMT</span></a></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.SMT.SMT.html#showModel"><span class="hs-identifier">showModel</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html#parseCVs"><span class="hs-identifier">parseCVs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html#SatModel"><span class="hs-identifier">SatModel</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMTLib.html"><span class="hs-identifier">Data.SBV.SMT.SMTLib</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.SMT.SMTLib.html#toIncSMTLib"><span class="hs-identifier">toIncSMTLib</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMTLib.html#toSMTLib"><span class="hs-identifier">toSMTLib</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.SMT.Utils.html"><span class="hs-identifier">Data.SBV.SMT.Utils</span></a></span><span>   </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.SMT.Utils.html#showTimeoutValue"><span class="hs-identifier">showTimeoutValue</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.Utils.html#addAnnotations"><span class="hs-identifier">addAnnotations</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-identifier">alignPlain</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.Utils.html#debug"><span class="hs-identifier">debug</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.Utils.html#mergeSExpr"><span class="hs-identifier">mergeSExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.Utils.html#SBVException"><span class="hs-identifier">SBVException</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Utils.ExtractIO.html"><span class="hs-identifier">Data.SBV.Utils.ExtractIO</span></a></span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Utils.Lib.html"><span class="hs-identifier">Data.SBV.Utils.Lib</span></a></span><span>       </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.Lib.html#qfsToString"><span class="hs-identifier">qfsToString</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.Lib.html#isKString"><span class="hs-identifier">isKString</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html"><span class="hs-identifier">Data.SBV.Utils.SExpr</span></a></span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Utils.PrettyNum.html"><span class="hs-identifier">Data.SBV.Utils.PrettyNum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.PrettyNum.html#cvToSMTLib"><span class="hs-identifier">cvToSMTLib</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html"><span class="hs-identifier">Data.SBV.Control.Types</span></a></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">empty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toAscList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">map</span></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">C</span></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Stack</span></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Unsafe.Coerce</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">unsafeCoerce</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Only used safely!</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-comment">-- | 'Data.SBV.Trans.Control.QueryT' as a 'SolverContext'.</span><span>
</span><span id="line-111"></span><span id="local-6989586621681138284"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681138273"><span id="local-6989586621681138275"><span id="local-6989586621681138278"><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138284"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SolverContext"><span class="hs-identifier hs-type">SolverContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryT"><span class="hs-identifier hs-type">QueryT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138284"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-112"></span><span>   </span><span id="local-6989586621681138270"><span class="annot"><span class="annottext">constrain :: SBool -&gt; QueryT m ()
</span><a href="Data.SBV.Core.Data.html#constrain"><span class="hs-identifier hs-var hs-var hs-var hs-var">constrain</span></a></span></span><span>              </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [(String, String)] -&gt; SBool -&gt; QueryT m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; [(String, String)] -&gt; SBool -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#addQueryConstraint"><span class="hs-identifier hs-var">addQueryConstraint</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-113"></span><span>   </span><span id="local-6989586621681138267"><span class="annot"><span class="annottext">softConstrain :: SBool -&gt; QueryT m ()
</span><a href="Data.SBV.Core.Data.html#softConstrain"><span class="hs-identifier hs-var hs-var hs-var hs-var">softConstrain</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [(String, String)] -&gt; SBool -&gt; QueryT m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; [(String, String)] -&gt; SBool -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#addQueryConstraint"><span class="hs-identifier hs-var">addQueryConstraint</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-114"></span><span>   </span><span id="local-6989586621681138265"><span class="annot"><span class="annottext">namedConstraint :: String -&gt; SBool -&gt; QueryT m ()
</span><a href="Data.SBV.Core.Data.html#namedConstraint"><span class="hs-identifier hs-var hs-var hs-var hs-var">namedConstraint</span></a></span></span><span> </span><span id="local-6989586621681138263"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681138263"><span class="hs-identifier hs-var">nm</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [(String, String)] -&gt; SBool -&gt; QueryT m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; [(String, String)] -&gt; SBool -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#addQueryConstraint"><span class="hs-identifier hs-var">addQueryConstraint</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;:named&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138263"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-115"></span><span>   </span><span id="local-6989586621681138262"><span class="annot"><span class="annottext">constrainWithAttribute :: [(String, String)] -&gt; SBool -&gt; QueryT m ()
</span><a href="Data.SBV.Core.Data.html#constrainWithAttribute"><span class="hs-identifier hs-var hs-var hs-var hs-var">constrainWithAttribute</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; [(String, String)] -&gt; SBool -&gt; QueryT m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; [(String, String)] -&gt; SBool -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#addQueryConstraint"><span class="hs-identifier hs-var">addQueryConstraint</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-116"></span><span>   </span><span id="local-6989586621681138260"><span class="annot"><span class="annottext">contextState :: QueryT m State
</span><a href="Data.SBV.Core.Data.html#contextState"><span class="hs-identifier hs-var hs-var hs-var hs-var">contextState</span></a></span></span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QueryT m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span>   </span><span id="local-6989586621681138257"><span class="annot"><span class="annottext">setOption :: SMTOption -&gt; QueryT m ()
</span><a href="Data.SBV.Core.Data.html#setOption"><span class="hs-identifier hs-var hs-var hs-var hs-var">setOption</span></a></span></span><span> </span><span id="local-6989586621681138255"><span class="annot"><span class="annottext">o :: SMTOption
</span><a href="#local-6989586621681138255"><span class="hs-identifier hs-var">o</span></a></span></span><span>
</span><span id="line-119"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SMTOption -&gt; Bool
</span><a href="Data.SBV.Control.Types.html#isStartModeOption"><span class="hs-identifier hs-var">isStartModeOption</span></a></span><span> </span><span class="annot"><span class="annottext">SMTOption
</span><a href="#local-6989586621681138255"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; QueryT m ()
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; QueryT m ()) -&gt; String -&gt; QueryT m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-120"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV: '&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SMTOption -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SMTOption
</span><a href="#local-6989586621681138255"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;' can only be set at start-up time.&quot;</span></span><span>
</span><span id="line-121"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Hint: Move the call to 'setOption' before the query.&quot;</span></span><span>
</span><span id="line-122"></span><span>                                             </span><span class="hs-special">]</span><span>
</span><span id="line-123"></span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; QueryT m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; QueryT m ()) -&gt; String -&gt; QueryT m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SMTOption -&gt; String
</span><a href="Data.SBV.Control.Types.html#setSMTOption"><span class="hs-identifier hs-var">setSMTOption</span></a></span><span> </span><span class="annot"><span class="annottext">SMTOption
</span><a href="#local-6989586621681138255"><span class="hs-identifier hs-var">o</span></a></span></span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-comment">-- | Adding a constraint, possibly with attributes and possibly soft. Only used internally.</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- Use 'constrain' and 'namedConstraint' from user programs.</span><span>
</span><span id="line-127"></span><span id="local-6989586621681138901"><span class="annot"><a href="Data.SBV.Control.Utils.html#addQueryConstraint"><span class="hs-identifier hs-type">addQueryConstraint</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138901"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138901"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBool"><span class="hs-identifier hs-type">SBool</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138901"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-128"></span><span id="addQueryConstraint"><span class="annot"><span class="annottext">addQueryConstraint :: Bool -&gt; [(String, String)] -&gt; SBool -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#addQueryConstraint"><span class="hs-identifier hs-var hs-var">addQueryConstraint</span></a></span></span><span> </span><span id="local-6989586621681138249"><span class="annot"><span class="annottext">isSoft :: Bool
</span><a href="#local-6989586621681138249"><span class="hs-identifier hs-var">isSoft</span></a></span></span><span> </span><span id="local-6989586621681138248"><span class="annot"><span class="annottext">atts :: [(String, String)]
</span><a href="#local-6989586621681138248"><span class="hs-identifier hs-var">atts</span></a></span></span><span> </span><span id="local-6989586621681138247"><span class="annot"><span class="annottext">b :: SBool
</span><a href="#local-6989586621681138247"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681138246"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138246"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; m SV
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
(State -&gt; IO a) -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier hs-var">inNewContext</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681138245"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681138245"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; IO SV
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO SV -&gt; IO SV) -&gt; IO SV -&gt; IO SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; [String] -&gt; IO ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; State -&gt; String -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#registerLabel"><span class="hs-identifier hs-var">registerLabel</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Constraint&quot;</span></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681138245"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138243"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-string">&quot;:named&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138243"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681138243"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, String)]
</span><a href="#local-6989586621681138248"><span class="hs-identifier hs-var">atts</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-129"></span><span>                                                                             </span><span class="annot"><span class="annottext">State -&gt; SBool -&gt; IO SV
forall a. State -&gt; SBV a -&gt; IO SV
</span><a href="Data.SBV.Core.Data.html#sbvToSV"><span class="hs-identifier hs-var">sbvToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681138245"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SBool
</span><a href="#local-6989586621681138247"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span>                                      </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(String, String)] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(String, String)]
</span><a href="#local-6989586621681138248"><span class="hs-identifier hs-var">atts</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138246"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-132"></span><span>                                             </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138240"><span class="hs-identifier hs-var">asrt</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[(String, String)] -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#addAnnotations"><span class="hs-identifier hs-var">addAnnotations</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, String)]
</span><a href="#local-6989586621681138248"><span class="hs-identifier hs-var">atts</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681138246"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-133"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138240"><span class="annot"><span class="annottext">asrt :: String
</span><a href="#local-6989586621681138240"><span class="hs-identifier hs-var hs-var">asrt</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681138249"><span class="hs-identifier hs-var">isSoft</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;assert-soft&quot;</span></span><span>
</span><span id="line-134"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;assert&quot;</span></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span class="hs-comment">-- | Get the current configuration</span><span>
</span><span id="line-137"></span><span id="local-6989586621681138852"><span class="annot"><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-type">getConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138852"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138852"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138852"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTConfig"><span class="hs-identifier hs-type">SMTConfig</span></a></span></span><span>
</span><span id="line-138"></span><span id="getConfig"><span class="annot"><span class="annottext">getConfig :: m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var hs-var">getConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QueryState -&gt; SMTConfig
</span><a href="Data.SBV.Core.Symbolic.html#queryConfig"><span class="hs-identifier hs-var hs-var">queryConfig</span></a></span><span> </span><span class="annot"><span class="annottext">(QueryState -&gt; SMTConfig) -&gt; m QueryState -&gt; m SMTConfig
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">m QueryState
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var">getQueryState</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-comment">-- | Get the objectives</span><span>
</span><span id="line-141"></span><span id="local-6989586621681138237"><span class="annot"><a href="Data.SBV.Control.Utils.html#getObjectives"><span class="hs-identifier hs-type">getObjectives</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138237"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138237"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138237"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Objective"><span class="hs-identifier hs-type">Objective</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-142"></span><span id="getObjectives"><span class="annot"><span class="annottext">getObjectives :: m [Objective (SV, SV)]
</span><a href="Data.SBV.Control.Utils.html#getObjectives"><span class="hs-identifier hs-var hs-var">getObjectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span class="hs-special">{</span><span id="local-6989586621681138235"><span class="annot"><span class="annottext">IORef [Objective (SV, SV)]
rOptGoals :: State -&gt; IORef [Objective (SV, SV)]
rOptGoals :: IORef [Objective (SV, SV)]
</span><a href="Data.SBV.Core.Symbolic.html#rOptGoals"><span class="hs-identifier hs-var hs-var">rOptGoals</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-143"></span><span>                   </span><span class="annot"><span class="annottext">IO [Objective (SV, SV)] -&gt; m [Objective (SV, SV)]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [Objective (SV, SV)] -&gt; m [Objective (SV, SV)])
-&gt; IO [Objective (SV, SV)] -&gt; m [Objective (SV, SV)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Objective (SV, SV)] -&gt; [Objective (SV, SV)]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">([Objective (SV, SV)] -&gt; [Objective (SV, SV)])
-&gt; IO [Objective (SV, SV)] -&gt; IO [Objective (SV, SV)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IORef [Objective (SV, SV)] -&gt; IO [Objective (SV, SV)]
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef [Objective (SV, SV)]
</span><a href="#local-6989586621681138235"><span class="hs-identifier hs-var">rOptGoals</span></a></span><span>
</span><span id="line-144"></span><span>
</span><span id="line-145"></span><span class="hs-comment">-- | Get the program</span><span>
</span><span id="line-146"></span><span id="local-6989586621681138232"><span class="annot"><a href="Data.SBV.Control.Utils.html#getSBVPgm"><span class="hs-identifier hs-type">getSBVPgm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138232"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138232"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138232"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVPgm"><span class="hs-identifier hs-type">SBVPgm</span></a></span></span><span>
</span><span id="line-147"></span><span id="getSBVPgm"><span class="annot"><span class="annottext">getSBVPgm :: m SBVPgm
</span><a href="Data.SBV.Control.Utils.html#getSBVPgm"><span class="hs-identifier hs-var hs-var">getSBVPgm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span class="hs-special">{</span><span id="local-6989586621681138231"><span class="annot"><span class="annottext">IORef SBVPgm
spgm :: State -&gt; IORef SBVPgm
spgm :: IORef SBVPgm
</span><a href="Data.SBV.Core.Symbolic.html#spgm"><span class="hs-identifier hs-var hs-var">spgm</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-148"></span><span>               </span><span class="annot"><span class="annottext">IO SBVPgm -&gt; m SBVPgm
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO SBVPgm -&gt; m SBVPgm) -&gt; IO SBVPgm -&gt; m SBVPgm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef SBVPgm -&gt; IO SBVPgm
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef SBVPgm
</span><a href="#local-6989586621681138231"><span class="hs-identifier hs-var">spgm</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-comment">-- | Get the assertions put in via 'Data.SBV.sAssert'</span><span>
</span><span id="line-151"></span><span id="local-6989586621681138229"><span class="annot"><a href="Data.SBV.Control.Utils.html#getSBVAssertions"><span class="hs-identifier hs-type">getSBVAssertions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138229"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138229"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138229"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">CallStack</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-152"></span><span id="getSBVAssertions"><span class="annot"><span class="annottext">getSBVAssertions :: m [(String, Maybe CallStack, SV)]
</span><a href="Data.SBV.Control.Utils.html#getSBVAssertions"><span class="hs-identifier hs-var hs-var">getSBVAssertions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span class="hs-special">{</span><span id="local-6989586621681138228"><span class="annot"><span class="annottext">IORef [(String, Maybe CallStack, SV)]
rAsserts :: State -&gt; IORef [(String, Maybe CallStack, SV)]
rAsserts :: IORef [(String, Maybe CallStack, SV)]
</span><a href="Data.SBV.Core.Symbolic.html#rAsserts"><span class="hs-identifier hs-var hs-var">rAsserts</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-153"></span><span>                      </span><span class="annot"><span class="annottext">IO [(String, Maybe CallStack, SV)]
-&gt; m [(String, Maybe CallStack, SV)]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [(String, Maybe CallStack, SV)]
 -&gt; m [(String, Maybe CallStack, SV)])
-&gt; IO [(String, Maybe CallStack, SV)]
-&gt; m [(String, Maybe CallStack, SV)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(String, Maybe CallStack, SV)] -&gt; [(String, Maybe CallStack, SV)]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">([(String, Maybe CallStack, SV)]
 -&gt; [(String, Maybe CallStack, SV)])
-&gt; IO [(String, Maybe CallStack, SV)]
-&gt; IO [(String, Maybe CallStack, SV)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IORef [(String, Maybe CallStack, SV)]
-&gt; IO [(String, Maybe CallStack, SV)]
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef [(String, Maybe CallStack, SV)]
</span><a href="#local-6989586621681138228"><span class="hs-identifier hs-var">rAsserts</span></a></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.io'</span><span>
</span><span id="line-156"></span><span id="local-6989586621681138862"><span id="local-6989586621681138863"><span class="annot"><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-type">io</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138863"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138862"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138863"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138862"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-157"></span><span id="io"><span class="annot"><span class="annottext">io :: IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var hs-var">io</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span class="hs-comment">-- | Sync-up the external solver with new context we have generated</span><span>
</span><span id="line-160"></span><span id="local-6989586621681138810"><span class="annot"><a href="Data.SBV.Control.Utils.html#syncUpSolver"><span class="hs-identifier hs-type">syncUpSolver</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138810"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138810"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#IncState"><span class="hs-identifier hs-type">IncState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138810"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-161"></span><span id="syncUpSolver"><span class="annot"><span class="annottext">syncUpSolver :: Bool -&gt; IncState -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#syncUpSolver"><span class="hs-identifier hs-var hs-var">syncUpSolver</span></a></span></span><span> </span><span id="local-6989586621681138225"><span class="annot"><span class="annottext">afterAPush :: Bool
</span><a href="#local-6989586621681138225"><span class="hs-identifier hs-var">afterAPush</span></a></span></span><span> </span><span id="local-6989586621681138224"><span class="annot"><span class="annottext">is :: IncState
</span><a href="#local-6989586621681138224"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-162"></span><span>        </span><span id="local-6989586621681138223"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681138223"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-163"></span><span>        </span><span id="local-6989586621681138222"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138222"><span class="hs-identifier hs-var">ls</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO [String] -&gt; m [String]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO [String] -&gt; m [String]) -&gt; IO [String] -&gt; m [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138221"><span class="annot"><span class="annottext">swap :: (b, a) -&gt; (a, b)
</span><a href="#local-6989586621681138221"><span class="hs-identifier hs-var hs-var">swap</span></a></span></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621681138220"><span class="annot"><span class="annottext">a :: b
</span><a href="#local-6989586621681138220"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138219"><span class="annot"><span class="annottext">b :: a
</span><a href="#local-6989586621681138219"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138219"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681138220"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-164"></span><span>                           </span><span id="local-6989586621681138218"><span class="annot"><span class="annottext">cmp :: (a, b) -&gt; (a, b) -&gt; Ordering
</span><a href="#local-6989586621681138218"><span class="hs-identifier hs-var hs-var">cmp</span></a></span></span><span>   </span><span class="hs-special">(</span><span id="local-6989586621681138217"><span class="annot"><span class="annottext">a :: a
</span><a href="#local-6989586621681138217"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138216"><span class="annot"><span class="annottext">b :: a
</span><a href="#local-6989586621681138216"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138217"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; a -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-operator hs-var">`compare`</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138216"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-165"></span><span>                           </span><span id="local-6989586621681138214"><span class="annot"><span class="annottext">arrange :: (a, (b, c, b)) -&gt; ((a, b, c), b)
</span><a href="#local-6989586621681138214"><span class="hs-identifier hs-var hs-var">arrange</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138213"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621681138213"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138212"><span class="annot"><span class="annottext">at :: b
</span><a href="#local-6989586621681138212"><span class="hs-identifier hs-var">at</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138211"><span class="annot"><span class="annottext">rt :: c
</span><a href="#local-6989586621681138211"><span class="hs-identifier hs-var">rt</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138210"><span class="annot"><span class="annottext">es :: b
</span><a href="#local-6989586621681138210"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138213"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681138212"><span class="hs-identifier hs-var">at</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">c
</span><a href="#local-6989586621681138211"><span class="hs-identifier hs-var">rt</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681138210"><span class="hs-identifier hs-var">es</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>                       </span><span id="local-6989586621681138209"><span class="annot"><span class="annottext">[NamedSymVar]
</span><a href="#local-6989586621681138209"><span class="hs-identifier hs-var">inps</span></a></span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[NamedSymVar] -&gt; [NamedSymVar]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">([NamedSymVar] -&gt; [NamedSymVar])
-&gt; IO [NamedSymVar] -&gt; IO [NamedSymVar]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IORef [NamedSymVar] -&gt; IO [NamedSymVar]
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IncState -&gt; IORef [NamedSymVar]
</span><a href="Data.SBV.Core.Symbolic.html#rNewInps"><span class="hs-identifier hs-var hs-var">rNewInps</span></a></span><span> </span><span class="annot"><span class="annottext">IncState
</span><a href="#local-6989586621681138224"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>                       </span><span id="local-6989586621681138207"><span class="annot"><span class="annottext">KindSet
</span><a href="#local-6989586621681138207"><span class="hs-identifier hs-var">ks</span></a></span></span><span>          </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef KindSet -&gt; IO KindSet
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IncState -&gt; IORef KindSet
</span><a href="Data.SBV.Core.Symbolic.html#rNewKinds"><span class="hs-identifier hs-var hs-var">rNewKinds</span></a></span><span> </span><span class="annot"><span class="annottext">IncState
</span><a href="#local-6989586621681138224"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>                       </span><span id="local-6989586621681138205"><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681138205"><span class="hs-identifier hs-var">cnsts</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((SV, CV) -&gt; (SV, CV) -&gt; Ordering) -&gt; [(SV, CV)] -&gt; [(SV, CV)]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sortBy</span></span><span> </span><span class="annot"><span class="annottext">(SV, CV) -&gt; (SV, CV) -&gt; Ordering
forall a b b. Ord a =&gt; (a, b) -&gt; (a, b) -&gt; Ordering
</span><a href="#local-6989586621681138218"><span class="hs-identifier hs-var">cmp</span></a></span><span> </span><span class="annot"><span class="annottext">([(SV, CV)] -&gt; [(SV, CV)])
-&gt; (Map CV SV -&gt; [(SV, CV)]) -&gt; Map CV SV -&gt; [(SV, CV)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((CV, SV) -&gt; (SV, CV)) -&gt; [(CV, SV)] -&gt; [(SV, CV)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(CV, SV) -&gt; (SV, CV)
forall b a. (b, a) -&gt; (a, b)
</span><a href="#local-6989586621681138221"><span class="hs-identifier hs-var">swap</span></a></span><span> </span><span class="annot"><span class="annottext">([(CV, SV)] -&gt; [(SV, CV)])
-&gt; (Map CV SV -&gt; [(CV, SV)]) -&gt; Map CV SV -&gt; [(SV, CV)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Map CV SV -&gt; [(CV, SV)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">(Map CV SV -&gt; [(SV, CV)]) -&gt; IO (Map CV SV) -&gt; IO [(SV, CV)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IORef (Map CV SV) -&gt; IO (Map CV SV)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IncState -&gt; IORef (Map CV SV)
</span><a href="Data.SBV.Core.Symbolic.html#rNewConsts"><span class="hs-identifier hs-var hs-var">rNewConsts</span></a></span><span> </span><span class="annot"><span class="annottext">IncState
</span><a href="#local-6989586621681138224"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>                       </span><span id="local-6989586621681138201"><span class="annot"><span class="annottext">[(Key, ArrayInfo)]
</span><a href="#local-6989586621681138201"><span class="hs-identifier hs-var">arrs</span></a></span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IntMap ArrayInfo -&gt; [(Key, ArrayInfo)]
forall a. IntMap a -&gt; [(Key, a)]
</span><span class="hs-identifier hs-var">IMap.toAscList</span></span><span> </span><span class="annot"><span class="annottext">(IntMap ArrayInfo -&gt; [(Key, ArrayInfo)])
-&gt; IO (IntMap ArrayInfo) -&gt; IO [(Key, ArrayInfo)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IORef (IntMap ArrayInfo) -&gt; IO (IntMap ArrayInfo)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IncState -&gt; IORef (IntMap ArrayInfo)
</span><a href="Data.SBV.Core.Symbolic.html#rNewArrs"><span class="hs-identifier hs-var hs-var">rNewArrs</span></a></span><span> </span><span class="annot"><span class="annottext">IncState
</span><a href="#local-6989586621681138224"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>                       </span><span id="local-6989586621681138198"><span class="annot"><span class="annottext">[((Key, Kind, Kind), [SV])]
</span><a href="#local-6989586621681138198"><span class="hs-identifier hs-var">tbls</span></a></span></span><span>        </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((Key, (Kind, Kind, [SV])) -&gt; ((Key, Kind, Kind), [SV]))
-&gt; [(Key, (Kind, Kind, [SV]))] -&gt; [((Key, Kind, Kind), [SV])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Key, (Kind, Kind, [SV])) -&gt; ((Key, Kind, Kind), [SV])
forall a b c b. (a, (b, c, b)) -&gt; ((a, b, c), b)
</span><a href="#local-6989586621681138214"><span class="hs-identifier hs-var">arrange</span></a></span><span> </span><span class="annot"><span class="annottext">([(Key, (Kind, Kind, [SV]))] -&gt; [((Key, Kind, Kind), [SV])])
-&gt; (Map (Kind, Kind, [SV]) Key -&gt; [(Key, (Kind, Kind, [SV]))])
-&gt; Map (Kind, Kind, [SV]) Key
-&gt; [((Key, Kind, Kind), [SV])]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((Key, (Kind, Kind, [SV]))
 -&gt; (Key, (Kind, Kind, [SV])) -&gt; Ordering)
-&gt; [(Key, (Kind, Kind, [SV]))] -&gt; [(Key, (Kind, Kind, [SV]))]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sortBy</span></span><span> </span><span class="annot"><span class="annottext">(Key, (Kind, Kind, [SV])) -&gt; (Key, (Kind, Kind, [SV])) -&gt; Ordering
forall a b b. Ord a =&gt; (a, b) -&gt; (a, b) -&gt; Ordering
</span><a href="#local-6989586621681138218"><span class="hs-identifier hs-var">cmp</span></a></span><span> </span><span class="annot"><span class="annottext">([(Key, (Kind, Kind, [SV]))] -&gt; [(Key, (Kind, Kind, [SV]))])
-&gt; (Map (Kind, Kind, [SV]) Key -&gt; [(Key, (Kind, Kind, [SV]))])
-&gt; Map (Kind, Kind, [SV]) Key
-&gt; [(Key, (Kind, Kind, [SV]))]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(((Kind, Kind, [SV]), Key) -&gt; (Key, (Kind, Kind, [SV])))
-&gt; [((Kind, Kind, [SV]), Key)] -&gt; [(Key, (Kind, Kind, [SV]))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">((Kind, Kind, [SV]), Key) -&gt; (Key, (Kind, Kind, [SV]))
forall b a. (b, a) -&gt; (a, b)
</span><a href="#local-6989586621681138221"><span class="hs-identifier hs-var">swap</span></a></span><span> </span><span class="annot"><span class="annottext">([((Kind, Kind, [SV]), Key)] -&gt; [(Key, (Kind, Kind, [SV]))])
-&gt; (Map (Kind, Kind, [SV]) Key -&gt; [((Kind, Kind, [SV]), Key)])
-&gt; Map (Kind, Kind, [SV]) Key
-&gt; [(Key, (Kind, Kind, [SV]))]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Map (Kind, Kind, [SV]) Key -&gt; [((Kind, Kind, [SV]), Key)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">(Map (Kind, Kind, [SV]) Key -&gt; [((Key, Kind, Kind), [SV])])
-&gt; IO (Map (Kind, Kind, [SV]) Key)
-&gt; IO [((Key, Kind, Kind), [SV])]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IORef (Map (Kind, Kind, [SV]) Key)
-&gt; IO (Map (Kind, Kind, [SV]) Key)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IncState -&gt; IORef (Map (Kind, Kind, [SV]) Key)
</span><a href="Data.SBV.Core.Symbolic.html#rNewTbls"><span class="hs-identifier hs-var hs-var">rNewTbls</span></a></span><span> </span><span class="annot"><span class="annottext">IncState
</span><a href="#local-6989586621681138224"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>                       </span><span id="local-6989586621681138196"><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681138196"><span class="hs-identifier hs-var">uis</span></a></span></span><span>         </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Map String SBVType -&gt; [(String, SBVType)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toAscList</span></span><span> </span><span class="annot"><span class="annottext">(Map String SBVType -&gt; [(String, SBVType)])
-&gt; IO (Map String SBVType) -&gt; IO [(String, SBVType)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IORef (Map String SBVType) -&gt; IO (Map String SBVType)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IncState -&gt; IORef (Map String SBVType)
</span><a href="Data.SBV.Core.Symbolic.html#rNewUIs"><span class="hs-identifier hs-var hs-var">rNewUIs</span></a></span><span> </span><span class="annot"><span class="annottext">IncState
</span><a href="#local-6989586621681138224"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>                       </span><span id="local-6989586621681138193"><span class="annot"><span class="annottext">SBVPgm
</span><a href="#local-6989586621681138193"><span class="hs-keyword hs-var">as</span></a></span></span><span>          </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef SBVPgm -&gt; IO SBVPgm
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IncState -&gt; IORef SBVPgm
</span><a href="Data.SBV.Core.Symbolic.html#rNewAsgns"><span class="hs-identifier hs-var hs-var">rNewAsgns</span></a></span><span> </span><span class="annot"><span class="annottext">IncState
</span><a href="#local-6989586621681138224"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>                       </span><span id="local-6989586621681138191"><span class="annot"><span class="annottext">Seq (Bool, [(String, String)], SV)
</span><a href="#local-6989586621681138191"><span class="hs-identifier hs-var">constraints</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef (Seq (Bool, [(String, String)], SV))
-&gt; IO (Seq (Bool, [(String, String)], SV))
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IncState -&gt; IORef (Seq (Bool, [(String, String)], SV))
</span><a href="Data.SBV.Core.Symbolic.html#rNewConstraints"><span class="hs-identifier hs-var hs-var">rNewConstraints</span></a></span><span> </span><span class="annot"><span class="annottext">IncState
</span><a href="#local-6989586621681138224"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span>                       </span><span class="annot"><span class="annottext">[String] -&gt; IO [String]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; IO [String]) -&gt; [String] -&gt; IO [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SMTConfig -&gt; SMTLibIncConverter [String]
</span><a href="Data.SBV.SMT.SMTLib.html#toIncSMTLib"><span class="hs-identifier hs-var">toIncSMTLib</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681138225"><span class="hs-identifier hs-var">afterAPush</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681138223"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[NamedSymVar]
</span><a href="#local-6989586621681138209"><span class="hs-identifier hs-var">inps</span></a></span><span> </span><span class="annot"><span class="annottext">KindSet
</span><a href="#local-6989586621681138207"><span class="hs-identifier hs-var">ks</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681138205"><span class="hs-identifier hs-var">cnsts</span></a></span><span> </span><span class="annot"><span class="annottext">[(Key, ArrayInfo)]
</span><a href="#local-6989586621681138201"><span class="hs-identifier hs-var">arrs</span></a></span><span> </span><span class="annot"><span class="annottext">[((Key, Kind, Kind), [SV])]
</span><a href="#local-6989586621681138198"><span class="hs-identifier hs-var">tbls</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681138196"><span class="hs-identifier hs-var">uis</span></a></span><span> </span><span class="annot"><span class="annottext">SBVPgm
</span><a href="#local-6989586621681138193"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Bool, [(String, String)], SV)
</span><a href="#local-6989586621681138191"><span class="hs-identifier hs-var">constraints</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681138223"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-176"></span><span>        </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; [String] -&gt; m ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([String] -&gt; m ()) -&gt; [String] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String]
</span><a href="Data.SBV.SMT.Utils.html#mergeSExpr"><span class="hs-identifier hs-var">mergeSExpr</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138222"><span class="hs-identifier hs-var">ls</span></a></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span class="hs-comment">-- | Retrieve the query context</span><span>
</span><span id="line-179"></span><span id="local-6989586621681138867"><span class="annot"><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-type">getQueryState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138867"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138867"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138867"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryState"><span class="hs-identifier hs-type">QueryState</span></a></span></span><span>
</span><span id="line-180"></span><span id="getQueryState"><span class="annot"><span class="annottext">getQueryState :: m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var hs-var">getQueryState</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681138189"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681138189"><span class="hs-identifier hs-var">state</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-181"></span><span>                   </span><span id="local-6989586621681138188"><span class="annot"><span class="annottext">Maybe QueryState
</span><a href="#local-6989586621681138188"><span class="hs-identifier hs-var">mbQS</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Maybe QueryState) -&gt; m (Maybe QueryState)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Maybe QueryState) -&gt; m (Maybe QueryState))
-&gt; IO (Maybe QueryState) -&gt; m (Maybe QueryState)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef (Maybe QueryState) -&gt; IO (Maybe QueryState)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef (Maybe QueryState)
</span><a href="Data.SBV.Core.Symbolic.html#rQueryState"><span class="hs-identifier hs-var hs-var">rQueryState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681138189"><span class="hs-identifier hs-var">state</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>                   </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe QueryState
</span><a href="#local-6989586621681138188"><span class="hs-identifier hs-var">mbQS</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-183"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m QueryState
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m QueryState) -&gt; String -&gt; m QueryState
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-184"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV: Impossible happened: Query context required in a non-query mode.&quot;</span></span><span>
</span><span id="line-185"></span><span>                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Please report this as a bug!&quot;</span></span><span>
</span><span id="line-186"></span><span>                                                </span><span class="hs-special">]</span><span>
</span><span id="line-187"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681138186"><span class="annot"><span class="annottext">qs :: QueryState
</span><a href="#local-6989586621681138186"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryState -&gt; m QueryState
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681138186"><span class="hs-identifier hs-var">qs</span></a></span><span>
</span><span id="line-188"></span><span>
</span><span id="line-189"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.modifyQueryState'</span><span>
</span><span id="line-190"></span><span id="local-6989586621681138434"><span class="annot"><a href="Data.SBV.Control.Utils.html#modifyQueryState"><span class="hs-identifier hs-type">modifyQueryState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138434"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138434"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryState"><span class="hs-identifier hs-type">QueryState</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryState"><span class="hs-identifier hs-type">QueryState</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138434"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-191"></span><span id="modifyQueryState"><span class="annot"><span class="annottext">modifyQueryState :: (QueryState -&gt; QueryState) -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#modifyQueryState"><span class="hs-identifier hs-var hs-var">modifyQueryState</span></a></span></span><span> </span><span id="local-6989586621681138185"><span class="annot"><span class="annottext">f :: QueryState -&gt; QueryState
</span><a href="#local-6989586621681138185"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681138184"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681138184"><span class="hs-identifier hs-var">state</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-192"></span><span>                        </span><span id="local-6989586621681138183"><span class="annot"><span class="annottext">Maybe QueryState
</span><a href="#local-6989586621681138183"><span class="hs-identifier hs-var">mbQS</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Maybe QueryState) -&gt; m (Maybe QueryState)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Maybe QueryState) -&gt; m (Maybe QueryState))
-&gt; IO (Maybe QueryState) -&gt; m (Maybe QueryState)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef (Maybe QueryState) -&gt; IO (Maybe QueryState)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef (Maybe QueryState)
</span><a href="Data.SBV.Core.Symbolic.html#rQueryState"><span class="hs-identifier hs-var hs-var">rQueryState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681138184"><span class="hs-identifier hs-var">state</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>                        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe QueryState
</span><a href="#local-6989586621681138183"><span class="hs-identifier hs-var">mbQS</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-194"></span><span>                          </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m ()
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-195"></span><span>                                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV: Impossible happened: Query context required in a non-query mode.&quot;</span></span><span>
</span><span id="line-196"></span><span>                                                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Please report this as a bug!&quot;</span></span><span>
</span><span id="line-197"></span><span>                                                     </span><span class="hs-special">]</span><span>
</span><span id="line-198"></span><span>                          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681138182"><span class="annot"><span class="annottext">qs :: QueryState
</span><a href="#local-6989586621681138182"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138181"><span class="annot"><span class="annottext">fqs :: QueryState
</span><a href="#local-6989586621681138181"><span class="hs-identifier hs-var hs-var">fqs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QueryState -&gt; QueryState
</span><a href="#local-6989586621681138185"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681138182"><span class="hs-identifier hs-var">qs</span></a></span><span>
</span><span id="line-199"></span><span>                                     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681138181"><span class="hs-identifier hs-var">fqs</span></a></span><span> </span><span class="annot"><span class="annottext">QueryState -&gt; m () -&gt; m ()
forall a b. a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`seq`</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef (Maybe QueryState) -&gt; Maybe QueryState -&gt; IO ()
forall a. IORef a -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">writeIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef (Maybe QueryState)
</span><a href="Data.SBV.Core.Symbolic.html#rQueryState"><span class="hs-identifier hs-var hs-var">rQueryState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681138184"><span class="hs-identifier hs-var">state</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe QueryState -&gt; IO ()) -&gt; Maybe QueryState -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QueryState -&gt; Maybe QueryState
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681138181"><span class="hs-identifier hs-var">fqs</span></a></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.inNewContext'</span><span>
</span><span id="line-202"></span><span id="local-6989586621681138886"><span id="local-6989586621681138887"><span class="annot"><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier hs-type">inNewContext</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138887"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138887"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138886"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138887"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138886"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-203"></span><span id="inNewContext"><span class="annot"><span class="annottext">inNewContext :: (State -&gt; IO a) -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier hs-var hs-var">inNewContext</span></a></span></span><span> </span><span id="local-6989586621681138180"><span class="annot"><span class="annottext">act :: State -&gt; IO a
</span><a href="#local-6989586621681138180"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681138179"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681138179"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-204"></span><span>                      </span><span class="hs-special">(</span><span id="local-6989586621681138178"><span class="annot"><span class="annottext">is :: IncState
</span><a href="#local-6989586621681138178"><span class="hs-identifier hs-var">is</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138177"><span class="annot"><span class="annottext">r :: a
</span><a href="#local-6989586621681138177"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (IncState, a) -&gt; m (IncState, a)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (IncState, a) -&gt; m (IncState, a))
-&gt; IO (IncState, a) -&gt; m (IncState, a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">State -&gt; (State -&gt; IO a) -&gt; IO (IncState, a)
forall a. State -&gt; (State -&gt; IO a) -&gt; IO (IncState, a)
</span><a href="Data.SBV.Core.Symbolic.html#withNewIncState"><span class="hs-identifier hs-var">withNewIncState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681138179"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO a
</span><a href="#local-6989586621681138180"><span class="hs-identifier hs-var">act</span></a></span><span>
</span><span id="line-205"></span><span>                      </span><span id="local-6989586621681138176"><span class="annot"><span class="annottext">Maybe QueryState
</span><a href="#local-6989586621681138176"><span class="hs-identifier hs-var">mbQS</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Maybe QueryState) -&gt; m (Maybe QueryState)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Maybe QueryState) -&gt; m (Maybe QueryState))
-&gt; (State -&gt; IO (Maybe QueryState))
-&gt; State
-&gt; m (Maybe QueryState)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IORef (Maybe QueryState) -&gt; IO (Maybe QueryState)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">(IORef (Maybe QueryState) -&gt; IO (Maybe QueryState))
-&gt; (State -&gt; IORef (Maybe QueryState))
-&gt; State
-&gt; IO (Maybe QueryState)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">State -&gt; IORef (Maybe QueryState)
</span><a href="Data.SBV.Core.Symbolic.html#rQueryState"><span class="hs-identifier hs-var hs-var">rQueryState</span></a></span><span> </span><span class="annot"><span class="annottext">(State -&gt; m (Maybe QueryState)) -&gt; State -&gt; m (Maybe QueryState)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681138179"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-206"></span><span>                      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138175"><span class="annot"><span class="annottext">afterAPush :: Bool
</span><a href="#local-6989586621681138175"><span class="hs-identifier hs-var hs-var">afterAPush</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe QueryState
</span><a href="#local-6989586621681138176"><span class="hs-identifier hs-var">mbQS</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-207"></span><span>                                         </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-208"></span><span>                                         </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681138174"><span class="annot"><span class="annottext">qs :: QueryState
</span><a href="#local-6989586621681138174"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Key, Key) -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryState -&gt; Maybe (Key, Key)
</span><a href="Data.SBV.Core.Symbolic.html#queryTblArrPreserveIndex"><span class="hs-identifier hs-var hs-var">queryTblArrPreserveIndex</span></a></span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681138174"><span class="hs-identifier hs-var">qs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>                      </span><span class="annot"><span class="annottext">Bool -&gt; IncState -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; IncState -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#syncUpSolver"><span class="hs-identifier hs-var">syncUpSolver</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681138175"><span class="hs-identifier hs-var">afterAPush</span></a></span><span> </span><span class="annot"><span class="annottext">IncState
</span><a href="#local-6989586621681138178"><span class="hs-identifier hs-var">is</span></a></span><span>
</span><span id="line-210"></span><span>                      </span><span class="annot"><span class="annottext">a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138177"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-comment">-- | Generic 'Queriable' instance for 'SymVal'/'SMTValue' values</span><span>
</span><span id="line-213"></span><span id="local-6989586621681138171"><span id="local-6989586621681138172"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138172"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138171"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138171"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Queriable"><span class="hs-identifier hs-type">Queriable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138172"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138171"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681138171"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-214"></span><span>  </span><span id="local-6989586621681138166"><span class="annot"><span class="annottext">create :: QueryT m (SBV a)
</span><a href="Data.SBV.Core.Symbolic.html#create"><span class="hs-identifier hs-var hs-var hs-var hs-var">create</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QueryT m (SBV a)
forall a (m :: * -&gt; *).
(MonadIO m, MonadQuery m, SymVal a) =&gt;
m (SBV a)
</span><a href="Data.SBV.Control.Utils.html#freshVar_"><span class="hs-identifier hs-var">freshVar_</span></a></span><span>
</span><span id="line-215"></span><span>  </span><span id="local-6989586621681138164"><span class="annot"><span class="annottext">project :: SBV a -&gt; QueryT m a
</span><a href="Data.SBV.Core.Symbolic.html#project"><span class="hs-identifier hs-var hs-var hs-var hs-var">project</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; QueryT m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m, SMTValue a) =&gt;
SBV a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#getValue"><span class="hs-identifier hs-var">getValue</span></a></span><span>
</span><span id="line-216"></span><span>  </span><span id="local-6989586621681138162"><span class="annot"><span class="annottext">embed :: a -&gt; QueryT m (SBV a)
</span><a href="Data.SBV.Core.Symbolic.html#embed"><span class="hs-identifier hs-var hs-var hs-var hs-var">embed</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; QueryT m (SBV a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(SBV a -&gt; QueryT m (SBV a))
-&gt; (a -&gt; SBV a) -&gt; a -&gt; QueryT m (SBV a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; SBV a
forall a. SymVal a =&gt; a -&gt; SBV a
</span><a href="Data.SBV.Core.Data.html#literal"><span class="hs-identifier hs-var">literal</span></a></span></span></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">-- | Generic 'Queriable' instance for things that are 'Fresh' and look like containers:</span><span>
</span><span id="line-219"></span><span id="local-6989586621681138157"><span id="local-6989586621681138158"><span id="local-6989586621681138159"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138159"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138158"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138158"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="#local-6989586621681138157"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Traversable</span></span><span> </span><span class="annot"><a href="#local-6989586621681138157"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Fresh"><span class="hs-identifier hs-type">Fresh</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138159"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681138157"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138158"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Queriable"><span class="hs-identifier hs-type">Queriable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138159"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681138157"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138158"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681138157"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138158"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-220"></span><span>  </span><span id="local-6989586621681138153"><span class="annot"><span class="annottext">create :: QueryT m (t (SBV a))
</span><a href="#local-6989586621681138153"><span class="hs-identifier hs-var hs-var hs-var hs-var">create</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QueryT m (t (SBV a))
forall (m :: * -&gt; *) a. Fresh m a =&gt; QueryT m a
</span><a href="Data.SBV.Core.Symbolic.html#fresh"><span class="hs-identifier hs-var">fresh</span></a></span><span>
</span><span id="line-221"></span><span>  </span><span id="local-6989586621681138151"><span class="annot"><span class="annottext">project :: t (SBV a) -&gt; QueryT m (t a)
</span><a href="#local-6989586621681138151"><span class="hs-identifier hs-var hs-var hs-var hs-var">project</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SBV a -&gt; QueryT m a) -&gt; t (SBV a) -&gt; QueryT m (t a)
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; QueryT m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m, SMTValue a) =&gt;
SBV a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#getValue"><span class="hs-identifier hs-var">getValue</span></a></span><span>
</span><span id="line-222"></span><span>  </span><span id="local-6989586621681138149"><span class="annot"><span class="annottext">embed :: t a -&gt; QueryT m (t (SBV a))
</span><a href="#local-6989586621681138149"><span class="hs-identifier hs-var hs-var hs-var hs-var">embed</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t (SBV a) -&gt; QueryT m (t (SBV a))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(t (SBV a) -&gt; QueryT m (t (SBV a)))
-&gt; (t a -&gt; t (SBV a)) -&gt; t a -&gt; QueryT m (t (SBV a))
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; SBV a) -&gt; t a -&gt; t (SBV a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; SBV a
forall a. SymVal a =&gt; a -&gt; SBV a
</span><a href="Data.SBV.Core.Data.html#literal"><span class="hs-identifier hs-var">literal</span></a></span></span></span></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.freshVar_'</span><span>
</span><span id="line-225"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#freshVar_"><span class="hs-identifier hs-type">freshVar_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681138800"><span class="annot"><a href="#local-6989586621681138800"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621681138801"><span class="annot"><a href="#local-6989586621681138801"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138801"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138801"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138800"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138801"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138800"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-226"></span><span id="freshVar_"><span class="annot"><span class="annottext">freshVar_ :: m (SBV a)
</span><a href="Data.SBV.Control.Utils.html#freshVar_"><span class="hs-identifier hs-var hs-var">freshVar_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO (SBV a)) -&gt; m (SBV a)
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
(State -&gt; IO a) -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier hs-var">inNewContext</span></a></span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO (SBV a)) -&gt; m (SBV a))
-&gt; (State -&gt; IO (SBV a)) -&gt; m (SBV a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SBV a) -&gt; IO SVal -&gt; IO (SBV a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SBV a
forall a. SVal -&gt; SBV a
</span><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-var">SBV</span></a></span><span> </span><span class="annot"><span class="annottext">(IO SVal -&gt; IO (SBV a))
-&gt; (State -&gt; IO SVal) -&gt; State -&gt; IO (SBV a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Maybe Quantifier -&gt; Kind -&gt; Maybe String -&gt; State -&gt; IO SVal
</span><a href="Data.SBV.Core.Symbolic.html#svMkSymVar"><span class="hs-identifier hs-var">svMkSymVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantifier -&gt; Maybe Quantifier
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-var">EX</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681138146"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-227"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138146"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681138146"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681138800"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-228"></span><span>
</span><span id="line-229"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.freshVar'</span><span>
</span><span id="line-230"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#freshVar"><span class="hs-identifier hs-type">freshVar</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681138144"><span class="annot"><a href="#local-6989586621681138144"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621681138143"><span class="annot"><a href="#local-6989586621681138143"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138143"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138143"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138144"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138143"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138144"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-231"></span><span id="freshVar"><span class="annot"><span class="annottext">freshVar :: String -&gt; m (SBV a)
</span><a href="Data.SBV.Control.Utils.html#freshVar"><span class="hs-identifier hs-var hs-var">freshVar</span></a></span></span><span> </span><span id="local-6989586621681138142"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681138142"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO (SBV a)) -&gt; m (SBV a)
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
(State -&gt; IO a) -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier hs-var">inNewContext</span></a></span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO (SBV a)) -&gt; m (SBV a))
-&gt; (State -&gt; IO (SBV a)) -&gt; m (SBV a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SBV a) -&gt; IO SVal -&gt; IO (SBV a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SBV a
forall a. SVal -&gt; SBV a
</span><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-var">SBV</span></a></span><span> </span><span class="annot"><span class="annottext">(IO SVal -&gt; IO (SBV a))
-&gt; (State -&gt; IO SVal) -&gt; State -&gt; IO (SBV a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Maybe Quantifier -&gt; Kind -&gt; Maybe String -&gt; State -&gt; IO SVal
</span><a href="Data.SBV.Core.Symbolic.html#svMkSymVar"><span class="hs-identifier hs-var">svMkSymVar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantifier -&gt; Maybe Quantifier
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-var">EX</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681138141"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138142"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-232"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138141"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681138141"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681138144"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.freshArray_'</span><span>
</span><span id="line-235"></span><span id="local-6989586621681138137"><span id="local-6989586621681138138"><span id="local-6989586621681138139"><span id="local-6989586621681138140"><span class="annot"><a href="Data.SBV.Control.Utils.html#freshArray_"><span class="hs-identifier hs-type">freshArray_</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138140"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138140"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymArray"><span class="hs-identifier hs-type">SymArray</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138139"><span class="hs-identifier hs-type">array</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138138"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138137"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138137"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138140"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681138139"><span class="hs-identifier hs-type">array</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138138"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138137"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-236"></span><span id="freshArray_"><span class="annot"><span class="annottext">freshArray_ :: Maybe (SBV b) -&gt; m (array a b)
</span><a href="Data.SBV.Control.Utils.html#freshArray_"><span class="hs-identifier hs-var hs-var">freshArray_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Maybe (SBV b) -&gt; m (array a b)
forall (m :: * -&gt; *) (array :: * -&gt; * -&gt; *) a b.
(MonadIO m, MonadQuery m, SymArray array, HasKind a, HasKind b) =&gt;
Maybe String -&gt; Maybe (SBV b) -&gt; m (array a b)
</span><a href="Data.SBV.Control.Utils.html#mkFreshArray"><span class="hs-identifier hs-var">mkFreshArray</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.freshArray'</span><span>
</span><span id="line-239"></span><span id="local-6989586621681138132"><span id="local-6989586621681138133"><span id="local-6989586621681138134"><span id="local-6989586621681138135"><span class="annot"><a href="Data.SBV.Control.Utils.html#freshArray"><span class="hs-identifier hs-type">freshArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138135"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138135"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymArray"><span class="hs-identifier hs-type">SymArray</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138134"><span class="hs-identifier hs-type">array</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138133"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138132"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138132"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138135"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681138134"><span class="hs-identifier hs-type">array</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138133"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138132"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-240"></span><span id="freshArray"><span class="annot"><span class="annottext">freshArray :: String -&gt; Maybe (SBV b) -&gt; m (array a b)
</span><a href="Data.SBV.Control.Utils.html#freshArray"><span class="hs-identifier hs-var hs-var">freshArray</span></a></span></span><span> </span><span id="local-6989586621681138131"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681138131"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Maybe (SBV b) -&gt; m (array a b)
forall (m :: * -&gt; *) (array :: * -&gt; * -&gt; *) a b.
(MonadIO m, MonadQuery m, SymArray array, HasKind a, HasKind b) =&gt;
Maybe String -&gt; Maybe (SBV b) -&gt; m (array a b)
</span><a href="Data.SBV.Control.Utils.html#mkFreshArray"><span class="hs-identifier hs-var">mkFreshArray</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138131"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-comment">-- | Creating arrays, internal use only.</span><span>
</span><span id="line-243"></span><span id="local-6989586621681138763"><span id="local-6989586621681138764"><span id="local-6989586621681138766"><span id="local-6989586621681138767"><span class="annot"><a href="Data.SBV.Control.Utils.html#mkFreshArray"><span class="hs-identifier hs-type">mkFreshArray</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138767"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138767"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymArray"><span class="hs-identifier hs-type">SymArray</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138766"><span class="hs-identifier hs-type">array</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138764"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138763"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138763"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138767"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681138766"><span class="hs-identifier hs-type">array</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138764"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138763"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-244"></span><span id="mkFreshArray"><span class="annot"><span class="annottext">mkFreshArray :: Maybe String -&gt; Maybe (SBV b) -&gt; m (array a b)
</span><a href="Data.SBV.Control.Utils.html#mkFreshArray"><span class="hs-identifier hs-var hs-var">mkFreshArray</span></a></span></span><span> </span><span id="local-6989586621681138130"><span class="annot"><span class="annottext">mbNm :: Maybe String
</span><a href="#local-6989586621681138130"><span class="hs-identifier hs-var">mbNm</span></a></span></span><span> </span><span id="local-6989586621681138129"><span class="annot"><span class="annottext">mbVal :: Maybe (SBV b)
</span><a href="#local-6989586621681138129"><span class="hs-identifier hs-var">mbVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO (array a b)) -&gt; m (array a b)
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
(State -&gt; IO a) -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier hs-var">inNewContext</span></a></span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO (array a b)) -&gt; m (array a b))
-&gt; (State -&gt; IO (array a b)) -&gt; m (array a b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; Maybe (SBV b) -&gt; State -&gt; IO (array a b)
forall (array :: * -&gt; * -&gt; *) a b.
(SymArray array, HasKind a, HasKind b) =&gt;
Maybe String -&gt; Maybe (SBV b) -&gt; State -&gt; IO (array a b)
</span><a href="Data.SBV.Core.Data.html#newArrayInState"><span class="hs-identifier hs-var">newArrayInState</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621681138130"><span class="hs-identifier hs-var">mbNm</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (SBV b)
</span><a href="#local-6989586621681138129"><span class="hs-identifier hs-var">mbVal</span></a></span><span>
</span><span id="line-245"></span><span>
</span><span id="line-246"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.queryDebug'</span><span>
</span><span id="line-247"></span><span id="local-6989586621681138748"><span class="annot"><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-type">queryDebug</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138748"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138748"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138748"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-248"></span><span id="queryDebug"><span class="annot"><span class="annottext">queryDebug :: [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var hs-var">queryDebug</span></a></span></span><span> </span><span id="local-6989586621681138127"><span class="annot"><span class="annottext">msgs :: [String]
</span><a href="#local-6989586621681138127"><span class="hs-identifier hs-var">msgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryState"><span class="hs-identifier hs-type">QueryState</span></a></span><span class="hs-special">{</span><span id="local-6989586621681138125"><span class="annot"><span class="annottext">SMTConfig
queryConfig :: SMTConfig
queryConfig :: QueryState -&gt; SMTConfig
</span><a href="#local-6989586621681138125"><span class="hs-identifier hs-var hs-var">queryConfig</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m QueryState
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var">getQueryState</span></a></span><span>
</span><span id="line-249"></span><span>                     </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; [String] -&gt; IO ()
forall (m :: * -&gt; *). MonadIO m =&gt; SMTConfig -&gt; [String] -&gt; m ()
</span><a href="Data.SBV.SMT.Utils.html#debug"><span class="hs-identifier hs-var">debug</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681138125"><span class="hs-identifier hs-var">queryConfig</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138127"><span class="hs-identifier hs-var">msgs</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.ask'</span><span>
</span><span id="line-252"></span><span id="local-6989586621681138124"><span class="annot"><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-type">ask</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138124"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138124"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138124"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-253"></span><span id="ask"><span class="annot"><span class="annottext">ask :: String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var hs-var">ask</span></a></span></span><span> </span><span id="local-6989586621681138123"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681138123"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryState"><span class="hs-identifier hs-type">QueryState</span></a></span><span class="hs-special">{</span><span id="local-6989586621681138122"><span class="annot"><span class="annottext">Maybe Key -&gt; String -&gt; IO String
queryAsk :: QueryState -&gt; Maybe Key -&gt; String -&gt; IO String
queryAsk :: Maybe Key -&gt; String -&gt; IO String
</span><a href="Data.SBV.Core.Symbolic.html#queryAsk"><span class="hs-identifier hs-var hs-var">queryAsk</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138120"><span class="annot"><span class="annottext">Maybe Key
queryTimeOutValue :: QueryState -&gt; Maybe Key
queryTimeOutValue :: Maybe Key
</span><a href="Data.SBV.Core.Symbolic.html#queryTimeOutValue"><span class="hs-identifier hs-var hs-var">queryTimeOutValue</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m QueryState
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var">getQueryState</span></a></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span>           </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681138120"><span class="hs-identifier hs-var">queryTimeOutValue</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-256"></span><span>             </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[SEND] &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138123"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-257"></span><span>             </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681138118"><span class="annot"><span class="annottext">i :: Key
</span><a href="#local-6989586621681138118"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[SEND, TimeOut: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#showTimeoutValue"><span class="hs-identifier hs-var">showTimeoutValue</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681138118"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;] &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138123"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-258"></span><span>           </span><span id="local-6989586621681138117"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138117"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String -&gt; m String
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO String -&gt; m String) -&gt; IO String -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; String -&gt; IO String
</span><a href="#local-6989586621681138122"><span class="hs-identifier hs-var">queryAsk</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681138120"><span class="hs-identifier hs-var">queryTimeOutValue</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138123"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-259"></span><span>           </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[RECV] &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138117"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span>           </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138117"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-262"></span><span>
</span><span id="line-263"></span><span class="hs-comment">-- | Send a string to the solver, and return the response. Except, if the response</span><span>
</span><span id="line-264"></span><span class="hs-comment">-- is one of the &quot;ignore&quot; ones, keep querying.</span><span>
</span><span id="line-265"></span><span id="local-6989586621681138491"><span class="annot"><a href="Data.SBV.Control.Utils.html#askIgnoring"><span class="hs-identifier hs-type">askIgnoring</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138491"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138491"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138491"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-266"></span><span id="askIgnoring"><span class="annot"><span class="annottext">askIgnoring :: String -&gt; [String] -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#askIgnoring"><span class="hs-identifier hs-var hs-var">askIgnoring</span></a></span></span><span> </span><span id="local-6989586621681138115"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681138115"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681138114"><span class="annot"><span class="annottext">ignoreList :: [String]
</span><a href="#local-6989586621681138114"><span class="hs-identifier hs-var">ignoreList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span>           </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryState"><span class="hs-identifier hs-type">QueryState</span></a></span><span class="hs-special">{</span><span id="local-6989586621681138113"><span class="annot"><span class="annottext">Maybe Key -&gt; String -&gt; IO String
queryAsk :: Maybe Key -&gt; String -&gt; IO String
queryAsk :: QueryState -&gt; Maybe Key -&gt; String -&gt; IO String
</span><a href="#local-6989586621681138113"><span class="hs-identifier hs-var hs-var">queryAsk</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138112"><span class="annot"><span class="annottext">Maybe Key -&gt; IO String
queryRetrieveResponse :: QueryState -&gt; Maybe Key -&gt; IO String
queryRetrieveResponse :: Maybe Key -&gt; IO String
</span><a href="Data.SBV.Core.Symbolic.html#queryRetrieveResponse"><span class="hs-identifier hs-var hs-var">queryRetrieveResponse</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138110"><span class="annot"><span class="annottext">Maybe Key
queryTimeOutValue :: Maybe Key
queryTimeOutValue :: QueryState -&gt; Maybe Key
</span><a href="#local-6989586621681138110"><span class="hs-identifier hs-var hs-var">queryTimeOutValue</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m QueryState
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var">getQueryState</span></a></span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span>           </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681138110"><span class="hs-identifier hs-var">queryTimeOutValue</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-271"></span><span>             </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[SEND] &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138115"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-272"></span><span>             </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681138109"><span class="annot"><span class="annottext">i :: Key
</span><a href="#local-6989586621681138109"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[SEND, TimeOut: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#showTimeoutValue"><span class="hs-identifier hs-var">showTimeoutValue</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681138109"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;] &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138115"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-273"></span><span>           </span><span id="local-6989586621681138108"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138108"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String -&gt; m String
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO String -&gt; m String) -&gt; IO String -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; String -&gt; IO String
</span><a href="#local-6989586621681138113"><span class="hs-identifier hs-var">queryAsk</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681138110"><span class="hs-identifier hs-var">queryTimeOutValue</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138115"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-274"></span><span>           </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[RECV] &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138108"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span>           </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138107"><span class="annot"><span class="annottext">loop :: String -&gt; m String
</span><a href="#local-6989586621681138107"><span class="hs-identifier hs-var hs-var">loop</span></a></span></span><span> </span><span id="local-6989586621681138106"><span class="annot"><span class="annottext">currentResponse :: String
</span><a href="#local-6989586621681138106"><span class="hs-identifier hs-var">currentResponse</span></a></span></span><span>
</span><span id="line-277"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138106"><span class="hs-identifier hs-var">currentResponse</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`notElem`</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138114"><span class="hs-identifier hs-var">ignoreList</span></a></span><span>
</span><span id="line-278"></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138106"><span class="hs-identifier hs-var">currentResponse</span></a></span><span>
</span><span id="line-279"></span><span>                 </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-280"></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[WARN] Previous response is explicitly ignored, beware!&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-281"></span><span>                      </span><span id="local-6989586621681138104"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138104"><span class="hs-identifier hs-var">newResponse</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String -&gt; m String
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO String -&gt; m String) -&gt; IO String -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; IO String
</span><a href="#local-6989586621681138112"><span class="hs-identifier hs-var">queryRetrieveResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681138110"><span class="hs-identifier hs-var">queryTimeOutValue</span></a></span><span>
</span><span id="line-282"></span><span>                      </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[RECV] &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138104"><span class="hs-identifier hs-var">newResponse</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-283"></span><span>                      </span><span class="annot"><span class="annottext">String -&gt; m String
</span><a href="#local-6989586621681138107"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138104"><span class="hs-identifier hs-var">newResponse</span></a></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span>           </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="#local-6989586621681138107"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138108"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-286"></span><span>
</span><span id="line-287"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.send'</span><span>
</span><span id="line-288"></span><span id="local-6989586621681138890"><span class="annot"><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-type">send</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138890"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138890"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138890"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-289"></span><span id="send"><span class="annot"><span class="annottext">send :: Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var hs-var">send</span></a></span></span><span> </span><span id="local-6989586621681138103"><span class="annot"><span class="annottext">requireSuccess :: Bool
</span><a href="#local-6989586621681138103"><span class="hs-identifier hs-var">requireSuccess</span></a></span></span><span> </span><span id="local-6989586621681138102"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681138102"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span>            </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryState"><span class="hs-identifier hs-type">QueryState</span></a></span><span class="hs-special">{</span><span id="local-6989586621681138101"><span class="annot"><span class="annottext">Maybe Key -&gt; String -&gt; IO String
queryAsk :: Maybe Key -&gt; String -&gt; IO String
queryAsk :: QueryState -&gt; Maybe Key -&gt; String -&gt; IO String
</span><a href="#local-6989586621681138101"><span class="hs-identifier hs-var hs-var">queryAsk</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138100"><span class="annot"><span class="annottext">Maybe Key -&gt; String -&gt; IO ()
querySend :: QueryState -&gt; Maybe Key -&gt; String -&gt; IO ()
querySend :: Maybe Key -&gt; String -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#querySend"><span class="hs-identifier hs-var hs-var">querySend</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138098"><span class="annot"><span class="annottext">SMTConfig
queryConfig :: SMTConfig
queryConfig :: QueryState -&gt; SMTConfig
</span><a href="#local-6989586621681138098"><span class="hs-identifier hs-var hs-var">queryConfig</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138097"><span class="annot"><span class="annottext">Maybe Key
queryTimeOutValue :: Maybe Key
queryTimeOutValue :: QueryState -&gt; Maybe Key
</span><a href="#local-6989586621681138097"><span class="hs-identifier hs-var hs-var">queryTimeOutValue</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m QueryState
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var">getQueryState</span></a></span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681138103"><span class="hs-identifier hs-var">requireSuccess</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">SolverCapabilities -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#supportsCustomQueries"><span class="hs-identifier hs-var hs-var">supportsCustomQueries</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTSolver -&gt; SolverCapabilities
</span><a href="Data.SBV.Core.Symbolic.html#capabilities"><span class="hs-identifier hs-var hs-var">capabilities</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTSolver
</span><a href="Data.SBV.Core.Symbolic.html#solver"><span class="hs-identifier hs-var hs-var">solver</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681138098"><span class="hs-identifier hs-var">queryConfig</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>               </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681138094"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138094"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String -&gt; m String
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO String -&gt; m String) -&gt; IO String -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; String -&gt; IO String
</span><a href="#local-6989586621681138101"><span class="hs-identifier hs-var">queryAsk</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681138097"><span class="hs-identifier hs-var">queryTimeOutValue</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138102"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-295"></span><span>
</span><span id="line-296"></span><span>                       </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String]
</span><span class="hs-identifier hs-var">words</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138094"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-297"></span><span>                         </span><span class="hs-special">[</span><span class="hs-string">&quot;success&quot;</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[GOOD] &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138102"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-298"></span><span>                         </span><span class="hs-identifier">_</span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681138097"><span class="hs-identifier hs-var">queryTimeOutValue</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-299"></span><span>                                             </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[FAIL] &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138102"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-300"></span><span>                                             </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681138092"><span class="annot"><span class="annottext">i :: Key
</span><a href="#local-6989586621681138092"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;[FAIL, TimeOut: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#showTimeoutValue"><span class="hs-identifier hs-var">showTimeoutValue</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681138092"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;]  &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138102"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span>                                           </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138091"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681138091"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String]
</span><span class="hs-identifier hs-var">words</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; String -&gt; String
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">dropWhile</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681138089"><span class="annot"><span class="annottext">c :: Char
</span><a href="#local-6989586621681138089"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isSpace</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681138089"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isPunctuation</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621681138089"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138102"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-304"></span><span>                                                       </span><span class="hs-special">(</span><span id="local-6989586621681138087"><span class="annot"><span class="annottext">c :: String
</span><a href="#local-6989586621681138087"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138087"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-305"></span><span>                                                       </span><span class="hs-identifier">_</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-string">&quot;Command&quot;</span></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span>                                           </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m ()
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138091"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138102"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;success&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138094"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span>               </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-comment">-- fire and forget. if you use this, you're on your own!</span><span>
</span><span id="line-310"></span><span>                       </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[FIRE] &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138102"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-311"></span><span>                       </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; String -&gt; IO ()
</span><a href="#local-6989586621681138100"><span class="hs-identifier hs-var">querySend</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681138097"><span class="hs-identifier hs-var">queryTimeOutValue</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138102"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-312"></span><span>
</span><span id="line-313"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.retrieveResponse'</span><span>
</span><span id="line-314"></span><span id="local-6989586621681138430"><span class="annot"><a href="Data.SBV.Control.Utils.html#retrieveResponse"><span class="hs-identifier hs-type">retrieveResponse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138430"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138430"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138430"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span></span><span>
</span><span id="line-315"></span><span id="retrieveResponse"><span class="annot"><span class="annottext">retrieveResponse :: String -&gt; Maybe Key -&gt; m [String]
</span><a href="Data.SBV.Control.Utils.html#retrieveResponse"><span class="hs-identifier hs-var hs-var">retrieveResponse</span></a></span></span><span> </span><span id="local-6989586621681138086"><span class="annot"><span class="annottext">userTag :: String
</span><a href="#local-6989586621681138086"><span class="hs-identifier hs-var">userTag</span></a></span></span><span> </span><span id="local-6989586621681138085"><span class="annot"><span class="annottext">mbTo :: Maybe Key
</span><a href="#local-6989586621681138085"><span class="hs-identifier hs-var">mbTo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-316"></span><span>             </span><span id="local-6989586621681138084"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138084"><span class="hs-identifier hs-var">ts</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String -&gt; m String
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ZonedTime -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">(ZonedTime -&gt; String) -&gt; IO ZonedTime -&gt; IO String
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO ZonedTime
</span><span class="hs-identifier hs-var">getZonedTime</span></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138083"><span class="annot"><span class="annottext">synchTag :: String
</span><a href="#local-6989586621681138083"><span class="hs-identifier hs-var hs-var">synchTag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; String -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138086"><span class="hs-identifier hs-var">userTag</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; (at: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138084"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-319"></span><span>                 </span><span id="local-6989586621681138082"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681138082"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(echo &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138083"><span class="hs-identifier hs-var">synchTag</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span>             </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[SYNC] Attempting to synchronize with tag: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138083"><span class="hs-identifier hs-var">synchTag</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span>             </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138082"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span>             </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryState"><span class="hs-identifier hs-type">QueryState</span></a></span><span class="hs-special">{</span><span id="local-6989586621681138081"><span class="annot"><span class="annottext">Maybe Key -&gt; IO String
queryRetrieveResponse :: Maybe Key -&gt; IO String
queryRetrieveResponse :: QueryState -&gt; Maybe Key -&gt; IO String
</span><a href="#local-6989586621681138081"><span class="hs-identifier hs-var hs-var">queryRetrieveResponse</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m QueryState
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m QueryState
</span><a href="Data.SBV.Control.Utils.html#getQueryState"><span class="hs-identifier hs-var">getQueryState</span></a></span><span>
</span><span id="line-326"></span><span>
</span><span id="line-327"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681138080"><span class="annot"><span class="annottext">loop :: [String] -&gt; m [String]
</span><a href="#local-6989586621681138080"><span class="hs-identifier hs-var hs-var">loop</span></a></span></span><span> </span><span id="local-6989586621681138079"><span class="annot"><span class="annottext">sofar :: [String]
</span><a href="#local-6989586621681138079"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-328"></span><span>                  </span><span id="local-6989586621681138078"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138078"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String -&gt; m String
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO String -&gt; m String) -&gt; IO String -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; IO String
</span><a href="#local-6989586621681138081"><span class="hs-identifier hs-var">queryRetrieveResponse</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681138085"><span class="hs-identifier hs-var">mbTo</span></a></span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span>                  </span><span class="hs-comment">-- strictly speaking SMTLib requires solvers to print quotes around</span><span>
</span><span id="line-331"></span><span>                  </span><span class="hs-comment">-- echo'ed strings, but they don't always do. Accommodate for that</span><span>
</span><span id="line-332"></span><span>                  </span><span class="hs-comment">-- here, though I wish we didn't have to.</span><span>
</span><span id="line-333"></span><span>                  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138078"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138083"><span class="hs-identifier hs-var">synchTag</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138078"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138083"><span class="hs-identifier hs-var">synchTag</span></a></span><span>
</span><span id="line-334"></span><span>                     </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[SYNC] Synchronization achieved using tag: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138083"><span class="hs-identifier hs-var">synchTag</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-335"></span><span>                             </span><span class="annot"><span class="annottext">[String] -&gt; m [String]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; m [String]) -&gt; [String] -&gt; m [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138079"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-336"></span><span>                     </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;[RECV] &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><a href="Data.SBV.SMT.Utils.html#alignPlain"><span class="hs-operator hs-var">`alignPlain`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138078"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-337"></span><span>                             </span><span class="annot"><span class="annottext">[String] -&gt; m [String]
</span><a href="#local-6989586621681138080"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138078"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681138079"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span>             </span><span class="annot"><span class="annottext">[String] -&gt; m [String]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
[String] -&gt; m [String]
</span><a href="#local-6989586621681138080"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-comment">-- | A class which allows for sexpr-conversion to values</span><span>
</span><span id="line-342"></span><span class="hs-keyword">class</span><span> </span><span id="SMTValue"><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-var">SMTValue</span></a></span></span><span> </span><span id="local-6989586621681138733"><span class="annot"><a href="#local-6989586621681138733"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-343"></span><span>  </span><span id="sexprToVal"><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-type">sexprToVal</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621681138733"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-344"></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-keyword">default</span><span> </span><span id="sexprToVal"><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-type">sexprToVal</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="annot"><a href="#local-6989586621681138733"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621681138733"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-346"></span><span>  </span><span id="local-6989586621681138076"><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681138074"><span class="annot"><span class="annottext">c :: String
</span><a href="#local-6989586621681138074"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ReadS a
forall a. Read a =&gt; ReadS a
</span><span class="hs-identifier hs-var">reads</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138074"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-347"></span><span>                          </span><span class="hs-special">[</span><span class="hs-special">(</span><span id="local-6989586621681138072"><span class="annot"><span class="annottext">v :: a
</span><a href="#local-6989586621681138072"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-string">&quot;&quot;</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138072"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-348"></span><span>                          </span><span class="hs-identifier">_</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-349"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span class="hs-comment">-- | Integral values are easy to convert:</span><span>
</span><span id="line-352"></span><span id="local-6989586621681138727"><span class="annot"><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-type">fromIntegralToVal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621681138727"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621681138727"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-353"></span><span id="fromIntegralToVal"><span class="annot"><span class="annottext">fromIntegralToVal :: SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-var hs-var">fromIntegralToVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138069"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681138069"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; a
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681138069"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-354"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-var">fromIntegralToVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int8</span></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138066"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Int8
</span><a href="#local-6989586621681138066"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe Int8
forall a. Integral a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-var">fromIntegralToVal</span></a></span><span>
</span><span id="line-357"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int16</span></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138064"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Int16
</span><a href="#local-6989586621681138064"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe Int16
forall a. Integral a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-var">fromIntegralToVal</span></a></span><span>
</span><span id="line-358"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int32</span></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138062"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Int32
</span><a href="#local-6989586621681138062"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe Int32
forall a. Integral a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-var">fromIntegralToVal</span></a></span><span>
</span><span id="line-359"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int64</span></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138060"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Int64
</span><a href="#local-6989586621681138060"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe Int64
forall a. Integral a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-var">fromIntegralToVal</span></a></span><span>
</span><span id="line-360"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138058"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Word8
</span><a href="#local-6989586621681138058"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe Word8
forall a. Integral a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-var">fromIntegralToVal</span></a></span><span>
</span><span id="line-361"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word16</span></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138056"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Word16
</span><a href="#local-6989586621681138056"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe Word16
forall a. Integral a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-var">fromIntegralToVal</span></a></span><span>
</span><span id="line-362"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word32</span></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138054"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Word32
</span><a href="#local-6989586621681138054"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe Word32
forall a. Integral a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-var">fromIntegralToVal</span></a></span><span>
</span><span id="line-363"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word64</span></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138052"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Word64
</span><a href="#local-6989586621681138052"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe Word64
forall a. Integral a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-var">fromIntegralToVal</span></a></span><span>
</span><span id="line-364"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138050"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Integer
</span><a href="#local-6989586621681138050"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe Integer
forall a. Integral a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#fromIntegralToVal"><span class="hs-identifier hs-var">fromIntegralToVal</span></a></span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Float</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-367"></span><span>   </span><span id="local-6989586621681138048"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Float
</span><a href="#local-6989586621681138048"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EFloat"><span class="hs-identifier hs-type">EFloat</span></a></span><span> </span><span id="local-6989586621681138046"><span class="annot"><span class="annottext">f :: Float
</span><a href="#local-6989586621681138046"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Maybe Float
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681138046"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-368"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138045"><span class="annot"><span class="annottext">v :: Integer
</span><a href="#local-6989586621681138045"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Float -&gt; Maybe Float
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Float
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681138045"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-369"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Float
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-370"></span><span>
</span><span id="line-371"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Double</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-372"></span><span>   </span><span id="local-6989586621681138043"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Double
</span><a href="#local-6989586621681138043"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EDouble"><span class="hs-identifier hs-type">EDouble</span></a></span><span> </span><span id="local-6989586621681138041"><span class="annot"><span class="annottext">f :: Double
</span><a href="#local-6989586621681138041"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Maybe Double
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681138041"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-373"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138040"><span class="annot"><span class="annottext">v :: Integer
</span><a href="#local-6989586621681138040"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Double -&gt; Maybe Double
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Double
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681138040"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-374"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Double
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-375"></span><span>
</span><span id="line-376"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-377"></span><span>   </span><span id="local-6989586621681138038"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Bool
</span><a href="#local-6989586621681138038"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-number">1</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-378"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Maybe Bool
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-379"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Bool
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.AlgReals.html#AlgReal"><span class="hs-identifier hs-type">AlgReal</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-382"></span><span>   </span><span id="local-6989586621681138036"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe AlgReal
</span><a href="#local-6989586621681138036"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EReal"><span class="hs-identifier hs-type">EReal</span></a></span><span> </span><span id="local-6989586621681138034"><span class="annot"><span class="annottext">a :: AlgReal
</span><a href="#local-6989586621681138034"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; Maybe AlgReal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681138034"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-383"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138033"><span class="annot"><span class="annottext">v :: Integer
</span><a href="#local-6989586621681138033"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; Maybe AlgReal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; AlgReal
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681138033"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe AlgReal
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-385"></span><span>
</span><span id="line-386"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-387"></span><span>   </span><span id="local-6989586621681138031"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe Char
</span><a href="#local-6989586621681138031"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681138030"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681138030"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Maybe Char
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; Char
</span><span class="hs-identifier hs-var">chr</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Key
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681138030"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-388"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Char
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span id="local-6989586621681138029"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138029"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621681138029"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681138029"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-391"></span><span>   </span><span class="hs-comment">-- NB. The conflation of String/[Char] forces us to have this bastard case here</span><span>
</span><span id="line-392"></span><span>   </span><span class="hs-comment">-- with unsafeCoerce to cast back to a regular string. This is unfortunate,</span><span>
</span><span id="line-393"></span><span>   </span><span class="hs-comment">-- and the ice is thin here. But it works, and is much better than a plethora</span><span>
</span><span id="line-394"></span><span>   </span><span class="hs-comment">-- of overlapping instances. Sigh.</span><span>
</span><span id="line-395"></span><span>   </span><span id="local-6989586621681138027"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe [a]
</span><a href="#local-6989586621681138027"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681138026"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681138026"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-396"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Bool
forall a. Typeable a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Utils.Lib.html#isKString"><span class="hs-identifier hs-var">isKString</span></a></span><span> </span><span class="hs-glyph">@</span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681138029"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[a]
forall a. HasCallStack =&gt; a
</span><span class="hs-identifier hs-var">undefined</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138026"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Char
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138026"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-char">'&quot;'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Char
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138026"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-char">'&quot;'</span></span><span>
</span><span id="line-397"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Maybe [a]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Maybe [a]) -&gt; [a] -&gt; Maybe [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; a) -&gt; String -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; a
forall a b. a -&gt; b
</span><span class="hs-identifier hs-var">unsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138021"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-398"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-399"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Maybe [a]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Maybe [a]) -&gt; [a] -&gt; Maybe [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; a) -&gt; String -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Word8 -&gt; a
forall a b. a -&gt; b
</span><span class="hs-identifier hs-var">unsafeCoerce</span></span><span> </span><span class="annot"><span class="annottext">(Word8 -&gt; a) -&gt; (Char -&gt; Word8) -&gt; Char -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Word8
</span><a href="#local-6989586621681138020"><span class="hs-identifier hs-var">c2w8</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138021"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-400"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681138021"><span class="annot"><span class="annottext">s' :: String
</span><a href="#local-6989586621681138021"><span class="hs-identifier hs-var hs-var">s'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="Data.SBV.Utils.Lib.html#qfsToString"><span class="hs-identifier hs-var">qfsToString</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">tail</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681138026"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>          </span><span class="annot"><a href="#local-6989586621681138020"><span class="hs-identifier hs-type">c2w8</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Word8</span></span><span>
</span><span id="line-402"></span><span>          </span><span id="local-6989586621681138020"><span class="annot"><span class="annottext">c2w8 :: Char -&gt; Word8
</span><a href="#local-6989586621681138020"><span class="hs-identifier hs-var hs-var">c2w8</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Word8
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; Word8) -&gt; (Char -&gt; Key) -&gt; Char -&gt; Word8
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Key
</span><span class="hs-identifier hs-var">ord</span></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span>   </span><span class="hs-comment">-- Otherwise we have a good old sequence, just parse it simply:</span><span>
</span><span id="line-405"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;seq.++&quot;</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681138016"><span class="annot"><span class="annottext">rest :: [SExpr]
</span><a href="#local-6989586621681138016"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681138015"><span class="annot"><span class="annottext">[[a]]
</span><a href="#local-6989586621681138015"><span class="hs-identifier hs-var">elts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SExpr -&gt; Maybe [a]) -&gt; [SExpr] -&gt; Maybe [[a]]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe [a]
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681138016"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-406"></span><span>                                                           </span><span class="annot"><span class="annottext">[a] -&gt; Maybe [a]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; Maybe [a]) -&gt; [a] -&gt; Maybe [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[[a]] -&gt; [a]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">[[a]]
</span><a href="#local-6989586621681138015"><span class="hs-identifier hs-var">elts</span></a></span><span>
</span><span id="line-407"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;seq.unit&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138013"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681138013"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681138012"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138012"><span class="hs-identifier hs-var">a'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681138013"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-408"></span><span>                                                           </span><span class="annot"><span class="annottext">[a] -&gt; Maybe [a]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681138012"><span class="hs-identifier hs-var">a'</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-409"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;seq.empty&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Maybe [a]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [a]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span id="local-6989586621681138010"><span id="local-6989586621681138011"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138011"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138010"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621681138011"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138010"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-414"></span><span>  </span><span id="local-6989586621681138008"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe (Either a b)
</span><a href="#local-6989586621681138008"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;left_SBVEither&quot;</span><span class="hs-special">,</span><span>  </span><span id="local-6989586621681138007"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681138007"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>                      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span>  </span><span class="annot"><span class="annottext">(a -&gt; Either a b) -&gt; Maybe a -&gt; Maybe (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681138007"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-415"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;right_SBVEither&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138006"><span class="annot"><span class="annottext">b :: SExpr
</span><a href="#local-6989586621681138006"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>                      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Either a b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either a b) -&gt; Maybe b -&gt; Maybe (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681138006"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-416"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;left_SBVEither&quot;</span><span class="hs-special">,</span><span>  </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138005"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681138005"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span>  </span><span class="annot"><span class="annottext">(a -&gt; Either a b) -&gt; Maybe a -&gt; Maybe (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681138005"><span class="hs-identifier hs-var">a</span></a></span><span>   </span><span class="hs-comment">-- CVC4 puts full ascriptions</span><span>
</span><span id="line-417"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;right_SBVEither&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138004"><span class="annot"><span class="annottext">b :: SExpr
</span><a href="#local-6989586621681138004"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Either a b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either a b) -&gt; Maybe b -&gt; Maybe (Either a b)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681138004"><span class="hs-identifier hs-var">b</span></a></span><span>   </span><span class="hs-comment">-- CVC4 puts full ascriptions</span><span>
</span><span id="line-418"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                                       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Either a b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span id="local-6989586621681138003"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138003"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621681138003"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-421"></span><span>  </span><span id="local-6989586621681138001"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe (Maybe a)
</span><a href="#local-6989586621681138001"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;nothing_SBVMaybe&quot;</span><span class="hs-special">)</span><span>                                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Maybe (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-422"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;just_SBVMaybe&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681138000"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681138000"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>                         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; Maybe a -&gt; Maybe (Maybe a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681138000"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-423"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span>      </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;nothing_SBVMaybe&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; Maybe (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>          </span><span class="hs-comment">-- Ditto here for CVC4</span><span>
</span><span id="line-424"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;just_SBVMaybe&quot;</span><span class="hs-special">,</span><span>    </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137999"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137999"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; Maybe a -&gt; Maybe (Maybe a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137999"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-425"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span><span>
</span><span id="line-426"></span><span>
</span><span id="line-427"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-428"></span><span>   </span><span id="local-6989586621681137997"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe ()
</span><a href="#local-6989586621681137997"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;mkSBVTuple0&quot;</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; Maybe ()
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-429"></span><span>   </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="hs-identifier">_</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ()
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span id="local-6989586621681137996"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621681137996"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137996"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#RCSet"><span class="hs-identifier hs-type">RCSet</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137996"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-432"></span><span>   </span><span id="local-6989586621681137994"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe (RCSet a)
</span><a href="#local-6989586621681137994"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span id="local-6989586621681137993"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681137993"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var">recoverKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137992"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137993"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe CV -&gt; (CV -&gt; Maybe (RCSet a)) -&gt; Maybe (RCSet a)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe (RCSet a)
forall a. (Ord a, SymVal a) =&gt; CVal -&gt; Maybe (RCSet a)
</span><a href="#local-6989586621681137991"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe (RCSet a)) -&gt; (CV -&gt; CVal) -&gt; CV -&gt; Maybe (RCSet a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#cvVal"><span class="hs-identifier hs-var hs-var">cvVal</span></a></span><span>
</span><span id="line-433"></span><span>     </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137989"><span class="annot"><span class="annottext">ke :: Kind
</span><a href="#local-6989586621681137989"><span class="hs-identifier hs-var hs-var">ke</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137996"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>           </span><span id="local-6989586621681137992"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681137992"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#KSet"><span class="hs-identifier hs-var">KSet</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137989"><span class="hs-identifier hs-var">ke</span></a></span><span>
</span><span id="line-435"></span><span>
</span><span id="line-436"></span><span>           </span><span id="local-6989586621681137991"><span class="annot"><span class="annottext">cvt :: CVal -&gt; Maybe (RCSet a)
</span><a href="#local-6989586621681137991"><span class="hs-identifier hs-var hs-var">cvt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CSet"><span class="hs-identifier hs-type">CSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#RegularSet"><span class="hs-identifier hs-type">RegularSet</span></a></span><span> </span><span id="local-6989586621681137985"><span class="annot"><span class="annottext">s :: Set CVal
</span><a href="#local-6989586621681137985"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RCSet a -&gt; Maybe (RCSet a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(RCSet a -&gt; Maybe (RCSet a)) -&gt; RCSet a -&gt; Maybe (RCSet a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set a -&gt; RCSet a
forall a. Set a -&gt; RCSet a
</span><a href="Data.SBV.Core.Concrete.html#RegularSet"><span class="hs-identifier hs-var">RegularSet</span></a></span><span>    </span><span class="annot"><span class="annottext">(Set a -&gt; RCSet a) -&gt; Set a -&gt; RCSet a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; a) -&gt; Set CVal -&gt; Set a
forall b a. Ord b =&gt; (a -&gt; b) -&gt; Set a -&gt; Set b
</span><span class="hs-identifier hs-var">Set.map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; a
forall a. SymVal a =&gt; CV -&gt; a
</span><a href="Data.SBV.Core.Data.html#fromCV"><span class="hs-identifier hs-var">fromCV</span></a></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; a) -&gt; (CVal -&gt; CV) -&gt; CVal -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137989"><span class="hs-identifier hs-var">ke</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set CVal
</span><a href="#local-6989586621681137985"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-437"></span><span>           </span><span class="annot"><a href="#local-6989586621681137991"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CSet"><span class="hs-identifier hs-type">CSet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#ComplementSet"><span class="hs-identifier hs-type">ComplementSet</span></a></span><span> </span><span id="local-6989586621681137981"><span class="annot"><span class="annottext">s :: Set CVal
</span><a href="#local-6989586621681137981"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RCSet a -&gt; Maybe (RCSet a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(RCSet a -&gt; Maybe (RCSet a)) -&gt; RCSet a -&gt; Maybe (RCSet a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set a -&gt; RCSet a
forall a. Set a -&gt; RCSet a
</span><a href="Data.SBV.Core.Concrete.html#ComplementSet"><span class="hs-identifier hs-var">ComplementSet</span></a></span><span> </span><span class="annot"><span class="annottext">(Set a -&gt; RCSet a) -&gt; Set a -&gt; RCSet a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; a) -&gt; Set CVal -&gt; Set a
forall b a. Ord b =&gt; (a -&gt; b) -&gt; Set a -&gt; Set b
</span><span class="hs-identifier hs-var">Set.map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; a
forall a. SymVal a =&gt; CV -&gt; a
</span><a href="Data.SBV.Core.Data.html#fromCV"><span class="hs-identifier hs-var">fromCV</span></a></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; a) -&gt; (CVal -&gt; CV) -&gt; CVal -&gt; a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137989"><span class="hs-identifier hs-var">ke</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Set CVal
</span><a href="#local-6989586621681137981"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-438"></span><span>           </span><span class="annot"><a href="#local-6989586621681137991"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-identifier">_</span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (RCSet a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="hs-comment">-- | Convert a sexpr of n-tuple to constituent sexprs. Z3 and CVC4 differ here on how they</span><span>
</span><span id="line-441"></span><span class="hs-comment">-- present tuples, so we accommodate both:</span><span>
</span><span id="line-442"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToTuple"><span class="hs-identifier hs-type">sexprToTuple</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-443"></span><span id="sexprToTuple"><span class="annot"><span class="annottext">sexprToTuple :: Key -&gt; SExpr -&gt; [SExpr]
</span><a href="Data.SBV.Control.Utils.html#sexprToTuple"><span class="hs-identifier hs-var hs-var">sexprToTuple</span></a></span></span><span> </span><span id="local-6989586621681137979"><span class="annot"><span class="annottext">n :: Key
</span><a href="#local-6989586621681137979"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681137978"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681137978"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; [SExpr]
</span><a href="#local-6989586621681137977"><span class="hs-identifier hs-var">try</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137978"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-444"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="hs-comment">-- Z3 way</span><span>
</span><span id="line-445"></span><span>        </span><span id="local-6989586621681137977"><span class="annot"><span class="annottext">try :: SExpr -&gt; [SExpr]
</span><a href="#local-6989586621681137977"><span class="hs-identifier hs-var hs-var">try</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137976"><span class="annot"><span class="annottext">f :: String
</span><a href="#local-6989586621681137976"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681137975"><span class="annot"><span class="annottext">args :: [SExpr]
</span><a href="#local-6989586621681137975"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; String -&gt; (String, String)
forall a. Key -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">splitAt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="hs-string">&quot;mkSBVTuple&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137976"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-446"></span><span>                                       </span><span class="hs-special">(</span><span class="hs-string">&quot;mkSBVTuple&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137973"><span class="annot"><span class="annottext">c :: String
</span><a href="#local-6989586621681137973"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; String -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isDigit</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137973"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Key
forall a. Read a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">read</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137973"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137979"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">[SExpr] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137975"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137979"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137975"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-447"></span><span>                                       </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SExpr]
forall a. a
</span><a href="#local-6989586621681137970"><span class="hs-identifier hs-var">bad</span></a></span><span>
</span><span id="line-448"></span><span>        </span><span class="hs-comment">-- CVC4 way</span><span>
</span><span id="line-449"></span><span>        </span><span class="annot"><a href="#local-6989586621681137977"><span class="hs-identifier hs-var">try</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137969"><span class="annot"><span class="annottext">f :: String
</span><a href="#local-6989586621681137969"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681137968"><span class="annot"><span class="annottext">args :: [SExpr]
</span><a href="#local-6989586621681137968"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; [SExpr]
</span><a href="#local-6989586621681137977"><span class="hs-identifier hs-var">try</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SExpr] -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-var">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-var">ECon</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137969"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; [SExpr] -&gt; [SExpr]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137968"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-450"></span><span>        </span><span class="annot"><a href="#local-6989586621681137977"><span class="hs-identifier hs-var">try</span></a></span><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SExpr]
forall a. a
</span><a href="#local-6989586621681137970"><span class="hs-identifier hs-var">bad</span></a></span><span>
</span><span id="line-451"></span><span>        </span><span id="local-6989586621681137970"><span class="annot"><span class="annottext">bad :: a
</span><a href="#local-6989586621681137970"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.sexprToTuple: Impossible: Expected a constructor for &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137979"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; tuple, but got: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137978"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span class="hs-comment">-- 2-tuple</span><span>
</span><span id="line-454"></span><span id="local-6989586621681137966"><span id="local-6989586621681137967"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137967"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137966"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137967"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137966"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-455"></span><span>   </span><span id="local-6989586621681137964"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe (a, b)
</span><a href="#local-6989586621681137964"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span id="local-6989586621681137963"><span class="annot"><span class="annottext">s :: SExpr
</span><a href="#local-6989586621681137963"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; SExpr -&gt; [SExpr]
</span><a href="Data.SBV.Control.Utils.html#sexprToTuple"><span class="hs-identifier hs-var">sexprToTuple</span></a></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137963"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-456"></span><span>                    </span><span class="hs-special">[</span><span id="local-6989586621681137962"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137962"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137961"><span class="annot"><span class="annottext">b :: SExpr
</span><a href="#local-6989586621681137961"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; (a, b)) -&gt; Maybe a -&gt; Maybe (b -&gt; (a, b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137962"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; (a, b)) -&gt; Maybe b -&gt; Maybe (a, b)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137961"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-457"></span><span>                    </span><span class="hs-identifier">_</span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span><span>
</span><span id="line-458"></span><span>
</span><span id="line-459"></span><span class="hs-comment">-- 3-tuple</span><span>
</span><span id="line-460"></span><span id="local-6989586621681137958"><span id="local-6989586621681137959"><span id="local-6989586621681137960"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137960"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137959"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137958"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137960"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137959"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137958"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-461"></span><span>   </span><span id="local-6989586621681137956"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe (a, b, c)
</span><a href="#local-6989586621681137956"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span id="local-6989586621681137955"><span class="annot"><span class="annottext">s :: SExpr
</span><a href="#local-6989586621681137955"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; SExpr -&gt; [SExpr]
</span><a href="Data.SBV.Control.Utils.html#sexprToTuple"><span class="hs-identifier hs-var">sexprToTuple</span></a></span><span> </span><span class="annot"><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137955"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-462"></span><span>                    </span><span class="hs-special">[</span><span id="local-6989586621681137954"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137954"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137953"><span class="annot"><span class="annottext">b :: SExpr
</span><a href="#local-6989586621681137953"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137952"><span class="annot"><span class="annottext">c :: SExpr
</span><a href="#local-6989586621681137952"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; (a, b, c))
-&gt; Maybe a -&gt; Maybe (b -&gt; c -&gt; (a, b, c))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137954"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; (a, b, c)) -&gt; Maybe b -&gt; Maybe (c -&gt; (a, b, c))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137953"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; (a, b, c)) -&gt; Maybe c -&gt; Maybe (a, b, c)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137952"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-463"></span><span>                    </span><span class="hs-identifier">_</span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span></span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span class="hs-comment">-- 4-tuple</span><span>
</span><span id="line-466"></span><span id="local-6989586621681137948"><span id="local-6989586621681137949"><span id="local-6989586621681137950"><span id="local-6989586621681137951"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137951"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137950"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137949"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137948"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137951"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137950"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137949"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137948"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-467"></span><span>   </span><span id="local-6989586621681137946"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe (a, b, c, d)
</span><a href="#local-6989586621681137946"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span id="local-6989586621681137945"><span class="annot"><span class="annottext">s :: SExpr
</span><a href="#local-6989586621681137945"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; SExpr -&gt; [SExpr]
</span><a href="Data.SBV.Control.Utils.html#sexprToTuple"><span class="hs-identifier hs-var">sexprToTuple</span></a></span><span> </span><span class="annot"><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137945"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-468"></span><span>                    </span><span class="hs-special">[</span><span id="local-6989586621681137944"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137944"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137943"><span class="annot"><span class="annottext">b :: SExpr
</span><a href="#local-6989586621681137943"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137942"><span class="annot"><span class="annottext">c :: SExpr
</span><a href="#local-6989586621681137942"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137941"><span class="annot"><span class="annottext">d :: SExpr
</span><a href="#local-6989586621681137941"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; d -&gt; (a, b, c, d))
-&gt; Maybe a -&gt; Maybe (b -&gt; c -&gt; d -&gt; (a, b, c, d))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137944"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; d -&gt; (a, b, c, d))
-&gt; Maybe b -&gt; Maybe (c -&gt; d -&gt; (a, b, c, d))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137943"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; d -&gt; (a, b, c, d))
-&gt; Maybe c -&gt; Maybe (d -&gt; (a, b, c, d))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137942"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (d -&gt; (a, b, c, d)) -&gt; Maybe d -&gt; Maybe (a, b, c, d)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe d
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137941"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-469"></span><span>                    </span><span class="hs-identifier">_</span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c, d)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span></span></span><span>
</span><span id="line-470"></span><span>
</span><span id="line-471"></span><span class="hs-comment">-- 5-tuple</span><span>
</span><span id="line-472"></span><span id="local-6989586621681137936"><span id="local-6989586621681137937"><span id="local-6989586621681137938"><span id="local-6989586621681137939"><span id="local-6989586621681137940"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137940"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137939"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137938"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137937"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137936"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137940"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137939"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137938"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137937"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137936"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-473"></span><span>   </span><span id="local-6989586621681137934"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe (a, b, c, d, e)
</span><a href="#local-6989586621681137934"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span id="local-6989586621681137933"><span class="annot"><span class="annottext">s :: SExpr
</span><a href="#local-6989586621681137933"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; SExpr -&gt; [SExpr]
</span><a href="Data.SBV.Control.Utils.html#sexprToTuple"><span class="hs-identifier hs-var">sexprToTuple</span></a></span><span> </span><span class="annot"><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137933"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-474"></span><span>                    </span><span class="hs-special">[</span><span id="local-6989586621681137932"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137932"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137931"><span class="annot"><span class="annottext">b :: SExpr
</span><a href="#local-6989586621681137931"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137930"><span class="annot"><span class="annottext">c :: SExpr
</span><a href="#local-6989586621681137930"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137929"><span class="annot"><span class="annottext">d :: SExpr
</span><a href="#local-6989586621681137929"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137928"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681137928"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; d -&gt; e -&gt; (a, b, c, d, e))
-&gt; Maybe a -&gt; Maybe (b -&gt; c -&gt; d -&gt; e -&gt; (a, b, c, d, e))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137932"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; d -&gt; e -&gt; (a, b, c, d, e))
-&gt; Maybe b -&gt; Maybe (c -&gt; d -&gt; e -&gt; (a, b, c, d, e))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137931"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; d -&gt; e -&gt; (a, b, c, d, e))
-&gt; Maybe c -&gt; Maybe (d -&gt; e -&gt; (a, b, c, d, e))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137930"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (d -&gt; e -&gt; (a, b, c, d, e))
-&gt; Maybe d -&gt; Maybe (e -&gt; (a, b, c, d, e))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe d
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137929"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (e -&gt; (a, b, c, d, e)) -&gt; Maybe e -&gt; Maybe (a, b, c, d, e)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe e
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137928"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-475"></span><span>                    </span><span class="hs-identifier">_</span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c, d, e)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span></span></span></span><span>
</span><span id="line-476"></span><span>
</span><span id="line-477"></span><span class="hs-comment">-- 6-tuple</span><span>
</span><span id="line-478"></span><span id="local-6989586621681137922"><span id="local-6989586621681137923"><span id="local-6989586621681137924"><span id="local-6989586621681137925"><span id="local-6989586621681137926"><span id="local-6989586621681137927"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137927"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137926"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137925"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137924"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137923"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137922"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137927"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137926"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137925"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137924"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137923"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137922"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-479"></span><span>   </span><span id="local-6989586621681137920"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe (a, b, c, d, e, f)
</span><a href="#local-6989586621681137920"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span id="local-6989586621681137919"><span class="annot"><span class="annottext">s :: SExpr
</span><a href="#local-6989586621681137919"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; SExpr -&gt; [SExpr]
</span><a href="Data.SBV.Control.Utils.html#sexprToTuple"><span class="hs-identifier hs-var">sexprToTuple</span></a></span><span> </span><span class="annot"><span class="hs-number">6</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137919"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-480"></span><span>                    </span><span class="hs-special">[</span><span id="local-6989586621681137918"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137918"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137917"><span class="annot"><span class="annottext">b :: SExpr
</span><a href="#local-6989586621681137917"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137916"><span class="annot"><span class="annottext">c :: SExpr
</span><a href="#local-6989586621681137916"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137915"><span class="annot"><span class="annottext">d :: SExpr
</span><a href="#local-6989586621681137915"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137914"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681137914"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137913"><span class="annot"><span class="annottext">f :: SExpr
</span><a href="#local-6989586621681137913"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
-&gt; Maybe a -&gt; Maybe (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137918"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
-&gt; Maybe b -&gt; Maybe (c -&gt; d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137917"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
-&gt; Maybe c -&gt; Maybe (d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137916"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
-&gt; Maybe d -&gt; Maybe (e -&gt; f -&gt; (a, b, c, d, e, f))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe d
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137915"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (e -&gt; f -&gt; (a, b, c, d, e, f))
-&gt; Maybe e -&gt; Maybe (f -&gt; (a, b, c, d, e, f))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe e
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137914"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (f -&gt; (a, b, c, d, e, f))
-&gt; Maybe f -&gt; Maybe (a, b, c, d, e, f)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe f
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137913"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-481"></span><span>                    </span><span class="hs-identifier">_</span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c, d, e, f)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span></span></span></span></span><span>
</span><span id="line-482"></span><span>
</span><span id="line-483"></span><span class="hs-comment">-- 7-tuple</span><span>
</span><span id="line-484"></span><span id="local-6989586621681137906"><span id="local-6989586621681137907"><span id="local-6989586621681137908"><span id="local-6989586621681137909"><span id="local-6989586621681137910"><span id="local-6989586621681137911"><span id="local-6989586621681137912"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137912"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137911"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137910"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137909"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137908"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137907"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137906"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137912"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137911"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137910"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137909"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137908"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137907"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137906"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-485"></span><span>   </span><span id="local-6989586621681137904"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe (a, b, c, d, e, f, g)
</span><a href="#local-6989586621681137904"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span id="local-6989586621681137903"><span class="annot"><span class="annottext">s :: SExpr
</span><a href="#local-6989586621681137903"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; SExpr -&gt; [SExpr]
</span><a href="Data.SBV.Control.Utils.html#sexprToTuple"><span class="hs-identifier hs-var">sexprToTuple</span></a></span><span> </span><span class="annot"><span class="hs-number">7</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137903"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-486"></span><span>                    </span><span class="hs-special">[</span><span id="local-6989586621681137902"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137902"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137901"><span class="annot"><span class="annottext">b :: SExpr
</span><a href="#local-6989586621681137901"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137900"><span class="annot"><span class="annottext">c :: SExpr
</span><a href="#local-6989586621681137900"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137899"><span class="annot"><span class="annottext">d :: SExpr
</span><a href="#local-6989586621681137899"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137898"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681137898"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137897"><span class="annot"><span class="annottext">f :: SExpr
</span><a href="#local-6989586621681137897"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137896"><span class="annot"><span class="annottext">g :: SExpr
</span><a href="#local-6989586621681137896"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe a
-&gt; Maybe (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137902"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe b
-&gt; Maybe (c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137901"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe c -&gt; Maybe (d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137900"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe d -&gt; Maybe (e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe d
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137899"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe e -&gt; Maybe (f -&gt; g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe e
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137898"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe f -&gt; Maybe (g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe f
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137897"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe g -&gt; Maybe (a, b, c, d, e, f, g)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe g
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137896"><span class="hs-identifier hs-var">g</span></a></span><span>
</span><span id="line-487"></span><span>                    </span><span class="hs-identifier">_</span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c, d, e, f, g)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span class="hs-comment">-- 8-tuple</span><span>
</span><span id="line-490"></span><span id="local-6989586621681137888"><span id="local-6989586621681137889"><span id="local-6989586621681137890"><span id="local-6989586621681137891"><span id="local-6989586621681137892"><span id="local-6989586621681137893"><span id="local-6989586621681137894"><span id="local-6989586621681137895"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137895"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137894"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137893"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137892"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137891"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137890"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137889"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137888"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137895"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137894"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137893"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137892"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137891"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137890"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137889"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137888"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-491"></span><span>   </span><span id="local-6989586621681137886"><span class="annot"><span class="annottext">sexprToVal :: SExpr -&gt; Maybe (a, b, c, d, e, f, g, h)
</span><a href="#local-6989586621681137886"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToVal</span></a></span></span><span> </span><span id="local-6989586621681137885"><span class="annot"><span class="annottext">s :: SExpr
</span><a href="#local-6989586621681137885"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Key -&gt; SExpr -&gt; [SExpr]
</span><a href="Data.SBV.Control.Utils.html#sexprToTuple"><span class="hs-identifier hs-var">sexprToTuple</span></a></span><span> </span><span class="annot"><span class="hs-number">8</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137885"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-492"></span><span>                    </span><span class="hs-special">[</span><span id="local-6989586621681137884"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137884"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137883"><span class="annot"><span class="annottext">b :: SExpr
</span><a href="#local-6989586621681137883"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137882"><span class="annot"><span class="annottext">c :: SExpr
</span><a href="#local-6989586621681137882"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137881"><span class="annot"><span class="annottext">d :: SExpr
</span><a href="#local-6989586621681137881"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137880"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681137880"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137879"><span class="annot"><span class="annottext">f :: SExpr
</span><a href="#local-6989586621681137879"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137878"><span class="annot"><span class="annottext">g :: SExpr
</span><a href="#local-6989586621681137878"><span class="hs-identifier hs-var">g</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137877"><span class="annot"><span class="annottext">h :: SExpr
</span><a href="#local-6989586621681137877"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe a
-&gt; Maybe
     (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137884"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe b
-&gt; Maybe (c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137883"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe c
-&gt; Maybe (d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137882"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe d -&gt; Maybe (e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe d
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137881"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe e -&gt; Maybe (f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe e
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137880"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe f -&gt; Maybe (g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe f
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137879"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe g -&gt; Maybe (h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe g
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137878"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe h -&gt; Maybe (a, b, c, d, e, f, g, h)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe h
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137877"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-493"></span><span>                    </span><span class="hs-identifier">_</span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c, d, e, f, g, h)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getValue'</span><span>
</span><span id="line-496"></span><span id="local-6989586621681138798"><span id="local-6989586621681138799"><span class="annot"><a href="Data.SBV.Control.Utils.html#getValue"><span class="hs-identifier hs-type">getValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138799"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138799"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138798"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138798"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138799"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138798"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-497"></span><span id="getValue"><span class="annot"><span class="annottext">getValue :: SBV a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#getValue"><span class="hs-identifier hs-var hs-var">getValue</span></a></span></span><span> </span><span id="local-6989586621681137876"><span class="annot"><span class="annottext">s :: SBV a
</span><a href="#local-6989586621681137876"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137875"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137875"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; m SV
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
(State -&gt; IO a) -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier hs-var">inNewContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; SBV a -&gt; IO SV
forall a. State -&gt; SBV a -&gt; IO SV
</span><a href="Data.SBV.Core.Data.html#sbvToSV"><span class="hs-operator hs-var">`sbvToSV`</span></a></span><span> </span><span class="annot"><span class="annottext">SBV a
</span><a href="#local-6989586621681137876"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137874"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681137874"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137875"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-499"></span><span>                    </span><span id="local-6989586621681137873"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681137873"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-value (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137874"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;))&quot;</span></span><span>
</span><span id="line-500"></span><span>                    </span><span id="local-6989586621681137872"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137872"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getValue&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137873"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a model value&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span>                </span><span id="local-6989586621681137871"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137871"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137873"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-503"></span><span>
</span><span id="line-504"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137870"><span class="annot"><span class="annottext">extract :: SExpr -&gt; m a
</span><a href="#local-6989586621681137870"><span class="hs-identifier hs-var hs-var">extract</span></a></span></span><span> </span><span id="local-6989586621681137869"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681137869"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137869"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-505"></span><span>                                  </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m a
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137872"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137871"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-506"></span><span>                                  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137868"><span class="annot"><span class="annottext">c :: a
</span><a href="#local-6989586621681137868"><span class="hs-identifier hs-var">c</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137868"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-507"></span><span>
</span><span id="line-508"></span><span>                </span><span class="hs-comment">-- Along with regular extractions, also handle the oddball case of true/false request. These</span><span>
</span><span id="line-509"></span><span>                </span><span class="hs-comment">-- can come from queries, so we have to handle it specifically here.</span><span>
</span><span id="line-510"></span><span>                </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m a) -&gt; (SExpr -&gt; m a) -&gt; m a
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137871"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m a
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137872"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m a) -&gt; m a) -&gt; (SExpr -&gt; m a) -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137867"><span class="annot"><span class="annottext">o :: String
</span><a href="#local-6989586621681137867"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span>  </span><span id="local-6989586621681137866"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681137866"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">]</span><span class="hs-special">]</span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137867"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137875"><span class="hs-identifier hs-var">sv</span></a></span><span>                                             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; m a
forall a. SMTValue a =&gt; SExpr -&gt; m a
</span><a href="#local-6989586621681137870"><span class="hs-identifier hs-var">extract</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137866"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-511"></span><span>                                    </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137865"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681137865"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137864"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681137864"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137863"><span class="annot"><span class="annottext">j :: Integer
</span><a href="#local-6989586621681137863"><span class="hs-identifier hs-var">j</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137875"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; [SV] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681137865"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; [Integer] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681137865"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681137863"><span class="hs-identifier hs-var">j</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; m a
forall a. SMTValue a =&gt; SExpr -&gt; m a
</span><a href="#local-6989586621681137870"><span class="hs-identifier hs-var">extract</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137864"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-512"></span><span>                                    </span><span class="hs-identifier">_</span><span>                                                                                                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m a
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137872"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137871"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span class="hs-comment">-- | A class which allows for sexpr-conversion to functions</span><span>
</span><span id="line-515"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138644"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html#SatModel"><span class="hs-identifier hs-type">SatModel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138644"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138644"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="SMTFunction"><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier hs-var">SMTFunction</span></a></span></span><span> </span><span id="local-6989586621681138645"><span class="annot"><a href="#local-6989586621681138645"><span class="hs-identifier hs-type">fun</span></a></span></span><span> </span><span id="local-6989586621681138638"><span class="annot"><a href="#local-6989586621681138638"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span id="local-6989586621681138644"><span class="annot"><a href="#local-6989586621681138644"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="#local-6989586621681138645"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138638"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138644"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-516"></span><span>  </span><span id="sexprToArg"><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-identifier hs-type">sexprToArg</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681138645"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621681138638"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-517"></span><span>  </span><span id="local-6989586621681138627"><span id="smtFunName"><span class="annot"><a href="Data.SBV.Control.Utils.html#smtFunName"><span class="hs-identifier hs-type">smtFunName</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138627"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SolverContext"><span class="hs-identifier hs-type">SolverContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138627"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadSymbolic"><span class="hs-identifier hs-type">MonadSymbolic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138627"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138645"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138627"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-518"></span><span>  </span><span id="smtFunSaturate"><span class="annot"><a href="Data.SBV.Control.Utils.html#smtFunSaturate"><span class="hs-identifier hs-type">smtFunSaturate</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681138645"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138644"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-519"></span><span>  </span><span id="smtFunType"><span class="annot"><a href="Data.SBV.Control.Utils.html#smtFunType"><span class="hs-identifier hs-type">smtFunType</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681138645"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-type">SBVType</span></a></span><span>
</span><span id="line-520"></span><span>  </span><span id="smtFunDefault"><span class="annot"><a href="Data.SBV.Control.Utils.html#smtFunDefault"><span class="hs-identifier hs-type">smtFunDefault</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681138645"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621681138644"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-521"></span><span>  </span><span id="local-6989586621681138602"><span id="sexprToFun"><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToFun"><span class="hs-identifier hs-type">sexprToFun</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138602"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SolverContext"><span class="hs-identifier hs-type">SolverContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138602"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138602"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadSymbolic"><span class="hs-identifier hs-type">MonadSymbolic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138602"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138645"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138602"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681138638"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681138644"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681138644"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-522"></span><span>
</span><span id="line-523"></span><span>  </span><span class="hs-pragma">{-# MINIMAL</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-pragma hs-type">sexprToArg</span></a></span><span class="hs-pragma">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#smtFunSaturate"><span class="hs-pragma hs-type">smtFunSaturate</span></a></span><span class="hs-pragma">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#smtFunType"><span class="hs-pragma hs-type">smtFunType</span></a></span><span>  </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span>  </span><span class="hs-comment">-- Given the function, figure out a default &quot;return value&quot;</span><span>
</span><span id="line-526"></span><span>  </span><span id="local-6989586621681137855"><span class="annot"><a href="Data.SBV.Control.Utils.html#smtFunDefault"><span class="hs-identifier hs-var hs-var">smtFunDefault</span></a></span><span> </span><span class="hs-identifier">_</span><span>
</span><span id="line-527"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137854"><span class="annot"><span class="annottext">v :: CV
</span><a href="#local-6989586621681137854"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#defaultKindedValue"><span class="hs-identifier hs-var">defaultKindedValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy r -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy r
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681138644"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137852"><span class="annot"><span class="annottext">res :: r
</span><a href="#local-6989586621681137852"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[CV] -&gt; Maybe (r, [CV])
forall a. SatModel a =&gt; [CV] -&gt; Maybe (a, [CV])
</span><a href="Data.SBV.SMT.SMT.html#parseCVs"><span class="hs-identifier hs-var">parseCVs</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137854"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-528"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">r -&gt; Maybe r
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621681137852"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-529"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-530"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe r
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span></span><span>
</span><span id="line-531"></span><span>
</span><span id="line-532"></span><span>  </span><span class="hs-comment">-- Given the function, determine what its name is and do some sanity checks</span><span>
</span><span id="line-533"></span><span>  </span><span id="local-6989586621681137851"><span class="annot"><a href="Data.SBV.Control.Utils.html#smtFunName"><span class="hs-identifier hs-var hs-var">smtFunName</span></a></span><span> </span><span id="local-6989586621681137850"><span class="annot"><span class="annottext">f :: fun
</span><a href="#local-6989586621681137850"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137849"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681137849"><span class="hs-identifier hs-var">st</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span class="hs-special">{</span><span id="local-6989586621681137848"><span class="annot"><span class="annottext">IORef (Map String SBVType)
rUIMap :: State -&gt; IORef (Map String SBVType)
rUIMap :: IORef (Map String SBVType)
</span><a href="Data.SBV.Core.Symbolic.html#rUIMap"><span class="hs-identifier hs-var hs-var">rUIMap</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). SolverContext m =&gt; m State
</span><a href="Data.SBV.Core.Data.html#contextState"><span class="hs-identifier hs-var">contextState</span></a></span><span>
</span><span id="line-534"></span><span>                    </span><span id="local-6989586621681137846"><span class="annot"><span class="annottext">Map String SBVType
</span><a href="#local-6989586621681137846"><span class="hs-identifier hs-var">uiMap</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Map String SBVType) -&gt; m (Map String SBVType)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (Map String SBVType) -&gt; m (Map String SBVType))
-&gt; IO (Map String SBVType) -&gt; m (Map String SBVType)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef (Map String SBVType) -&gt; IO (Map String SBVType)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef (Map String SBVType)
</span><a href="#local-6989586621681137848"><span class="hs-identifier hs-var">rUIMap</span></a></span><span>
</span><span id="line-535"></span><span>                    </span><span class="annot"><span class="annottext">State -&gt; Map String SBVType -&gt; m String
forall (m :: * -&gt; *) b.
MonadIO m =&gt;
State -&gt; Map String b -&gt; m String
</span><a href="#local-6989586621681137845"><span class="hs-identifier hs-var">findName</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137849"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Map String SBVType
</span><a href="#local-6989586621681137846"><span class="hs-identifier hs-var">uiMap</span></a></span><span>
</span><span id="line-536"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137845"><span class="annot"><span class="annottext">findName :: State -&gt; Map String b -&gt; m String
</span><a href="#local-6989586621681137845"><span class="hs-identifier hs-var hs-var">findName</span></a></span></span><span> </span><span id="local-6989586621681137844"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681137844"><span class="hs-identifier hs-var">st</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span class="hs-special">{</span><span id="local-6989586621681137843"><span class="annot"><span class="annottext">IORef SBVPgm
spgm :: IORef SBVPgm
spgm :: State -&gt; IORef SBVPgm
</span><a href="#local-6989586621681137843"><span class="hs-identifier hs-var hs-var">spgm</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621681137842"><span class="annot"><span class="annottext">uiMap :: Map String b
</span><a href="#local-6989586621681137842"><span class="hs-identifier hs-var">uiMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-537"></span><span>             </span><span id="local-6989586621681137841"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137841"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; m SV
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO SV -&gt; m SV) -&gt; IO SV -&gt; m SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">State -&gt; SBV r -&gt; IO SV
forall a. State -&gt; SBV a -&gt; IO SV
</span><a href="Data.SBV.Core.Data.html#sbvToSV"><span class="hs-identifier hs-var">sbvToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137844"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">fun -&gt; SBV r
forall fun a r. SMTFunction fun a r =&gt; fun -&gt; SBV r
</span><a href="Data.SBV.Control.Utils.html#smtFunSaturate"><span class="hs-identifier hs-var">smtFunSaturate</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681137850"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-538"></span><span>             </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#forceSVArg"><span class="hs-identifier hs-var">forceSVArg</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137841"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-539"></span><span>             </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVPgm"><span class="hs-identifier hs-type">SBVPgm</span></a></span><span> </span><span id="local-6989586621681137839"><span class="annot"><span class="annottext">asgns :: Seq (SV, SBVExpr)
</span><a href="#local-6989586621681137839"><span class="hs-identifier hs-var">asgns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO SBVPgm -&gt; m SBVPgm
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO SBVPgm -&gt; m SBVPgm) -&gt; IO SBVPgm -&gt; m SBVPgm
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef SBVPgm -&gt; IO SBVPgm
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef SBVPgm
</span><a href="#local-6989586621681137843"><span class="hs-identifier hs-var">spgm</span></a></span><span>
</span><span id="line-540"></span><span>
</span><span id="line-541"></span><span>             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137838"><span class="annot"><span class="annottext">cantFind :: a
</span><a href="#local-6989586621681137838"><span class="hs-identifier hs-var hs-var">cantFind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [String] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-542"></span><span>                                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV.getFunction: Must be called on an uninterpreted function!&quot;</span></span><span>
</span><span id="line-543"></span><span>                                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-544"></span><span>                                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***    Expected to receive a function created by \&quot;uninterpret\&quot;&quot;</span></span><span>
</span><span id="line-545"></span><span>                                                 </span><span class="hs-special">]</span><span>
</span><span id="line-546"></span><span>                                              </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137837"><span class="hs-identifier hs-var">tag</span></a></span><span>
</span><span id="line-547"></span><span>                                              </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-548"></span><span>                                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Make sure to call getFunction on uninterpreted functions only!&quot;</span></span><span>
</span><span id="line-549"></span><span>                                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** If that is already the case, please report this as a bug.&quot;</span></span><span>
</span><span id="line-550"></span><span>                                                 </span><span class="hs-special">]</span><span>
</span><span id="line-551"></span><span>                      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137837"><span class="annot"><span class="annottext">tag :: [String]
</span><a href="#local-6989586621681137837"><span class="hs-identifier hs-var hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">((String, b) -&gt; String) -&gt; [(String, b)] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(String, b) -&gt; String
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map String b -&gt; [(String, b)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">Map String b
</span><a href="#local-6989586621681137842"><span class="hs-identifier hs-var">uiMap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-552"></span><span>                                    </span><span class="hs-special">[</span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;***    But, there are no matching uninterpreted functions in the context.&quot;</span></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-553"></span><span>                                    </span><span class="hs-special">[</span><span id="local-6989586621681137836"><span class="annot"><span class="annottext">x :: String
</span><a href="#local-6989586621681137836"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;***    The only possible candidate is: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137836"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-554"></span><span>                                    </span><span id="local-6989586621681137835"><span class="annot"><span class="annottext">cands :: [String]
</span><a href="#local-6989586621681137835"><span class="hs-identifier hs-var">cands</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;***    Candidates are:&quot;</span></span><span>
</span><span id="line-555"></span><span>                                             </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***        &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137835"><span class="hs-identifier hs-var">cands</span></a></span><span>
</span><span id="line-556"></span><span>                                             </span><span class="hs-special">]</span><span>
</span><span id="line-557"></span><span>
</span><span id="line-558"></span><span>             </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">((SV, SBVExpr) -&gt; Bool) -&gt; Seq (SV, SBVExpr) -&gt; Maybe Key
forall a. (a -&gt; Bool) -&gt; Seq a -&gt; Maybe Key
</span><span class="hs-identifier hs-var">S.findIndexR</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137841"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SV -&gt; Bool) -&gt; ((SV, SBVExpr) -&gt; SV) -&gt; (SV, SBVExpr) -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(SV, SBVExpr) -&gt; SV
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Seq (SV, SBVExpr)
</span><a href="#local-6989586621681137839"><span class="hs-identifier hs-var">asgns</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-559"></span><span>               </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m String
forall a. a
</span><a href="#local-6989586621681137838"><span class="hs-identifier hs-var">cantFind</span></a></span><span>
</span><span id="line-560"></span><span>               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137833"><span class="annot"><span class="annottext">i :: Key
</span><a href="#local-6989586621681137833"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Seq (SV, SBVExpr)
</span><a href="#local-6989586621681137839"><span class="hs-identifier hs-var">asgns</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (SV, SBVExpr) -&gt; Key -&gt; (SV, SBVExpr)
forall a. Seq a -&gt; Key -&gt; a
</span><span class="hs-operator hs-var">`S.index`</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137833"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-561"></span><span>                            </span><span class="hs-special">(</span><span id="local-6989586621681137831"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681137831"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-type">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Uninterpreted"><span class="hs-identifier hs-type">Uninterpreted</span></a></span><span> </span><span id="local-6989586621681137828"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681137828"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137841"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137831"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137828"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-562"></span><span>                            </span><span class="hs-identifier">_</span><span>                                           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m String
forall a. a
</span><a href="#local-6989586621681137838"><span class="hs-identifier hs-var">cantFind</span></a></span></span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span>  </span><span id="local-6989586621681137827"><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToFun"><span class="hs-identifier hs-var hs-var">sexprToFun</span></a></span><span> </span><span id="local-6989586621681137826"><span class="annot"><span class="annottext">f :: fun
</span><a href="#local-6989586621681137826"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621681137825"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681137825"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137824"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137824"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">fun -&gt; m String
forall fun a r (m :: * -&gt; *).
(SMTFunction fun a r, MonadIO m, SolverContext m,
 MonadSymbolic m) =&gt;
fun -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#smtFunName"><span class="hs-identifier hs-var">smtFunName</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681137826"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-565"></span><span>                      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe (Either String ([([SExpr], SExpr)], SExpr))
</span><a href="Data.SBV.Utils.SExpr.html#parseSExprFunction"><span class="hs-identifier hs-var">parseSExprFunction</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137825"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-566"></span><span>                        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681137822"><span class="annot"><span class="annottext">nm' :: String
</span><a href="#local-6989586621681137822"><span class="hs-identifier hs-var">nm'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137824"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137822"><span class="hs-identifier hs-var">nm'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">fun -&gt; Maybe r
forall fun a r. SMTFunction fun a r =&gt; fun -&gt; Maybe r
</span><a href="Data.SBV.Control.Utils.html#smtFunDefault"><span class="hs-identifier hs-var">smtFunDefault</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681137826"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-567"></span><span>                                             </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137821"><span class="annot"><span class="annottext">v :: r
</span><a href="#local-6989586621681137821"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ([(a, r)], r) -&gt; m (Maybe ([(a, r)], r))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe ([(a, r)], r) -&gt; m (Maybe ([(a, r)], r)))
-&gt; Maybe ([(a, r)], r) -&gt; m (Maybe ([(a, r)], r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">([(a, r)], r) -&gt; Maybe ([(a, r)], r)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621681137821"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-568"></span><span>                                             </span><span class="hs-identifier">_</span><span>               </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m (Maybe ([(a, r)], r))
forall a a. Show a =&gt; a -&gt; a
</span><a href="#local-6989586621681137820"><span class="hs-identifier hs-var">bailOut</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137824"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-569"></span><span>                        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621681137819"><span class="annot"><span class="annottext">v :: ([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137819"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe ([(a, r)], r) -&gt; m (Maybe ([(a, r)], r))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe ([(a, r)], r) -&gt; m (Maybe ([(a, r)], r)))
-&gt; Maybe ([(a, r)], r) -&gt; m (Maybe ([(a, r)], r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">([([SExpr], SExpr)], SExpr) -&gt; Maybe ([(a, r)], r)
forall (t :: * -&gt; *) a r a a.
(Traversable t, SMTFunction fun a r, SMTValue a, SMTValue a) =&gt;
(t ([SExpr], SExpr), SExpr) -&gt; Maybe (t (a, a), a)
</span><a href="#local-6989586621681137818"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137819"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-570"></span><span>                        </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137817"><span class="annot"><span class="annottext">Maybe ([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137817"><span class="hs-identifier hs-var">mbPVS</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; SBVType -&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; SBVType -&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
</span><a href="Data.SBV.Control.Utils.html#pointWiseExtract"><span class="hs-identifier hs-var">pointWiseExtract</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137824"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">fun -&gt; SBVType
forall fun a r. SMTFunction fun a r =&gt; fun -&gt; SBVType
</span><a href="Data.SBV.Control.Utils.html#smtFunType"><span class="hs-identifier hs-var">smtFunType</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681137826"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-571"></span><span>                                              </span><span class="annot"><span class="annottext">Maybe ([(a, r)], r) -&gt; m (Maybe ([(a, r)], r))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe ([(a, r)], r) -&gt; m (Maybe ([(a, r)], r)))
-&gt; Maybe ([(a, r)], r) -&gt; m (Maybe ([(a, r)], r))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe ([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137817"><span class="hs-identifier hs-var">mbPVS</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ([([SExpr], SExpr)], SExpr)
-&gt; (([([SExpr], SExpr)], SExpr) -&gt; Maybe ([(a, r)], r))
-&gt; Maybe ([(a, r)], r)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">([([SExpr], SExpr)], SExpr) -&gt; Maybe ([(a, r)], r)
forall (t :: * -&gt; *) a r a a.
(Traversable t, SMTFunction fun a r, SMTValue a, SMTValue a) =&gt;
(t ([SExpr], SExpr), SExpr) -&gt; Maybe (t (a, a), a)
</span><a href="#local-6989586621681137818"><span class="hs-identifier hs-var">convert</span></a></span><span>
</span><span id="line-572"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137818"><span class="annot"><span class="annottext">convert :: (t ([SExpr], SExpr), SExpr) -&gt; Maybe (t (a, a), a)
</span><a href="#local-6989586621681137818"><span class="hs-identifier hs-var hs-var">convert</span></a></span></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681137815"><span class="annot"><span class="annottext">vs :: t ([SExpr], SExpr)
</span><a href="#local-6989586621681137815"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137814"><span class="annot"><span class="annottext">d :: SExpr
</span><a href="#local-6989586621681137814"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(t (a, a) -&gt; a -&gt; (t (a, a), a))
-&gt; Maybe (t (a, a)) -&gt; Maybe (a -&gt; (t (a, a), a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(([SExpr], SExpr) -&gt; Maybe (a, a))
-&gt; t ([SExpr], SExpr) -&gt; Maybe (t (a, a))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">([SExpr], SExpr) -&gt; Maybe (a, a)
forall a r a.
(SMTFunction fun a r, SMTValue a) =&gt;
([SExpr], SExpr) -&gt; Maybe (a, a)
</span><a href="#local-6989586621681137813"><span class="hs-identifier hs-var">sexprPoint</span></a></span><span> </span><span class="annot"><span class="annottext">t ([SExpr], SExpr)
</span><a href="#local-6989586621681137815"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (a -&gt; (t (a, a), a)) -&gt; Maybe a -&gt; Maybe (t (a, a), a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137814"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-573"></span><span>          </span><span id="local-6989586621681137813"><span class="annot"><span class="annottext">sexprPoint :: ([SExpr], SExpr) -&gt; Maybe (a, a)
</span><a href="#local-6989586621681137813"><span class="hs-identifier hs-var hs-var">sexprPoint</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137812"><span class="annot"><span class="annottext">as :: [SExpr]
</span><a href="#local-6989586621681137812"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137811"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681137811"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; (a, a)) -&gt; Maybe a -&gt; Maybe (a -&gt; (a, a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">fun -&gt; [SExpr] -&gt; Maybe a
forall fun a r. SMTFunction fun a r =&gt; fun -&gt; [SExpr] -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-identifier hs-var">sexprToArg</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681137826"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137812"><span class="hs-keyword hs-var">as</span></a></span><span>    </span><span class="annot"><span class="annottext">Maybe (a -&gt; (a, a)) -&gt; Maybe a -&gt; Maybe (a, a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137811"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-574"></span><span>
</span><span id="line-575"></span><span>          </span><span id="local-6989586621681137820"><span class="annot"><span class="annottext">bailOut :: a -&gt; a
</span><a href="#local-6989586621681137820"><span class="hs-identifier hs-var hs-var">bailOut</span></a></span></span><span> </span><span id="local-6989586621681137810"><span class="annot"><span class="annottext">nm :: a
</span><a href="#local-6989586621681137810"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-576"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV.getFunction: Unable to extract an interpretation for function &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137810"><span class="hs-identifier hs-var">nm</span></a></span><span>
</span><span id="line-577"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-578"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Failed while trying to extract a pointwise interpretation.&quot;</span></span><span>
</span><span id="line-579"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-580"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** This could be a bug with SBV or the backend solver. Please report!&quot;</span></span><span>
</span><span id="line-581"></span><span>                                       </span><span class="hs-special">]</span></span><span>
</span><span id="line-582"></span><span>
</span><span id="line-583"></span><span class="hs-comment">-- | Registering an uninterpreted SMT function. This is typically not necessary as uses of the UI</span><span>
</span><span id="line-584"></span><span class="hs-comment">-- function itself will register it automatically. But there are cases where doing this explicitly can</span><span>
</span><span id="line-585"></span><span class="hs-comment">-- come in handy.</span><span>
</span><span id="line-586"></span><span id="local-6989586621681137806"><span id="local-6989586621681137807"><span id="local-6989586621681137808"><span id="local-6989586621681137809"><span class="annot"><a href="Data.SBV.Control.Utils.html#registerUISMTFunction"><span class="hs-identifier hs-type">registerUISMTFunction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681137809"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SolverContext"><span class="hs-identifier hs-type">SolverContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137809"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadSymbolic"><span class="hs-identifier hs-type">MonadSymbolic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137809"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier hs-type">SMTFunction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137808"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137807"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137806"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681137808"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681137809"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-587"></span><span id="registerUISMTFunction"><span class="annot"><span class="annottext">registerUISMTFunction :: fun -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#registerUISMTFunction"><span class="hs-identifier hs-var hs-var">registerUISMTFunction</span></a></span></span><span> </span><span id="local-6989586621681137805"><span class="annot"><span class="annottext">f :: fun
</span><a href="#local-6989586621681137805"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137804"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137804"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). SolverContext m =&gt; m State
</span><a href="Data.SBV.Core.Data.html#contextState"><span class="hs-identifier hs-var">contextState</span></a></span><span>
</span><span id="line-588"></span><span>                             </span><span id="local-6989586621681137803"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137803"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">fun -&gt; m String
forall fun a r (m :: * -&gt; *).
(SMTFunction fun a r, MonadIO m, SolverContext m,
 MonadSymbolic m) =&gt;
fun -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#smtFunName"><span class="hs-identifier hs-var">smtFunName</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681137805"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-589"></span><span>                             </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">State -&gt; String -&gt; SBVType -&gt; Maybe [String] -&gt; IO ()
</span><a href="Data.SBV.Core.Symbolic.html#newUninterpreted"><span class="hs-identifier hs-var">newUninterpreted</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137804"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137803"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">fun -&gt; SBVType
forall fun a r. SMTFunction fun a r =&gt; fun -&gt; SBVType
</span><a href="Data.SBV.Control.Utils.html#smtFunType"><span class="hs-identifier hs-var">smtFunType</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681137805"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-590"></span><span>
</span><span id="line-591"></span><span class="hs-comment">-- | Pointwise function value extraction. If we get unlucky and can't parse z3's output (happens</span><span>
</span><span id="line-592"></span><span class="hs-comment">-- when we have all booleans and z3 decides to spit out an expression), just brute force our</span><span>
</span><span id="line-593"></span><span class="hs-comment">-- way out of it. Note that we only do this if we have a pure boolean type, as otherwise we'd blow</span><span>
</span><span id="line-594"></span><span class="hs-comment">-- up. And I think it'll only be necessary then, I haven't seen z3 try anything smarter in other scenarios.</span><span>
</span><span id="line-595"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#pointWiseExtract"><span class="hs-identifier hs-type">pointWiseExtract</span></a></span><span> </span><span class="hs-glyph">::</span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681138618"><span class="annot"><a href="#local-6989586621681138618"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138618"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138618"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-type">SBVType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138618"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-596"></span><span id="pointWiseExtract"><span class="annot"><span class="annottext">pointWiseExtract :: String -&gt; SBVType -&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
</span><a href="Data.SBV.Control.Utils.html#pointWiseExtract"><span class="hs-identifier hs-var hs-var">pointWiseExtract</span></a></span></span><span> </span><span id="local-6989586621681137802"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681137802"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span id="local-6989586621681137801"><span class="annot"><span class="annottext">typ :: SBVType
</span><a href="#local-6989586621681137801"><span class="hs-identifier hs-var">typ</span></a></span></span><span>
</span><span id="line-597"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137800"><span class="hs-identifier hs-var">isBoolFunc</span></a></span><span>
</span><span id="line-598"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (Maybe ([([SExpr], SExpr)], SExpr))
</span><a href="#local-6989586621681137799"><span class="hs-identifier hs-var">tryPointWise</span></a></span><span>
</span><span id="line-599"></span><span>   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-600"></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m (Maybe ([([SExpr], SExpr)], SExpr)))
-&gt; String -&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-601"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV.getFunction: Unsupported: Extracting interpretation for function:&quot;</span></span><span>
</span><span id="line-602"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-603"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***     &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137802"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; :: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SBVType -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SBVType
</span><a href="#local-6989586621681137801"><span class="hs-identifier hs-var">typ</span></a></span><span>
</span><span id="line-604"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-605"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** At this time, the expression returned by the solver is too complicated for SBV!&quot;</span></span><span>
</span><span id="line-606"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-607"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** You can ignore uninterpreted function models for sat models using the 'satTrackUFs' parameter:&quot;</span></span><span>
</span><span id="line-608"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-609"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***             satWith    z3{satTrackUFs = False}&quot;</span></span><span>
</span><span id="line-610"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***             allSatWith z3{satTrackUFs = False}&quot;</span></span><span>
</span><span id="line-611"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-612"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** You can see the response from the solver by running with '{verbose = True}' option.&quot;</span></span><span>
</span><span id="line-613"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-614"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** NB. If this is a use case you'd like SBV to support, please get in touch!&quot;</span></span><span>
</span><span id="line-615"></span><span>                     </span><span class="hs-special">]</span><span>
</span><span id="line-616"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137798"><span class="annot"><span class="annottext">trueSExpr :: SExpr
</span><a href="#local-6989586621681137798"><span class="hs-identifier hs-var hs-var">trueSExpr</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Integer, Maybe Key) -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-var">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Key
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-617"></span><span>        </span><span id="local-6989586621681137797"><span class="annot"><span class="annottext">falseSExpr :: SExpr
</span><a href="#local-6989586621681137797"><span class="hs-identifier hs-var hs-var">falseSExpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Integer, Maybe Key) -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-var">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Key
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-618"></span><span>
</span><span id="line-619"></span><span>        </span><span id="local-6989586621681137796"><span class="annot"><span class="annottext">isTrueSExpr :: SExpr -&gt; Bool
</span><a href="#local-6989586621681137796"><span class="hs-identifier hs-var hs-var">isTrueSExpr</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-number">1</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-620"></span><span>        </span><span class="annot"><a href="#local-6989586621681137796"><span class="hs-identifier hs-var">isTrueSExpr</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-621"></span><span>        </span><span class="annot"><a href="#local-6989586621681137796"><span class="hs-identifier hs-var">isTrueSExpr</span></a></span><span> </span><span id="local-6989586621681137795"><span class="annot"><span class="annottext">s :: SExpr
</span><a href="#local-6989586621681137795"><span class="hs-identifier hs-var">s</span></a></span></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Bool) -&gt; String -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.pointWiseExtract: Impossible happened: Received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137795"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-622"></span><span>
</span><span id="line-623"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621681137794"><span class="annot"><span class="annottext">nArgs :: Key
</span><a href="#local-6989586621681137794"><span class="hs-identifier hs-var">nArgs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137800"><span class="annot"><span class="annottext">isBoolFunc :: Bool
</span><a href="#local-6989586621681137800"><span class="hs-identifier hs-var">isBoolFunc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SBVType
</span><a href="#local-6989586621681137801"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-624"></span><span>                                </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-type">SBVType</span></a></span><span> </span><span id="local-6989586621681137792"><span class="annot"><span class="annottext">ts :: [Kind]
</span><a href="#local-6989586621681137792"><span class="hs-identifier hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Kind] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137792"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Bool) -&gt; [Kind] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">all</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137792"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-625"></span><span>
</span><span id="line-626"></span><span>        </span><span class="annot"><a href="#local-6989586621681137790"><span class="hs-identifier hs-type">getBVal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138618"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-627"></span><span>        </span><span id="local-6989586621681137790"><span class="annot"><span class="annottext">getBVal :: [SExpr] -&gt; m ([SExpr], SExpr)
</span><a href="#local-6989586621681137790"><span class="hs-identifier hs-var hs-var">getBVal</span></a></span></span><span> </span><span id="local-6989586621681137789"><span class="annot"><span class="annottext">args :: [SExpr]
</span><a href="#local-6989586621681137789"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137788"><span class="annot"><span class="annottext">shc :: SExpr -&gt; String
</span><a href="#local-6989586621681137788"><span class="hs-identifier hs-var hs-var">shc</span></a></span></span><span> </span><span id="local-6989586621681137787"><span class="annot"><span class="annottext">c :: SExpr
</span><a href="#local-6989586621681137787"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Bool
</span><a href="#local-6989586621681137796"><span class="hs-identifier hs-var">isTrueSExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137787"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;true&quot;</span></span><span>
</span><span id="line-628"></span><span>                                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;false&quot;</span></span><span>
</span><span id="line-629"></span><span>
</span><span id="line-630"></span><span>                              </span><span id="local-6989586621681137786"><span class="annot"><span class="annottext">as :: String
</span><a href="#local-6989586621681137786"><span class="hs-keyword hs-var hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; [String] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(SExpr -&gt; String) -&gt; [SExpr] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
</span><a href="#local-6989586621681137788"><span class="hs-identifier hs-var">shc</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137789"><span class="hs-identifier hs-var">args</span></a></span><span>
</span><span id="line-631"></span><span>
</span><span id="line-632"></span><span>                              </span><span id="local-6989586621681137784"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681137784"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-value ((&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137802"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137786"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)))&quot;</span></span><span>
</span><span id="line-633"></span><span>
</span><span id="line-634"></span><span>                              </span><span id="local-6989586621681137783"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137783"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;get-value&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137784"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;pointwise value of boolean function &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137802"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; on &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137786"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-635"></span><span>
</span><span id="line-636"></span><span>                          </span><span id="local-6989586621681137782"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137782"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137784"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-637"></span><span>
</span><span id="line-638"></span><span>                          </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m ([SExpr], SExpr))
-&gt; (SExpr -&gt; m ([SExpr], SExpr))
-&gt; m ([SExpr], SExpr)
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137782"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m ([SExpr], SExpr)
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137783"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m ([SExpr], SExpr)) -&gt; m ([SExpr], SExpr))
-&gt; (SExpr -&gt; m ([SExpr], SExpr)) -&gt; m ([SExpr], SExpr)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137781"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681137781"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([SExpr], SExpr) -&gt; m ([SExpr], SExpr)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137789"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137781"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-639"></span><span>                                              </span><span class="hs-identifier">_</span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m ([SExpr], SExpr)
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137783"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137782"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-640"></span><span>
</span><span id="line-641"></span><span>        </span><span class="annot"><a href="#local-6989586621681137780"><span class="hs-identifier hs-type">getBVals</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621681138618"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-642"></span><span>        </span><span id="local-6989586621681137780"><span class="annot"><span class="annottext">getBVals :: m [([SExpr], SExpr)]
</span><a href="#local-6989586621681137780"><span class="hs-identifier hs-var hs-var">getBVals</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([SExpr] -&gt; m ([SExpr], SExpr))
-&gt; [[SExpr]] -&gt; m [([SExpr], SExpr)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">[SExpr] -&gt; m ([SExpr], SExpr)
</span><a href="#local-6989586621681137790"><span class="hs-identifier hs-var">getBVal</span></a></span><span> </span><span class="annot"><span class="annottext">([[SExpr]] -&gt; m [([SExpr], SExpr)])
-&gt; [[SExpr]] -&gt; m [([SExpr], SExpr)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; [SExpr] -&gt; [[SExpr]]
forall (m :: * -&gt; *) a. Applicative m =&gt; Key -&gt; m a -&gt; m [a]
</span><span class="hs-identifier hs-var">replicateM</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137794"><span class="hs-identifier hs-var">nArgs</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137797"><span class="hs-identifier hs-var">falseSExpr</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137798"><span class="hs-identifier hs-var">trueSExpr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-643"></span><span>
</span><span id="line-644"></span><span>        </span><span id="local-6989586621681137799"><span class="annot"><span class="annottext">tryPointWise :: m (Maybe ([([SExpr], SExpr)], SExpr))
</span><a href="#local-6989586621681137799"><span class="hs-identifier hs-var hs-var">tryPointWise</span></a></span></span><span>
</span><span id="line-645"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137800"><span class="hs-identifier hs-var">isBoolFunc</span></a></span><span>
</span><span id="line-646"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ([([SExpr], SExpr)], SExpr)
-&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe ([([SExpr], SExpr)], SExpr)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-647"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137794"><span class="hs-identifier hs-var">nArgs</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>
</span><span id="line-648"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m (Maybe ([([SExpr], SExpr)], SExpr)))
-&gt; String -&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.pointWiseExtract: Impossible happened, nArgs &lt; 1: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137794"><span class="hs-identifier hs-var">nArgs</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; type: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SBVType -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SBVType
</span><a href="#local-6989586621681137801"><span class="hs-identifier hs-var">typ</span></a></span><span>
</span><span id="line-649"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-650"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137777"><span class="annot"><span class="annottext">[([SExpr], SExpr)]
</span><a href="#local-6989586621681137777"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m [([SExpr], SExpr)]
</span><a href="#local-6989586621681137780"><span class="hs-identifier hs-var">getBVals</span></a></span><span>
</span><span id="line-651"></span><span>               </span><span class="hs-comment">-- Pick the value that will give us the fewer entries</span><span>
</span><span id="line-652"></span><span>               </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137776"><span class="annot"><span class="annottext">trues :: [([SExpr], SExpr)]
</span><a href="#local-6989586621681137776"><span class="hs-identifier hs-var">trues</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137775"><span class="annot"><span class="annottext">falses :: [([SExpr], SExpr)]
</span><a href="#local-6989586621681137775"><span class="hs-identifier hs-var">falses</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(([SExpr], SExpr) -&gt; Bool)
-&gt; [([SExpr], SExpr)] -&gt; ([([SExpr], SExpr)], [([SExpr], SExpr)])
forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">partition</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137774"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681137774"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Bool
</span><a href="#local-6989586621681137796"><span class="hs-identifier hs-var">isTrueSExpr</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137774"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[([SExpr], SExpr)]
</span><a href="#local-6989586621681137777"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-653"></span><span>               </span><span class="annot"><span class="annottext">Maybe ([([SExpr], SExpr)], SExpr)
-&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe ([([SExpr], SExpr)], SExpr)
 -&gt; m (Maybe ([([SExpr], SExpr)], SExpr)))
-&gt; Maybe ([([SExpr], SExpr)], SExpr)
-&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">([([SExpr], SExpr)], SExpr) -&gt; Maybe ([([SExpr], SExpr)], SExpr)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(([([SExpr], SExpr)], SExpr) -&gt; Maybe ([([SExpr], SExpr)], SExpr))
-&gt; ([([SExpr], SExpr)], SExpr) -&gt; Maybe ([([SExpr], SExpr)], SExpr)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[([SExpr], SExpr)] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[([SExpr], SExpr)]
</span><a href="#local-6989586621681137776"><span class="hs-identifier hs-var">trues</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">[([SExpr], SExpr)] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[([SExpr], SExpr)]
</span><a href="#local-6989586621681137775"><span class="hs-identifier hs-var">falses</span></a></span><span>
</span><span id="line-654"></span><span>                               </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[([SExpr], SExpr)]
</span><a href="#local-6989586621681137776"><span class="hs-identifier hs-var">trues</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137797"><span class="hs-identifier hs-var">falseSExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-655"></span><span>                               </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[([SExpr], SExpr)]
</span><a href="#local-6989586621681137775"><span class="hs-identifier hs-var">falses</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137798"><span class="hs-identifier hs-var">trueSExpr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-656"></span><span>
</span><span id="line-657"></span><span class="hs-comment">-- | For saturation purposes, get a proper argument. The forall quantification</span><span>
</span><span id="line-658"></span><span class="hs-comment">-- is safe here since we only use in smtFunSaturate calls, which looks at the</span><span>
</span><span id="line-659"></span><span class="hs-comment">-- kind stored inside only.</span><span>
</span><span id="line-660"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-type">mkArg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681138599"><span class="annot"><a href="#local-6989586621681138599"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138599"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-661"></span><span id="mkArg"><span class="annot"><span class="annottext">mkArg :: Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var hs-var">mkArg</span></a></span></span><span> </span><span id="local-6989586621681137771"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681137771"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#defaultKindedValue"><span class="hs-identifier hs-var">defaultKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137771"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-662"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SBV a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SBV a) -&gt; String -&gt; SBV a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-663"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV.smtFunSaturate: Impossible happened!&quot;</span></span><span>
</span><span id="line-664"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Unable to create a valid parameter for kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137771"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-665"></span><span>                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Please report this as an SBV bug!&quot;</span></span><span>
</span><span id="line-666"></span><span>                                       </span><span class="hs-special">]</span><span>
</span><span id="line-667"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137770"><span class="annot"><span class="annottext">c :: CV
</span><a href="#local-6989586621681137770"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SBV a
forall a. SVal -&gt; SBV a
</span><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-var">SBV</span></a></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SBV a) -&gt; SVal -&gt; SBV a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137771"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137770"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-668"></span><span>
</span><span id="line-669"></span><span class="hs-comment">-- | Functions of arity 1</span><span>
</span><span id="line-670"></span><span id="local-6989586621681137767"><span id="local-6989586621681137768"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681137755"><span id="local-6989586621681137757"><span id="local-6989586621681137761"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137768"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137768"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137768"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-671"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html#SatModel"><span class="hs-identifier hs-type">SatModel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137767"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137767"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137767"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-672"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier hs-type">SMTFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137768"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137767"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681137768"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137767"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-673"></span><span>         </span><span class="hs-keyword">where</span><span>
</span><span id="line-674"></span><span>  </span><span id="local-6989586621681137753"><span class="annot"><span class="annottext">sexprToArg :: (SBV a -&gt; SBV r) -&gt; [SExpr] -&gt; Maybe a
</span><a href="#local-6989586621681137753"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToArg</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681137752"><span class="annot"><span class="annottext">a0 :: SExpr
</span><a href="#local-6989586621681137752"><span class="hs-identifier hs-var">a0</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137752"><span class="hs-identifier hs-var">a0</span></a></span><span>
</span><span id="line-675"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-identifier hs-var">sexprToArg</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-676"></span><span>
</span><span id="line-677"></span><span>  </span><span id="local-6989586621681137751"><span class="annot"><span class="annottext">smtFunType :: (SBV a -&gt; SBV r) -&gt; SBVType
</span><a href="#local-6989586621681137751"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; SBVType
</span><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-var">SBVType</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137768"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy r -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy r
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137767"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-678"></span><span>
</span><span id="line-679"></span><span>  </span><span id="local-6989586621681137750"><span class="annot"><span class="annottext">smtFunSaturate :: (SBV a -&gt; SBV r) -&gt; SBV r
</span><a href="#local-6989586621681137750"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunSaturate</span></a></span></span><span> </span><span id="local-6989586621681137749"><span class="annot"><span class="annottext">f :: SBV a -&gt; SBV r
</span><a href="#local-6989586621681137749"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; SBV r
</span><a href="#local-6989586621681137749"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(SBV a -&gt; SBV r) -&gt; SBV a -&gt; SBV r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SBV a
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137768"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-680"></span><span>
</span><span id="line-681"></span><span class="hs-comment">-- | Functions of arity 2</span><span>
</span><span id="line-682"></span><span id="local-6989586621681137746"><span id="local-6989586621681137747"><span id="local-6989586621681137748"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681137734"><span id="local-6989586621681137736"><span id="local-6989586621681137740"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137748"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137748"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137748"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-683"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137747"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137747"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137747"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-684"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html#SatModel"><span class="hs-identifier hs-type">SatModel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137746"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137746"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137746"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-685"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier hs-type">SMTFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137748"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137747"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137746"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137748"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137747"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681137746"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-686"></span><span>         </span><span class="hs-keyword">where</span><span>
</span><span id="line-687"></span><span>  </span><span id="local-6989586621681137733"><span class="annot"><span class="annottext">sexprToArg :: (SBV a -&gt; SBV b -&gt; SBV r) -&gt; [SExpr] -&gt; Maybe (a, b)
</span><a href="#local-6989586621681137733"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToArg</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681137732"><span class="annot"><span class="annottext">a0 :: SExpr
</span><a href="#local-6989586621681137732"><span class="hs-identifier hs-var">a0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137731"><span class="annot"><span class="annottext">a1 :: SExpr
</span><a href="#local-6989586621681137731"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; (a, b)) -&gt; Maybe a -&gt; Maybe (b -&gt; (a, b))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137732"><span class="hs-identifier hs-var">a0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; (a, b)) -&gt; Maybe b -&gt; Maybe (a, b)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137731"><span class="hs-identifier hs-var">a1</span></a></span><span>
</span><span id="line-688"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-identifier hs-var">sexprToArg</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-689"></span><span>
</span><span id="line-690"></span><span>  </span><span id="local-6989586621681137730"><span class="annot"><span class="annottext">smtFunType :: (SBV a -&gt; SBV b -&gt; SBV r) -&gt; SBVType
</span><a href="#local-6989586621681137730"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; SBVType
</span><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-var">SBVType</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137748"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137747"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy r -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy r
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137746"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-691"></span><span>
</span><span id="line-692"></span><span>  </span><span id="local-6989586621681137729"><span class="annot"><span class="annottext">smtFunSaturate :: (SBV a -&gt; SBV b -&gt; SBV r) -&gt; SBV r
</span><a href="#local-6989586621681137729"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunSaturate</span></a></span></span><span> </span><span id="local-6989586621681137728"><span class="annot"><span class="annottext">f :: SBV a -&gt; SBV b -&gt; SBV r
</span><a href="#local-6989586621681137728"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; SBV b -&gt; SBV r
</span><a href="#local-6989586621681137728"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV a
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137748"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-693"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV b
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137747"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-694"></span><span>
</span><span id="line-695"></span><span class="hs-comment">-- | Functions of arity 3</span><span>
</span><span id="line-696"></span><span id="local-6989586621681137724"><span id="local-6989586621681137725"><span id="local-6989586621681137726"><span id="local-6989586621681137727"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681137712"><span id="local-6989586621681137714"><span id="local-6989586621681137718"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137727"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137727"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137727"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-697"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137726"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137726"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137726"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-698"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137725"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137725"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137725"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-699"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html#SatModel"><span class="hs-identifier hs-type">SatModel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137724"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137724"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137724"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-700"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier hs-type">SMTFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137727"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137726"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137725"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137724"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137727"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137726"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137725"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681137724"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-701"></span><span>         </span><span class="hs-keyword">where</span><span>
</span><span id="line-702"></span><span>  </span><span id="local-6989586621681137711"><span class="annot"><span class="annottext">sexprToArg :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV r) -&gt; [SExpr] -&gt; Maybe (a, b, c)
</span><a href="#local-6989586621681137711"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToArg</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681137710"><span class="annot"><span class="annottext">a0 :: SExpr
</span><a href="#local-6989586621681137710"><span class="hs-identifier hs-var">a0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137709"><span class="annot"><span class="annottext">a1 :: SExpr
</span><a href="#local-6989586621681137709"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137708"><span class="annot"><span class="annottext">a2 :: SExpr
</span><a href="#local-6989586621681137708"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; (a, b, c))
-&gt; Maybe a -&gt; Maybe (b -&gt; c -&gt; (a, b, c))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137710"><span class="hs-identifier hs-var">a0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; (a, b, c)) -&gt; Maybe b -&gt; Maybe (c -&gt; (a, b, c))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137709"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; (a, b, c)) -&gt; Maybe c -&gt; Maybe (a, b, c)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137708"><span class="hs-identifier hs-var">a2</span></a></span><span>
</span><span id="line-703"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-identifier hs-var">sexprToArg</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-704"></span><span>
</span><span id="line-705"></span><span>  </span><span id="local-6989586621681137707"><span class="annot"><span class="annottext">smtFunType :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV r) -&gt; SBVType
</span><a href="#local-6989586621681137707"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; SBVType
</span><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-var">SBVType</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137727"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137726"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137725"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy r -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy r
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137724"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-706"></span><span>
</span><span id="line-707"></span><span>  </span><span id="local-6989586621681137706"><span class="annot"><span class="annottext">smtFunSaturate :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV r) -&gt; SBV r
</span><a href="#local-6989586621681137706"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunSaturate</span></a></span></span><span> </span><span id="local-6989586621681137705"><span class="annot"><span class="annottext">f :: SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV r
</span><a href="#local-6989586621681137705"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV r
</span><a href="#local-6989586621681137705"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV a
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137727"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-708"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV b
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137726"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-709"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV c
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137725"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-710"></span><span>
</span><span id="line-711"></span><span class="hs-comment">-- | Functions of arity 4</span><span>
</span><span id="line-712"></span><span id="local-6989586621681137700"><span id="local-6989586621681137701"><span id="local-6989586621681137702"><span id="local-6989586621681137703"><span id="local-6989586621681137704"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681137688"><span id="local-6989586621681137690"><span id="local-6989586621681137694"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137704"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137704"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137704"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-713"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137703"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137703"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137703"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-714"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137702"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137702"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137702"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-715"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137701"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137701"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137701"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-716"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html#SatModel"><span class="hs-identifier hs-type">SatModel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137700"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137700"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137700"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-717"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier hs-type">SMTFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137704"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137703"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137702"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137701"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137700"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137704"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137703"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137702"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137701"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681137700"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-718"></span><span>         </span><span class="hs-keyword">where</span><span>
</span><span id="line-719"></span><span>  </span><span id="local-6989586621681137687"><span class="annot"><span class="annottext">sexprToArg :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV r)
-&gt; [SExpr] -&gt; Maybe (a, b, c, d)
</span><a href="#local-6989586621681137687"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToArg</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681137686"><span class="annot"><span class="annottext">a0 :: SExpr
</span><a href="#local-6989586621681137686"><span class="hs-identifier hs-var">a0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137685"><span class="annot"><span class="annottext">a1 :: SExpr
</span><a href="#local-6989586621681137685"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137684"><span class="annot"><span class="annottext">a2 :: SExpr
</span><a href="#local-6989586621681137684"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137683"><span class="annot"><span class="annottext">a3 :: SExpr
</span><a href="#local-6989586621681137683"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; d -&gt; (a, b, c, d))
-&gt; Maybe a -&gt; Maybe (b -&gt; c -&gt; d -&gt; (a, b, c, d))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137686"><span class="hs-identifier hs-var">a0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; d -&gt; (a, b, c, d))
-&gt; Maybe b -&gt; Maybe (c -&gt; d -&gt; (a, b, c, d))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137685"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; d -&gt; (a, b, c, d))
-&gt; Maybe c -&gt; Maybe (d -&gt; (a, b, c, d))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137684"><span class="hs-identifier hs-var">a2</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (d -&gt; (a, b, c, d)) -&gt; Maybe d -&gt; Maybe (a, b, c, d)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe d
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137683"><span class="hs-identifier hs-var">a3</span></a></span><span>
</span><span id="line-720"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-identifier hs-var">sexprToArg</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c, d)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-721"></span><span>
</span><span id="line-722"></span><span>  </span><span id="local-6989586621681137682"><span class="annot"><span class="annottext">smtFunType :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV r) -&gt; SBVType
</span><a href="#local-6989586621681137682"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; SBVType
</span><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-var">SBVType</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137704"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137703"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137702"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy d -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137701"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy r -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy r
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137700"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-723"></span><span>
</span><span id="line-724"></span><span>  </span><span id="local-6989586621681137681"><span class="annot"><span class="annottext">smtFunSaturate :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV r) -&gt; SBV r
</span><a href="#local-6989586621681137681"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunSaturate</span></a></span></span><span> </span><span id="local-6989586621681137680"><span class="annot"><span class="annottext">f :: SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV r
</span><a href="#local-6989586621681137680"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV r
</span><a href="#local-6989586621681137680"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV a
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137704"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-725"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV b
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137703"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-726"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV c
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137702"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-727"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV d
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137701"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span><span>
</span><span id="line-728"></span><span>
</span><span id="line-729"></span><span class="hs-comment">-- | Functions of arity 5</span><span>
</span><span id="line-730"></span><span id="local-6989586621681137674"><span id="local-6989586621681137675"><span id="local-6989586621681137676"><span id="local-6989586621681137677"><span id="local-6989586621681137678"><span id="local-6989586621681137679"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681137662"><span id="local-6989586621681137664"><span id="local-6989586621681137668"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137679"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137679"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137679"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-731"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137678"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137678"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137678"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-732"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137677"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137677"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137677"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-733"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137676"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137676"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137676"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-734"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137675"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137675"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137675"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-735"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html#SatModel"><span class="hs-identifier hs-type">SatModel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137674"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137674"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137674"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-736"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier hs-type">SMTFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137679"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137678"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137677"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137676"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137675"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137674"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137679"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137678"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137677"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137676"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137675"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681137674"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-737"></span><span>         </span><span class="hs-keyword">where</span><span>
</span><span id="line-738"></span><span>  </span><span id="local-6989586621681137661"><span class="annot"><span class="annottext">sexprToArg :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV r)
-&gt; [SExpr] -&gt; Maybe (a, b, c, d, e)
</span><a href="#local-6989586621681137661"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToArg</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681137660"><span class="annot"><span class="annottext">a0 :: SExpr
</span><a href="#local-6989586621681137660"><span class="hs-identifier hs-var">a0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137659"><span class="annot"><span class="annottext">a1 :: SExpr
</span><a href="#local-6989586621681137659"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137658"><span class="annot"><span class="annottext">a2 :: SExpr
</span><a href="#local-6989586621681137658"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137657"><span class="annot"><span class="annottext">a3 :: SExpr
</span><a href="#local-6989586621681137657"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137656"><span class="annot"><span class="annottext">a4 :: SExpr
</span><a href="#local-6989586621681137656"><span class="hs-identifier hs-var">a4</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; d -&gt; e -&gt; (a, b, c, d, e))
-&gt; Maybe a -&gt; Maybe (b -&gt; c -&gt; d -&gt; e -&gt; (a, b, c, d, e))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137660"><span class="hs-identifier hs-var">a0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; d -&gt; e -&gt; (a, b, c, d, e))
-&gt; Maybe b -&gt; Maybe (c -&gt; d -&gt; e -&gt; (a, b, c, d, e))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137659"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; d -&gt; e -&gt; (a, b, c, d, e))
-&gt; Maybe c -&gt; Maybe (d -&gt; e -&gt; (a, b, c, d, e))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137658"><span class="hs-identifier hs-var">a2</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (d -&gt; e -&gt; (a, b, c, d, e))
-&gt; Maybe d -&gt; Maybe (e -&gt; (a, b, c, d, e))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe d
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137657"><span class="hs-identifier hs-var">a3</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (e -&gt; (a, b, c, d, e)) -&gt; Maybe e -&gt; Maybe (a, b, c, d, e)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe e
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137656"><span class="hs-identifier hs-var">a4</span></a></span><span>
</span><span id="line-739"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-identifier hs-var">sexprToArg</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c, d, e)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-740"></span><span>
</span><span id="line-741"></span><span>  </span><span id="local-6989586621681137655"><span class="annot"><span class="annottext">smtFunType :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV r) -&gt; SBVType
</span><a href="#local-6989586621681137655"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; SBVType
</span><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-var">SBVType</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137679"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137678"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137677"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy d -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137676"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy e -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137675"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy r -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy r
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137674"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-742"></span><span>
</span><span id="line-743"></span><span>  </span><span id="local-6989586621681137654"><span class="annot"><span class="annottext">smtFunSaturate :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV r) -&gt; SBV r
</span><a href="#local-6989586621681137654"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunSaturate</span></a></span></span><span> </span><span id="local-6989586621681137653"><span class="annot"><span class="annottext">f :: SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV r
</span><a href="#local-6989586621681137653"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV r
</span><a href="#local-6989586621681137653"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV a
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137679"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-744"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV b
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137678"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-745"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV c
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137677"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-746"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV d
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137676"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-747"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV e
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137675"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span><span>
</span><span id="line-748"></span><span>
</span><span id="line-749"></span><span class="hs-comment">-- | Functions of arity 6</span><span>
</span><span id="line-750"></span><span id="local-6989586621681137646"><span id="local-6989586621681137647"><span id="local-6989586621681137648"><span id="local-6989586621681137649"><span id="local-6989586621681137650"><span id="local-6989586621681137651"><span id="local-6989586621681137652"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681137634"><span id="local-6989586621681137636"><span id="local-6989586621681137640"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137652"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137652"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137652"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-751"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137651"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137651"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137651"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-752"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137650"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137650"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137650"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-753"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137649"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137649"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137649"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-754"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137648"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137648"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137648"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-755"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137647"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137647"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137647"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-756"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html#SatModel"><span class="hs-identifier hs-type">SatModel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137646"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137646"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137646"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-757"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier hs-type">SMTFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137652"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137651"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137650"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137649"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137648"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137647"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137646"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137652"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137651"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137650"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137649"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137648"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137647"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681137646"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-758"></span><span>         </span><span class="hs-keyword">where</span><span>
</span><span id="line-759"></span><span>  </span><span id="local-6989586621681137633"><span class="annot"><span class="annottext">sexprToArg :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV f -&gt; SBV r)
-&gt; [SExpr] -&gt; Maybe (a, b, c, d, e, f)
</span><a href="#local-6989586621681137633"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToArg</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681137632"><span class="annot"><span class="annottext">a0 :: SExpr
</span><a href="#local-6989586621681137632"><span class="hs-identifier hs-var">a0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137631"><span class="annot"><span class="annottext">a1 :: SExpr
</span><a href="#local-6989586621681137631"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137630"><span class="annot"><span class="annottext">a2 :: SExpr
</span><a href="#local-6989586621681137630"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137629"><span class="annot"><span class="annottext">a3 :: SExpr
</span><a href="#local-6989586621681137629"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137628"><span class="annot"><span class="annottext">a4 :: SExpr
</span><a href="#local-6989586621681137628"><span class="hs-identifier hs-var">a4</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137627"><span class="annot"><span class="annottext">a5 :: SExpr
</span><a href="#local-6989586621681137627"><span class="hs-identifier hs-var">a5</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
-&gt; Maybe a -&gt; Maybe (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137632"><span class="hs-identifier hs-var">a0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
-&gt; Maybe b -&gt; Maybe (c -&gt; d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137631"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
-&gt; Maybe c -&gt; Maybe (d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137630"><span class="hs-identifier hs-var">a2</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (d -&gt; e -&gt; f -&gt; (a, b, c, d, e, f))
-&gt; Maybe d -&gt; Maybe (e -&gt; f -&gt; (a, b, c, d, e, f))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe d
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137629"><span class="hs-identifier hs-var">a3</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (e -&gt; f -&gt; (a, b, c, d, e, f))
-&gt; Maybe e -&gt; Maybe (f -&gt; (a, b, c, d, e, f))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe e
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137628"><span class="hs-identifier hs-var">a4</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (f -&gt; (a, b, c, d, e, f))
-&gt; Maybe f -&gt; Maybe (a, b, c, d, e, f)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe f
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137627"><span class="hs-identifier hs-var">a5</span></a></span><span>
</span><span id="line-760"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-identifier hs-var">sexprToArg</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>                        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c, d, e, f)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-761"></span><span>
</span><span id="line-762"></span><span>  </span><span id="local-6989586621681137626"><span class="annot"><span class="annottext">smtFunType :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV f -&gt; SBV r)
-&gt; SBVType
</span><a href="#local-6989586621681137626"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; SBVType
</span><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-var">SBVType</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137652"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137651"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137650"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy d -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137649"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy e -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137648"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy f -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137647"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy r -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy r
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137646"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-763"></span><span>
</span><span id="line-764"></span><span>  </span><span id="local-6989586621681137625"><span class="annot"><span class="annottext">smtFunSaturate :: (SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV f -&gt; SBV r)
-&gt; SBV r
</span><a href="#local-6989586621681137625"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunSaturate</span></a></span></span><span> </span><span id="local-6989586621681137624"><span class="annot"><span class="annottext">f :: SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV f -&gt; SBV r
</span><a href="#local-6989586621681137624"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV f -&gt; SBV r
</span><a href="#local-6989586621681137624"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV a
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137652"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-765"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV b
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137651"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-766"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV c
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137650"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-767"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV d
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137649"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-768"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV e
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137648"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-769"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV f
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137647"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-770"></span><span>
</span><span id="line-771"></span><span class="hs-comment">-- | Functions of arity 7</span><span>
</span><span id="line-772"></span><span id="local-6989586621681137616"><span id="local-6989586621681137617"><span id="local-6989586621681137618"><span id="local-6989586621681137619"><span id="local-6989586621681137620"><span id="local-6989586621681137621"><span id="local-6989586621681137622"><span id="local-6989586621681137623"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681137604"><span id="local-6989586621681137606"><span id="local-6989586621681137610"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137623"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137623"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137623"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-773"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137622"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137622"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137622"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-774"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137621"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137621"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137621"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-775"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137620"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137620"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137620"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-776"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137619"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137619"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137619"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-777"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137618"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137618"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137618"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-778"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137617"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137617"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137617"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-779"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html#SatModel"><span class="hs-identifier hs-type">SatModel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137616"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137616"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137616"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-780"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier hs-type">SMTFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137623"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137622"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137621"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137620"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137619"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137618"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137617"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137616"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137623"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137622"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137621"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137620"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137619"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137618"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137617"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681137616"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-781"></span><span>         </span><span class="hs-keyword">where</span><span>
</span><span id="line-782"></span><span>  </span><span id="local-6989586621681137603"><span class="annot"><span class="annottext">sexprToArg :: (SBV a
 -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV f -&gt; SBV g -&gt; SBV r)
-&gt; [SExpr] -&gt; Maybe (a, b, c, d, e, f, g)
</span><a href="#local-6989586621681137603"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToArg</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681137602"><span class="annot"><span class="annottext">a0 :: SExpr
</span><a href="#local-6989586621681137602"><span class="hs-identifier hs-var">a0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137601"><span class="annot"><span class="annottext">a1 :: SExpr
</span><a href="#local-6989586621681137601"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137600"><span class="annot"><span class="annottext">a2 :: SExpr
</span><a href="#local-6989586621681137600"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137599"><span class="annot"><span class="annottext">a3 :: SExpr
</span><a href="#local-6989586621681137599"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137598"><span class="annot"><span class="annottext">a4 :: SExpr
</span><a href="#local-6989586621681137598"><span class="hs-identifier hs-var">a4</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137597"><span class="annot"><span class="annottext">a5 :: SExpr
</span><a href="#local-6989586621681137597"><span class="hs-identifier hs-var">a5</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137596"><span class="annot"><span class="annottext">a6 :: SExpr
</span><a href="#local-6989586621681137596"><span class="hs-identifier hs-var">a6</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe a
-&gt; Maybe (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137602"><span class="hs-identifier hs-var">a0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe b
-&gt; Maybe (c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137601"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe c -&gt; Maybe (d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137600"><span class="hs-identifier hs-var">a2</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (d -&gt; e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe d -&gt; Maybe (e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe d
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137599"><span class="hs-identifier hs-var">a3</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (e -&gt; f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe e -&gt; Maybe (f -&gt; g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe e
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137598"><span class="hs-identifier hs-var">a4</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (f -&gt; g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe f -&gt; Maybe (g -&gt; (a, b, c, d, e, f, g))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe f
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137597"><span class="hs-identifier hs-var">a5</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (g -&gt; (a, b, c, d, e, f, g))
-&gt; Maybe g -&gt; Maybe (a, b, c, d, e, f, g)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe g
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137596"><span class="hs-identifier hs-var">a6</span></a></span><span>
</span><span id="line-783"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-identifier hs-var">sexprToArg</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c, d, e, f, g)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-784"></span><span>
</span><span id="line-785"></span><span>  </span><span id="local-6989586621681137595"><span class="annot"><span class="annottext">smtFunType :: (SBV a
 -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV f -&gt; SBV g -&gt; SBV r)
-&gt; SBVType
</span><a href="#local-6989586621681137595"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; SBVType
</span><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-var">SBVType</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137623"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137622"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137621"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy d -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137620"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy e -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137619"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy f -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137618"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy g -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy g
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137617"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy r -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy r
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137616"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-786"></span><span>
</span><span id="line-787"></span><span>  </span><span id="local-6989586621681137594"><span class="annot"><span class="annottext">smtFunSaturate :: (SBV a
 -&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV f -&gt; SBV g -&gt; SBV r)
-&gt; SBV r
</span><a href="#local-6989586621681137594"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunSaturate</span></a></span></span><span> </span><span id="local-6989586621681137593"><span class="annot"><span class="annottext">f :: SBV a
-&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV f -&gt; SBV g -&gt; SBV r
</span><a href="#local-6989586621681137593"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBV a
-&gt; SBV b -&gt; SBV c -&gt; SBV d -&gt; SBV e -&gt; SBV f -&gt; SBV g -&gt; SBV r
</span><a href="#local-6989586621681137593"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV a
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137623"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-788"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV b
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137622"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-789"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV c
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137621"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-790"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV d
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137620"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-791"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV e
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137619"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-792"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV f
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137618"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-793"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV g
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy g -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy g
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137617"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span></span></span><span>
</span><span id="line-794"></span><span>
</span><span id="line-795"></span><span class="hs-comment">-- | Functions of arity 8</span><span>
</span><span id="line-796"></span><span id="local-6989586621681137584"><span id="local-6989586621681137585"><span id="local-6989586621681137586"><span id="local-6989586621681137587"><span id="local-6989586621681137588"><span id="local-6989586621681137589"><span id="local-6989586621681137590"><span id="local-6989586621681137591"><span id="local-6989586621681137592"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621681137572"><span id="local-6989586621681137574"><span id="local-6989586621681137578"><span class="hs-special">(</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137592"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137592"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137592"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-797"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137591"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137591"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137591"><span class="hs-identifier hs-type">b</span></a></span><span>
</span><span id="line-798"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137590"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137590"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137590"><span class="hs-identifier hs-type">c</span></a></span><span>
</span><span id="line-799"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137589"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137589"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137589"><span class="hs-identifier hs-type">d</span></a></span><span>
</span><span id="line-800"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137588"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137588"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137588"><span class="hs-identifier hs-type">e</span></a></span><span>
</span><span id="line-801"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137587"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137587"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137587"><span class="hs-identifier hs-type">f</span></a></span><span>
</span><span id="line-802"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137586"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137586"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137586"><span class="hs-identifier hs-type">g</span></a></span><span>
</span><span id="line-803"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SymVal"><span class="hs-identifier hs-type">SymVal</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137585"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137585"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137585"><span class="hs-identifier hs-type">h</span></a></span><span>
</span><span id="line-804"></span><span>         </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.SMT.SMT.html#SatModel"><span class="hs-identifier hs-type">SatModel</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137584"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137584"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTValue"><span class="hs-identifier hs-type">SMTValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137584"><span class="hs-identifier hs-type">r</span></a></span><span>
</span><span id="line-805"></span><span>         </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier hs-type">SMTFunction</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137592"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137591"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137590"><span class="hs-identifier hs-type">c</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137589"><span class="hs-identifier hs-type">d</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137588"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137587"><span class="hs-identifier hs-type">f</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137586"><span class="hs-identifier hs-type">g</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137585"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137584"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137592"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137591"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137590"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137589"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137588"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137587"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137586"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137585"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621681137584"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-806"></span><span>         </span><span class="hs-keyword">where</span><span>
</span><span id="line-807"></span><span>  </span><span id="local-6989586621681137571"><span class="annot"><span class="annottext">sexprToArg :: (SBV a
 -&gt; SBV b
 -&gt; SBV c
 -&gt; SBV d
 -&gt; SBV e
 -&gt; SBV f
 -&gt; SBV g
 -&gt; SBV h
 -&gt; SBV r)
-&gt; [SExpr] -&gt; Maybe (a, b, c, d, e, f, g, h)
</span><a href="#local-6989586621681137571"><span class="hs-identifier hs-var hs-var hs-var hs-var">sexprToArg</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span id="local-6989586621681137570"><span class="annot"><span class="annottext">a0 :: SExpr
</span><a href="#local-6989586621681137570"><span class="hs-identifier hs-var">a0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137569"><span class="annot"><span class="annottext">a1 :: SExpr
</span><a href="#local-6989586621681137569"><span class="hs-identifier hs-var">a1</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137568"><span class="annot"><span class="annottext">a2 :: SExpr
</span><a href="#local-6989586621681137568"><span class="hs-identifier hs-var">a2</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137567"><span class="annot"><span class="annottext">a3 :: SExpr
</span><a href="#local-6989586621681137567"><span class="hs-identifier hs-var">a3</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137566"><span class="annot"><span class="annottext">a4 :: SExpr
</span><a href="#local-6989586621681137566"><span class="hs-identifier hs-var">a4</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137565"><span class="annot"><span class="annottext">a5 :: SExpr
</span><a href="#local-6989586621681137565"><span class="hs-identifier hs-var">a5</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137564"><span class="annot"><span class="annottext">a6 :: SExpr
</span><a href="#local-6989586621681137564"><span class="hs-identifier hs-var">a6</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137563"><span class="annot"><span class="annottext">a7 :: SExpr
</span><a href="#local-6989586621681137563"><span class="hs-identifier hs-var">a7</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe a
-&gt; Maybe
     (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137570"><span class="hs-identifier hs-var">a0</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (b -&gt; c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe b
-&gt; Maybe (c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe b
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137569"><span class="hs-identifier hs-var">a1</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (c -&gt; d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe c
-&gt; Maybe (d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe c
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137568"><span class="hs-identifier hs-var">a2</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (d -&gt; e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe d -&gt; Maybe (e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe d
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137567"><span class="hs-identifier hs-var">a3</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (e -&gt; f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe e -&gt; Maybe (f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe e
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137566"><span class="hs-identifier hs-var">a4</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (f -&gt; g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe f -&gt; Maybe (g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe f
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137565"><span class="hs-identifier hs-var">a5</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (g -&gt; h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe g -&gt; Maybe (h -&gt; (a, b, c, d, e, f, g, h))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe g
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137564"><span class="hs-identifier hs-var">a6</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (h -&gt; (a, b, c, d, e, f, g, h))
-&gt; Maybe h -&gt; Maybe (a, b, c, d, e, f, g, h)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe h
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137563"><span class="hs-identifier hs-var">a7</span></a></span><span>
</span><span id="line-808"></span><span>  </span><span class="annot"><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-identifier hs-var">sexprToArg</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span>                                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (a, b, c, d, e, f, g, h)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-809"></span><span>
</span><span id="line-810"></span><span>  </span><span id="local-6989586621681137562"><span class="annot"><span class="annottext">smtFunType :: (SBV a
 -&gt; SBV b
 -&gt; SBV c
 -&gt; SBV d
 -&gt; SBV e
 -&gt; SBV f
 -&gt; SBV g
 -&gt; SBV h
 -&gt; SBV r)
-&gt; SBVType
</span><a href="#local-6989586621681137562"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunType</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; SBVType
</span><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-var">SBVType</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137592"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137591"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137590"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy d -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137589"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy e -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137588"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy f -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137587"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy g -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy g
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137586"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy h -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy h
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137585"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Proxy r -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy r
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137584"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-811"></span><span>
</span><span id="line-812"></span><span>  </span><span id="local-6989586621681137561"><span class="annot"><span class="annottext">smtFunSaturate :: (SBV a
 -&gt; SBV b
 -&gt; SBV c
 -&gt; SBV d
 -&gt; SBV e
 -&gt; SBV f
 -&gt; SBV g
 -&gt; SBV h
 -&gt; SBV r)
-&gt; SBV r
</span><a href="#local-6989586621681137561"><span class="hs-identifier hs-var hs-var hs-var hs-var">smtFunSaturate</span></a></span></span><span> </span><span id="local-6989586621681137560"><span class="annot"><span class="annottext">f :: SBV a
-&gt; SBV b
-&gt; SBV c
-&gt; SBV d
-&gt; SBV e
-&gt; SBV f
-&gt; SBV g
-&gt; SBV h
-&gt; SBV r
</span><a href="#local-6989586621681137560"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBV a
-&gt; SBV b
-&gt; SBV c
-&gt; SBV d
-&gt; SBV e
-&gt; SBV f
-&gt; SBV g
-&gt; SBV h
-&gt; SBV r
</span><a href="#local-6989586621681137560"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV a
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy a
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137592"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-813"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV b
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy b
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137591"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-814"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV c
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy c
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137590"><span class="hs-identifier hs-type">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-815"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV d
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy d
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137589"><span class="hs-identifier hs-type">d</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-816"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV e
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy e
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137588"><span class="hs-identifier hs-type">e</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-817"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV f
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy f
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137587"><span class="hs-identifier hs-type">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-818"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV g
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy g -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy g
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137586"><span class="hs-identifier hs-type">g</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-819"></span><span>                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; SBV h
forall a. Kind -&gt; SBV a
</span><a href="Data.SBV.Control.Utils.html#mkArg"><span class="hs-identifier hs-var">mkArg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy h -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Proxy h
forall k (t :: k). Proxy t
</span><span class="hs-identifier hs-var">Proxy</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621681137585"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span></span></span></span></span></span></span></span></span></span><span>
</span><span id="line-820"></span><span>
</span><span id="line-821"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getFunction'</span><span>
</span><span id="line-822"></span><span id="local-6989586621681137556"><span id="local-6989586621681137557"><span id="local-6989586621681137558"><span id="local-6989586621681137559"><span class="annot"><a href="Data.SBV.Control.Utils.html#getFunction"><span class="hs-identifier hs-type">getFunction</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681137559"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137559"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SolverContext"><span class="hs-identifier hs-type">SolverContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137559"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadSymbolic"><span class="hs-identifier hs-type">MonadSymbolic</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137559"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#SMTFunction"><span class="hs-identifier hs-type">SMTFunction</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137558"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137557"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137556"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681137558"><span class="hs-identifier hs-type">fun</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681137559"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621681137557"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137556"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137556"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span></span><span>
</span><span id="line-823"></span><span id="getFunction"><span class="annot"><span class="annottext">getFunction :: fun -&gt; m ([(a, r)], r)
</span><a href="Data.SBV.Control.Utils.html#getFunction"><span class="hs-identifier hs-var hs-var">getFunction</span></a></span></span><span> </span><span id="local-6989586621681137555"><span class="annot"><span class="annottext">f :: fun
</span><a href="#local-6989586621681137555"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137554"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137554"><span class="hs-identifier hs-var">nm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">fun -&gt; m String
forall fun a r (m :: * -&gt; *).
(SMTFunction fun a r, MonadIO m, SolverContext m,
 MonadSymbolic m) =&gt;
fun -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#smtFunName"><span class="hs-identifier hs-var">smtFunName</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681137555"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-824"></span><span>
</span><span id="line-825"></span><span>                   </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137553"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681137553"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-value (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137554"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;))&quot;</span></span><span>
</span><span id="line-826"></span><span>                       </span><span id="local-6989586621681137552"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137552"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getFunction&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137553"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a function value&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-827"></span><span>
</span><span id="line-828"></span><span>                   </span><span id="local-6989586621681137551"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137551"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137553"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-829"></span><span>
</span><span id="line-830"></span><span>                   </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m ([(a, r)], r))
-&gt; (SExpr -&gt; m ([(a, r)], r))
-&gt; m ([(a, r)], r)
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137551"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m ([(a, r)], r)
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137552"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m ([(a, r)], r)) -&gt; m ([(a, r)], r))
-&gt; (SExpr -&gt; m ([(a, r)], r)) -&gt; m ([(a, r)], r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137550"><span class="annot"><span class="annottext">o :: String
</span><a href="#local-6989586621681137550"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137549"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681137549"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137550"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137554"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137548"><span class="annot"><span class="annottext">Maybe ([(a, r)], r)
</span><a href="#local-6989586621681137548"><span class="hs-identifier hs-var">mbAssocs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">fun -&gt; SExpr -&gt; m (Maybe ([(a, r)], r))
forall fun a r (m :: * -&gt; *).
(SMTFunction fun a r, MonadIO m, SolverContext m, MonadQuery m,
 MonadSymbolic m) =&gt;
fun -&gt; SExpr -&gt; m (Maybe ([(a, r)], r))
</span><a href="Data.SBV.Control.Utils.html#sexprToFun"><span class="hs-identifier hs-var">sexprToFun</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681137555"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137549"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-831"></span><span>                                                                               </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ([(a, r)], r)
</span><a href="#local-6989586621681137548"><span class="hs-identifier hs-var">mbAssocs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-832"></span><span>                                                                                 </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137547"><span class="annot"><span class="annottext">assocs :: ([(a, r)], r)
</span><a href="#local-6989586621681137547"><span class="hs-identifier hs-var">assocs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(a, r)], r) -&gt; m ([(a, r)], r)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([(a, r)], r)
</span><a href="#local-6989586621681137547"><span class="hs-identifier hs-var">assocs</span></a></span><span>
</span><span id="line-833"></span><span>                                                                                 </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137546"><span class="annot"><span class="annottext">Maybe ([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137546"><span class="hs-identifier hs-var">mbPVS</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; SBVType -&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; SBVType -&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
</span><a href="Data.SBV.Control.Utils.html#pointWiseExtract"><span class="hs-identifier hs-var">pointWiseExtract</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137554"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">fun -&gt; SBVType
forall fun a r. SMTFunction fun a r =&gt; fun -&gt; SBVType
</span><a href="Data.SBV.Control.Utils.html#smtFunType"><span class="hs-identifier hs-var">smtFunType</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681137555"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-834"></span><span>                                                                                                   </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137546"><span class="hs-identifier hs-var">mbPVS</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe ([([SExpr], SExpr)], SExpr)
-&gt; (([([SExpr], SExpr)], SExpr) -&gt; Maybe ([(a, r)], r))
-&gt; Maybe ([(a, r)], r)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">([([SExpr], SExpr)], SExpr) -&gt; Maybe ([(a, r)], r)
forall (t :: * -&gt; *) a r a a.
(Traversable t, SMTFunction fun a r, SMTValue a, SMTValue a) =&gt;
(t ([SExpr], SExpr), SExpr) -&gt; Maybe (t (a, a), a)
</span><a href="#local-6989586621681137545"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-835"></span><span>                                                                                                     </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137544"><span class="annot"><span class="annottext">x :: ([(a, r)], r)
</span><a href="#local-6989586621681137544"><span class="hs-identifier hs-var">x</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([(a, r)], r) -&gt; m ([(a, r)], r)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([(a, r)], r)
</span><a href="#local-6989586621681137544"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-836"></span><span>                                                                                                     </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m ([(a, r)], r)
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137552"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137551"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-837"></span><span>                                       </span><span class="hs-identifier">_</span><span>                                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m ([(a, r)], r)
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137552"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137551"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-838"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137545"><span class="annot"><span class="annottext">convert :: (t ([SExpr], SExpr), SExpr) -&gt; Maybe (t (a, a), a)
</span><a href="#local-6989586621681137545"><span class="hs-identifier hs-var hs-var">convert</span></a></span></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621681137543"><span class="annot"><span class="annottext">vs :: t ([SExpr], SExpr)
</span><a href="#local-6989586621681137543"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137542"><span class="annot"><span class="annottext">d :: SExpr
</span><a href="#local-6989586621681137542"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(t (a, a) -&gt; a -&gt; (t (a, a), a))
-&gt; Maybe (t (a, a)) -&gt; Maybe (a -&gt; (t (a, a), a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(([SExpr], SExpr) -&gt; Maybe (a, a))
-&gt; t ([SExpr], SExpr) -&gt; Maybe (t (a, a))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">([SExpr], SExpr) -&gt; Maybe (a, a)
forall a r a.
(SMTFunction fun a r, SMTValue a) =&gt;
([SExpr], SExpr) -&gt; Maybe (a, a)
</span><a href="#local-6989586621681137541"><span class="hs-identifier hs-var">sexprPoint</span></a></span><span> </span><span class="annot"><span class="annottext">t ([SExpr], SExpr)
</span><a href="#local-6989586621681137543"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (a -&gt; (t (a, a), a)) -&gt; Maybe a -&gt; Maybe (t (a, a), a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137542"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-839"></span><span>          </span><span id="local-6989586621681137541"><span class="annot"><span class="annottext">sexprPoint :: ([SExpr], SExpr) -&gt; Maybe (a, a)
</span><a href="#local-6989586621681137541"><span class="hs-identifier hs-var hs-var">sexprPoint</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137540"><span class="annot"><span class="annottext">as :: [SExpr]
</span><a href="#local-6989586621681137540"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137539"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681137539"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a -&gt; a -&gt; (a, a)) -&gt; Maybe a -&gt; Maybe (a -&gt; (a, a))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">fun -&gt; [SExpr] -&gt; Maybe a
forall fun a r. SMTFunction fun a r =&gt; fun -&gt; [SExpr] -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToArg"><span class="hs-identifier hs-var">sexprToArg</span></a></span><span> </span><span class="annot"><span class="annottext">fun
</span><a href="#local-6989586621681137555"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137540"><span class="hs-keyword hs-var">as</span></a></span><span>    </span><span class="annot"><span class="annottext">Maybe (a -&gt; (a, a)) -&gt; Maybe a -&gt; Maybe (a, a)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe a
forall a. SMTValue a =&gt; SExpr -&gt; Maybe a
</span><a href="Data.SBV.Control.Utils.html#sexprToVal"><span class="hs-identifier hs-var">sexprToVal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137539"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-840"></span><span>
</span><span id="line-841"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getUninterpretedValue'</span><span>
</span><span id="line-842"></span><span id="local-6989586621681137537"><span id="local-6989586621681137538"><span class="annot"><a href="Data.SBV.Control.Utils.html#getUninterpretedValue"><span class="hs-identifier hs-type">getUninterpretedValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681137538"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137538"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#HasKind"><span class="hs-identifier hs-type">HasKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137537"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-type">SBV</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137537"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681137538"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span></span><span>
</span><span id="line-843"></span><span id="getUninterpretedValue"><span class="annot"><span class="annottext">getUninterpretedValue :: SBV a -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#getUninterpretedValue"><span class="hs-identifier hs-var hs-var">getUninterpretedValue</span></a></span></span><span> </span><span id="local-6989586621681137536"><span class="annot"><span class="annottext">s :: SBV a
</span><a href="#local-6989586621681137536"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-844"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SBV a
</span><a href="#local-6989586621681137536"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-845"></span><span>          </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137534"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137534"><span class="hs-identifier hs-var">sv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; m SV
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
(State -&gt; IO a) -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#inNewContext"><span class="hs-identifier hs-var">inNewContext</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; SBV a -&gt; IO SV
forall a. State -&gt; SBV a -&gt; IO SV
</span><a href="Data.SBV.Core.Data.html#sbvToSV"><span class="hs-operator hs-var">`sbvToSV`</span></a></span><span> </span><span class="annot"><span class="annottext">SBV a
</span><a href="#local-6989586621681137536"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-846"></span><span>
</span><span id="line-847"></span><span>                                          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137533"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681137533"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137534"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-848"></span><span>                                              </span><span id="local-6989586621681137532"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681137532"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-value (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137533"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;))&quot;</span></span><span>
</span><span id="line-849"></span><span>                                              </span><span id="local-6989586621681137531"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137531"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getValue&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137532"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a model value&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-850"></span><span>
</span><span id="line-851"></span><span>                                          </span><span id="local-6989586621681137530"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137530"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137532"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-852"></span><span>
</span><span id="line-853"></span><span>                                          </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m String)
-&gt; (SExpr -&gt; m String)
-&gt; m String
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137530"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m String
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137531"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m String) -&gt; m String)
-&gt; (SExpr -&gt; m String) -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137529"><span class="annot"><span class="annottext">o :: String
</span><a href="#local-6989586621681137529"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span>  </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137528"><span class="annot"><span class="annottext">v :: String
</span><a href="#local-6989586621681137528"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137529"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137534"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137528"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-854"></span><span>                                                              </span><span class="hs-identifier">_</span><span>                                            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m String
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137531"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137530"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-855"></span><span>
</span><span id="line-856"></span><span>          </span><span id="local-6989586621681137527"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681137527"><span class="hs-identifier hs-var">k</span></a></span></span><span>                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m String) -&gt; String -&gt; m String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-857"></span><span>                                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** SBV.getUninterpretedValue: Called on an 'interpreted' kind&quot;</span></span><span>
</span><span id="line-858"></span><span>                                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** &quot;</span></span><span>
</span><span id="line-859"></span><span>                                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***    Kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137527"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-860"></span><span>                                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***    Hint: Use 'getValue' to extract value for interpreted kinds.&quot;</span></span><span>
</span><span id="line-861"></span><span>                                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** &quot;</span></span><span>
</span><span id="line-862"></span><span>                                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Only truly uninterpreted sorts should be used with 'getUninterpretedValue.'&quot;</span></span><span>
</span><span id="line-863"></span><span>                                                       </span><span class="hs-special">]</span><span>
</span><span id="line-864"></span><span>
</span><span id="line-865"></span><span class="hs-comment">-- | Get the value of a term, but in CV form. Used internally. The model-index, in particular is extremely Z3 specific!</span><span>
</span><span id="line-866"></span><span id="local-6989586621681138509"><span class="annot"><a href="Data.SBV.Control.Utils.html#getValueCVHelper"><span class="hs-identifier hs-type">getValueCVHelper</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138509"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138509"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138509"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span></span><span>
</span><span id="line-867"></span><span id="getValueCVHelper"><span class="annot"><span class="annottext">getValueCVHelper :: Maybe Key -&gt; SV -&gt; m CV
</span><a href="Data.SBV.Control.Utils.html#getValueCVHelper"><span class="hs-identifier hs-var hs-var">getValueCVHelper</span></a></span></span><span> </span><span id="local-6989586621681137525"><span class="annot"><span class="annottext">mbi :: Maybe Key
</span><a href="#local-6989586621681137525"><span class="hs-identifier hs-var">mbi</span></a></span></span><span> </span><span id="local-6989586621681137524"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681137524"><span class="hs-identifier hs-var">s</span></a></span></span><span>
</span><span id="line-868"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137524"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>
</span><span id="line-869"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CV -&gt; m CV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="Data.SBV.Core.Concrete.html#trueCV"><span class="hs-identifier hs-var">trueCV</span></a></span><span>
</span><span id="line-870"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137524"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; SV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#falseSV"><span class="hs-identifier hs-var">falseSV</span></a></span><span>
</span><span id="line-871"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CV -&gt; m CV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="Data.SBV.Core.Concrete.html#falseCV"><span class="hs-identifier hs-var">falseCV</span></a></span><span>
</span><span id="line-872"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-873"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137523"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681137523"><span class="hs-identifier hs-var hs-var">nm</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137524"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-874"></span><span>           </span><span id="local-6989586621681137522"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681137522"><span class="hs-identifier hs-var hs-var">k</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137524"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-875"></span><span>
</span><span id="line-876"></span><span>           </span><span id="local-6989586621681137521"><span class="annot"><span class="annottext">modelIndex :: String
</span><a href="#local-6989586621681137521"><span class="hs-identifier hs-var hs-var">modelIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681137525"><span class="hs-identifier hs-var">mbi</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-877"></span><span>                          </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-878"></span><span>                          </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137520"><span class="annot"><span class="annottext">i :: Key
</span><a href="#local-6989586621681137520"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-string">&quot; :model_index &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137520"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-879"></span><span>
</span><span id="line-880"></span><span>           </span><span id="local-6989586621681137519"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681137519"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-value (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137523"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137521"><span class="hs-identifier hs-var">modelIndex</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-881"></span><span>
</span><span id="line-882"></span><span>           </span><span id="local-6989586621681137518"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137518"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getModel&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137519"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;a value binding for kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137522"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-883"></span><span>
</span><span id="line-884"></span><span>       </span><span id="local-6989586621681137517"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137517"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137519"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-885"></span><span>
</span><span id="line-886"></span><span>       </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m CV) -&gt; (SExpr -&gt; m CV) -&gt; m CV
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137517"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m CV
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137518"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m CV) -&gt; m CV) -&gt; (SExpr -&gt; m CV) -&gt; m CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137516"><span class="annot"><span class="annottext">v :: String
</span><a href="#local-6989586621681137516"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137515"><span class="annot"><span class="annottext">val :: SExpr
</span><a href="#local-6989586621681137515"><span class="hs-identifier hs-var">val</span></a></span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137516"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137523"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var">recoverKindedValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137524"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137515"><span class="hs-identifier hs-var">val</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-887"></span><span>                                                                    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137514"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681137514"><span class="hs-identifier hs-var">cv</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; m CV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137514"><span class="hs-identifier hs-var">cv</span></a></span><span>
</span><span id="line-888"></span><span>                                                                    </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m CV
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137518"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137517"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-889"></span><span>                           </span><span class="hs-identifier">_</span><span>                                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m CV
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137518"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137517"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-890"></span><span>
</span><span id="line-891"></span><span class="hs-comment">-- | &quot;Make up&quot; a CV for this type. Like zero, but smarter.</span><span>
</span><span id="line-892"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#defaultKindedValue"><span class="hs-identifier hs-type">defaultKindedValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span>
</span><span id="line-893"></span><span id="defaultKindedValue"><span class="annot"><span class="annottext">defaultKindedValue :: Kind -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#defaultKindedValue"><span class="hs-identifier hs-var hs-var">defaultKindedValue</span></a></span></span><span> </span><span id="local-6989586621681137513"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681137513"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137513"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; Maybe CVal -&gt; Maybe CV
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Maybe CVal
</span><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137513"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-894"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-type">cvt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CVal"><span class="hs-identifier hs-type">CVal</span></a></span><span>
</span><span id="line-895"></span><span>        </span><span id="local-6989586621681137512"><span class="annot"><span class="annottext">cvt :: Kind -&gt; Maybe CVal
</span><a href="#local-6989586621681137512"><span class="hs-identifier hs-var hs-var">cvt</span></a></span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-type">KBool</span></a></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-var">CInteger</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-896"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-var">CInteger</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-897"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-type">KUnbounded</span></a></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-var">CInteger</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-898"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">AlgReal -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-var">CAlgReal</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-899"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681137506"><span class="annot"><span class="annottext">ui :: Either String [String]
</span><a href="#local-6989586621681137506"><span class="hs-identifier hs-var">ui</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either String [String] -&gt; Maybe CVal
forall a. Either a [String] -&gt; Maybe CVal
</span><a href="#local-6989586621681137505"><span class="hs-identifier hs-var">uninterp</span></a></span><span> </span><span class="annot"><span class="annottext">Either String [String]
</span><a href="#local-6989586621681137506"><span class="hs-identifier hs-var">ui</span></a></span><span>
</span><span id="line-900"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span>                </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Float -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CFloat"><span class="hs-identifier hs-var">CFloat</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-901"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Double -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CDouble"><span class="hs-identifier hs-var">CDouble</span></a></span><span> </span><span class="annot"><span class="hs-number">0</span></span><span>
</span><span id="line-902"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KChar"><span class="hs-identifier hs-type">KChar</span></a></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CChar"><span class="hs-identifier hs-var">CChar</span></a></span><span> </span><span class="annot"><span class="hs-char">'\NUL'</span></span><span>                </span><span class="hs-comment">-- why not?</span><span>
</span><span id="line-903"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KString"><span class="hs-identifier hs-type">KString</span></a></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CString"><span class="hs-identifier hs-var">CString</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-904"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KList"><span class="hs-identifier hs-type">KList</span></a></span><span>  </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CList"><span class="hs-identifier hs-var">CList</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-905"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KSet"><span class="hs-identifier hs-type">KSet</span></a></span><span>  </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RCSet CVal -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CSet"><span class="hs-identifier hs-var">CSet</span></a></span><span> </span><span class="annot"><span class="annottext">(RCSet CVal -&gt; CVal) -&gt; RCSet CVal -&gt; CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set CVal -&gt; RCSet CVal
forall a. Set a -&gt; RCSet a
</span><a href="Data.SBV.Core.Concrete.html#RegularSet"><span class="hs-identifier hs-var">RegularSet</span></a></span><span> </span><span class="annot"><span class="annottext">Set CVal
forall a. Set a
</span><span class="hs-identifier hs-var">Set.empty</span></span><span> </span><span class="hs-comment">-- why not? Arguably, could be the universal set</span><span>
</span><span id="line-906"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KTuple"><span class="hs-identifier hs-type">KTuple</span></a></span><span> </span><span id="local-6989586621681137493"><span class="annot"><span class="annottext">ks :: [Kind]
</span><a href="#local-6989586621681137493"><span class="hs-identifier hs-var">ks</span></a></span></span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CTuple"><span class="hs-identifier hs-var">CTuple</span></a></span><span> </span><span class="annot"><span class="annottext">([CVal] -&gt; CVal) -&gt; Maybe [CVal] -&gt; Maybe CVal
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Maybe CVal) -&gt; [Kind] -&gt; Maybe [CVal]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Maybe CVal
</span><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137493"><span class="hs-identifier hs-var">ks</span></a></span><span>
</span><span id="line-907"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KMaybe"><span class="hs-identifier hs-type">KMaybe</span></a></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe CVal -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CMaybe"><span class="hs-identifier hs-var">CMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe CVal
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-908"></span><span>        </span><span class="annot"><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KEither"><span class="hs-identifier hs-type">KEither</span></a></span><span> </span><span id="local-6989586621681137488"><span class="annot"><span class="annottext">k1 :: Kind
</span><a href="#local-6989586621681137488"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either CVal CVal -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CEither"><span class="hs-identifier hs-var">CEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CVal CVal -&gt; CVal)
-&gt; (CVal -&gt; Either CVal CVal) -&gt; CVal -&gt; CVal
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Either CVal CVal
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CVal) -&gt; Maybe CVal -&gt; Maybe CVal
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Maybe CVal
</span><a href="#local-6989586621681137512"><span class="hs-identifier hs-var">cvt</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137488"><span class="hs-identifier hs-var">k1</span></a></span><span>          </span><span class="hs-comment">-- why not?</span><span>
</span><span id="line-909"></span><span>
</span><span id="line-910"></span><span>        </span><span class="hs-comment">-- Tricky case of uninterpreted</span><span>
</span><span id="line-911"></span><span>        </span><span id="local-6989586621681137505"><span class="annot"><span class="annottext">uninterp :: Either a [String] -&gt; Maybe CVal
</span><a href="#local-6989586621681137505"><span class="hs-identifier hs-var hs-var">uninterp</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137486"><span class="annot"><span class="annottext">c :: String
</span><a href="#local-6989586621681137486"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; Maybe CVal) -&gt; CVal -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Key, String) -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CUserSort"><span class="hs-identifier hs-var">CUserSort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; Maybe Key
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137486"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-912"></span><span>        </span><span class="annot"><a href="#local-6989586621681137505"><span class="hs-identifier hs-var">uninterp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe CVal
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>                       </span><span class="hs-comment">-- I don't think this can actually happen, but just in case</span><span>
</span><span id="line-913"></span><span>        </span><span class="annot"><a href="#local-6989586621681137505"><span class="hs-identifier hs-var">uninterp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe CVal
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>                       </span><span class="hs-comment">-- Out of luck, truly uninterpreted; we don't even know if it's inhabited.</span><span>
</span><span id="line-914"></span><span>
</span><span id="line-915"></span><span class="hs-comment">-- | Recover a given solver-printed value with a possible interpretation</span><span>
</span><span id="line-916"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-type">recoverKindedValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#Kind"><span class="hs-identifier hs-type">Kind</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span>
</span><span id="line-917"></span><span id="recoverKindedValue"><span class="annot"><span class="annottext">recoverKindedValue :: Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var hs-var">recoverKindedValue</span></a></span></span><span> </span><span id="local-6989586621681137484"><span class="annot"><span class="annottext">k :: Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681137483"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-918"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-type">KBool</span></a></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137482"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681137482"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; CV
forall a. Integral a =&gt; Kind -&gt; a -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mkConstCV"><span class="hs-identifier hs-var">mkConstCV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681137482"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-919"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-920"></span><span>
</span><span id="line-921"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137481"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681137481"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; CV
forall a. Integral a =&gt; Kind -&gt; a -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mkConstCV"><span class="hs-identifier hs-var">mkConstCV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681137481"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-922"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-923"></span><span>
</span><span id="line-924"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUnbounded"><span class="hs-identifier hs-type">KUnbounded</span></a></span><span>       </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137480"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681137480"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; CV
forall a. Integral a =&gt; Kind -&gt; a -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mkConstCV"><span class="hs-identifier hs-var">mkConstCV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681137480"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-925"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-926"></span><span>
</span><span id="line-927"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137479"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681137479"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; CV
forall a. Integral a =&gt; Kind -&gt; a -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mkConstCV"><span class="hs-identifier hs-var">mkConstCV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681137479"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-928"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EReal"><span class="hs-identifier hs-type">EReal</span></a></span><span> </span><span id="local-6989586621681137478"><span class="annot"><span class="annottext">i :: AlgReal
</span><a href="#local-6989586621681137478"><span class="hs-identifier hs-var">i</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-var">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AlgReal -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-var">CAlgReal</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681137478"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-929"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-930"></span><span>
</span><span id="line-931"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137477"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681137477"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; CVal -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Key, String) -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CUserSort"><span class="hs-identifier hs-var">CUserSort</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; String -&gt; Maybe Key
</span><a href="#local-6989586621681137476"><span class="hs-identifier hs-var">getUIIndex</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137477"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137477"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-932"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-933"></span><span>
</span><span id="line-934"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-type">KFloat</span></a></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137475"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681137475"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; CV
forall a. Integral a =&gt; Kind -&gt; a -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mkConstCV"><span class="hs-identifier hs-var">mkConstCV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681137475"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-935"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EFloat"><span class="hs-identifier hs-type">EFloat</span></a></span><span> </span><span id="local-6989586621681137474"><span class="annot"><span class="annottext">i :: Float
</span><a href="#local-6989586621681137474"><span class="hs-identifier hs-var">i</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KFloat"><span class="hs-identifier hs-var">KFloat</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Float -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CFloat"><span class="hs-identifier hs-var">CFloat</span></a></span><span> </span><span class="annot"><span class="annottext">Float
</span><a href="#local-6989586621681137474"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-936"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-937"></span><span>
</span><span id="line-938"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-type">KDouble</span></a></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137473"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681137473"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Integer -&gt; CV
forall a. Integral a =&gt; Kind -&gt; a -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#mkConstCV"><span class="hs-identifier hs-var">mkConstCV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681137473"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-939"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EDouble"><span class="hs-identifier hs-type">EDouble</span></a></span><span> </span><span id="local-6989586621681137472"><span class="annot"><span class="annottext">i :: Double
</span><a href="#local-6989586621681137472"><span class="hs-identifier hs-var">i</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KDouble"><span class="hs-identifier hs-var">KDouble</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Double -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CDouble"><span class="hs-identifier hs-var">CDouble</span></a></span><span> </span><span class="annot"><span class="annottext">Double
</span><a href="#local-6989586621681137472"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-940"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-941"></span><span>
</span><span id="line-942"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KChar"><span class="hs-identifier hs-type">KChar</span></a></span><span>            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137471"><span class="annot"><span class="annottext">i :: Integer
</span><a href="#local-6989586621681137471"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KChar"><span class="hs-identifier hs-var">KChar</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; CVal -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CChar"><span class="hs-identifier hs-var">CChar</span></a></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; CVal) -&gt; Char -&gt; CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Char
</span><span class="hs-identifier hs-var">chr</span></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; Char) -&gt; Key -&gt; Char
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Key
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621681137471"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-943"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-944"></span><span>
</span><span id="line-945"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KString"><span class="hs-identifier hs-type">KString</span></a></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137470"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681137470"><span class="hs-identifier hs-var">s</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KString"><span class="hs-identifier hs-var">KString</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; CVal -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CString"><span class="hs-identifier hs-var">CString</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; CVal) -&gt; String -&gt; CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621681137469"><span class="hs-identifier hs-var">interpretString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137470"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-946"></span><span>                                            </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-947"></span><span>
</span><span id="line-948"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KList"><span class="hs-identifier hs-type">KList</span></a></span><span> </span><span id="local-6989586621681137468"><span class="annot"><span class="annottext">ek :: Kind
</span><a href="#local-6989586621681137468"><span class="hs-identifier hs-var">ek</span></a></span></span><span>                            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; CVal -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CList"><span class="hs-identifier hs-var">CList</span></a></span><span> </span><span class="annot"><span class="annottext">([CVal] -&gt; CVal) -&gt; [CVal] -&gt; CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; [CVal]
</span><a href="#local-6989586621681137467"><span class="hs-identifier hs-var">interpretList</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137468"><span class="hs-identifier hs-var">ek</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-949"></span><span>
</span><span id="line-950"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KSet"><span class="hs-identifier hs-type">KSet</span></a></span><span> </span><span id="local-6989586621681137466"><span class="annot"><span class="annottext">ek :: Kind
</span><a href="#local-6989586621681137466"><span class="hs-identifier hs-var">ek</span></a></span></span><span>                             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; CVal -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RCSet CVal -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CSet"><span class="hs-identifier hs-var">CSet</span></a></span><span> </span><span class="annot"><span class="annottext">(RCSet CVal -&gt; CVal) -&gt; RCSet CVal -&gt; CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; RCSet CVal
</span><a href="#local-6989586621681137465"><span class="hs-identifier hs-var">interpretSet</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137466"><span class="hs-identifier hs-var">ek</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-951"></span><span>
</span><span id="line-952"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KTuple"><span class="hs-identifier hs-type">KTuple</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>                            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; CVal -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CTuple"><span class="hs-identifier hs-var">CTuple</span></a></span><span> </span><span class="annot"><span class="annottext">([CVal] -&gt; CVal) -&gt; [CVal] -&gt; CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; [CVal]
</span><a href="#local-6989586621681137464"><span class="hs-identifier hs-var">interpretTuple</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-953"></span><span>
</span><span id="line-954"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KMaybe"><span class="hs-identifier hs-type">KMaybe</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>                            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; CVal -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe CVal -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CMaybe"><span class="hs-identifier hs-var">CMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe CVal -&gt; CVal) -&gt; Maybe CVal -&gt; CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CVal
</span><a href="#local-6989586621681137463"><span class="hs-identifier hs-var">interpretMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-955"></span><span>
</span><span id="line-956"></span><span>                           </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KEither"><span class="hs-identifier hs-type">KEither</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>                           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; Maybe CV) -&gt; CV -&gt; Maybe CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">(CVal -&gt; CV) -&gt; CVal -&gt; CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Either CVal CVal -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CEither"><span class="hs-identifier hs-var">CEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CVal CVal -&gt; CVal) -&gt; Either CVal CVal -&gt; CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Either CVal CVal
</span><a href="#local-6989586621681137462"><span class="hs-identifier hs-var">interpretEither</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137483"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-957"></span><span>
</span><span id="line-958"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137476"><span class="annot"><span class="annottext">getUIIndex :: Kind -&gt; String -&gt; Maybe Key
</span><a href="#local-6989586621681137476"><span class="hs-identifier hs-var hs-var">getUIIndex</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span>  </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621681137461"><span class="annot"><span class="annottext">xs :: [String]
</span><a href="#local-6989586621681137461"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621681137460"><span class="annot"><span class="annottext">i :: String
</span><a href="#local-6989586621681137460"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137460"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; Maybe Key
forall a. Eq a =&gt; a -&gt; [a] -&gt; Maybe Key
</span><span class="hs-operator hs-var">`elemIndex`</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137461"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-959"></span><span>        </span><span class="annot"><a href="#local-6989586621681137476"><span class="hs-identifier hs-var">getUIIndex</span></a></span><span> </span><span class="hs-identifier">_</span><span>                              </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Key
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-960"></span><span>
</span><span id="line-961"></span><span>        </span><span id="local-6989586621681137459"><span class="annot"><span class="annottext">stringLike :: String -&gt; Bool
</span><a href="#local-6989586621681137459"><span class="hs-identifier hs-var hs-var">stringLike</span></a></span></span><span> </span><span id="local-6989586621681137458"><span class="annot"><span class="annottext">xs :: String
</span><a href="#local-6989586621681137458"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137458"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Char
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137458"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-char">'&quot;'</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Char
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137458"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="hs-char">'&quot;'</span></span><span>
</span><span id="line-962"></span><span>
</span><span id="line-963"></span><span>        </span><span class="hs-comment">-- Make sure strings are really strings</span><span>
</span><span id="line-964"></span><span>        </span><span id="local-6989586621681137469"><span class="annot"><span class="annottext">interpretString :: String -&gt; String
</span><a href="#local-6989586621681137469"><span class="hs-identifier hs-var hs-var">interpretString</span></a></span></span><span> </span><span id="local-6989586621681137457"><span class="annot"><span class="annottext">xs :: String
</span><a href="#local-6989586621681137457"><span class="hs-identifier hs-var">xs</span></a></span></span><span>
</span><span id="line-965"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="#local-6989586621681137459"><span class="hs-identifier hs-var">stringLike</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137457"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-966"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; String -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Expected a string constant with quotes, received: &lt;&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137457"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&gt;&quot;</span></span><span>
</span><span id="line-967"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-968"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="Data.SBV.Utils.Lib.html#qfsToString"><span class="hs-identifier hs-var">qfsToString</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; String -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">tail</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137457"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-969"></span><span>
</span><span id="line-970"></span><span>        </span><span id="local-6989586621681137456"><span class="annot"><span class="annottext">isStringSequence :: Kind -&gt; Bool
</span><a href="#local-6989586621681137456"><span class="hs-identifier hs-var hs-var">isStringSequence</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KList"><span class="hs-identifier hs-type">KList</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBounded"><span class="hs-identifier hs-type">KBounded</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-number">8</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-971"></span><span>        </span><span class="annot"><a href="#local-6989586621681137456"><span class="hs-identifier hs-var">isStringSequence</span></a></span><span> </span><span class="hs-identifier">_</span><span>                      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-972"></span><span>
</span><span id="line-973"></span><span>        </span><span class="hs-comment">-- Lists are tricky since z3 prints the 8-bit variants as strings. See: &lt;http://github.com/Z3Prover/z3/issues/1808&gt;</span><span>
</span><span id="line-974"></span><span>        </span><span id="local-6989586621681137467"><span class="annot"><span class="annottext">interpretList :: Kind -&gt; SExpr -&gt; [CVal]
</span><a href="#local-6989586621681137467"><span class="hs-identifier hs-var hs-var">interpretList</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137455"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681137455"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-975"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
</span><a href="#local-6989586621681137456"><span class="hs-identifier hs-var">isStringSequence</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="#local-6989586621681137459"><span class="hs-identifier hs-var">stringLike</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137455"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-976"></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; CVal) -&gt; String -&gt; [CVal]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CInteger"><span class="hs-identifier hs-var">CInteger</span></a></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; CVal) -&gt; (Char -&gt; Integer) -&gt; Char -&gt; CVal
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Integer
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; Integer) -&gt; (Char -&gt; Key) -&gt; Char -&gt; Integer
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Key
</span><span class="hs-identifier hs-var">ord</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; [CVal]) -&gt; String -&gt; [CVal]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621681137469"><span class="hs-identifier hs-var">interpretString</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137455"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-977"></span><span>        </span><span class="annot"><a href="#local-6989586621681137467"><span class="hs-identifier hs-var">interpretList</span></a></span><span> </span><span id="local-6989586621681137454"><span class="annot"><span class="annottext">ek :: Kind
</span><a href="#local-6989586621681137454"><span class="hs-identifier hs-var">ek</span></a></span></span><span> </span><span id="local-6989586621681137453"><span class="annot"><span class="annottext">topExpr :: SExpr
</span><a href="#local-6989586621681137453"><span class="hs-identifier hs-var">topExpr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; [CVal]
</span><a href="#local-6989586621681137452"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137453"><span class="hs-identifier hs-var">topExpr</span></a></span><span>
</span><span id="line-978"></span><span>          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137452"><span class="annot"><span class="annottext">walk :: SExpr -&gt; [CVal]
</span><a href="#local-6989586621681137452"><span class="hs-identifier hs-var hs-var">walk</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;seq.empty&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-979"></span><span>                </span><span class="annot"><a href="#local-6989586621681137452"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;seq.unit&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137451"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681137451"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var">recoverKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137454"><span class="hs-identifier hs-var">ek</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137451"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-980"></span><span>                                                                 </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137450"><span class="annot"><span class="annottext">w :: CV
</span><a href="#local-6989586621681137450"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CV -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#cvVal"><span class="hs-identifier hs-var hs-var">cvVal</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137450"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-981"></span><span>                                                                 </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; [CVal]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; [CVal]) -&gt; String -&gt; [CVal]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Cannot parse a sequence item of kind &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137454"><span class="hs-identifier hs-var">ek</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; from: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137451"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="#local-6989586621681137449"><span class="hs-identifier hs-var">extra</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137451"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-982"></span><span>                </span><span class="annot"><a href="#local-6989586621681137452"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;seq.++&quot;</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681137448"><span class="annot"><span class="annottext">rest :: [SExpr]
</span><a href="#local-6989586621681137448"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(SExpr -&gt; [CVal]) -&gt; [SExpr] -&gt; [CVal]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; [CVal]
</span><a href="#local-6989586621681137452"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137448"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-983"></span><span>                </span><span class="annot"><a href="#local-6989586621681137452"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span id="local-6989586621681137446"><span class="annot"><span class="annottext">cur :: SExpr
</span><a href="#local-6989586621681137446"><span class="hs-identifier hs-var">cur</span></a></span></span><span>                                     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [CVal]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; [CVal]) -&gt; String -&gt; [CVal]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Expected a sequence constant, but received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137446"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><a href="#local-6989586621681137449"><span class="hs-identifier hs-var">extra</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137446"><span class="hs-identifier hs-var">cur</span></a></span><span>
</span><span id="line-984"></span><span>
</span><span id="line-985"></span><span>                </span><span id="local-6989586621681137449"><span class="annot"><span class="annottext">extra :: a -&gt; String
</span><a href="#local-6989586621681137449"><span class="hs-identifier hs-var hs-var">extra</span></a></span></span><span> </span><span id="local-6989586621681137445"><span class="annot"><span class="annottext">cur :: a
</span><a href="#local-6989586621681137445"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137445"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137444"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-986"></span><span>                          </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;\nWhile parsing: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137444"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-987"></span><span>                          </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137444"><span class="annot"><span class="annottext">t :: String
</span><a href="#local-6989586621681137444"><span class="hs-identifier hs-var hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137453"><span class="hs-identifier hs-var">topExpr</span></a></span><span>
</span><span id="line-988"></span><span>
</span><span id="line-989"></span><span>        </span><span class="hs-comment">-- Essentially treat sets as functions, since we do allow for store associations</span><span>
</span><span id="line-990"></span><span>        </span><span id="local-6989586621681137465"><span class="annot"><span class="annottext">interpretSet :: Kind -&gt; SExpr -&gt; RCSet CVal
</span><a href="#local-6989586621681137465"><span class="hs-identifier hs-var hs-var">interpretSet</span></a></span></span><span> </span><span id="local-6989586621681137443"><span class="annot"><span class="annottext">ke :: Kind
</span><a href="#local-6989586621681137443"><span class="hs-identifier hs-var">ke</span></a></span></span><span> </span><span id="local-6989586621681137442"><span class="annot"><span class="annottext">setExpr :: SExpr
</span><a href="#local-6989586621681137442"><span class="hs-identifier hs-var">setExpr</span></a></span></span><span>
</span><span id="line-991"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Bool
</span><a href="#local-6989586621681137441"><span class="hs-identifier hs-var">isUniversal</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137442"><span class="hs-identifier hs-var">setExpr</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set CVal -&gt; RCSet CVal
forall a. Set a -&gt; RCSet a
</span><a href="Data.SBV.Core.Concrete.html#ComplementSet"><span class="hs-identifier hs-var">ComplementSet</span></a></span><span> </span><span class="annot"><span class="annottext">Set CVal
forall a. Set a
</span><span class="hs-identifier hs-var">Set.empty</span></span><span>
</span><span id="line-992"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Bool
</span><a href="#local-6989586621681137440"><span class="hs-identifier hs-var">isEmpty</span></a></span><span>     </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137442"><span class="hs-identifier hs-var">setExpr</span></a></span><span>             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set CVal -&gt; RCSet CVal
forall a. Set a -&gt; RCSet a
</span><a href="Data.SBV.Core.Concrete.html#RegularSet"><span class="hs-identifier hs-var">RegularSet</span></a></span><span>    </span><span class="annot"><span class="annottext">Set CVal
forall a. Set a
</span><span class="hs-identifier hs-var">Set.empty</span></span><span>
</span><span id="line-993"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621681137439"><span class="annot"><span class="annottext">assocs :: ([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137439"><span class="hs-identifier hs-var">assocs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (Either String ([([SExpr], SExpr)], SExpr))
</span><a href="#local-6989586621681137438"><span class="hs-identifier hs-var">mbAssocs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([([SExpr], SExpr)], SExpr) -&gt; RCSet CVal
</span><a href="#local-6989586621681137437"><span class="hs-identifier hs-var">decode</span></a></span><span> </span><span class="annot"><span class="annottext">([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137439"><span class="hs-identifier hs-var">assocs</span></a></span><span>
</span><span id="line-994"></span><span>             </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; RCSet CVal
forall a. String -&gt; a
</span><a href="#local-6989586621681137436"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;Expected a set value, but couldn't decipher the solver output.&quot;</span></span><span>
</span><span id="line-995"></span><span>
</span><span id="line-996"></span><span>           </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137436"><span class="annot"><span class="annottext">tbd :: String -&gt; a
</span><a href="#local-6989586621681137436"><span class="hs-identifier hs-var hs-var">tbd</span></a></span></span><span> </span><span id="local-6989586621681137435"><span class="annot"><span class="annottext">w :: String
</span><a href="#local-6989586621681137435"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-997"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV.interpretSet: Unable to process solver output.&quot;</span></span><span>
</span><span id="line-998"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-999"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Kind    : &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#KSet"><span class="hs-identifier hs-var">KSet</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137443"><span class="hs-identifier hs-var">ke</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1000"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137442"><span class="hs-identifier hs-var">setExpr</span></a></span><span>
</span><span id="line-1001"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Reason  : &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137435"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-1002"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-1003"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** This is either a bug or something SBV currently does not support.&quot;</span></span><span>
</span><span id="line-1004"></span><span>                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Please report this as a feature request!&quot;</span></span><span>
</span><span id="line-1005"></span><span>                                         </span><span class="hs-special">]</span><span>
</span><span id="line-1006"></span><span>
</span><span id="line-1007"></span><span>
</span><span id="line-1008"></span><span>                 </span><span id="local-6989586621681137434"><span class="annot"><span class="annottext">isTrue :: SExpr -&gt; Bool
</span><a href="#local-6989586621681137434"><span class="hs-identifier hs-var hs-var">isTrue</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-number">1</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1009"></span><span>                 </span><span class="annot"><a href="#local-6989586621681137434"><span class="hs-identifier hs-var">isTrue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ENum"><span class="hs-identifier hs-type">ENum</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-number">0</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1010"></span><span>                 </span><span class="annot"><a href="#local-6989586621681137434"><span class="hs-identifier hs-var">isTrue</span></a></span><span> </span><span id="local-6989586621681137433"><span class="annot"><span class="annottext">bad :: SExpr
</span><a href="#local-6989586621681137433"><span class="hs-identifier hs-var">bad</span></a></span></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Bool
forall a. String -&gt; a
</span><a href="#local-6989586621681137436"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Bool) -&gt; String -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Non-boolean membership value seen: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137433"><span class="hs-identifier hs-var">bad</span></a></span><span>
</span><span id="line-1011"></span><span>
</span><span id="line-1012"></span><span>                 </span><span id="local-6989586621681137441"><span class="annot"><span class="annottext">isUniversal :: SExpr -&gt; Bool
</span><a href="#local-6989586621681137441"><span class="hs-identifier hs-var hs-var">isUniversal</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;const&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;Array&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;Bool&quot;</span><span class="hs-special">]</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137432"><span class="annot"><span class="annottext">r :: SExpr
</span><a href="#local-6989586621681137432"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Bool
</span><a href="#local-6989586621681137434"><span class="hs-identifier hs-var">isTrue</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137432"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1013"></span><span>                 </span><span class="annot"><a href="#local-6989586621681137441"><span class="hs-identifier hs-var">isUniversal</span></a></span><span> </span><span class="hs-identifier">_</span><span>                                                                               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1014"></span><span>
</span><span id="line-1015"></span><span>                 </span><span id="local-6989586621681137440"><span class="annot"><span class="annottext">isEmpty :: SExpr -&gt; Bool
</span><a href="#local-6989586621681137440"><span class="hs-identifier hs-var hs-var">isEmpty</span></a></span></span><span>     </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;const&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;Array&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;Bool&quot;</span><span class="hs-special">]</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137431"><span class="annot"><span class="annottext">r :: SExpr
</span><a href="#local-6989586621681137431"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Bool
</span><a href="#local-6989586621681137434"><span class="hs-identifier hs-var">isTrue</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137431"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1016"></span><span>                 </span><span class="annot"><a href="#local-6989586621681137440"><span class="hs-identifier hs-var">isEmpty</span></a></span><span>     </span><span class="hs-identifier">_</span><span>                                                                               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1017"></span><span>
</span><span id="line-1018"></span><span>                 </span><span id="local-6989586621681137438"><span class="annot"><span class="annottext">mbAssocs :: Maybe (Either String ([([SExpr], SExpr)], SExpr))
</span><a href="#local-6989586621681137438"><span class="hs-identifier hs-var hs-var">mbAssocs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe (Either String ([([SExpr], SExpr)], SExpr))
</span><a href="Data.SBV.Utils.SExpr.html#parseSExprFunction"><span class="hs-identifier hs-var">parseSExprFunction</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137442"><span class="hs-identifier hs-var">setExpr</span></a></span><span>
</span><span id="line-1019"></span><span>
</span><span id="line-1020"></span><span>                 </span><span id="local-6989586621681137437"><span class="annot"><span class="annottext">decode :: ([([SExpr], SExpr)], SExpr) -&gt; RCSet CVal
</span><a href="#local-6989586621681137437"><span class="hs-identifier hs-var hs-var">decode</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137430"><span class="annot"><span class="annottext">args :: [([SExpr], SExpr)]
</span><a href="#local-6989586621681137430"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137429"><span class="annot"><span class="annottext">r :: SExpr
</span><a href="#local-6989586621681137429"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Bool
</span><a href="#local-6989586621681137434"><span class="hs-identifier hs-var">isTrue</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137429"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set CVal -&gt; RCSet CVal
forall a. Set a -&gt; RCSet a
</span><a href="Data.SBV.Core.Concrete.html#ComplementSet"><span class="hs-identifier hs-var">ComplementSet</span></a></span><span> </span><span class="annot"><span class="annottext">(Set CVal -&gt; RCSet CVal) -&gt; Set CVal -&gt; RCSet CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; Set CVal
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CVal
</span><a href="#local-6989586621681137428"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137428"><span class="annot"><span class="annottext">x :: CVal
</span><a href="#local-6989586621681137428"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">False</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(([SExpr], SExpr) -&gt; (CVal, Bool))
-&gt; [([SExpr], SExpr)] -&gt; [(CVal, Bool)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">([SExpr], SExpr) -&gt; (CVal, Bool)
</span><a href="#local-6989586621681137427"><span class="hs-identifier hs-var">contents</span></a></span><span> </span><span class="annot"><span class="annottext">[([SExpr], SExpr)]
</span><a href="#local-6989586621681137430"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- deletions from universal</span><span>
</span><span id="line-1021"></span><span>                                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set CVal -&gt; RCSet CVal
forall a. Set a -&gt; RCSet a
</span><a href="Data.SBV.Core.Concrete.html#RegularSet"><span class="hs-identifier hs-var">RegularSet</span></a></span><span>    </span><span class="annot"><span class="annottext">(Set CVal -&gt; RCSet CVal) -&gt; Set CVal -&gt; RCSet CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; Set CVal
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CVal
</span><a href="#local-6989586621681137426"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137426"><span class="annot"><span class="annottext">x :: CVal
</span><a href="#local-6989586621681137426"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">True</span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(([SExpr], SExpr) -&gt; (CVal, Bool))
-&gt; [([SExpr], SExpr)] -&gt; [(CVal, Bool)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">([SExpr], SExpr) -&gt; (CVal, Bool)
</span><a href="#local-6989586621681137427"><span class="hs-identifier hs-var">contents</span></a></span><span> </span><span class="annot"><span class="annottext">[([SExpr], SExpr)]
</span><a href="#local-6989586621681137430"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- additions to empty</span><span>
</span><span id="line-1022"></span><span>
</span><span id="line-1023"></span><span>                 </span><span id="local-6989586621681137427"><span class="annot"><span class="annottext">contents :: ([SExpr], SExpr) -&gt; (CVal, Bool)
</span><a href="#local-6989586621681137427"><span class="hs-identifier hs-var hs-var">contents</span></a></span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span id="local-6989586621681137425"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681137425"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137424"><span class="annot"><span class="annottext">r :: SExpr
</span><a href="#local-6989586621681137424"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SExpr -&gt; CVal
</span><a href="#local-6989586621681137423"><span class="hs-identifier hs-var">element</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137425"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Bool
</span><a href="#local-6989586621681137434"><span class="hs-identifier hs-var">isTrue</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137424"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1024"></span><span>                 </span><span class="annot"><a href="#local-6989586621681137427"><span class="hs-identifier hs-var">contents</span></a></span><span> </span><span id="local-6989586621681137422"><span class="annot"><span class="annottext">bad :: ([SExpr], SExpr)
</span><a href="#local-6989586621681137422"><span class="hs-identifier hs-var">bad</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (CVal, Bool)
forall a. String -&gt; a
</span><a href="#local-6989586621681137436"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; (CVal, Bool)) -&gt; String -&gt; (CVal, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Multi-valued set member seen: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">([SExpr], SExpr) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">([SExpr], SExpr)
</span><a href="#local-6989586621681137422"><span class="hs-identifier hs-var">bad</span></a></span><span>
</span><span id="line-1025"></span><span>
</span><span id="line-1026"></span><span>                 </span><span id="local-6989586621681137423"><span class="annot"><span class="annottext">element :: SExpr -&gt; CVal
</span><a href="#local-6989586621681137423"><span class="hs-identifier hs-var hs-var">element</span></a></span></span><span> </span><span id="local-6989586621681137421"><span class="annot"><span class="annottext">x :: SExpr
</span><a href="#local-6989586621681137421"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var">recoverKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137443"><span class="hs-identifier hs-var">ke</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137421"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1027"></span><span>                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137420"><span class="annot"><span class="annottext">v :: CV
</span><a href="#local-6989586621681137420"><span class="hs-identifier hs-var">v</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#cvVal"><span class="hs-identifier hs-var hs-var">cvVal</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137420"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1028"></span><span>                               </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; CVal
forall a. String -&gt; a
</span><a href="#local-6989586621681137436"><span class="hs-identifier hs-var">tbd</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; CVal) -&gt; String -&gt; CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Unexpected value for kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(SExpr, Kind) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137421"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137443"><span class="hs-identifier hs-var">ke</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1029"></span><span>
</span><span id="line-1030"></span><span>        </span><span id="local-6989586621681137464"><span class="annot"><span class="annottext">interpretTuple :: SExpr -&gt; [CVal]
</span><a href="#local-6989586621681137464"><span class="hs-identifier hs-var hs-var">interpretTuple</span></a></span></span><span> </span><span id="local-6989586621681137419"><span class="annot"><span class="annottext">te :: SExpr
</span><a href="#local-6989586621681137419"><span class="hs-identifier hs-var">te</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key -&gt; [Maybe CV] -&gt; [CVal] -&gt; [CVal]
forall a. (Num a, Show a) =&gt; a -&gt; [Maybe CV] -&gt; [CVal] -&gt; [CVal]
</span><a href="#local-6989586621681137418"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Kind -&gt; SExpr -&gt; Maybe CV) -&gt; [Kind] -&gt; [SExpr] -&gt; [Maybe CV]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var">recoverKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137416"><span class="hs-identifier hs-var">ks</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137415"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1031"></span><span>                </span><span class="hs-keyword">where</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137416"><span class="annot"><span class="annottext">ks :: [Kind]
</span><a href="#local-6989586621681137416"><span class="hs-identifier hs-var">ks</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137414"><span class="annot"><span class="annottext">n :: Key
</span><a href="#local-6989586621681137414"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1032"></span><span>                                  </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KTuple"><span class="hs-identifier hs-type">KTuple</span></a></span><span> </span><span id="local-6989586621681137413"><span class="annot"><span class="annottext">eks :: [Kind]
</span><a href="#local-6989586621681137413"><span class="hs-identifier hs-var">eks</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137413"><span class="hs-identifier hs-var">eks</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137413"><span class="hs-identifier hs-var">eks</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1033"></span><span>                                  </span><span class="hs-identifier">_</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; ([Kind], Key)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; ([Kind], Key)) -&gt; String -&gt; ([Kind], Key)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Impossible: Expected a tuple kind, but got: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-1034"></span><span>                                                                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;While trying to parse: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137419"><span class="hs-identifier hs-var">te</span></a></span><span>
</span><span id="line-1035"></span><span>                                                                </span><span class="hs-special">]</span><span>
</span><span id="line-1036"></span><span>
</span><span id="line-1037"></span><span>                      </span><span id="local-6989586621681137415"><span class="annot"><span class="annottext">args :: [SExpr]
</span><a href="#local-6989586621681137415"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key -&gt; SExpr -&gt; [SExpr]
</span><a href="Data.SBV.Control.Utils.html#sexprToTuple"><span class="hs-identifier hs-var">sexprToTuple</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137414"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137419"><span class="hs-identifier hs-var">te</span></a></span><span>
</span><span id="line-1038"></span><span>
</span><span id="line-1039"></span><span>                      </span><span id="local-6989586621681137418"><span class="annot"><span class="annottext">walk :: a -&gt; [Maybe CV] -&gt; [CVal] -&gt; [CVal]
</span><a href="#local-6989586621681137418"><span class="hs-identifier hs-var hs-var">walk</span></a></span></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>           </span><span id="local-6989586621681137412"><span class="annot"><span class="annottext">sofar :: [CVal]
</span><a href="#local-6989586621681137412"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[CVal] -&gt; [CVal]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[CVal]
</span><a href="#local-6989586621681137412"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-1040"></span><span>                      </span><span class="annot"><a href="#local-6989586621681137418"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span id="local-6989586621681137411"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621681137411"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137410"><span class="annot"><span class="annottext">el :: CV
</span><a href="#local-6989586621681137410"><span class="hs-identifier hs-var">el</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681137409"><span class="annot"><span class="annottext">es :: [Maybe CV]
</span><a href="#local-6989586621681137409"><span class="hs-identifier hs-var">es</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681137408"><span class="annot"><span class="annottext">sofar :: [CVal]
</span><a href="#local-6989586621681137408"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; [Maybe CV] -&gt; [CVal] -&gt; [CVal]
</span><a href="#local-6989586621681137418"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137411"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">a -&gt; a -&gt; a
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Maybe CV]
</span><a href="#local-6989586621681137409"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#cvVal"><span class="hs-identifier hs-var hs-var">cvVal</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137410"><span class="hs-identifier hs-var">el</span></a></span><span> </span><span class="annot"><span class="annottext">CVal -&gt; [CVal] -&gt; [CVal]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[CVal]
</span><a href="#local-6989586621681137408"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1041"></span><span>                      </span><span class="annot"><a href="#local-6989586621681137418"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span id="local-6989586621681137406"><span class="annot"><span class="annottext">i :: a
</span><a href="#local-6989586621681137406"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>  </span><span class="hs-identifier">_</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [CVal]
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; [CVal]) -&gt; String -&gt; [CVal]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Couldn't parse a tuple element at position &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137406"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1042"></span><span>                                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span>
</span><span id="line-1043"></span><span>                                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Expr: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137419"><span class="hs-identifier hs-var">te</span></a></span><span>
</span><span id="line-1044"></span><span>                                                                  </span><span class="hs-special">]</span><span>
</span><span id="line-1045"></span><span>
</span><span id="line-1046"></span><span>        </span><span class="hs-comment">-- SMaybe</span><span>
</span><span id="line-1047"></span><span>        </span><span id="local-6989586621681137463"><span class="annot"><span class="annottext">interpretMaybe :: Kind -&gt; SExpr -&gt; Maybe CVal
</span><a href="#local-6989586621681137463"><span class="hs-identifier hs-var hs-var">interpretMaybe</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KMaybe"><span class="hs-identifier hs-type">KMaybe</span></a></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;nothing_SBVMaybe&quot;</span><span class="hs-special">)</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe CVal
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1048"></span><span>        </span><span class="annot"><a href="#local-6989586621681137463"><span class="hs-identifier hs-var">interpretMaybe</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KMaybe"><span class="hs-identifier hs-type">KMaybe</span></a></span><span> </span><span id="local-6989586621681137405"><span class="annot"><span class="annottext">ek :: Kind
</span><a href="#local-6989586621681137405"><span class="hs-identifier hs-var">ek</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;just_SBVMaybe&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137404"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137404"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var">recoverKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137405"><span class="hs-identifier hs-var">ek</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137404"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1049"></span><span>                                                                        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681137403"><span class="annot"><span class="annottext">v :: CVal
</span><a href="#local-6989586621681137403"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Maybe CVal
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">CVal
</span><a href="#local-6989586621681137403"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1050"></span><span>                                                                        </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe CVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe CVal) -&gt; String -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Couldn't parse a maybe just value&quot;</span></span><span>
</span><span id="line-1051"></span><span>                                                                                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137405"><span class="hs-identifier hs-var">ek</span></a></span><span>
</span><span id="line-1052"></span><span>                                                                                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Expr: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137404"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1053"></span><span>                                                                                                         </span><span class="hs-special">]</span><span>
</span><span id="line-1054"></span><span>        </span><span class="hs-comment">-- CVC4 puts in full ascriptions, handle those:</span><span>
</span><span id="line-1055"></span><span>        </span><span class="annot"><a href="#local-6989586621681137463"><span class="hs-identifier hs-var">interpretMaybe</span></a></span><span> </span><span class="hs-identifier">_</span><span>  </span><span class="hs-special">(</span><span>      </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;nothing_SBVMaybe&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe CVal
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1056"></span><span>        </span><span class="annot"><a href="#local-6989586621681137463"><span class="hs-identifier hs-var">interpretMaybe</span></a></span><span> </span><span id="local-6989586621681137402"><span class="annot"><span class="annottext">mk :: Kind
</span><a href="#local-6989586621681137402"><span class="hs-identifier hs-var">mk</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;just_SBVMaybe&quot;</span><span class="hs-special">,</span><span>    </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137401"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137401"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CVal
</span><a href="#local-6989586621681137463"><span class="hs-identifier hs-var">interpretMaybe</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137402"><span class="hs-identifier hs-var">mk</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SExpr] -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-var">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-var">ECon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;just_SBVMaybe&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137401"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1057"></span><span>
</span><span id="line-1058"></span><span>        </span><span class="annot"><a href="#local-6989586621681137463"><span class="hs-identifier hs-var">interpretMaybe</span></a></span><span> </span><span class="hs-identifier">_</span><span>  </span><span id="local-6989586621681137400"><span class="annot"><span class="annottext">other :: SExpr
</span><a href="#local-6989586621681137400"><span class="hs-identifier hs-var">other</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe CVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe CVal) -&gt; String -&gt; Maybe CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Expected an SMaybe sexpr, but received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, SExpr) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137400"><span class="hs-identifier hs-var">other</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1059"></span><span>
</span><span id="line-1060"></span><span>        </span><span class="hs-comment">-- SEither</span><span>
</span><span id="line-1061"></span><span>        </span><span id="local-6989586621681137462"><span class="annot"><span class="annottext">interpretEither :: Kind -&gt; SExpr -&gt; Either CVal CVal
</span><a href="#local-6989586621681137462"><span class="hs-identifier hs-var hs-var">interpretEither</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KEither"><span class="hs-identifier hs-type">KEither</span></a></span><span> </span><span id="local-6989586621681137399"><span class="annot"><span class="annottext">k1 :: Kind
</span><a href="#local-6989586621681137399"><span class="hs-identifier hs-var">k1</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;left_SBVEither&quot;</span><span class="hs-special">,</span><span>  </span><span id="local-6989586621681137398"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137398"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var">recoverKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137399"><span class="hs-identifier hs-var">k1</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137398"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1062"></span><span>                                                                              </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681137397"><span class="annot"><span class="annottext">v :: CVal
</span><a href="#local-6989586621681137397"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Either CVal CVal
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">CVal
</span><a href="#local-6989586621681137397"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1063"></span><span>                                                                              </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either CVal CVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Either CVal CVal) -&gt; String -&gt; Either CVal CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Couldn't parse an either value on the left&quot;</span></span><span>
</span><span id="line-1064"></span><span>                                                                                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137399"><span class="hs-identifier hs-var">k1</span></a></span><span>
</span><span id="line-1065"></span><span>                                                                                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Expr: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137398"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1066"></span><span>                                                                                                               </span><span class="hs-special">]</span><span>
</span><span id="line-1067"></span><span>        </span><span class="annot"><a href="#local-6989586621681137462"><span class="hs-identifier hs-var">interpretEither</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KEither"><span class="hs-identifier hs-type">KEither</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681137396"><span class="annot"><span class="annottext">k2 :: Kind
</span><a href="#local-6989586621681137396"><span class="hs-identifier hs-var">k2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;right_SBVEither&quot;</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137395"><span class="annot"><span class="annottext">b :: SExpr
</span><a href="#local-6989586621681137395"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var">recoverKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137396"><span class="hs-identifier hs-var">k2</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137395"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1068"></span><span>                                                                              </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681137394"><span class="annot"><span class="annottext">v :: CVal
</span><a href="#local-6989586621681137394"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CVal -&gt; Either CVal CVal
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">CVal
</span><a href="#local-6989586621681137394"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1069"></span><span>                                                                              </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either CVal CVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Either CVal CVal) -&gt; String -&gt; Either CVal CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Couldn't parse an either value on the right&quot;</span></span><span>
</span><span id="line-1070"></span><span>                                                                                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137396"><span class="hs-identifier hs-var">k2</span></a></span><span>
</span><span id="line-1071"></span><span>                                                                                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Expr: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137395"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1072"></span><span>                                                                                                               </span><span class="hs-special">]</span><span>
</span><span id="line-1073"></span><span>
</span><span id="line-1074"></span><span>        </span><span class="hs-comment">-- CVC4 puts full ascriptions:</span><span>
</span><span id="line-1075"></span><span>        </span><span class="annot"><a href="#local-6989586621681137462"><span class="hs-identifier hs-var">interpretEither</span></a></span><span> </span><span id="local-6989586621681137393"><span class="annot"><span class="annottext">ek :: Kind
</span><a href="#local-6989586621681137393"><span class="hs-identifier hs-var">ek</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;left_SBVEither&quot;</span><span class="hs-special">,</span><span>  </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137392"><span class="annot"><span class="annottext">a :: SExpr
</span><a href="#local-6989586621681137392"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Either CVal CVal
</span><a href="#local-6989586621681137462"><span class="hs-identifier hs-var">interpretEither</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137393"><span class="hs-identifier hs-var">ek</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SExpr] -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-var">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-var">ECon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;left_SBVEither&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137392"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1076"></span><span>        </span><span class="annot"><a href="#local-6989586621681137462"><span class="hs-identifier hs-var">interpretEither</span></a></span><span> </span><span id="local-6989586621681137391"><span class="annot"><span class="annottext">ek :: Kind
</span><a href="#local-6989586621681137391"><span class="hs-identifier hs-var">ek</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;as&quot;</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;right_SBVEither&quot;</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137390"><span class="annot"><span class="annottext">b :: SExpr
</span><a href="#local-6989586621681137390"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Either CVal CVal
</span><a href="#local-6989586621681137462"><span class="hs-identifier hs-var">interpretEither</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137391"><span class="hs-identifier hs-var">ek</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SExpr] -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-var">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; SExpr
</span><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-var">ECon</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;right_SBVEither&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137390"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1077"></span><span>
</span><span id="line-1078"></span><span>        </span><span class="annot"><a href="#local-6989586621681137462"><span class="hs-identifier hs-var">interpretEither</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681137389"><span class="annot"><span class="annottext">other :: SExpr
</span><a href="#local-6989586621681137389"><span class="hs-identifier hs-var">other</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either CVal CVal
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Either CVal CVal) -&gt; String -&gt; Either CVal CVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Expected an SEither sexpr, but received: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">(Kind, SExpr) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137484"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137389"><span class="hs-identifier hs-var">other</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1079"></span><span>
</span><span id="line-1080"></span><span>
</span><span id="line-1081"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getValueCV'</span><span>
</span><span id="line-1082"></span><span id="local-6989586621681137388"><span class="annot"><a href="Data.SBV.Control.Utils.html#getValueCV"><span class="hs-identifier hs-type">getValueCV</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681137388"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137388"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681137388"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span></span><span>
</span><span id="line-1083"></span><span id="getValueCV"><span class="annot"><span class="annottext">getValueCV :: Maybe Key -&gt; SV -&gt; m CV
</span><a href="Data.SBV.Control.Utils.html#getValueCV"><span class="hs-identifier hs-var hs-var">getValueCV</span></a></span></span><span> </span><span id="local-6989586621681137387"><span class="annot"><span class="annottext">mbi :: Maybe Key
</span><a href="#local-6989586621681137387"><span class="hs-identifier hs-var">mbi</span></a></span></span><span> </span><span id="local-6989586621681137386"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681137386"><span class="hs-identifier hs-var">s</span></a></span></span><span>
</span><span id="line-1084"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137386"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Kind -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-var">KReal</span></a></span><span>
</span><span id="line-1085"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; SV -&gt; m CV
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Key -&gt; SV -&gt; m CV
</span><a href="Data.SBV.Control.Utils.html#getValueCVHelper"><span class="hs-identifier hs-var">getValueCVHelper</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681137387"><span class="hs-identifier hs-var">mbi</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137386"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1086"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1087"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137384"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137384"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-1088"></span><span>       </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SolverCapabilities -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#supportsApproxReals"><span class="hs-identifier hs-var hs-var">supportsApproxReals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTSolver -&gt; SolverCapabilities
</span><a href="Data.SBV.Core.Symbolic.html#capabilities"><span class="hs-identifier hs-var hs-var">capabilities</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTSolver
</span><a href="Data.SBV.Core.Symbolic.html#solver"><span class="hs-identifier hs-var hs-var">solver</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137384"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1089"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; SV -&gt; m CV
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Key -&gt; SV -&gt; m CV
</span><a href="Data.SBV.Control.Utils.html#getValueCVHelper"><span class="hs-identifier hs-var">getValueCVHelper</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681137387"><span class="hs-identifier hs-var">mbi</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137386"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1090"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(set-option :pp.decimal false)&quot;</span></span><span>
</span><span id="line-1091"></span><span>                  </span><span id="local-6989586621681137382"><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137382"><span class="hs-identifier hs-var">rep1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; SV -&gt; m CV
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Key -&gt; SV -&gt; m CV
</span><a href="Data.SBV.Control.Utils.html#getValueCVHelper"><span class="hs-identifier hs-var">getValueCVHelper</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681137387"><span class="hs-identifier hs-var">mbi</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137386"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1092"></span><span>                  </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="annot"><span class="hs-string">&quot;(set-option :pp.decimal true)&quot;</span></span><span>
</span><span id="line-1093"></span><span>                  </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(set-option :pp.decimal_precision &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; Key
</span><a href="Data.SBV.Core.Symbolic.html#printRealPrec"><span class="hs-identifier hs-var hs-var">printRealPrec</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137384"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-1094"></span><span>                  </span><span id="local-6989586621681137380"><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137380"><span class="hs-identifier hs-var">rep2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; SV -&gt; m CV
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Key -&gt; SV -&gt; m CV
</span><a href="Data.SBV.Control.Utils.html#getValueCVHelper"><span class="hs-identifier hs-var">getValueCVHelper</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681137387"><span class="hs-identifier hs-var">mbi</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137386"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1095"></span><span>
</span><span id="line-1096"></span><span>                  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137379"><span class="annot"><span class="annottext">bad :: m a
</span><a href="#local-6989586621681137379"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getValueCV&quot;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;get-value&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;a real-valued binding for &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137386"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CV, CV) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137382"><span class="hs-identifier hs-var">rep1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137380"><span class="hs-identifier hs-var">rep2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1097"></span><span>
</span><span id="line-1098"></span><span>                  </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137382"><span class="hs-identifier hs-var">rep1</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137380"><span class="hs-identifier hs-var">rep2</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1099"></span><span>                    </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-type">CAlgReal</span></a></span><span> </span><span id="local-6989586621681137378"><span class="annot"><span class="annottext">a :: AlgReal
</span><a href="#local-6989586621681137378"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-type">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-type">CAlgReal</span></a></span><span> </span><span id="local-6989586621681137377"><span class="annot"><span class="annottext">b :: AlgReal
</span><a href="#local-6989586621681137377"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CV -&gt; m CV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; m CV) -&gt; CV -&gt; m CV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; CVal -&gt; CV
</span><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-var">CV</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KReal"><span class="hs-identifier hs-var">KReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AlgReal -&gt; CVal
</span><a href="Data.SBV.Core.Concrete.html#CAlgReal"><span class="hs-identifier hs-var">CAlgReal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; AlgReal -&gt; AlgReal -&gt; AlgReal
</span><a href="Data.SBV.Core.AlgReals.html#mergeAlgReals"><span class="hs-identifier hs-var">mergeAlgReals</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;Cannot merge real-values for &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137386"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681137378"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">AlgReal
</span><a href="#local-6989586621681137377"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1100"></span><span>                    </span><span class="hs-identifier">_</span><span>                                              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m CV
forall a. m a
</span><a href="#local-6989586621681137379"><span class="hs-identifier hs-var">bad</span></a></span><span>
</span><span id="line-1101"></span><span>
</span><span id="line-1102"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getUIFunCVAssoc'</span><span>
</span><span id="line-1103"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#getUIFunCVAssoc"><span class="hs-identifier hs-type">getUIFunCVAssoc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681138465"><span class="annot"><a href="#local-6989586621681138465"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138465"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138465"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-type">SBVType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138465"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1104"></span><span id="getUIFunCVAssoc"><span class="annot"><span class="annottext">getUIFunCVAssoc :: Maybe Key -&gt; (String, SBVType) -&gt; m ([([CV], CV)], CV)
</span><a href="Data.SBV.Control.Utils.html#getUIFunCVAssoc"><span class="hs-identifier hs-var hs-var">getUIFunCVAssoc</span></a></span></span><span> </span><span id="local-6989586621681137376"><span class="annot"><span class="annottext">mbi :: Maybe Key
</span><a href="#local-6989586621681137376"><span class="hs-identifier hs-var">mbi</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137375"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681137375"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137374"><span class="annot"><span class="annottext">typ :: SBVType
</span><a href="#local-6989586621681137374"><span class="hs-identifier hs-var">typ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1105"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137373"><span class="annot"><span class="annottext">modelIndex :: String
</span><a href="#local-6989586621681137373"><span class="hs-identifier hs-var hs-var">modelIndex</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Key
</span><a href="#local-6989586621681137376"><span class="hs-identifier hs-var">mbi</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1106"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1107"></span><span>                     </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137372"><span class="annot"><span class="annottext">i :: Key
</span><a href="#local-6989586621681137372"><span class="hs-identifier hs-var">i</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-string">&quot; :model_index &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137372"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-1108"></span><span>
</span><span id="line-1109"></span><span>      </span><span id="local-6989586621681137371"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681137371"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-value (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137375"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137373"><span class="hs-identifier hs-var">modelIndex</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-1110"></span><span>
</span><span id="line-1111"></span><span>      </span><span id="local-6989586621681137370"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137370"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;get-value&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137371"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a function value&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1112"></span><span>
</span><span id="line-1113"></span><span>  </span><span id="local-6989586621681137369"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137369"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137371"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1114"></span><span>
</span><span id="line-1115"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137368"><span class="annot"><span class="annottext">ats :: [Kind]
</span><a href="#local-6989586621681137368"><span class="hs-identifier hs-var">ats</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137367"><span class="annot"><span class="annottext">rt :: Kind
</span><a href="#local-6989586621681137367"><span class="hs-identifier hs-var">rt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SBVType
</span><a href="#local-6989586621681137374"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1116"></span><span>                    </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-type">SBVType</span></a></span><span> </span><span id="local-6989586621681137366"><span class="annot"><span class="annottext">as :: [Kind]
</span><a href="#local-6989586621681137366"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137366"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Kind] -&gt; [Kind]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137366"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; Kind
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137366"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1117"></span><span>                    </span><span class="hs-identifier">_</span><span>                          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; ([Kind], Kind)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; ([Kind], Kind)) -&gt; String -&gt; ([Kind], Kind)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.getUIFunCVAssoc: Expected a function type, got: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SBVType -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SBVType
</span><a href="#local-6989586621681137374"><span class="hs-identifier hs-var">typ</span></a></span><span>
</span><span id="line-1118"></span><span>
</span><span id="line-1119"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137364"><span class="annot"><span class="annottext">convert :: (t ([SExpr], SExpr), SExpr) -&gt; Maybe (t ([CV], CV), CV)
</span><a href="#local-6989586621681137364"><span class="hs-identifier hs-var hs-var">convert</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137363"><span class="annot"><span class="annottext">vs :: t ([SExpr], SExpr)
</span><a href="#local-6989586621681137363"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137362"><span class="annot"><span class="annottext">d :: SExpr
</span><a href="#local-6989586621681137362"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(t ([CV], CV) -&gt; CV -&gt; (t ([CV], CV), CV))
-&gt; Maybe (t ([CV], CV)) -&gt; Maybe (CV -&gt; (t ([CV], CV), CV))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(([SExpr], SExpr) -&gt; Maybe ([CV], CV))
-&gt; t ([SExpr], SExpr) -&gt; Maybe (t ([CV], CV))
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">([SExpr], SExpr) -&gt; Maybe ([CV], CV)
</span><a href="#local-6989586621681137361"><span class="hs-identifier hs-var">toPoint</span></a></span><span> </span><span class="annot"><span class="annottext">t ([SExpr], SExpr)
</span><a href="#local-6989586621681137363"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (CV -&gt; (t ([CV], CV), CV))
-&gt; Maybe CV -&gt; Maybe (t ([CV], CV), CV)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe CV
</span><a href="#local-6989586621681137360"><span class="hs-identifier hs-var">toRes</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137362"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-1120"></span><span>      </span><span id="local-6989586621681137361"><span class="annot"><span class="annottext">toPoint :: ([SExpr], SExpr) -&gt; Maybe ([CV], CV)
</span><a href="#local-6989586621681137361"><span class="hs-identifier hs-var hs-var">toPoint</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137359"><span class="annot"><span class="annottext">as :: [SExpr]
</span><a href="#local-6989586621681137359"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137358"><span class="annot"><span class="annottext">v :: SExpr
</span><a href="#local-6989586621681137358"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-1121"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[SExpr] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137359"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137368"><span class="hs-identifier hs-var">ats</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([CV] -&gt; CV -&gt; ([CV], CV))
-&gt; Maybe [CV] -&gt; Maybe (CV -&gt; ([CV], CV))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; SExpr -&gt; Maybe CV) -&gt; [Kind] -&gt; [SExpr] -&gt; Maybe [CV]
forall (m :: * -&gt; *) a b c.
Applicative m =&gt;
(a -&gt; b -&gt; m c) -&gt; [a] -&gt; [b] -&gt; m [c]
</span><span class="hs-identifier hs-var">zipWithM</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var">recoverKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137368"><span class="hs-identifier hs-var">ats</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137359"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (CV -&gt; ([CV], CV)) -&gt; Maybe CV -&gt; Maybe ([CV], CV)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe CV
</span><a href="#local-6989586621681137360"><span class="hs-identifier hs-var">toRes</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137358"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-1122"></span><span>         </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe ([CV], CV)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe ([CV], CV)) -&gt; String -&gt; Maybe ([CV], CV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Data.SBV.getUIFunCVAssoc: Mismatching type/value arity, got: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">([SExpr], [Kind]) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137359"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137368"><span class="hs-identifier hs-var">ats</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1123"></span><span>
</span><span id="line-1124"></span><span>      </span><span class="annot"><a href="#local-6989586621681137360"><span class="hs-identifier hs-type">toRes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span>
</span><span id="line-1125"></span><span>      </span><span id="local-6989586621681137360"><span class="annot"><span class="annottext">toRes :: SExpr -&gt; Maybe CV
</span><a href="#local-6989586621681137360"><span class="hs-identifier hs-var hs-var">toRes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; SExpr -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#recoverKindedValue"><span class="hs-identifier hs-var">recoverKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137367"><span class="hs-identifier hs-var">rt</span></a></span><span>
</span><span id="line-1126"></span><span>
</span><span id="line-1127"></span><span>      </span><span class="hs-comment">-- In case we end up in the pointwise scenerio, boolify the result</span><span>
</span><span id="line-1128"></span><span>      </span><span class="hs-comment">-- as that's the only type we support here.</span><span>
</span><span id="line-1129"></span><span>      </span><span id="local-6989586621681137357"><span class="annot"><span class="annottext">tryPointWise :: m ([([CV], CV)], CV) -&gt; m ([([CV], CV)], CV)
</span><a href="#local-6989586621681137357"><span class="hs-identifier hs-var hs-var">tryPointWise</span></a></span></span><span> </span><span id="local-6989586621681137356"><span class="annot"><span class="annottext">bailOut :: m ([([CV], CV)], CV)
</span><a href="#local-6989586621681137356"><span class="hs-identifier hs-var">bailOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137355"><span class="annot"><span class="annottext">Maybe ([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137355"><span class="hs-identifier hs-var">mbSExprs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; SBVType -&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; SBVType -&gt; m (Maybe ([([SExpr], SExpr)], SExpr))
</span><a href="Data.SBV.Control.Utils.html#pointWiseExtract"><span class="hs-identifier hs-var">pointWiseExtract</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137375"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">SBVType
</span><a href="#local-6989586621681137374"><span class="hs-identifier hs-var">typ</span></a></span><span>
</span><span id="line-1130"></span><span>                                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe ([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137355"><span class="hs-identifier hs-var">mbSExprs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1131"></span><span>                                  </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m ([([CV], CV)], CV)
</span><a href="#local-6989586621681137356"><span class="hs-identifier hs-var">bailOut</span></a></span><span>
</span><span id="line-1132"></span><span>                                  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137354"><span class="annot"><span class="annottext">sExprs :: ([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137354"><span class="hs-identifier hs-var">sExprs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m ([([CV], CV)], CV)
-&gt; (([([CV], CV)], CV) -&gt; m ([([CV], CV)], CV))
-&gt; Maybe ([([CV], CV)], CV)
-&gt; m ([([CV], CV)], CV)
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">m ([([CV], CV)], CV)
</span><a href="#local-6989586621681137356"><span class="hs-identifier hs-var">bailOut</span></a></span><span> </span><span class="annot"><span class="annottext">([([CV], CV)], CV) -&gt; m ([([CV], CV)], CV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([([SExpr], SExpr)], SExpr) -&gt; Maybe ([([CV], CV)], CV)
forall (t :: * -&gt; *).
Traversable t =&gt;
(t ([SExpr], SExpr), SExpr) -&gt; Maybe (t ([CV], CV), CV)
</span><a href="#local-6989586621681137364"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137354"><span class="hs-identifier hs-var">sExprs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1133"></span><span>
</span><span id="line-1134"></span><span>  </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m ([([CV], CV)], CV))
-&gt; (SExpr -&gt; m ([([CV], CV)], CV))
-&gt; m ([([CV], CV)], CV)
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137369"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m ([([CV], CV)], CV)
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137370"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m ([([CV], CV)], CV)) -&gt; m ([([CV], CV)], CV))
-&gt; (SExpr -&gt; m ([([CV], CV)], CV)) -&gt; m ([([CV], CV)], CV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137352"><span class="annot"><span class="annottext">o :: String
</span><a href="#local-6989586621681137352"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137351"><span class="annot"><span class="annottext">e :: SExpr
</span><a href="#local-6989586621681137351"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">]</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137352"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137375"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137350"><span class="annot"><span class="annottext">bailOut :: m a
</span><a href="#local-6989586621681137350"><span class="hs-identifier hs-var hs-var">bailOut</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m a
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137370"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137369"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1135"></span><span>                                                           </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe (Either String ([([SExpr], SExpr)], SExpr))
</span><a href="Data.SBV.Utils.SExpr.html#parseSExprFunction"><span class="hs-identifier hs-var">parseSExprFunction</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137351"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1136"></span><span>                                                                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621681137349"><span class="annot"><span class="annottext">assocs :: ([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137349"><span class="hs-identifier hs-var">assocs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137348"><span class="annot"><span class="annottext">res :: ([([CV], CV)], CV)
</span><a href="#local-6989586621681137348"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">([([SExpr], SExpr)], SExpr) -&gt; Maybe ([([CV], CV)], CV)
forall (t :: * -&gt; *).
Traversable t =&gt;
(t ([SExpr], SExpr), SExpr) -&gt; Maybe (t ([CV], CV), CV)
</span><a href="#local-6989586621681137364"><span class="hs-identifier hs-var">convert</span></a></span><span> </span><span class="annot"><span class="annottext">([([SExpr], SExpr)], SExpr)
</span><a href="#local-6989586621681137349"><span class="hs-identifier hs-var">assocs</span></a></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([([CV], CV)], CV) -&gt; m ([([CV], CV)], CV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([([CV], CV)], CV)
</span><a href="#local-6989586621681137348"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1137"></span><span>                                                                                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m ([([CV], CV)], CV) -&gt; m ([([CV], CV)], CV)
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m ([([CV], CV)], CV) -&gt; m ([([CV], CV)], CV)
</span><a href="#local-6989586621681137357"><span class="hs-identifier hs-var">tryPointWise</span></a></span><span> </span><span class="annot"><span class="annottext">m ([([CV], CV)], CV)
forall a. m a
</span><a href="#local-6989586621681137350"><span class="hs-identifier hs-var">bailOut</span></a></span><span>
</span><span id="line-1138"></span><span>
</span><span id="line-1139"></span><span>                                                                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621681137347"><span class="annot"><span class="annottext">nm' :: String
</span><a href="#local-6989586621681137347"><span class="hs-identifier hs-var">nm'</span></a></span></span><span class="hs-special">)</span><span>     </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137375"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137347"><span class="hs-identifier hs-var">nm'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137346"><span class="annot"><span class="annottext">res :: CV
</span><a href="#local-6989586621681137346"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Maybe CV
</span><a href="Data.SBV.Control.Utils.html#defaultKindedValue"><span class="hs-identifier hs-var">defaultKindedValue</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137367"><span class="hs-identifier hs-var">rt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([([CV], CV)], CV) -&gt; m ([([CV], CV)], CV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137346"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1140"></span><span>                                                                                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                                         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m ([([CV], CV)], CV)
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137370"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137369"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1141"></span><span>
</span><span id="line-1142"></span><span>                                                                </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>                                                            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m ([([CV], CV)], CV) -&gt; m ([([CV], CV)], CV)
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m ([([CV], CV)], CV) -&gt; m ([([CV], CV)], CV)
</span><a href="#local-6989586621681137357"><span class="hs-identifier hs-var">tryPointWise</span></a></span><span> </span><span class="annot"><span class="annottext">m ([([CV], CV)], CV)
forall a. m a
</span><a href="#local-6989586621681137350"><span class="hs-identifier hs-var">bailOut</span></a></span><span>
</span><span id="line-1143"></span><span>
</span><span id="line-1144"></span><span>                      </span><span class="hs-identifier">_</span><span>                                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m ([([CV], CV)], CV)
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137370"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137369"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1145"></span><span>
</span><span id="line-1146"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.checkSat'</span><span>
</span><span id="line-1147"></span><span id="local-6989586621681138467"><span class="annot"><a href="Data.SBV.Control.Utils.html#checkSat"><span class="hs-identifier hs-type">checkSat</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138467"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138467"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138467"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#CheckSatResult"><span class="hs-identifier hs-type">CheckSatResult</span></a></span></span><span>
</span><span id="line-1148"></span><span id="checkSat"><span class="annot"><span class="annottext">checkSat :: m CheckSatResult
</span><a href="Data.SBV.Control.Utils.html#checkSat"><span class="hs-identifier hs-var hs-var">checkSat</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137345"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137345"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-1149"></span><span>              </span><span class="annot"><span class="annottext">String -&gt; m CheckSatResult
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m CheckSatResult
</span><a href="Data.SBV.Control.Utils.html#checkSatUsing"><span class="hs-identifier hs-var">checkSatUsing</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m CheckSatResult) -&gt; String -&gt; m CheckSatResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; String
</span><a href="Data.SBV.Core.Symbolic.html#satCmd"><span class="hs-identifier hs-var hs-var">satCmd</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137345"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1150"></span><span>
</span><span id="line-1151"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.checkSatUsing'</span><span>
</span><span id="line-1152"></span><span id="local-6989586621681138494"><span class="annot"><a href="Data.SBV.Control.Utils.html#checkSatUsing"><span class="hs-identifier hs-type">checkSatUsing</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138494"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138494"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138494"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Control.Types.html#CheckSatResult"><span class="hs-identifier hs-type">CheckSatResult</span></a></span></span><span>
</span><span id="line-1153"></span><span id="checkSatUsing"><span class="annot"><span class="annottext">checkSatUsing :: String -&gt; m CheckSatResult
</span><a href="Data.SBV.Control.Utils.html#checkSatUsing"><span class="hs-identifier hs-var hs-var">checkSatUsing</span></a></span></span><span> </span><span id="local-6989586621681137343"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681137343"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137342"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137342"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;checkSat&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137343"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;one of sat/unsat/unknown&quot;</span></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1154"></span><span>
</span><span id="line-1155"></span><span>                           </span><span class="hs-comment">-- Sigh.. Ignore some of the pesky warnings. We only do it as an exception here.</span><span>
</span><span id="line-1156"></span><span>                           </span><span id="local-6989586621681137341"><span class="annot"><span class="annottext">ignoreList :: [String]
</span><a href="#local-6989586621681137341"><span class="hs-identifier hs-var hs-var">ignoreList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;WARNING: optimization with quantified constraints is not supported&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1157"></span><span>
</span><span id="line-1158"></span><span>                       </span><span id="local-6989586621681137340"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137340"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; [String] -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#askIgnoring"><span class="hs-identifier hs-var">askIgnoring</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137343"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137341"><span class="hs-identifier hs-var">ignoreList</span></a></span><span>
</span><span id="line-1159"></span><span>
</span><span id="line-1160"></span><span>                       </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m CheckSatResult)
-&gt; (SExpr -&gt; m CheckSatResult)
-&gt; m CheckSatResult
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137340"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m CheckSatResult
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137342"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m CheckSatResult) -&gt; m CheckSatResult)
-&gt; (SExpr -&gt; m CheckSatResult) -&gt; m CheckSatResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;sat&quot;</span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CheckSatResult -&gt; m CheckSatResult
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="Data.SBV.Control.Types.html#Sat"><span class="hs-identifier hs-var">Sat</span></a></span><span>
</span><span id="line-1161"></span><span>                                           </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;unsat&quot;</span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CheckSatResult -&gt; m CheckSatResult
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="Data.SBV.Control.Types.html#Unsat"><span class="hs-identifier hs-var">Unsat</span></a></span><span>
</span><span id="line-1162"></span><span>                                           </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span class="hs-string">&quot;unknown&quot;</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CheckSatResult -&gt; m CheckSatResult
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="Data.SBV.Control.Types.html#Unk"><span class="hs-identifier hs-var">Unk</span></a></span><span>
</span><span id="line-1163"></span><span>                                           </span><span class="hs-identifier">_</span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m CheckSatResult
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137342"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137340"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1164"></span><span>
</span><span id="line-1165"></span><span class="hs-comment">-- | What are the top level inputs? Trackers are returned as top level existentials</span><span>
</span><span id="line-1166"></span><span id="local-6989586621681138481"><span class="annot"><a href="Data.SBV.Control.Utils.html#getQuantifiedInputs"><span class="hs-identifier hs-type">getQuantifiedInputs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138481"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138481"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138481"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Quantifier"><span class="hs-identifier hs-type">Quantifier</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NamedSymVar"><span class="hs-identifier hs-type">NamedSymVar</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-1167"></span><span id="getQuantifiedInputs"><span class="annot"><span class="annottext">getQuantifiedInputs :: m [(Quantifier, NamedSymVar)]
</span><a href="Data.SBV.Control.Utils.html#getQuantifiedInputs"><span class="hs-identifier hs-var hs-var">getQuantifiedInputs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span class="hs-special">{</span><span id="local-6989586621681137336"><span class="annot"><span class="annottext">IORef (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
rinps :: State
-&gt; IORef (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
rinps :: IORef (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
</span><a href="Data.SBV.Core.Symbolic.html#rinps"><span class="hs-identifier hs-var hs-var">rinps</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-1168"></span><span>                         </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681137334"><span class="annot"><span class="annottext">rQinps :: [(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137334"><span class="hs-identifier hs-var">rQinps</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137333"><span class="annot"><span class="annottext">rTrackers :: [NamedSymVar]
</span><a href="#local-6989586621681137333"><span class="hs-identifier hs-var">rTrackers</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
-&gt; m (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
 -&gt; m (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String))
-&gt; IO (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
-&gt; m (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
-&gt; IO (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
</span><a href="#local-6989586621681137336"><span class="hs-identifier hs-var">rinps</span></a></span><span>
</span><span id="line-1169"></span><span>
</span><span id="line-1170"></span><span>                         </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137332"><span class="annot"><span class="annottext">qinps :: [(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137332"><span class="hs-identifier hs-var hs-var">qinps</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)] -&gt; [(Quantifier, NamedSymVar)]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137334"><span class="hs-identifier hs-var">rQinps</span></a></span><span>
</span><span id="line-1171"></span><span>                             </span><span id="local-6989586621681137331"><span class="annot"><span class="annottext">trackers :: [(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137331"><span class="hs-identifier hs-var hs-var">trackers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamedSymVar -&gt; (Quantifier, NamedSymVar))
-&gt; [NamedSymVar] -&gt; [(Quantifier, NamedSymVar)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-var">EX</span></a></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([NamedSymVar] -&gt; [(Quantifier, NamedSymVar)])
-&gt; [NamedSymVar] -&gt; [(Quantifier, NamedSymVar)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[NamedSymVar] -&gt; [NamedSymVar]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[NamedSymVar]
</span><a href="#local-6989586621681137333"><span class="hs-identifier hs-var">rTrackers</span></a></span><span>
</span><span id="line-1172"></span><span>
</span><span id="line-1173"></span><span>                             </span><span class="hs-comment">-- separate the existential prefix, which will go first</span><span>
</span><span id="line-1174"></span><span>                             </span><span class="hs-special">(</span><span id="local-6989586621681137330"><span class="annot"><span class="annottext">preQs :: [(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137330"><span class="hs-identifier hs-var">preQs</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137329"><span class="annot"><span class="annottext">postQs :: [(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137329"><span class="hs-identifier hs-var">postQs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar) -&gt; Bool)
-&gt; [(Quantifier, NamedSymVar)]
-&gt; ([(Quantifier, NamedSymVar)], [(Quantifier, NamedSymVar)])
forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">span</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621681137327"><span class="annot"><span class="annottext">q :: Quantifier
</span><a href="#local-6989586621681137327"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Quantifier
</span><a href="#local-6989586621681137327"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Quantifier -&gt; Quantifier -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-var">EX</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137332"><span class="hs-identifier hs-var">qinps</span></a></span><span>
</span><span id="line-1175"></span><span>
</span><span id="line-1176"></span><span>                         </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)] -&gt; m [(Quantifier, NamedSymVar)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([(Quantifier, NamedSymVar)] -&gt; m [(Quantifier, NamedSymVar)])
-&gt; [(Quantifier, NamedSymVar)] -&gt; m [(Quantifier, NamedSymVar)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137330"><span class="hs-identifier hs-var">preQs</span></a></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
-&gt; [(Quantifier, NamedSymVar)] -&gt; [(Quantifier, NamedSymVar)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137331"><span class="hs-identifier hs-var">trackers</span></a></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
-&gt; [(Quantifier, NamedSymVar)] -&gt; [(Quantifier, NamedSymVar)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137329"><span class="hs-identifier hs-var">postQs</span></a></span><span>
</span><span id="line-1177"></span><span>
</span><span id="line-1178"></span><span class="hs-comment">-- | Get observables, i.e., those explicitly labeled by the user with a call to 'Data.SBV.observe'.</span><span>
</span><span id="line-1179"></span><span id="local-6989586621681138464"><span class="annot"><a href="Data.SBV.Control.Utils.html#getObservables"><span class="hs-identifier hs-type">getObservables</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138464"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138464"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138464"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Concrete.html#CV"><span class="hs-identifier hs-type">CV</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-1180"></span><span id="getObservables"><span class="annot"><span class="annottext">getObservables :: m [(String, CV)]
</span><a href="Data.SBV.Control.Utils.html#getObservables"><span class="hs-identifier hs-var hs-var">getObservables</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span class="hs-special">{</span><span id="local-6989586621681137326"><span class="annot"><span class="annottext">IORef [(String, CV -&gt; Bool, SV)]
rObservables :: State -&gt; IORef [(String, CV -&gt; Bool, SV)]
rObservables :: IORef [(String, CV -&gt; Bool, SV)]
</span><a href="Data.SBV.Core.Symbolic.html#rObservables"><span class="hs-identifier hs-var hs-var">rObservables</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-1181"></span><span>
</span><span id="line-1182"></span><span>                    </span><span id="local-6989586621681137324"><span class="annot"><span class="annottext">[(String, CV -&gt; Bool, SV)]
</span><a href="#local-6989586621681137324"><span class="hs-identifier hs-var">rObs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO [(String, CV -&gt; Bool, SV)] -&gt; m [(String, CV -&gt; Bool, SV)]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO [(String, CV -&gt; Bool, SV)] -&gt; m [(String, CV -&gt; Bool, SV)])
-&gt; IO [(String, CV -&gt; Bool, SV)] -&gt; m [(String, CV -&gt; Bool, SV)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef [(String, CV -&gt; Bool, SV)] -&gt; IO [(String, CV -&gt; Bool, SV)]
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef [(String, CV -&gt; Bool, SV)]
</span><a href="#local-6989586621681137326"><span class="hs-identifier hs-var">rObservables</span></a></span><span>
</span><span id="line-1183"></span><span>
</span><span id="line-1184"></span><span>                    </span><span class="hs-comment">-- This intentionally reverses the result; since 'rObs' stores in reversed order</span><span>
</span><span id="line-1185"></span><span>                    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137323"><span class="annot"><span class="annottext">walk :: [(a, CV -&gt; Bool, SV)] -&gt; [(a, CV)] -&gt; m [(a, CV)]
</span><a href="#local-6989586621681137323"><span class="hs-identifier hs-var hs-var">walk</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>             </span><span id="local-6989586621681137322"><span class="annot"><span class="annottext">sofar :: [(a, CV)]
</span><a href="#local-6989586621681137322"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(a, CV)] -&gt; m [(a, CV)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[(a, CV)]
</span><a href="#local-6989586621681137322"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-1186"></span><span>                        </span><span class="annot"><a href="#local-6989586621681137323"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681137321"><span class="annot"><span class="annottext">n :: a
</span><a href="#local-6989586621681137321"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137320"><span class="annot"><span class="annottext">f :: CV -&gt; Bool
</span><a href="#local-6989586621681137320"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137319"><span class="annot"><span class="annottext">s :: SV
</span><a href="#local-6989586621681137319"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681137318"><span class="annot"><span class="annottext">os :: [(a, CV -&gt; Bool, SV)]
</span><a href="#local-6989586621681137318"><span class="hs-identifier hs-var">os</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681137317"><span class="annot"><span class="annottext">sofar :: [(a, CV)]
</span><a href="#local-6989586621681137317"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137316"><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137316"><span class="hs-identifier hs-var">cv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; SV -&gt; m CV
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Key -&gt; SV -&gt; m CV
</span><a href="Data.SBV.Control.Utils.html#getValueCV"><span class="hs-identifier hs-var">getValueCV</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137319"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1187"></span><span>                                                       </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Bool
</span><a href="#local-6989586621681137320"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137316"><span class="hs-identifier hs-var">cv</span></a></span><span>
</span><span id="line-1188"></span><span>                                                          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[(a, CV -&gt; Bool, SV)] -&gt; [(a, CV)] -&gt; m [(a, CV)]
</span><a href="#local-6989586621681137323"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, CV -&gt; Bool, SV)]
</span><a href="#local-6989586621681137318"><span class="hs-identifier hs-var">os</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137321"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137316"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(a, CV) -&gt; [(a, CV)] -&gt; [(a, CV)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[(a, CV)]
</span><a href="#local-6989586621681137317"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1189"></span><span>                                                          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[(a, CV -&gt; Bool, SV)] -&gt; [(a, CV)] -&gt; m [(a, CV)]
</span><a href="#local-6989586621681137323"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, CV -&gt; Bool, SV)]
</span><a href="#local-6989586621681137318"><span class="hs-identifier hs-var">os</span></a></span><span>            </span><span class="annot"><span class="annottext">[(a, CV)]
</span><a href="#local-6989586621681137317"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-1190"></span><span>
</span><span id="line-1191"></span><span>                    </span><span class="annot"><span class="annottext">[(String, CV -&gt; Bool, SV)] -&gt; [(String, CV)] -&gt; m [(String, CV)]
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
[(a, CV -&gt; Bool, SV)] -&gt; [(a, CV)] -&gt; m [(a, CV)]
</span><a href="#local-6989586621681137323"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, CV -&gt; Bool, SV)]
</span><a href="#local-6989586621681137324"><span class="hs-identifier hs-var">rObs</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1192"></span><span>
</span><span id="line-1193"></span><span class="hs-comment">-- | Get UIs, both constants and functions. This call returns both the before and after query ones.</span><span>
</span><span id="line-1194"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getUIs'.</span><span>
</span><span id="line-1195"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#getUIs"><span class="hs-identifier hs-type">getUIs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681138480"><span class="annot"><a href="#local-6989586621681138480"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138480"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138480"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138480"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-type">SBVType</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1196"></span><span id="getUIs"><span class="annot"><span class="annottext">getUIs :: m [(String, SBVType)]
</span><a href="Data.SBV.Control.Utils.html#getUIs"><span class="hs-identifier hs-var hs-var">getUIs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span class="hs-special">{</span><span id="local-6989586621681137315"><span class="annot"><span class="annottext">IORef (Map String SBVType)
rUIMap :: IORef (Map String SBVType)
rUIMap :: State -&gt; IORef (Map String SBVType)
</span><a href="#local-6989586621681137315"><span class="hs-identifier hs-var hs-var">rUIMap</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137314"><span class="annot"><span class="annottext">IORef IncState
rIncState :: State -&gt; IORef IncState
rIncState :: IORef IncState
</span><a href="Data.SBV.Core.Symbolic.html#rIncState"><span class="hs-identifier hs-var hs-var">rIncState</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-1197"></span><span>            </span><span id="local-6989586621681137312"><span class="annot"><span class="annottext">Map String SBVType
</span><a href="#local-6989586621681137312"><span class="hs-identifier hs-var">prior</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Map String SBVType) -&gt; m (Map String SBVType)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Map String SBVType) -&gt; m (Map String SBVType))
-&gt; IO (Map String SBVType) -&gt; m (Map String SBVType)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef (Map String SBVType) -&gt; IO (Map String SBVType)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef (Map String SBVType)
</span><a href="#local-6989586621681137315"><span class="hs-identifier hs-var">rUIMap</span></a></span><span>
</span><span id="line-1198"></span><span>            </span><span id="local-6989586621681137311"><span class="annot"><span class="annottext">Map String SBVType
</span><a href="#local-6989586621681137311"><span class="hs-identifier hs-var">new</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Map String SBVType) -&gt; m (Map String SBVType)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (Map String SBVType) -&gt; m (Map String SBVType))
-&gt; IO (Map String SBVType) -&gt; m (Map String SBVType)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef IncState -&gt; IO IncState
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef IncState
</span><a href="#local-6989586621681137314"><span class="hs-identifier hs-var">rIncState</span></a></span><span> </span><span class="annot"><span class="annottext">IO IncState
-&gt; (IncState -&gt; IO (Map String SBVType)) -&gt; IO (Map String SBVType)
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">IORef (Map String SBVType) -&gt; IO (Map String SBVType)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">(IORef (Map String SBVType) -&gt; IO (Map String SBVType))
-&gt; (IncState -&gt; IORef (Map String SBVType))
-&gt; IncState
-&gt; IO (Map String SBVType)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IncState -&gt; IORef (Map String SBVType)
</span><a href="Data.SBV.Core.Symbolic.html#rNewUIs"><span class="hs-identifier hs-var hs-var">rNewUIs</span></a></span><span>
</span><span id="line-1199"></span><span>            </span><span class="annot"><span class="annottext">[(String, SBVType)] -&gt; m [(String, SBVType)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([(String, SBVType)] -&gt; m [(String, SBVType)])
-&gt; [(String, SBVType)] -&gt; m [(String, SBVType)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)] -&gt; [(String, SBVType)]
forall a. Eq a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nub</span></span><span> </span><span class="annot"><span class="annottext">([(String, SBVType)] -&gt; [(String, SBVType)])
-&gt; [(String, SBVType)] -&gt; [(String, SBVType)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)] -&gt; [(String, SBVType)]
forall a. Ord a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sort</span></span><span> </span><span class="annot"><span class="annottext">([(String, SBVType)] -&gt; [(String, SBVType)])
-&gt; [(String, SBVType)] -&gt; [(String, SBVType)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Map String SBVType -&gt; [(String, SBVType)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">Map String SBVType
</span><a href="#local-6989586621681137312"><span class="hs-identifier hs-var">prior</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)] -&gt; [(String, SBVType)] -&gt; [(String, SBVType)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Map String SBVType -&gt; [(String, SBVType)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">Map String SBVType
</span><a href="#local-6989586621681137311"><span class="hs-identifier hs-var">new</span></a></span><span>
</span><span id="line-1200"></span><span>
</span><span id="line-1201"></span><span class="hs-comment">-- | Repeatedly issue check-sat, after refuting the previous model.</span><span>
</span><span id="line-1202"></span><span class="hs-comment">-- The bool is true if the model is unique upto prefix existentials.</span><span>
</span><span id="line-1203"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#getAllSatResult"><span class="hs-identifier hs-type">getAllSatResult</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681137310"><span class="annot"><a href="#local-6989586621681137310"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681137310"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137310"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SolverContext"><span class="hs-identifier hs-type">SolverContext</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137310"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681137310"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTResult"><span class="hs-identifier hs-type">SMTResult</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1204"></span><span id="getAllSatResult"><span class="annot"><span class="annottext">getAllSatResult :: m (Bool, Bool, Bool, [SMTResult])
</span><a href="Data.SBV.Control.Utils.html#getAllSatResult"><span class="hs-identifier hs-var hs-var">getAllSatResult</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;*** Checking Satisfiability, all solutions..&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1205"></span><span>
</span><span id="line-1206"></span><span>                     </span><span id="local-6989586621681137309"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137309"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-1207"></span><span>
</span><span id="line-1208"></span><span>                     </span><span id="local-6989586621681137308"><span class="annot"><span class="annottext">topState :: State
</span><a href="#local-6989586621681137308"><span class="hs-identifier hs-var">topState</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#State"><span class="hs-identifier hs-type">State</span></a></span><span class="hs-special">{</span><span id="local-6989586621681137307"><span class="annot"><span class="annottext">IORef KindSet
rUsedKinds :: State -&gt; IORef KindSet
rUsedKinds :: IORef KindSet
</span><a href="Data.SBV.Core.Symbolic.html#rUsedKinds"><span class="hs-identifier hs-var hs-var">rUsedKinds</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m State
forall (m :: * -&gt; *). MonadQuery m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#queryState"><span class="hs-identifier hs-var">queryState</span></a></span><span>
</span><span id="line-1209"></span><span>
</span><span id="line-1210"></span><span>                     </span><span id="local-6989586621681137305"><span class="annot"><span class="annottext">KindSet
</span><a href="#local-6989586621681137305"><span class="hs-identifier hs-var">ki</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO KindSet -&gt; m KindSet
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO KindSet -&gt; m KindSet) -&gt; IO KindSet -&gt; m KindSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef KindSet -&gt; IO KindSet
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef KindSet
</span><a href="#local-6989586621681137307"><span class="hs-identifier hs-var">rUsedKinds</span></a></span><span>
</span><span id="line-1211"></span><span>                     </span><span id="local-6989586621681137304"><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137304"><span class="hs-identifier hs-var">qinps</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m [(Quantifier, NamedSymVar)]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m [(Quantifier, NamedSymVar)]
</span><a href="Data.SBV.Control.Utils.html#getQuantifiedInputs"><span class="hs-identifier hs-var">getQuantifiedInputs</span></a></span><span>
</span><span id="line-1212"></span><span>
</span><span id="line-1213"></span><span>                     </span><span id="local-6989586621681137303"><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681137303"><span class="hs-identifier hs-var">allUninterpreteds</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m [(String, SBVType)]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
m [(String, SBVType)]
</span><a href="Data.SBV.Control.Utils.html#getUIs"><span class="hs-identifier hs-var">getUIs</span></a></span><span>
</span><span id="line-1214"></span><span>
</span><span id="line-1215"></span><span>                      </span><span class="hs-comment">-- Functions have at least two kinds in their type and all components must be &quot;interpreted&quot;</span><span>
</span><span id="line-1216"></span><span>                     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137302"><span class="annot"><span class="annottext">allUiFuns :: [(String, SBVType)]
</span><a href="#local-6989586621681137302"><span class="hs-identifier hs-var hs-var">allUiFuns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(String, SBVType)
</span><a href="#local-6989586621681137301"><span class="hs-identifier hs-var">u</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#satTrackUFs"><span class="hs-identifier hs-var hs-var">satTrackUFs</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137309"><span class="hs-identifier hs-var">cfg</span></a></span><span>                                         </span><span class="hs-comment">-- config says consider UIFs</span><span>
</span><span id="line-1217"></span><span>                                        </span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137301"><span class="annot"><span class="annottext">u :: (String, SBVType)
</span><a href="#local-6989586621681137301"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681137299"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681137299"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-type">SBVType</span></a></span><span> </span><span id="local-6989586621681137298"><span class="annot"><span class="annottext">as :: [Kind]
</span><a href="#local-6989586621681137298"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681137303"><span class="hs-identifier hs-var">allUninterpreteds</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137298"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span>  </span><span class="hs-comment">-- get the function ones</span><span>
</span><span id="line-1218"></span><span>                                        </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; String -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#isNonModelVar"><span class="hs-identifier hs-var hs-var">isNonModelVar</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137309"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137299"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span>                              </span><span class="hs-comment">-- make sure they aren't explicitly ignored</span><span>
</span><span id="line-1219"></span><span>                                     </span><span class="hs-special">]</span><span>
</span><span id="line-1220"></span><span>
</span><span id="line-1221"></span><span>                         </span><span class="hs-comment">-- We can only &quot;allSat&quot; if all component types themselves are interpreted. (Otherwise</span><span>
</span><span id="line-1222"></span><span>                         </span><span class="hs-comment">-- there is no way to reflect back the values to the solver.)</span><span>
</span><span id="line-1223"></span><span>                         </span><span id="local-6989586621681137296"><span class="annot"><span class="annottext">collectAcceptable :: [(String, SBVType)] -&gt; [String] -&gt; m [String]
</span><a href="#local-6989586621681137296"><span class="hs-identifier hs-var hs-var">collectAcceptable</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                              </span><span id="local-6989586621681137295"><span class="annot"><span class="annottext">sofar :: [String]
</span><a href="#local-6989586621681137295"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m [String]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137295"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-1224"></span><span>                         </span><span class="annot"><a href="#local-6989586621681137296"><span class="hs-identifier hs-var">collectAcceptable</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681137294"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681137294"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137293"><span class="annot"><span class="annottext">t :: SBVType
</span><a href="#local-6989586621681137293"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-type">SBVType</span></a></span><span> </span><span id="local-6989586621681137292"><span class="annot"><span class="annottext">ats :: [Kind]
</span><a href="#local-6989586621681137292"><span class="hs-identifier hs-var">ats</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681137291"><span class="annot"><span class="annottext">rest :: [(String, SBVType)]
</span><a href="#local-6989586621681137291"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681137290"><span class="annot"><span class="annottext">sofar :: [String]
</span><a href="#local-6989586621681137290"><span class="hs-identifier hs-var">sofar</span></a></span></span><span>
</span><span id="line-1225"></span><span>                           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Kind -&gt; Bool) -&gt; [Kind] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#hasUninterpretedSorts"><span class="hs-identifier hs-var">hasUninterpretedSorts</span></a></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137292"><span class="hs-identifier hs-var">ats</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1226"></span><span>                           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)] -&gt; [String] -&gt; m [String]
</span><a href="#local-6989586621681137296"><span class="hs-identifier hs-var">collectAcceptable</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681137291"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137294"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137290"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1227"></span><span>                           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1228"></span><span>                           </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;*** SBV.allSat: Uninterpreted function: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137294"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; :: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SBVType -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SBVType
</span><a href="#local-6989586621681137293"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-1229"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Will *not* be used in allSat consideretions since its type&quot;</span></span><span>
</span><span id="line-1230"></span><span>                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** has uninterpreted sorts present.&quot;</span></span><span>
</span><span id="line-1231"></span><span>                                           </span><span class="hs-special">]</span><span>
</span><span id="line-1232"></span><span>                                </span><span class="annot"><span class="annottext">[(String, SBVType)] -&gt; [String] -&gt; m [String]
</span><a href="#local-6989586621681137296"><span class="hs-identifier hs-var">collectAcceptable</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681137291"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137290"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-1233"></span><span>
</span><span id="line-1234"></span><span>                     </span><span id="local-6989586621681137288"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137288"><span class="hs-identifier hs-var">uiFuns</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; [String]) -&gt; m [String] -&gt; m [String]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)] -&gt; [String] -&gt; m [String]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
[(String, SBVType)] -&gt; [String] -&gt; m [String]
</span><a href="#local-6989586621681137296"><span class="hs-identifier hs-var">collectAcceptable</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681137302"><span class="hs-identifier hs-var">allUiFuns</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1235"></span><span>
</span><span id="line-1236"></span><span>                     </span><span class="hs-comment">-- If there are uninterpreted functions, arrange so that z3's pretty-printer flattens things out</span><span>
</span><span id="line-1237"></span><span>                     </span><span class="hs-comment">-- as cex's tend to get larger</span><span>
</span><span id="line-1238"></span><span>                     </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137288"><span class="hs-identifier hs-var">uiFuns</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1239"></span><span>                        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137287"><span class="annot"><span class="annottext">solverCaps :: SolverCapabilities
</span><a href="#local-6989586621681137287"><span class="hs-identifier hs-var hs-var">solverCaps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTSolver -&gt; SolverCapabilities
</span><a href="Data.SBV.Core.Symbolic.html#capabilities"><span class="hs-identifier hs-var hs-var">capabilities</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTSolver
</span><a href="Data.SBV.Core.Symbolic.html#solver"><span class="hs-identifier hs-var hs-var">solver</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137309"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1240"></span><span>                        </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SolverCapabilities -&gt; Maybe [String]
</span><a href="Data.SBV.Core.Symbolic.html#supportsFlattenedModels"><span class="hs-identifier hs-var hs-var">supportsFlattenedModels</span></a></span><span> </span><span class="annot"><span class="annottext">SolverCapabilities
</span><a href="#local-6989586621681137287"><span class="hs-identifier hs-var">solverCaps</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1241"></span><span>                             </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1242"></span><span>                             </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137285"><span class="annot"><span class="annottext">cmds :: [String]
</span><a href="#local-6989586621681137285"><span class="hs-identifier hs-var">cmds</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; [String] -&gt; m ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137285"><span class="hs-identifier hs-var">cmds</span></a></span><span>
</span><span id="line-1243"></span><span>
</span><span id="line-1244"></span><span>                     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137284"><span class="annot"><span class="annottext">usorts :: [String]
</span><a href="#local-6989586621681137284"><span class="hs-identifier hs-var hs-var">usorts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137283"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681137282"><span class="annot"><span class="annottext">us :: Kind
</span><a href="#local-6989586621681137282"><span class="hs-identifier hs-var">us</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span> </span><span id="local-6989586621681137283"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681137283"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">KindSet -&gt; [Kind]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">Set.toAscList</span></span><span> </span><span class="annot"><span class="annottext">KindSet
</span><a href="#local-6989586621681137305"><span class="hs-identifier hs-var">ki</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
</span><a href="#local-6989586621681137281"><span class="hs-identifier hs-var">isFree</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137282"><span class="hs-identifier hs-var">us</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1245"></span><span>
</span><span id="line-1246"></span><span>                     </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137284"><span class="hs-identifier hs-var">usorts</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;*** SBV.allSat: Uninterpreted sorts present: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137284"><span class="hs-identifier hs-var">usorts</span></a></span><span>
</span><span id="line-1247"></span><span>                                                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***             SBV will use equivalence classes to generate all-satisfying instances.&quot;</span></span><span>
</span><span id="line-1248"></span><span>                                                       </span><span class="hs-special">]</span><span>
</span><span id="line-1249"></span><span>
</span><span id="line-1250"></span><span>                     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137280"><span class="annot"><span class="annottext">allModelInputs :: [(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137280"><span class="hs-identifier hs-var hs-var">allModelInputs</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar) -&gt; Bool)
-&gt; [(Quantifier, NamedSymVar)] -&gt; [(Quantifier, NamedSymVar)]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">takeWhile</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantifier -&gt; Quantifier -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-var">ALL</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Quantifier -&gt; Bool)
-&gt; ((Quantifier, NamedSymVar) -&gt; Quantifier)
-&gt; (Quantifier, NamedSymVar)
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar) -&gt; Quantifier
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137304"><span class="hs-identifier hs-var">qinps</span></a></span><span>
</span><span id="line-1251"></span><span>                         </span><span class="hs-comment">-- Add on observables only if we're not in a quantified context:</span><span>
</span><span id="line-1252"></span><span>                         </span><span id="local-6989586621681137277"><span class="annot"><span class="annottext">grabObservables :: Bool
</span><a href="#local-6989586621681137277"><span class="hs-identifier hs-var hs-var">grabObservables</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137280"><span class="hs-identifier hs-var">allModelInputs</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137304"><span class="hs-identifier hs-var">qinps</span></a></span><span> </span><span class="hs-comment">-- i.e., we didn't drop anything</span><span>
</span><span id="line-1253"></span><span>
</span><span id="line-1254"></span><span>                         </span><span class="annot"><a href="#local-6989586621681137276"><span class="hs-identifier hs-type">vars</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NamedSymVar"><span class="hs-identifier hs-type">NamedSymVar</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1255"></span><span>                         </span><span id="local-6989586621681137276"><span class="annot"><span class="annottext">vars :: [(SVal, NamedSymVar)]
</span><a href="#local-6989586621681137276"><span class="hs-identifier hs-var hs-var">vars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621681137275"><span class="hs-identifier hs-type">sortByNodeId</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NamedSymVar"><span class="hs-identifier hs-type">NamedSymVar</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NamedSymVar"><span class="hs-identifier hs-type">NamedSymVar</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1256"></span><span>                                    </span><span id="local-6989586621681137275"><span class="annot"><span class="annottext">sortByNodeId :: [NamedSymVar] -&gt; [NamedSymVar]
</span><a href="#local-6989586621681137275"><span class="hs-identifier hs-var hs-var">sortByNodeId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NamedSymVar -&gt; NamedSymVar -&gt; Ordering)
-&gt; [NamedSymVar] -&gt; [NamedSymVar]
forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sortBy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NodeId -&gt; NodeId -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">(NodeId -&gt; NodeId -&gt; Ordering)
-&gt; (NamedSymVar -&gt; NodeId)
-&gt; NamedSymVar
-&gt; NamedSymVar
-&gt; Ordering
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681137273"><span class="annot"><span class="annottext">n :: NodeId
</span><a href="#local-6989586621681137273"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NodeId
</span><a href="#local-6989586621681137273"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1257"></span><span>
</span><span id="line-1258"></span><span>                                    </span><span class="annot"><a href="#local-6989586621681137272"><span class="hs-identifier hs-type">mkSVal</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NamedSymVar"><span class="hs-identifier hs-type">NamedSymVar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NamedSymVar"><span class="hs-identifier hs-type">NamedSymVar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1259"></span><span>                                    </span><span id="local-6989586621681137272"><span class="annot"><span class="annottext">mkSVal :: NamedSymVar -&gt; (SVal, NamedSymVar)
</span><a href="#local-6989586621681137272"><span class="hs-identifier hs-var hs-var">mkSVal</span></a></span></span><span> </span><span id="local-6989586621681137271"><span class="annot"><span class="annottext">nm :: NamedSymVar
</span><a href="#local-6989586621681137271"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681137270"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681137270"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137270"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO SV -&gt; State -&gt; IO SV
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV -&gt; IO SV
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137270"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">NamedSymVar
</span><a href="#local-6989586621681137271"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1260"></span><span>
</span><span id="line-1261"></span><span>                                    </span><span id="local-6989586621681137268"><span class="annot"><span class="annottext">ignored :: String -&gt; Bool
</span><a href="#local-6989586621681137268"><span class="hs-identifier hs-var hs-var">ignored</span></a></span></span><span> </span><span id="local-6989586621681137267"><span class="annot"><span class="annottext">n :: String
</span><a href="#local-6989586621681137267"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; String -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#isNonModelVar"><span class="hs-identifier hs-var hs-var">isNonModelVar</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137309"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137267"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="hs-string">&quot;__internal_sbv&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`isPrefixOf`</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137267"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-1262"></span><span>
</span><span id="line-1263"></span><span>                                </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(NamedSymVar -&gt; (SVal, NamedSymVar))
-&gt; [NamedSymVar] -&gt; [(SVal, NamedSymVar)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">NamedSymVar -&gt; (SVal, NamedSymVar)
</span><a href="#local-6989586621681137272"><span class="hs-identifier hs-var">mkSVal</span></a></span><span> </span><span class="annot"><span class="annottext">([NamedSymVar] -&gt; [(SVal, NamedSymVar)])
-&gt; [NamedSymVar] -&gt; [(SVal, NamedSymVar)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[NamedSymVar] -&gt; [NamedSymVar]
</span><a href="#local-6989586621681137275"><span class="hs-identifier hs-var">sortByNodeId</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">NamedSymVar
</span><a href="#local-6989586621681137266"><span class="hs-identifier hs-var">nv</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137266"><span class="annot"><span class="annottext">nv :: NamedSymVar
</span><a href="#local-6989586621681137266"><span class="hs-identifier hs-var">nv</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137265"><span class="annot"><span class="annottext">n :: String
</span><a href="#local-6989586621681137265"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137280"><span class="hs-identifier hs-var">allModelInputs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Bool
</span><a href="#local-6989586621681137268"><span class="hs-identifier hs-var">ignored</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137265"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1264"></span><span>
</span><span id="line-1265"></span><span>                         </span><span class="hs-comment">-- If we have any universals, then the solutions are unique upto prefix existentials.</span><span>
</span><span id="line-1266"></span><span>                         </span><span id="local-6989586621681137264"><span class="annot"><span class="annottext">w :: Bool
</span><a href="#local-6989586621681137264"><span class="hs-identifier hs-var hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-var">ALL</span></a></span><span> </span><span class="annot"><span class="annottext">Quantifier -&gt; [Quantifier] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar) -&gt; Quantifier)
-&gt; [(Quantifier, NamedSymVar)] -&gt; [Quantifier]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar) -&gt; Quantifier
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137304"><span class="hs-identifier hs-var">qinps</span></a></span><span>
</span><span id="line-1267"></span><span>
</span><span id="line-1268"></span><span>                     </span><span class="hs-special">(</span><span id="local-6989586621681137263"><span class="annot"><span class="annottext">sc :: Bool
</span><a href="#local-6989586621681137263"><span class="hs-identifier hs-var">sc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137262"><span class="annot"><span class="annottext">unk :: Bool
</span><a href="#local-6989586621681137262"><span class="hs-identifier hs-var">unk</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137261"><span class="annot"><span class="annottext">ms :: [SMTResult]
</span><a href="#local-6989586621681137261"><span class="hs-identifier hs-var">ms</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool
-&gt; State
-&gt; ([(String, SBVType)], [String])
-&gt; [(Quantifier, NamedSymVar)]
-&gt; [(SVal, NamedSymVar)]
-&gt; SMTConfig
-&gt; m (Bool, Bool, [SMTResult])
forall (t :: * -&gt; *).
Foldable t =&gt;
Bool
-&gt; State
-&gt; ([(String, SBVType)], t String)
-&gt; [(Quantifier, NamedSymVar)]
-&gt; [(SVal, NamedSymVar)]
-&gt; SMTConfig
-&gt; m (Bool, Bool, [SMTResult])
</span><a href="#local-6989586621681137260"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137277"><span class="hs-identifier hs-var">grabObservables</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137308"><span class="hs-identifier hs-var">topState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681137302"><span class="hs-identifier hs-var">allUiFuns</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137288"><span class="hs-identifier hs-var">uiFuns</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137304"><span class="hs-identifier hs-var">qinps</span></a></span><span> </span><span class="annot"><span class="annottext">[(SVal, NamedSymVar)]
</span><a href="#local-6989586621681137276"><span class="hs-identifier hs-var">vars</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137309"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1269"></span><span>                     </span><span class="annot"><span class="annottext">(Bool, Bool, Bool, [SMTResult])
-&gt; m (Bool, Bool, Bool, [SMTResult])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137263"><span class="hs-identifier hs-var">sc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137264"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137262"><span class="hs-identifier hs-var">unk</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SMTResult] -&gt; [SMTResult]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[SMTResult]
</span><a href="#local-6989586621681137261"><span class="hs-identifier hs-var">ms</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1270"></span><span>
</span><span id="line-1271"></span><span>   </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137281"><span class="annot"><span class="annottext">isFree :: Kind -&gt; Bool
</span><a href="#local-6989586621681137281"><span class="hs-identifier hs-var hs-var">isFree</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Kind.html#KUninterpreted"><span class="hs-identifier hs-type">KUninterpreted</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1272"></span><span>         </span><span class="annot"><a href="#local-6989586621681137281"><span class="hs-identifier hs-var">isFree</span></a></span><span> </span><span class="hs-identifier">_</span><span>                           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1273"></span><span>
</span><span id="line-1274"></span><span>         </span><span id="local-6989586621681137260"><span class="annot"><span class="annottext">loop :: Bool
-&gt; State
-&gt; ([(String, SBVType)], t String)
-&gt; [(Quantifier, NamedSymVar)]
-&gt; [(SVal, NamedSymVar)]
-&gt; SMTConfig
-&gt; m (Bool, Bool, [SMTResult])
</span><a href="#local-6989586621681137260"><span class="hs-identifier hs-var hs-var">loop</span></a></span></span><span> </span><span id="local-6989586621681137259"><span class="annot"><span class="annottext">grabObservables :: Bool
</span><a href="#local-6989586621681137259"><span class="hs-identifier hs-var">grabObservables</span></a></span></span><span> </span><span id="local-6989586621681137258"><span class="annot"><span class="annottext">topState :: State
</span><a href="#local-6989586621681137258"><span class="hs-identifier hs-var">topState</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137257"><span class="annot"><span class="annottext">allUiFuns :: [(String, SBVType)]
</span><a href="#local-6989586621681137257"><span class="hs-identifier hs-var">allUiFuns</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137256"><span class="annot"><span class="annottext">uiFunsToReject :: t String
</span><a href="#local-6989586621681137256"><span class="hs-identifier hs-var">uiFunsToReject</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681137255"><span class="annot"><span class="annottext">qinps :: [(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137255"><span class="hs-identifier hs-var">qinps</span></a></span></span><span> </span><span id="local-6989586621681137254"><span class="annot"><span class="annottext">vars :: [(SVal, NamedSymVar)]
</span><a href="#local-6989586621681137254"><span class="hs-identifier hs-var">vars</span></a></span></span><span> </span><span id="local-6989586621681137253"><span class="annot"><span class="annottext">cfg :: SMTConfig
</span><a href="#local-6989586621681137253"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key -&gt; [SMTResult] -&gt; m (Bool, Bool, [SMTResult])
</span><a href="#local-6989586621681137252"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1275"></span><span>           </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621681137252"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTResult"><span class="hs-identifier hs-type">SMTResult</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681137310"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTResult"><span class="hs-identifier hs-type">SMTResult</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1276"></span><span>                 </span><span id="local-6989586621681137252"><span class="annot"><span class="annottext">go :: Key -&gt; [SMTResult] -&gt; m (Bool, Bool, [SMTResult])
</span><a href="#local-6989586621681137252"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-glyph">!</span><span id="local-6989586621681137251"><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span></span><span> </span><span id="local-6989586621681137250"><span class="annot"><span class="annottext">sofar :: [SMTResult]
</span><a href="#local-6989586621681137250"><span class="hs-identifier hs-var">sofar</span></a></span></span><span>
</span><span id="line-1277"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137249"><span class="annot"><span class="annottext">maxModels :: Key
</span><a href="#local-6989586621681137249"><span class="hs-identifier hs-var">maxModels</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; Maybe Key
</span><a href="Data.SBV.Core.Symbolic.html#allSatMaxModelCount"><span class="hs-identifier hs-var hs-var">allSatMaxModelCount</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137253"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137249"><span class="hs-identifier hs-var">maxModels</span></a></span><span>
</span><span id="line-1278"></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;*** Maximum model count request of &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137249"><span class="hs-identifier hs-var">maxModels</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; reached, stopping the search.&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1279"></span><span>
</span><span id="line-1280"></span><span>                        </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#allSatPrintAlong"><span class="hs-identifier hs-var hs-var">allSatPrintAlong</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137253"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><span class="hs-identifier hs-var">putStrLn</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Search stopped since model count request was reached.&quot;</span></span><span>
</span><span id="line-1281"></span><span>
</span><span id="line-1282"></span><span>                        </span><span class="annot"><span class="annottext">(Bool, Bool, [SMTResult]) -&gt; m (Bool, Bool, [SMTResult])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SMTResult]
</span><a href="#local-6989586621681137250"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1283"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1284"></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;Looking for solution &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1285"></span><span>
</span><span id="line-1286"></span><span>                        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137245"><span class="annot"><span class="annottext">endMsg :: m ()
</span><a href="#local-6989586621681137245"><span class="hs-identifier hs-var hs-var">endMsg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#allSatPrintAlong"><span class="hs-identifier hs-var hs-var">allSatPrintAlong</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137253"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SMTResult] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[SMTResult]
</span><a href="#local-6989586621681137250"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1287"></span><span>                                             </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137244"><span class="annot"><span class="annottext">msg :: a -&gt; String
</span><a href="#local-6989586621681137244"><span class="hs-identifier hs-var hs-var">msg</span></a></span></span><span> </span><span class="hs-number">0</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;No solutions found.&quot;</span></span><span>
</span><span id="line-1288"></span><span>                                                 </span><span class="annot"><a href="#local-6989586621681137244"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-number">1</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;This is the only solution.&quot;</span></span><span>
</span><span id="line-1289"></span><span>                                                 </span><span class="annot"><a href="#local-6989586621681137244"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span id="local-6989586621681137243"><span class="annot"><span class="annottext">n :: a
</span><a href="#local-6989586621681137243"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;Found &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137243"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; different solutions.&quot;</span></span><span>
</span><span id="line-1290"></span><span>                                             </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; (String -&gt; IO ()) -&gt; String -&gt; m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><span class="hs-identifier hs-var">putStrLn</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. (Eq a, Num a, Show a) =&gt; a -&gt; String
</span><a href="#local-6989586621681137244"><span class="hs-identifier hs-var">msg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-1291"></span><span>
</span><span id="line-1292"></span><span>                        </span><span id="local-6989586621681137242"><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681137242"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m CheckSatResult
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m CheckSatResult
</span><a href="Data.SBV.Control.Utils.html#checkSat"><span class="hs-identifier hs-var">checkSat</span></a></span><span>
</span><span id="line-1293"></span><span>
</span><span id="line-1294"></span><span>                        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">CheckSatResult
</span><a href="#local-6989586621681137242"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1295"></span><span>                          </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unsat"><span class="hs-identifier hs-type">Unsat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">m ()
</span><a href="#local-6989586621681137245"><span class="hs-identifier hs-var">endMsg</span></a></span><span>
</span><span id="line-1296"></span><span>                                      </span><span class="annot"><span class="annottext">(Bool, Bool, [SMTResult]) -&gt; m (Bool, Bool, [SMTResult])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SMTResult]
</span><a href="#local-6989586621681137250"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1297"></span><span>
</span><span id="line-1298"></span><span>                          </span><span class="annot"><a href="Data.SBV.Control.Types.html#Unk"><span class="hs-identifier hs-type">Unk</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;*** Solver returned unknown, terminating query.&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1299"></span><span>                                      </span><span class="annot"><span class="annottext">m ()
</span><a href="#local-6989586621681137245"><span class="hs-identifier hs-var">endMsg</span></a></span><span>
</span><span id="line-1300"></span><span>                                      </span><span class="annot"><span class="annottext">(Bool, Bool, [SMTResult]) -&gt; m (Bool, Bool, [SMTResult])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SMTResult]
</span><a href="#local-6989586621681137250"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1301"></span><span>
</span><span id="line-1302"></span><span>                          </span><span class="annot"><a href="Data.SBV.Control.Types.html#Sat"><span class="hs-identifier hs-type">Sat</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137241"><span class="annot"><span class="annottext">[(SV, (String, (SVal, CV)))]
</span><a href="#local-6989586621681137241"><span class="hs-identifier hs-var">assocs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((SVal, NamedSymVar) -&gt; m (SV, (String, (SVal, CV))))
-&gt; [(SVal, NamedSymVar)] -&gt; m [(SV, (String, (SVal, CV)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621681137240"><span class="annot"><span class="annottext">sval :: SVal
</span><a href="#local-6989586621681137240"><span class="hs-identifier hs-var">sval</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137239"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681137239"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137238"><span class="annot"><span class="annottext">n :: String
</span><a href="#local-6989586621681137238"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137237"><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137237"><span class="hs-identifier hs-var">cv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; SV -&gt; m CV
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Key -&gt; SV -&gt; m CV
</span><a href="Data.SBV.Control.Utils.html#getValueCV"><span class="hs-identifier hs-var">getValueCV</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137239"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-1303"></span><span>                                                                             </span><span class="annot"><span class="annottext">(SV, (String, (SVal, CV))) -&gt; m (SV, (String, (SVal, CV)))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137239"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137238"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137240"><span class="hs-identifier hs-var">sval</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137237"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(SVal, NamedSymVar)]
</span><a href="#local-6989586621681137254"><span class="hs-identifier hs-var">vars</span></a></span><span>
</span><span id="line-1304"></span><span>
</span><span id="line-1305"></span><span>                                      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137236"><span class="annot"><span class="annottext">getUIFun :: (String, SBVType) -&gt; m (String, (SBVType, ([([CV], CV)], CV)))
</span><a href="#local-6989586621681137236"><span class="hs-identifier hs-var hs-var">getUIFun</span></a></span></span><span> </span><span id="local-6989586621681137235"><span class="annot"><span class="annottext">ui :: (String, SBVType)
</span><a href="#local-6989586621681137235"><span class="hs-identifier hs-var">ui</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681137234"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681137234"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137233"><span class="annot"><span class="annottext">t :: SBVType
</span><a href="#local-6989586621681137233"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137232"><span class="annot"><span class="annottext">([([CV], CV)], CV)
</span><a href="#local-6989586621681137232"><span class="hs-identifier hs-var">cvs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; (String, SBVType) -&gt; m ([([CV], CV)], CV)
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Key -&gt; (String, SBVType) -&gt; m ([([CV], CV)], CV)
</span><a href="Data.SBV.Control.Utils.html#getUIFunCVAssoc"><span class="hs-identifier hs-var">getUIFunCVAssoc</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">(String, SBVType)
</span><a href="#local-6989586621681137235"><span class="hs-identifier hs-var">ui</span></a></span><span>
</span><span id="line-1306"></span><span>                                                                   </span><span class="annot"><span class="annottext">(String, (SBVType, ([([CV], CV)], CV)))
-&gt; m (String, (SBVType, ([([CV], CV)], CV)))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137234"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SBVType
</span><a href="#local-6989586621681137233"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">([([CV], CV)], CV)
</span><a href="#local-6989586621681137232"><span class="hs-identifier hs-var">cvs</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-1307"></span><span>                                      </span><span id="local-6989586621681137231"><span class="annot"><span class="annottext">[(String, (SBVType, ([([CV], CV)], CV)))]
</span><a href="#local-6989586621681137231"><span class="hs-identifier hs-var">uiFunVals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">((String, SBVType) -&gt; m (String, (SBVType, ([([CV], CV)], CV))))
-&gt; [(String, SBVType)]
-&gt; m [(String, (SBVType, ([([CV], CV)], CV)))]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">(String, SBVType) -&gt; m (String, (SBVType, ([([CV], CV)], CV)))
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
(String, SBVType) -&gt; m (String, (SBVType, ([([CV], CV)], CV)))
</span><a href="#local-6989586621681137236"><span class="hs-identifier hs-var">getUIFun</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681137257"><span class="hs-identifier hs-var">allUiFuns</span></a></span><span>
</span><span id="line-1308"></span><span>
</span><span id="line-1309"></span><span>                                      </span><span class="hs-comment">-- Add on observables if we're asked to do so:</span><span>
</span><span id="line-1310"></span><span>                                      </span><span id="local-6989586621681137230"><span class="annot"><span class="annottext">[(String, CV)]
</span><a href="#local-6989586621681137230"><span class="hs-identifier hs-var">obsvs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137259"><span class="hs-identifier hs-var">grabObservables</span></a></span><span>
</span><span id="line-1311"></span><span>                                                  </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">m [(String, CV)]
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m [(String, CV)]
</span><a href="Data.SBV.Control.Utils.html#getObservables"><span class="hs-identifier hs-var">getObservables</span></a></span><span>
</span><span id="line-1312"></span><span>                                                  </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;*** In a quantified context, obvservables will not be printed.&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1313"></span><span>                                                          </span><span class="annot"><span class="annottext">[(String, CV)] -&gt; m [(String, CV)]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1314"></span><span>
</span><span id="line-1315"></span><span>                                      </span><span id="local-6989586621681137229"><span class="annot"><span class="annottext">Maybe [((Quantifier, NamedSymVar), Maybe CV)]
</span><a href="#local-6989586621681137229"><span class="hs-identifier hs-var">bindings</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137228"><span class="annot"><span class="annottext">grab :: (Quantifier, (SV, b)) -&gt; m ((Quantifier, (SV, b)), Maybe CV)
</span><a href="#local-6989586621681137228"><span class="hs-identifier hs-var hs-var">grab</span></a></span></span><span> </span><span id="local-6989586621681137227"><span class="annot"><span class="annottext">i :: (Quantifier, (SV, b))
</span><a href="#local-6989586621681137227"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-type">ALL</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Quantifier, (SV, b)), Maybe CV)
-&gt; m ((Quantifier, (SV, b)), Maybe CV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Quantifier, (SV, b))
</span><a href="#local-6989586621681137227"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe CV
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-1316"></span><span>                                                      </span><span class="annot"><a href="#local-6989586621681137228"><span class="hs-identifier hs-var">grab</span></a></span><span> </span><span id="local-6989586621681137226"><span class="annot"><span class="annottext">i :: (Quantifier, (SV, b))
</span><a href="#local-6989586621681137226"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-type">EX</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137225"><span class="annot"><span class="annottext">sv :: SV
</span><a href="#local-6989586621681137225"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137225"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="annot"><span class="annottext">SV -&gt; [(SV, (String, (SVal, CV)))] -&gt; Maybe (String, (SVal, CV))
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-operator hs-var">`lookup`</span></span><span> </span><span class="annot"><span class="annottext">[(SV, (String, (SVal, CV)))]
</span><a href="#local-6989586621681137241"><span class="hs-identifier hs-var">assocs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1317"></span><span>                                                                               </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137223"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681137223"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">((Quantifier, (SV, b)), Maybe CV)
-&gt; m ((Quantifier, (SV, b)), Maybe CV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Quantifier, (SV, b))
</span><a href="#local-6989586621681137226"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137223"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1318"></span><span>                                                                               </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137222"><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137222"><span class="hs-identifier hs-var">cv</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe Key -&gt; SV -&gt; m CV
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Maybe Key -&gt; SV -&gt; m CV
</span><a href="Data.SBV.Control.Utils.html#getValueCV"><span class="hs-identifier hs-var">getValueCV</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Key
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137225"><span class="hs-identifier hs-var">sv</span></a></span><span>
</span><span id="line-1319"></span><span>                                                                                                       </span><span class="annot"><span class="annottext">((Quantifier, (SV, b)), Maybe CV)
-&gt; m ((Quantifier, (SV, b)), Maybe CV)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Quantifier, (SV, b))
</span><a href="#local-6989586621681137226"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV -&gt; Maybe CV
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137222"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1320"></span><span>                                                  </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#validationRequested"><span class="hs-identifier hs-var">validationRequested</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137253"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1321"></span><span>                                                        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[((Quantifier, NamedSymVar), Maybe CV)]
-&gt; Maybe [((Quantifier, NamedSymVar), Maybe CV)]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([((Quantifier, NamedSymVar), Maybe CV)]
 -&gt; Maybe [((Quantifier, NamedSymVar), Maybe CV)])
-&gt; m [((Quantifier, NamedSymVar), Maybe CV)]
-&gt; m (Maybe [((Quantifier, NamedSymVar), Maybe CV)])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar)
 -&gt; m ((Quantifier, NamedSymVar), Maybe CV))
-&gt; [(Quantifier, NamedSymVar)]
-&gt; m [((Quantifier, NamedSymVar), Maybe CV)]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar)
-&gt; m ((Quantifier, NamedSymVar), Maybe CV)
forall (m :: * -&gt; *) b.
(MonadIO m, MonadQuery m) =&gt;
(Quantifier, (SV, b)) -&gt; m ((Quantifier, (SV, b)), Maybe CV)
</span><a href="#local-6989586621681137228"><span class="hs-identifier hs-var">grab</span></a></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137255"><span class="hs-identifier hs-var">qinps</span></a></span><span>
</span><span id="line-1322"></span><span>                                                        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Maybe [((Quantifier, NamedSymVar), Maybe CV)]
-&gt; m (Maybe [((Quantifier, NamedSymVar), Maybe CV)])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe [((Quantifier, NamedSymVar), Maybe CV)]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1323"></span><span>
</span><span id="line-1324"></span><span>                                      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137221"><span class="annot"><span class="annottext">model :: SMTModel
</span><a href="#local-6989586621681137221"><span class="hs-identifier hs-var hs-var">model</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTModel :: [(String, GeneralizedCV)]
-&gt; Maybe [((Quantifier, NamedSymVar), Maybe CV)]
-&gt; [(String, CV)]
-&gt; [(String, (SBVType, ([([CV], CV)], CV)))]
-&gt; SMTModel
</span><a href="Data.SBV.Core.Symbolic.html#SMTModel"><span class="hs-identifier hs-type hs-type">SMTModel</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">modelObjectives :: [(String, GeneralizedCV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelObjectives"><span class="hs-identifier hs-var">modelObjectives</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1325"></span><span>                                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">modelBindings :: Maybe [((Quantifier, NamedSymVar), Maybe CV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelBindings"><span class="hs-identifier hs-var">modelBindings</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [((Quantifier, NamedSymVar), Maybe CV)]
</span><a href="#local-6989586621681137229"><span class="hs-identifier hs-var">bindings</span></a></span><span>
</span><span id="line-1326"></span><span>                                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">modelAssocs :: [(String, CV)]
</span><a href="Data.SBV.Core.Symbolic.html#modelAssocs"><span class="hs-identifier hs-var">modelAssocs</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((String, CV) -&gt; String) -&gt; [(String, CV)] -&gt; [(String, CV)]
forall b a. Ord b =&gt; (a -&gt; b) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sortOn</span></span><span> </span><span class="annot"><span class="annottext">(String, CV) -&gt; String
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(String, CV)]
</span><a href="#local-6989586621681137230"><span class="hs-identifier hs-var">obsvs</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, CV)] -&gt; [(String, CV)] -&gt; [(String, CV)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137215"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137214"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137215"><span class="annot"><span class="annottext">n :: String
</span><a href="#local-6989586621681137215"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137214"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681137214"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(SV, (String, (SVal, CV)))]
</span><a href="#local-6989586621681137241"><span class="hs-identifier hs-var">assocs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1327"></span><span>                                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">modelUIFuns :: [(String, (SBVType, ([([CV], CV)], CV)))]
</span><a href="Data.SBV.Core.Symbolic.html#modelUIFuns"><span class="hs-identifier hs-var">modelUIFuns</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, (SBVType, ([([CV], CV)], CV)))]
</span><a href="#local-6989586621681137231"><span class="hs-identifier hs-var">uiFunVals</span></a></span><span>
</span><span id="line-1328"></span><span>                                                           </span><span class="hs-special">}</span><span>
</span><span id="line-1329"></span><span>                                          </span><span id="local-6989586621681137212"><span class="annot"><span class="annottext">m :: SMTResult
</span><a href="#local-6989586621681137212"><span class="hs-identifier hs-var hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTModel -&gt; SMTResult
</span><a href="Data.SBV.Core.Symbolic.html#Satisfiable"><span class="hs-identifier hs-var">Satisfiable</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137253"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681137221"><span class="hs-identifier hs-var">model</span></a></span><span>
</span><span id="line-1330"></span><span>
</span><span id="line-1331"></span><span>                                          </span><span class="hs-special">(</span><span id="local-6989586621681137210"><span class="annot"><span class="annottext">interpreteds :: [(SVal, CV)]
</span><a href="#local-6989586621681137210"><span class="hs-identifier hs-var">interpreteds</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137209"><span class="annot"><span class="annottext">uninterpreteds :: [(SVal, CV)]
</span><a href="#local-6989586621681137209"><span class="hs-identifier hs-var">uninterpreteds</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((SVal, CV) -&gt; Bool)
-&gt; [(SVal, CV)] -&gt; ([(SVal, CV)], [(SVal, CV)])
forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">partition</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; ((SVal, CV) -&gt; Bool) -&gt; (SVal, CV) -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Bool
</span><a href="#local-6989586621681137281"><span class="hs-identifier hs-var">isFree</span></a></span><span> </span><span class="annot"><span class="annottext">(Kind -&gt; Bool) -&gt; ((SVal, CV) -&gt; Kind) -&gt; (SVal, CV) -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; Kind) -&gt; ((SVal, CV) -&gt; SVal) -&gt; (SVal, CV) -&gt; Kind
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(SVal, CV) -&gt; SVal
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((SV, (String, (SVal, CV))) -&gt; (SVal, CV))
-&gt; [(SV, (String, (SVal, CV)))] -&gt; [(SVal, CV)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(String, (SVal, CV)) -&gt; (SVal, CV)
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((String, (SVal, CV)) -&gt; (SVal, CV))
-&gt; ((SV, (String, (SVal, CV))) -&gt; (String, (SVal, CV)))
-&gt; (SV, (String, (SVal, CV)))
-&gt; (SVal, CV)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(SV, (String, (SVal, CV))) -&gt; (String, (SVal, CV))
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(SV, (String, (SVal, CV)))]
</span><a href="#local-6989586621681137241"><span class="hs-identifier hs-var">assocs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1332"></span><span>
</span><span id="line-1333"></span><span>                                          </span><span class="hs-comment">-- For each interpreted variable, figure out the model equivalence</span><span>
</span><span id="line-1334"></span><span>                                          </span><span class="hs-comment">-- NB. When the kind is floating, we *have* to be careful, since +/- zero, and NaN's</span><span>
</span><span id="line-1335"></span><span>                                          </span><span class="hs-comment">-- and equality don't get along!</span><span>
</span><span id="line-1336"></span><span>                                          </span><span class="annot"><a href="#local-6989586621681137208"><span class="hs-identifier hs-type">interpretedEqs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1337"></span><span>                                          </span><span id="local-6989586621681137208"><span class="annot"><span class="annottext">interpretedEqs :: [SVal]
</span><a href="#local-6989586621681137208"><span class="hs-identifier hs-var hs-var">interpretedEqs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Kind -&gt; SVal -&gt; SVal -&gt; SVal
forall a. HasKind a =&gt; a -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681137207"><span class="hs-identifier hs-var">mkNotEq</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137206"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137206"><span class="hs-identifier hs-var">sv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal -&gt; Kind
forall a. HasKind a =&gt; a -&gt; Kind
</span><a href="Data.SBV.Core.Kind.html#kindOf"><span class="hs-identifier hs-var">kindOf</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137206"><span class="hs-identifier hs-var">sv</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; Either CV (Cached SV)
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137205"><span class="hs-identifier hs-var">cv</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137206"><span class="annot"><span class="annottext">sv :: SVal
</span><a href="#local-6989586621681137206"><span class="hs-identifier hs-var">sv</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137205"><span class="annot"><span class="annottext">cv :: CV
</span><a href="#local-6989586621681137205"><span class="hs-identifier hs-var">cv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(SVal, CV)]
</span><a href="#local-6989586621681137210"><span class="hs-identifier hs-var">interpreteds</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1338"></span><span>                                             </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137207"><span class="annot"><span class="annottext">mkNotEq :: a -&gt; SVal -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681137207"><span class="hs-identifier hs-var hs-var">mkNotEq</span></a></span></span><span> </span><span id="local-6989586621681137204"><span class="annot"><span class="annottext">k :: a
</span><a href="#local-6989586621681137204"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621681137203"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681137203"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681137202"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681137202"><span class="hs-identifier hs-var">b</span></a></span></span><span>
</span><span id="line-1339"></span><span>                                                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isDouble"><span class="hs-identifier hs-var">isDouble</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137204"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Bool
forall a. HasKind a =&gt; a -&gt; Bool
</span><a href="Data.SBV.Core.Kind.html#isFloat"><span class="hs-identifier hs-var">isFloat</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137204"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svNot"><span class="hs-identifier hs-var">svNot</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137203"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681137199"><span class="hs-operator hs-var">`fpNotEq`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137202"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1340"></span><span>                                                    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137203"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svNotEqual"><span class="hs-operator hs-var">`svNotEqual`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137202"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1341"></span><span>
</span><span id="line-1342"></span><span>                                                   </span><span id="local-6989586621681137199"><span class="annot"><span class="annottext">fpNotEq :: SVal -&gt; SVal -&gt; SVal
</span><a href="#local-6989586621681137199"><span class="hs-identifier hs-var hs-var">fpNotEq</span></a></span></span><span> </span><span id="local-6989586621681137198"><span class="annot"><span class="annottext">a :: SVal
</span><a href="#local-6989586621681137198"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621681137197"><span class="annot"><span class="annottext">b :: SVal
</span><a href="#local-6989586621681137197"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; Either CV (Cached SV) -&gt; SVal
</span><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-var">SVal</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="annot"><span class="annottext">(Either CV (Cached SV) -&gt; SVal) -&gt; Either CV (Cached SV) -&gt; SVal
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Cached SV -&gt; Either CV (Cached SV)
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(Cached SV -&gt; Either CV (Cached SV))
-&gt; Cached SV -&gt; Either CV (Cached SV)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(State -&gt; IO SV) -&gt; Cached SV
forall a. (State -&gt; IO a) -&gt; Cached a
</span><a href="Data.SBV.Core.Symbolic.html#cache"><span class="hs-identifier hs-var">cache</span></a></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO SV
</span><a href="#local-6989586621681137196"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1343"></span><span>                                                       </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137196"><span class="annot"><span class="annottext">r :: State -&gt; IO SV
</span><a href="#local-6989586621681137196"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681137195"><span class="annot"><span class="annottext">st :: State
</span><a href="#local-6989586621681137195"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621681137194"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137194"><span class="hs-identifier hs-var">sva</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137195"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137198"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1344"></span><span>                                                                       </span><span id="local-6989586621681137193"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137193"><span class="hs-identifier hs-var">svb</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137195"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137197"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-1345"></span><span>                                                                       </span><span class="annot"><span class="annottext">State -&gt; Kind -&gt; SBVExpr -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#newExpr"><span class="hs-identifier hs-var">newExpr</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137195"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-var">KBool</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Op -&gt; [SV] -&gt; SBVExpr
</span><a href="Data.SBV.Core.Symbolic.html#SBVApp"><span class="hs-identifier hs-var">SBVApp</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FPOp -&gt; Op
</span><a href="Data.SBV.Core.Symbolic.html#IEEEFP"><span class="hs-identifier hs-var">IEEEFP</span></a></span><span> </span><span class="annot"><span class="annottext">FPOp
</span><a href="Data.SBV.Core.Symbolic.html#FP_ObjEqual"><span class="hs-identifier hs-var">FP_ObjEqual</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137194"><span class="hs-identifier hs-var">sva</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137193"><span class="hs-identifier hs-var">svb</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1346"></span><span>
</span><span id="line-1347"></span><span>                                          </span><span class="hs-comment">-- For each uninterpreted constant, use equivalence class</span><span>
</span><span id="line-1348"></span><span>                                          </span><span class="annot"><a href="#local-6989586621681137190"><span class="hs-identifier hs-type">uninterpretedEqs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1349"></span><span>                                          </span><span id="local-6989586621681137190"><span class="annot"><span class="annottext">uninterpretedEqs :: [SVal]
</span><a href="#local-6989586621681137190"><span class="hs-identifier hs-var hs-var">uninterpretedEqs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([SVal] -&gt; [SVal]) -&gt; [[SVal]] -&gt; [SVal]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; [SVal]
</span><a href="#local-6989586621681137189"><span class="hs-identifier hs-var">pwDistinct</span></a></span><span>         </span><span class="hs-comment">-- Assert that they are pairwise distinct</span><span>
</span><span id="line-1350"></span><span>                                                           </span><span class="annot"><span class="annottext">([[SVal]] -&gt; [SVal])
-&gt; ([(SVal, CV)] -&gt; [[SVal]]) -&gt; [(SVal, CV)] -&gt; [SVal]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([SVal] -&gt; Bool) -&gt; [[SVal]] -&gt; [[SVal]]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681137188"><span class="annot"><span class="annottext">l :: [SVal]
</span><a href="#local-6989586621681137188"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681137188"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- Only need this class if it has at least two members</span><span>
</span><span id="line-1351"></span><span>                                                           </span><span class="annot"><span class="annottext">([[SVal]] -&gt; [[SVal]])
-&gt; ([(SVal, CV)] -&gt; [[SVal]]) -&gt; [(SVal, CV)] -&gt; [[SVal]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([(SVal, CV)] -&gt; [SVal]) -&gt; [[(SVal, CV)]] -&gt; [[SVal]]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((SVal, CV) -&gt; SVal) -&gt; [(SVal, CV)] -&gt; [SVal]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(SVal, CV) -&gt; SVal
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span>                </span><span class="hs-comment">-- throw away values, we only need svals</span><span>
</span><span id="line-1352"></span><span>                                                           </span><span class="annot"><span class="annottext">([[(SVal, CV)]] -&gt; [[SVal]])
-&gt; ([(SVal, CV)] -&gt; [[(SVal, CV)]]) -&gt; [(SVal, CV)] -&gt; [[SVal]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((SVal, CV) -&gt; (SVal, CV) -&gt; Bool)
-&gt; [(SVal, CV)] -&gt; [[(SVal, CV)]]
forall a. (a -&gt; a -&gt; Bool) -&gt; [a] -&gt; [[a]]
</span><span class="hs-identifier hs-var">groupBy</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CV -&gt; CV -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(==)</span></span><span> </span><span class="annot"><span class="annottext">(CV -&gt; CV -&gt; Bool)
-&gt; ((SVal, CV) -&gt; CV) -&gt; (SVal, CV) -&gt; (SVal, CV) -&gt; Bool
forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-operator hs-var">`on`</span></span><span> </span><span class="annot"><span class="annottext">(SVal, CV) -&gt; CV
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span class="hs-special">)</span><span>      </span><span class="hs-comment">-- make sure they belong to the same sort and have the same value</span><span>
</span><span id="line-1353"></span><span>                                                           </span><span class="annot"><span class="annottext">([(SVal, CV)] -&gt; [[(SVal, CV)]])
-&gt; ([(SVal, CV)] -&gt; [(SVal, CV)]) -&gt; [(SVal, CV)] -&gt; [[(SVal, CV)]]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">((SVal, CV) -&gt; CV) -&gt; [(SVal, CV)] -&gt; [(SVal, CV)]
forall b a. Ord b =&gt; (a -&gt; b) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">sortOn</span></span><span> </span><span class="annot"><span class="annottext">(SVal, CV) -&gt; CV
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span>                   </span><span class="hs-comment">-- sort them according to their CV (i.e., sort/value)</span><span>
</span><span id="line-1354"></span><span>                                                           </span><span class="annot"><span class="annottext">([(SVal, CV)] -&gt; [SVal]) -&gt; [(SVal, CV)] -&gt; [SVal]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(SVal, CV)]
</span><a href="#local-6989586621681137209"><span class="hs-identifier hs-var">uninterpreteds</span></a></span><span>
</span><span id="line-1355"></span><span>                                            </span><span class="hs-keyword">where</span><span> </span><span class="annot"><a href="#local-6989586621681137189"><span class="hs-identifier hs-type">pwDistinct</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SVal"><span class="hs-identifier hs-type">SVal</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1356"></span><span>                                                  </span><span id="local-6989586621681137189"><span class="annot"><span class="annottext">pwDistinct :: [SVal] -&gt; [SVal]
</span><a href="#local-6989586621681137189"><span class="hs-identifier hs-var hs-var">pwDistinct</span></a></span></span><span> </span><span id="local-6989586621681137187"><span class="annot"><span class="annottext">ss :: [SVal]
</span><a href="#local-6989586621681137187"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137186"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svNotEqual"><span class="hs-operator hs-var">`svNotEqual`</span></a></span><span> </span><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137185"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137186"><span class="annot"><span class="annottext">x :: SVal
</span><a href="#local-6989586621681137186"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681137184"><span class="annot"><span class="annottext">ys :: [SVal]
</span><a href="#local-6989586621681137184"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; [[SVal]]
forall a. [a] -&gt; [[a]]
</span><span class="hs-identifier hs-var">tails</span></span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681137187"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137185"><span class="annot"><span class="annottext">SVal
</span><a href="#local-6989586621681137185"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681137184"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1357"></span><span>
</span><span id="line-1358"></span><span>                                          </span><span class="hs-comment">-- For each uninterpreted function, create a disqualifying equation</span><span>
</span><span id="line-1359"></span><span>                                          </span><span class="hs-comment">-- We do this rather brute-force, since we need to create a new function</span><span>
</span><span id="line-1360"></span><span>                                          </span><span class="hs-comment">-- and do an existential assertion.</span><span>
</span><span id="line-1361"></span><span>                                          </span><span class="annot"><a href="#local-6989586621681137183"><span class="hs-identifier hs-type">uninterpretedReject</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-1362"></span><span>                                          </span><span class="annot"><a href="#local-6989586621681137182"><span class="hs-identifier hs-type">uninterpretedFuns</span></a></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span>
</span><span id="line-1363"></span><span>                                          </span><span class="hs-special">(</span><span id="local-6989586621681137183"><span class="annot"><span class="annottext">uninterpretedReject :: Maybe [String]
</span><a href="#local-6989586621681137183"><span class="hs-identifier hs-var">uninterpretedReject</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137182"><span class="annot"><span class="annottext">uninterpretedFuns :: [String]
</span><a href="#local-6989586621681137182"><span class="hs-identifier hs-var">uninterpretedFuns</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe [String]
</span><a href="#local-6989586621681137181"><span class="hs-identifier hs-var">uiReject</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[[String]] -&gt; [String]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">[[String]]
</span><a href="#local-6989586621681137180"><span class="hs-identifier hs-var">defs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1364"></span><span>                                              </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137181"><span class="annot"><span class="annottext">uiReject :: Maybe [String]
</span><a href="#local-6989586621681137181"><span class="hs-identifier hs-var hs-var">uiReject</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137179"><span class="hs-identifier hs-var">rejects</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1365"></span><span>                                                                 </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1366"></span><span>                                                                 </span><span id="local-6989586621681137178"><span class="annot"><span class="annottext">xs :: [String]
</span><a href="#local-6989586621681137178"><span class="hs-identifier hs-var">xs</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137178"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-1367"></span><span>
</span><span id="line-1368"></span><span>                                                    </span><span class="hs-special">(</span><span id="local-6989586621681137179"><span class="annot"><span class="annottext">rejects :: [String]
</span><a href="#local-6989586621681137179"><span class="hs-identifier hs-var">rejects</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137180"><span class="annot"><span class="annottext">defs :: [[String]]
</span><a href="#local-6989586621681137180"><span class="hs-identifier hs-var">defs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, [String])] -&gt; ([String], [[String]])
forall a b. [(a, b)] -&gt; ([a], [b])
</span><span class="hs-identifier hs-var">unzip</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(String, (SBVType, ([([CV], CV)], CV))) -&gt; (String, [String])
</span><a href="#local-6989586621681137176"><span class="hs-identifier hs-var">mkNotEq</span></a></span><span> </span><span class="annot"><span class="annottext">(String, (SBVType, ([([CV], CV)], CV)))
</span><a href="#local-6989586621681137175"><span class="hs-identifier hs-var">ui</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681137175"><span class="annot"><span class="annottext">ui :: (String, (SBVType, ([([CV], CV)], CV)))
</span><a href="#local-6989586621681137175"><span class="hs-identifier hs-var">ui</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621681137174"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681137174"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(String, (SBVType, ([([CV], CV)], CV)))]
</span><a href="#local-6989586621681137231"><span class="hs-identifier hs-var">uiFunVals</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137174"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; t String -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">t String
</span><a href="#local-6989586621681137256"><span class="hs-identifier hs-var">uiFunsToReject</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1369"></span><span>
</span><span id="line-1370"></span><span>                                                    </span><span class="hs-comment">-- Otherwise, we have things to refute, go for it:</span><span>
</span><span id="line-1371"></span><span>                                                    </span><span id="local-6989586621681137176"><span class="annot"><span class="annottext">mkNotEq :: (String, (SBVType, ([([CV], CV)], CV))) -&gt; (String, [String])
</span><a href="#local-6989586621681137176"><span class="hs-identifier hs-var hs-var">mkNotEq</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137173"><span class="annot"><span class="annottext">nm :: String
</span><a href="#local-6989586621681137173"><span class="hs-identifier hs-var">nm</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVType"><span class="hs-identifier hs-type">SBVType</span></a></span><span> </span><span id="local-6989586621681137172"><span class="annot"><span class="annottext">ts :: [Kind]
</span><a href="#local-6989586621681137172"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137171"><span class="annot"><span class="annottext">vs :: ([([CV], CV)], CV)
</span><a href="#local-6989586621681137171"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137170"><span class="hs-identifier hs-var">reject</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137169"><span class="hs-identifier hs-var">def</span></a></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137168"><span class="hs-identifier hs-var">dif</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1372"></span><span>                                                      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137167"><span class="annot"><span class="annottext">nm' :: String
</span><a href="#local-6989586621681137167"><span class="hs-identifier hs-var hs-var">nm'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137173"><span class="hs-identifier hs-var">nm</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_model&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span><span>
</span><span id="line-1373"></span><span>
</span><span id="line-1374"></span><span>                                                            </span><span id="local-6989586621681137170"><span class="annot"><span class="annottext">reject :: String
</span><a href="#local-6989586621681137170"><span class="hs-identifier hs-var hs-var">reject</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137167"><span class="hs-identifier hs-var">nm'</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;_reject&quot;</span></span><span>
</span><span id="line-1375"></span><span>
</span><span id="line-1376"></span><span>                                                            </span><span class="hs-comment">-- rounding mode doesn't matter here, just pick one</span><span>
</span><span id="line-1377"></span><span>                                                            </span><span id="local-6989586621681137166"><span class="annot"><span class="annottext">scv :: CV -&gt; String
</span><a href="#local-6989586621681137166"><span class="hs-identifier hs-var hs-var">scv</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RoundingMode -&gt; CV -&gt; String
</span><a href="Data.SBV.Utils.PrettyNum.html#cvToSMTLib"><span class="hs-identifier hs-var">cvToSMTLib</span></a></span><span> </span><span class="annot"><span class="annottext">RoundingMode
</span><a href="Data.SBV.Core.Symbolic.html#RoundNearestTiesToEven"><span class="hs-identifier hs-var">RoundNearestTiesToEven</span></a></span><span>
</span><span id="line-1378"></span><span>
</span><span id="line-1379"></span><span>                                                            </span><span class="hs-special">(</span><span id="local-6989586621681137165"><span class="annot"><span class="annottext">ats :: [Kind]
</span><a href="#local-6989586621681137165"><span class="hs-identifier hs-var">ats</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137164"><span class="annot"><span class="annottext">rt :: Kind
</span><a href="#local-6989586621681137164"><span class="hs-identifier hs-var">rt</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Kind] -&gt; [Kind]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">init</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137172"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; Kind
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">last</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137172"><span class="hs-identifier hs-var">ts</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1380"></span><span>
</span><span id="line-1381"></span><span>                                                            </span><span id="local-6989586621681137163"><span class="annot"><span class="annottext">args :: String
</span><a href="#local-6989586621681137163"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;(x!&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137162"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
</span><a href="Data.SBV.Core.Kind.html#smtType"><span class="hs-identifier hs-var">smtType</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137161"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137161"><span class="annot"><span class="annottext">t :: Kind
</span><a href="#local-6989586621681137161"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137162"><span class="annot"><span class="annottext">i :: Key
</span><a href="#local-6989586621681137162"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; [Key] -&gt; [(Kind, Key)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137165"><span class="hs-identifier hs-var">ats</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-glyph">..</span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-1382"></span><span>                                                            </span><span id="local-6989586621681137160"><span class="annot"><span class="annottext">res :: String
</span><a href="#local-6989586621681137160"><span class="hs-identifier hs-var hs-var">res</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Kind -&gt; String
</span><a href="Data.SBV.Core.Kind.html#smtType"><span class="hs-identifier hs-var">smtType</span></a></span><span> </span><span class="annot"><span class="annottext">Kind
</span><a href="#local-6989586621681137164"><span class="hs-identifier hs-var">rt</span></a></span><span>
</span><span id="line-1383"></span><span>
</span><span id="line-1384"></span><span>                                                            </span><span id="local-6989586621681137159"><span class="annot"><span class="annottext">params :: [String]
</span><a href="#local-6989586621681137159"><span class="hs-identifier hs-var hs-var">params</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;x!&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137158"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137158"><span class="annot"><span class="annottext">i :: Key
</span><a href="#local-6989586621681137158"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Kind] -&gt; [Key] -&gt; [(Kind, Key)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="annot"><span class="annottext">[Kind]
</span><a href="#local-6989586621681137165"><span class="hs-identifier hs-var">ats</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-number">0</span></span><span class="hs-glyph">::</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-glyph">..</span><span class="hs-special">]</span><span class="hs-special">]</span><span>
</span><span id="line-1385"></span><span>
</span><span id="line-1386"></span><span>                                                            </span><span id="local-6989586621681137157"><span class="annot"><span class="annottext">uparams :: String
</span><a href="#local-6989586621681137157"><span class="hs-identifier hs-var hs-var">uparams</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137159"><span class="hs-identifier hs-var">params</span></a></span><span>
</span><span id="line-1387"></span><span>
</span><span id="line-1388"></span><span>                                                            </span><span id="local-6989586621681137156"><span class="annot"><span class="annottext">chain :: ([([CV], CV)], CV) -&gt; [String]
</span><a href="#local-6989586621681137156"><span class="hs-identifier hs-var hs-var">chain</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137155"><span class="annot"><span class="annottext">vals :: [([CV], CV)]
</span><a href="#local-6989586621681137155"><span class="hs-identifier hs-var">vals</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137154"><span class="annot"><span class="annottext">fallThru :: CV
</span><a href="#local-6989586621681137154"><span class="hs-identifier hs-var">fallThru</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[([CV], CV)] -&gt; [String]
</span><a href="#local-6989586621681137153"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[([CV], CV)]
</span><a href="#local-6989586621681137155"><span class="hs-identifier hs-var">vals</span></a></span><span>
</span><span id="line-1389"></span><span>                                                              </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137153"><span class="annot"><span class="annottext">walk :: [([CV], CV)] -&gt; [String]
</span><a href="#local-6989586621681137153"><span class="hs-identifier hs-var hs-var">walk</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;   &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; String
</span><a href="#local-6989586621681137166"><span class="hs-identifier hs-var">scv</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137154"><span class="hs-identifier hs-var">fallThru</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Char -&gt; String
forall a. Key -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[([CV], CV)] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[([CV], CV)]
</span><a href="#local-6989586621681137155"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-char">')'</span></span><span class="hs-special">]</span><span>
</span><span id="line-1390"></span><span>                                                                    </span><span class="annot"><a href="#local-6989586621681137153"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681137151"><span class="annot"><span class="annottext">as :: [CV]
</span><a href="#local-6989586621681137151"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137150"><span class="annot"><span class="annottext">r :: CV
</span><a href="#local-6989586621681137150"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621681137149"><span class="annot"><span class="annottext">rest :: [([CV], CV)]
</span><a href="#local-6989586621681137149"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;   (ite &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[CV] -&gt; String
</span><a href="#local-6989586621681137148"><span class="hs-identifier hs-var">cond</span></a></span><span> </span><span class="annot"><span class="annottext">[CV]
</span><a href="#local-6989586621681137151"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; String
</span><a href="#local-6989586621681137166"><span class="hs-identifier hs-var">scv</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137150"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span>  </span><span class="annot"><span class="annottext">[([CV], CV)] -&gt; [String]
</span><a href="#local-6989586621681137153"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[([CV], CV)]
</span><a href="#local-6989586621681137149"><span class="hs-identifier hs-var">rest</span></a></span><span>
</span><span id="line-1391"></span><span>
</span><span id="line-1392"></span><span>                                                                    </span><span id="local-6989586621681137148"><span class="annot"><span class="annottext">cond :: [CV] -&gt; String
</span><a href="#local-6989586621681137148"><span class="hs-identifier hs-var hs-var">cond</span></a></span></span><span> </span><span id="local-6989586621681137147"><span class="annot"><span class="annottext">as :: [CV]
</span><a href="#local-6989586621681137147"><span class="hs-keyword hs-var">as</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(and &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(String -&gt; CV -&gt; String) -&gt; [String] -&gt; [CV] -&gt; [String]
forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; CV -&gt; String
</span><a href="#local-6989586621681137146"><span class="hs-identifier hs-var">eq</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137159"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="annot"><span class="annottext">[CV]
</span><a href="#local-6989586621681137147"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-1393"></span><span>                                                                    </span><span id="local-6989586621681137146"><span class="annot"><span class="annottext">eq :: String -&gt; CV -&gt; String
</span><a href="#local-6989586621681137146"><span class="hs-identifier hs-var hs-var">eq</span></a></span></span><span> </span><span id="local-6989586621681137145"><span class="annot"><span class="annottext">p :: String
</span><a href="#local-6989586621681137145"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621681137144"><span class="annot"><span class="annottext">a :: CV
</span><a href="#local-6989586621681137144"><span class="hs-identifier hs-var">a</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(= &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137145"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">CV -&gt; String
</span><a href="#local-6989586621681137166"><span class="hs-identifier hs-var">scv</span></a></span><span> </span><span class="annot"><span class="annottext">CV
</span><a href="#local-6989586621681137144"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-1394"></span><span>
</span><span id="line-1395"></span><span>                                                            </span><span id="local-6989586621681137169"><span class="annot"><span class="annottext">def :: [String]
</span><a href="#local-6989586621681137169"><span class="hs-identifier hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;(define-fun &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137167"><span class="hs-identifier hs-var">nm'</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137163"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;) &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137160"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1396"></span><span>                                                                  </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span>  </span><span class="annot"><span class="annottext">([([CV], CV)], CV) -&gt; [String]
</span><a href="#local-6989586621681137156"><span class="hs-identifier hs-var">chain</span></a></span><span> </span><span class="annot"><span class="annottext">([([CV], CV)], CV)
</span><a href="#local-6989586621681137171"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-1397"></span><span>                                                                  </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1398"></span><span>
</span><span id="line-1399"></span><span>                                                            </span><span id="local-6989586621681137143"><span class="annot"><span class="annottext">pad :: String
</span><a href="#local-6989586621681137143"><span class="hs-identifier hs-var hs-var">pad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Char -&gt; String
forall a. Key -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">replicate</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137167"><span class="hs-identifier hs-var">nm'</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137173"><span class="hs-identifier hs-var">nm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-char">' '</span></span><span>
</span><span id="line-1400"></span><span>
</span><span id="line-1401"></span><span>                                                            </span><span id="local-6989586621681137168"><span class="annot"><span class="annottext">dif :: [String]
</span><a href="#local-6989586621681137168"><span class="hs-identifier hs-var hs-var">dif</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;(define-fun &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span>  </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137170"><span class="hs-identifier hs-var">reject</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; () Bool&quot;</span></span><span>
</span><span id="line-1402"></span><span>                                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;   (exists (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137163"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-1403"></span><span>                                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;           (distinct (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137173"><span class="hs-identifier hs-var">nm</span></a></span><span>  </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137143"><span class="hs-identifier hs-var">pad</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137157"><span class="hs-identifier hs-var">uparams</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-1404"></span><span>                                                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;                     (&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137167"><span class="hs-identifier hs-var">nm'</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137157"><span class="hs-identifier hs-var">uparams</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;))))&quot;</span></span><span>
</span><span id="line-1405"></span><span>                                                                  </span><span class="hs-special">]</span><span>
</span><span id="line-1406"></span><span>
</span><span id="line-1407"></span><span>                                          </span><span id="local-6989586621681137142"><span class="annot"><span class="annottext">eqs :: [SVal]
</span><a href="#local-6989586621681137142"><span class="hs-identifier hs-var hs-var">eqs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681137208"><span class="hs-identifier hs-var">interpretedEqs</span></a></span><span> </span><span class="annot"><span class="annottext">[SVal] -&gt; [SVal] -&gt; [SVal]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681137190"><span class="hs-identifier hs-var">uninterpretedEqs</span></a></span><span>
</span><span id="line-1408"></span><span>
</span><span id="line-1409"></span><span>                                          </span><span id="local-6989586621681137141"><span class="annot"><span class="annottext">disallow :: Maybe (SBV a)
</span><a href="#local-6989586621681137141"><span class="hs-identifier hs-var hs-var">disallow</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681137142"><span class="hs-identifier hs-var">eqs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1410"></span><span>                                                       </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (SBV a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1411"></span><span>                                                       </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SBV a -&gt; Maybe (SBV a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(SBV a -&gt; Maybe (SBV a)) -&gt; SBV a -&gt; Maybe (SBV a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SBV a
forall a. SVal -&gt; SBV a
</span><a href="Data.SBV.Core.Data.html#SBV"><span class="hs-identifier hs-var">SBV</span></a></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SBV a) -&gt; SVal -&gt; SBV a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(SVal -&gt; SVal -&gt; SVal) -&gt; [SVal] -&gt; SVal
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; a -&gt; a) -&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">foldr1</span></span><span> </span><span class="annot"><span class="annottext">SVal -&gt; SVal -&gt; SVal
</span><a href="Data.SBV.Core.Operations.html#svOr"><span class="hs-identifier hs-var">svOr</span></a></span><span> </span><span class="annot"><span class="annottext">[SVal]
</span><a href="#local-6989586621681137142"><span class="hs-identifier hs-var">eqs</span></a></span><span>
</span><span id="line-1412"></span><span>
</span><span id="line-1413"></span><span>                                      </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#allSatPrintAlong"><span class="hs-identifier hs-var hs-var">allSatPrintAlong</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137253"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1414"></span><span>                                        </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><span class="hs-identifier hs-var">putStrLn</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Solution #&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;:&quot;</span></span><span>
</span><span id="line-1415"></span><span>                                        </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><span class="hs-identifier hs-var">putStrLn</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTModel -&gt; String
</span><a href="Data.SBV.SMT.SMT.html#showModel"><span class="hs-identifier hs-var">showModel</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137253"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">SMTModel
</span><a href="#local-6989586621681137221"><span class="hs-identifier hs-var">model</span></a></span><span>
</span><span id="line-1416"></span><span>
</span><span id="line-1417"></span><span>                                      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137139"><span class="annot"><span class="annottext">resultsSoFar :: [SMTResult]
</span><a href="#local-6989586621681137139"><span class="hs-identifier hs-var hs-var">resultsSoFar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTResult
</span><a href="#local-6989586621681137212"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">SMTResult -&gt; [SMTResult] -&gt; [SMTResult]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[SMTResult]
</span><a href="#local-6989586621681137250"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-1418"></span><span>
</span><span id="line-1419"></span><span>                                          </span><span class="hs-comment">-- This is clunky, but let's not generate a rejector unless we really need it</span><span>
</span><span id="line-1420"></span><span>                                          </span><span id="local-6989586621681137138"><span class="annot"><span class="annottext">needMoreIterations :: Bool
</span><a href="#local-6989586621681137138"><span class="hs-identifier hs-var hs-var">needMoreIterations</span></a></span></span><span>
</span><span id="line-1421"></span><span>                                                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137137"><span class="annot"><span class="annottext">maxModels :: Key
</span><a href="#local-6989586621681137137"><span class="hs-identifier hs-var">maxModels</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; Maybe Key
</span><a href="Data.SBV.Core.Symbolic.html#allSatMaxModelCount"><span class="hs-identifier hs-var hs-var">allSatMaxModelCount</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137253"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137137"><span class="hs-identifier hs-var">maxModels</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-1422"></span><span>                                                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>                                                           </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-1423"></span><span>
</span><span id="line-1424"></span><span>                                      </span><span class="hs-comment">-- Send function disequalities, if any:</span><span>
</span><span id="line-1425"></span><span>                                      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137138"><span class="hs-identifier hs-var">needMoreIterations</span></a></span><span>
</span><span id="line-1426"></span><span>                                         </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Key -&gt; [SMTResult] -&gt; m (Bool, Bool, [SMTResult])
</span><a href="#local-6989586621681137252"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SMTResult]
</span><a href="#local-6989586621681137139"><span class="hs-identifier hs-var">resultsSoFar</span></a></span><span>
</span><span id="line-1427"></span><span>                                         </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137136"><span class="annot"><span class="annottext">uiFunRejector :: String
</span><a href="#local-6989586621681137136"><span class="hs-identifier hs-var hs-var">uiFunRejector</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;uiFunRejector_model_&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span><span>
</span><span id="line-1428"></span><span>                                                     </span><span id="local-6989586621681137135"><span class="annot"><span class="annottext">header :: String
</span><a href="#local-6989586621681137135"><span class="hs-identifier hs-var hs-var">header</span></a></span></span><span>          </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;define-fun &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137136"><span class="hs-identifier hs-var">uiFunRejector</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; () Bool &quot;</span></span><span>
</span><span id="line-1429"></span><span>
</span><span id="line-1430"></span><span>                                                     </span><span id="local-6989586621681137134"><span class="annot"><span class="annottext">defineRejector :: [String] -&gt; m ()
</span><a href="#local-6989586621681137134"><span class="hs-identifier hs-var hs-var">defineRejector</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1431"></span><span>                                                     </span><span class="annot"><a href="#local-6989586621681137134"><span class="hs-identifier hs-var">defineRejector</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621681137133"><span class="annot"><span class="annottext">x :: String
</span><a href="#local-6989586621681137133"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137135"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137133"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-1432"></span><span>                                                     </span><span class="annot"><a href="#local-6989586621681137134"><span class="hs-identifier hs-var">defineRejector</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137132"><span class="annot"><span class="annottext">x :: String
</span><a href="#local-6989586621681137132"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681137131"><span class="annot"><span class="annottext">xs :: [String]
</span><a href="#local-6989586621681137131"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; [String] -&gt; m ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([String] -&gt; m ()) -&gt; [String] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String]
</span><a href="Data.SBV.SMT.Utils.html#mergeSExpr"><span class="hs-identifier hs-var">mergeSExpr</span></a></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; [String]) -&gt; [String] -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137135"><span class="hs-identifier hs-var">header</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1433"></span><span>                                                                                                            </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;        (or &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137132"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1434"></span><span>                                                                                                            </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; [String]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;            &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137130"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621681137130"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137130"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137131"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1435"></span><span>                                                                                                            </span><span class="annot"><span class="annottext">[String] -&gt; [String] -&gt; [String]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-string">&quot;        ))&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-1436"></span><span>                                                 </span><span id="local-6989586621681137129"><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621681137129"><span class="hs-identifier hs-var">rejectFuncs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe [String]
</span><a href="#local-6989586621681137183"><span class="hs-identifier hs-var">uninterpretedReject</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1437"></span><span>                                                                  </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe String -&gt; m (Maybe String)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1438"></span><span>                                                                  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137128"><span class="annot"><span class="annottext">fs :: [String]
</span><a href="#local-6989586621681137128"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; [String] -&gt; m ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([String] -&gt; m ()) -&gt; [String] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String]
</span><a href="Data.SBV.SMT.Utils.html#mergeSExpr"><span class="hs-identifier hs-var">mergeSExpr</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137182"><span class="hs-identifier hs-var">uninterpretedFuns</span></a></span><span>
</span><span id="line-1439"></span><span>                                                                                </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="#local-6989586621681137134"><span class="hs-identifier hs-var">defineRejector</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137128"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-1440"></span><span>                                                                                </span><span class="annot"><span class="annottext">Maybe String -&gt; m (Maybe String)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; m (Maybe String))
-&gt; Maybe String -&gt; m (Maybe String)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137136"><span class="hs-identifier hs-var">uiFunRejector</span></a></span><span>
</span><span id="line-1441"></span><span>
</span><span id="line-1442"></span><span>                                                 </span><span class="hs-comment">-- send the disallow clause and the uninterpreted rejector:</span><span>
</span><span id="line-1443"></span><span>                                                 </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe SBool
forall a. Maybe (SBV a)
</span><a href="#local-6989586621681137141"><span class="hs-identifier hs-var">disallow</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe String
</span><a href="#local-6989586621681137129"><span class="hs-identifier hs-var">rejectFuncs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1444"></span><span>                                                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Bool, Bool, [SMTResult]) -&gt; m (Bool, Bool, [SMTResult])
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[SMTResult]
</span><a href="#local-6989586621681137139"><span class="hs-identifier hs-var">resultsSoFar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1445"></span><span>                                                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137127"><span class="annot"><span class="annottext">d :: SBool
</span><a href="#local-6989586621681137127"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">SBool -&gt; m ()
forall (m :: * -&gt; *). SolverContext m =&gt; SBool -&gt; m ()
</span><a href="Data.SBV.Core.Data.html#constrain"><span class="hs-identifier hs-var">constrain</span></a></span><span> </span><span class="annot"><span class="annottext">SBool
</span><a href="#local-6989586621681137127"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-1446"></span><span>                                                                             </span><span class="annot"><span class="annottext">Key -&gt; [SMTResult] -&gt; m (Bool, Bool, [SMTResult])
</span><a href="#local-6989586621681137252"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SMTResult]
</span><a href="#local-6989586621681137139"><span class="hs-identifier hs-var">resultsSoFar</span></a></span><span>
</span><span id="line-1447"></span><span>                                                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137126"><span class="annot"><span class="annottext">f :: String
</span><a href="#local-6989586621681137126"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(assert &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137126"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-1448"></span><span>                                                                             </span><span class="annot"><span class="annottext">Key -&gt; [SMTResult] -&gt; m (Bool, Bool, [SMTResult])
</span><a href="#local-6989586621681137252"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SMTResult]
</span><a href="#local-6989586621681137139"><span class="hs-identifier hs-var">resultsSoFar</span></a></span><span>
</span><span id="line-1449"></span><span>                                                    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137125"><span class="annot"><span class="annottext">d :: SBool
</span><a href="#local-6989586621681137125"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137124"><span class="annot"><span class="annottext">f :: String
</span><a href="#local-6989586621681137124"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-comment">-- This is where it gets ugly. We have an SBV and a string and we need to &quot;or&quot; them.</span><span>
</span><span id="line-1450"></span><span>                                                                          </span><span class="hs-comment">-- But we need a way to force 'd' to be produced. So, go ahead and force it:</span><span>
</span><span id="line-1451"></span><span>                                                                          </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">SBool -&gt; m ()
forall (m :: * -&gt; *). SolverContext m =&gt; SBool -&gt; m ()
</span><a href="Data.SBV.Core.Data.html#constrain"><span class="hs-identifier hs-var">constrain</span></a></span><span> </span><span class="annot"><span class="annottext">(SBool -&gt; m ()) -&gt; SBool -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SBool
</span><a href="#local-6989586621681137125"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">SBool -&gt; SBool -&gt; SBool
</span><a href="Data.SBV.Core.Data.html#.%3D%3E"><span class="hs-operator hs-var">.=&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">SBool
</span><a href="#local-6989586621681137125"><span class="hs-identifier hs-var">d</span></a></span><span>  </span><span class="hs-comment">-- NB: Redundant, but it makes sure the corresponding constraint gets shown</span><span>
</span><span id="line-1452"></span><span>                                                                             </span><span id="local-6989586621681137123"><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137123"><span class="hs-identifier hs-var">svd</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO SV -&gt; m SV
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO SV -&gt; m SV) -&gt; IO SV -&gt; m SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">State -&gt; SVal -&gt; IO SV
</span><a href="Data.SBV.Core.Symbolic.html#svToSV"><span class="hs-identifier hs-var">svToSV</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137258"><span class="hs-identifier hs-var">topState</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SBool -&gt; SVal
forall a. SBV a -&gt; SVal
</span><a href="Data.SBV.Core.Data.html#unSBV"><span class="hs-identifier hs-var hs-var">unSBV</span></a></span><span> </span><span class="annot"><span class="annottext">SBool
</span><a href="#local-6989586621681137125"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1453"></span><span>                                                                             </span><span class="annot"><span class="annottext">Bool -&gt; String -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
Bool -&gt; String -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#send"><span class="hs-identifier hs-var">send</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m ()) -&gt; String -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;(assert (or &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137124"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137123"><span class="hs-identifier hs-var">svd</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot;))&quot;</span></span><span>
</span><span id="line-1454"></span><span>                                                                             </span><span class="annot"><span class="annottext">Key -&gt; [SMTResult] -&gt; m (Bool, Bool, [SMTResult])
</span><a href="#local-6989586621681137252"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137251"><span class="hs-identifier hs-var">cnt</span></a></span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Key
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[SMTResult]
</span><a href="#local-6989586621681137139"><span class="hs-identifier hs-var">resultsSoFar</span></a></span><span>
</span><span id="line-1455"></span><span>
</span><span id="line-1456"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.getUnsatAssumptions'</span><span>
</span><span id="line-1457"></span><span id="local-6989586621681137120"><span id="local-6989586621681137121"><span class="annot"><a href="Data.SBV.Control.Utils.html#getUnsatAssumptions"><span class="hs-identifier hs-type">getUnsatAssumptions</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681137121"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137121"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621681137120"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681137121"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621681137120"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-1458"></span><span id="getUnsatAssumptions"><span class="annot"><span class="annottext">getUnsatAssumptions :: [String] -&gt; [(String, a)] -&gt; m [a]
</span><a href="Data.SBV.Control.Utils.html#getUnsatAssumptions"><span class="hs-identifier hs-var hs-var">getUnsatAssumptions</span></a></span></span><span> </span><span id="local-6989586621681137119"><span class="annot"><span class="annottext">originals :: [String]
</span><a href="#local-6989586621681137119"><span class="hs-identifier hs-var">originals</span></a></span></span><span> </span><span id="local-6989586621681137118"><span class="annot"><span class="annottext">proxyMap :: [(String, a)]
</span><a href="#local-6989586621681137118"><span class="hs-identifier hs-var">proxyMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1459"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137117"><span class="annot"><span class="annottext">cmd :: String
</span><a href="#local-6989586621681137117"><span class="hs-identifier hs-var hs-var">cmd</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;(get-unsat-assumptions)&quot;</span></span><span>
</span><span id="line-1460"></span><span>
</span><span id="line-1461"></span><span>            </span><span id="local-6989586621681137116"><span class="annot"><span class="annottext">bad :: String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137116"><span class="hs-identifier hs-var hs-var">bad</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
forall (m :: * -&gt; *) a.
(MonadIO m, MonadQuery m) =&gt;
String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var">unexpected</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;getUnsatAssumptions&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137117"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;a list of unsatisfiable assumptions&quot;</span></span><span>
</span><span id="line-1462"></span><span>                           </span><span class="annot"><span class="annottext">(Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a)
-&gt; Maybe [String] -&gt; String -&gt; Maybe [String] -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Make sure you use:&quot;</span></span><span>
</span><span id="line-1463"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1464"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;       setOption $ ProduceUnsatAssumptions True&quot;</span></span><span>
</span><span id="line-1465"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1466"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;to make sure the solver is ready for producing unsat assumptions,&quot;</span></span><span>
</span><span id="line-1467"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;and that there is a model by first issuing a 'checkSat' call.&quot;</span></span><span>
</span><span id="line-1468"></span><span>                                  </span><span class="hs-special">]</span><span>
</span><span id="line-1469"></span><span>
</span><span id="line-1470"></span><span>            </span><span id="local-6989586621681137115"><span class="annot"><span class="annottext">fromECon :: SExpr -&gt; Maybe String
</span><a href="#local-6989586621681137115"><span class="hs-identifier hs-var hs-var">fromECon</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#ECon"><span class="hs-identifier hs-type">ECon</span></a></span><span> </span><span id="local-6989586621681137114"><span class="annot"><span class="annottext">s :: String
</span><a href="#local-6989586621681137114"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137114"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-1471"></span><span>            </span><span class="annot"><a href="#local-6989586621681137115"><span class="hs-identifier hs-var">fromECon</span></a></span><span> </span><span class="hs-identifier">_</span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1472"></span><span>
</span><span id="line-1473"></span><span>        </span><span id="local-6989586621681137113"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137113"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; m String
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; m String
</span><a href="Data.SBV.Control.Utils.html#ask"><span class="hs-identifier hs-var">ask</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137117"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-1474"></span><span>
</span><span id="line-1475"></span><span>        </span><span class="hs-comment">-- If unsat-cores are enabled, z3 might end-up printing an assumption that wasn't</span><span>
</span><span id="line-1476"></span><span>        </span><span class="hs-comment">-- in the original list of assumptions for `check-sat-assuming`. So, we walk over</span><span>
</span><span id="line-1477"></span><span>        </span><span class="hs-comment">-- and ignore those that weren't in the original list, and put a warning for those</span><span>
</span><span id="line-1478"></span><span>        </span><span class="hs-comment">-- we couldn't find.</span><span>
</span><span id="line-1479"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137112"><span class="annot"><span class="annottext">walk :: [String] -&gt; [a] -&gt; m [a]
</span><a href="#local-6989586621681137112"><span class="hs-identifier hs-var hs-var">walk</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>     </span><span id="local-6989586621681137111"><span class="annot"><span class="annottext">sofar :: [a]
</span><a href="#local-6989586621681137111"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; m [a]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">([a] -&gt; m [a]) -&gt; [a] -&gt; m [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681137111"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-1480"></span><span>            </span><span class="annot"><a href="#local-6989586621681137112"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137110"><span class="annot"><span class="annottext">a :: String
</span><a href="#local-6989586621681137110"><span class="hs-identifier hs-var">a</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681137109"><span class="annot"><span class="annottext">as :: [String]
</span><a href="#local-6989586621681137109"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621681137108"><span class="annot"><span class="annottext">sofar :: [a]
</span><a href="#local-6989586621681137108"><span class="hs-identifier hs-var">sofar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137110"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, a)] -&gt; Maybe a
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-operator hs-var">`lookup`</span></span><span> </span><span class="annot"><span class="annottext">[(String, a)]
</span><a href="#local-6989586621681137118"><span class="hs-identifier hs-var">proxyMap</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1481"></span><span>                                  </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137107"><span class="annot"><span class="annottext">v :: a
</span><a href="#local-6989586621681137107"><span class="hs-identifier hs-var">v</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [a] -&gt; m [a]
</span><a href="#local-6989586621681137112"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137109"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137107"><span class="hs-identifier hs-var">v</span></a></span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681137108"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1482"></span><span>                                  </span><span class="annot"><span class="hs-identifier hs-type">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; m ()
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; [String] -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#queryDebug"><span class="hs-identifier hs-var">queryDebug</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;*** In call to 'getUnsatAssumptions'&quot;</span></span><span>
</span><span id="line-1483"></span><span>                                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-1484"></span><span>                                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***    Unexpected assumption named: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137110"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-1485"></span><span>                                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***    Was expecting one of       : &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137119"><span class="hs-identifier hs-var">originals</span></a></span><span>
</span><span id="line-1486"></span><span>                                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-1487"></span><span>                                                           </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** This can happen if unsat-cores are also enabled. Ignoring.&quot;</span></span><span>
</span><span id="line-1488"></span><span>                                                           </span><span class="hs-special">]</span><span>
</span><span id="line-1489"></span><span>                                                </span><span class="annot"><span class="annottext">[String] -&gt; [a] -&gt; m [a]
</span><a href="#local-6989586621681137112"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137109"><span class="hs-keyword hs-var">as</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681137108"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-1490"></span><span>
</span><span id="line-1491"></span><span>        </span><span class="annot"><span class="annottext">String
-&gt; (String -&gt; Maybe [String] -&gt; m [a]) -&gt; (SExpr -&gt; m [a]) -&gt; m [a]
forall a.
String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var">parse</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137113"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m [a]
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137116"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">((SExpr -&gt; m [a]) -&gt; m [a]) -&gt; (SExpr -&gt; m [a]) -&gt; m [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-1492"></span><span>           </span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#EApp"><span class="hs-identifier hs-type">EApp</span></a></span><span> </span><span id="local-6989586621681137106"><span class="annot"><span class="annottext">es :: [SExpr]
</span><a href="#local-6989586621681137106"><span class="hs-identifier hs-var">es</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621681137105"><span class="annot"><span class="annottext">xs :: [String]
</span><a href="#local-6989586621681137105"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(SExpr -&gt; Maybe String) -&gt; [SExpr] -&gt; Maybe [String]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; Maybe String
</span><a href="#local-6989586621681137115"><span class="hs-identifier hs-var">fromECon</span></a></span><span> </span><span class="annot"><span class="annottext">[SExpr]
</span><a href="#local-6989586621681137106"><span class="hs-identifier hs-var">es</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [a] -&gt; m [a]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
[String] -&gt; [a] -&gt; m [a]
</span><a href="#local-6989586621681137112"><span class="hs-identifier hs-var">walk</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137105"><span class="hs-identifier hs-var">xs</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-1493"></span><span>           </span><span class="hs-identifier">_</span><span>                                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; m [a]
forall a. String -&gt; Maybe [String] -&gt; m a
</span><a href="#local-6989586621681137116"><span class="hs-identifier hs-var">bad</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137113"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe [String]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1494"></span><span>
</span><span id="line-1495"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.timeout'</span><span>
</span><span id="line-1496"></span><span id="local-6989586621681137103"><span id="local-6989586621681137104"><span class="annot"><a href="Data.SBV.Control.Utils.html#timeout"><span class="hs-identifier hs-type">timeout</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681137104"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137104"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681137104"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137103"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681137104"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137103"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1497"></span><span id="timeout"><span class="annot"><span class="annottext">timeout :: Key -&gt; m a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#timeout"><span class="hs-identifier hs-var hs-var">timeout</span></a></span></span><span> </span><span id="local-6989586621681137102"><span class="annot"><span class="annottext">n :: Key
</span><a href="#local-6989586621681137102"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621681137101"><span class="annot"><span class="annottext">q :: m a
</span><a href="#local-6989586621681137101"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">(QueryState -&gt; QueryState) -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
(QueryState -&gt; QueryState) -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#modifyQueryState"><span class="hs-identifier hs-var">modifyQueryState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681137100"><span class="annot"><span class="annottext">qs :: QueryState
</span><a href="#local-6989586621681137100"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681137100"><span class="hs-identifier hs-var">qs</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">queryTimeOutValue :: Maybe Key
</span><a href="Data.SBV.Core.Symbolic.html#queryTimeOutValue"><span class="hs-identifier hs-var">queryTimeOutValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Key -&gt; Maybe Key
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><a href="#local-6989586621681137102"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1498"></span><span>                 </span><span id="local-6989586621681137099"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137099"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m a
</span><a href="#local-6989586621681137101"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-1499"></span><span>                 </span><span class="annot"><span class="annottext">(QueryState -&gt; QueryState) -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
(QueryState -&gt; QueryState) -&gt; m ()
</span><a href="Data.SBV.Control.Utils.html#modifyQueryState"><span class="hs-identifier hs-var">modifyQueryState</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621681137098"><span class="annot"><span class="annottext">qs :: QueryState
</span><a href="#local-6989586621681137098"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">QueryState
</span><a href="#local-6989586621681137098"><span class="hs-identifier hs-var">qs</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">queryTimeOutValue :: Maybe Key
</span><a href="Data.SBV.Core.Symbolic.html#queryTimeOutValue"><span class="hs-identifier hs-var">queryTimeOutValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Key
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-1500"></span><span>                 </span><span class="annot"><span class="annottext">a -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137099"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-1501"></span><span>
</span><span id="line-1502"></span><span class="hs-comment">-- | Bail out if a parse goes bad</span><span>
</span><span id="line-1503"></span><span id="local-6989586621681138647"><span class="annot"><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-type">parse</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138647"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Utils.SExpr.html#SExpr"><span class="hs-identifier hs-type">SExpr</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138647"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138647"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-1504"></span><span id="parse"><span class="annot"><span class="annottext">parse :: String -&gt; (String -&gt; Maybe [String] -&gt; a) -&gt; (SExpr -&gt; a) -&gt; a
</span><a href="Data.SBV.Control.Utils.html#parse"><span class="hs-identifier hs-var hs-var">parse</span></a></span></span><span> </span><span id="local-6989586621681137097"><span class="annot"><span class="annottext">r :: String
</span><a href="#local-6989586621681137097"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span id="local-6989586621681137096"><span class="annot"><span class="annottext">fCont :: String -&gt; Maybe [String] -&gt; a
</span><a href="#local-6989586621681137096"><span class="hs-identifier hs-var">fCont</span></a></span></span><span> </span><span id="local-6989586621681137095"><span class="annot"><span class="annottext">sCont :: SExpr -&gt; a
</span><a href="#local-6989586621681137095"><span class="hs-identifier hs-var">sCont</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String SExpr
</span><a href="Data.SBV.Utils.SExpr.html#parseSExpr"><span class="hs-identifier hs-var">parseSExpr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137097"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1505"></span><span>                        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span>  </span><span id="local-6989586621681137093"><span class="annot"><span class="annottext">e :: String
</span><a href="#local-6989586621681137093"><span class="hs-identifier hs-var">e</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe [String] -&gt; a
</span><a href="#local-6989586621681137096"><span class="hs-identifier hs-var">fCont</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137097"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; Maybe [String]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137093"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1506"></span><span>                        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621681137092"><span class="annot"><span class="annottext">res :: SExpr
</span><a href="#local-6989586621681137092"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SExpr -&gt; a
</span><a href="#local-6989586621681137095"><span class="hs-identifier hs-var">sCont</span></a></span><span> </span><span class="annot"><span class="annottext">SExpr
</span><a href="#local-6989586621681137092"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1507"></span><span>
</span><span id="line-1508"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.unexpected'</span><span>
</span><span id="line-1509"></span><span id="local-6989586621681138738"><span id="local-6989586621681138739"><span class="annot"><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-type">unexpected</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621681138739"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#MonadQuery"><span class="hs-identifier hs-type">MonadQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138739"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621681138739"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681138738"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-1510"></span><span id="unexpected"><span class="annot"><span class="annottext">unexpected :: String
-&gt; String
-&gt; String
-&gt; Maybe [String]
-&gt; String
-&gt; Maybe [String]
-&gt; m a
</span><a href="Data.SBV.Control.Utils.html#unexpected"><span class="hs-identifier hs-var hs-var">unexpected</span></a></span></span><span> </span><span id="local-6989586621681137091"><span class="annot"><span class="annottext">ctx :: String
</span><a href="#local-6989586621681137091"><span class="hs-identifier hs-var">ctx</span></a></span></span><span> </span><span id="local-6989586621681137090"><span class="annot"><span class="annottext">sent :: String
</span><a href="#local-6989586621681137090"><span class="hs-identifier hs-var">sent</span></a></span></span><span> </span><span id="local-6989586621681137089"><span class="annot"><span class="annottext">expected :: String
</span><a href="#local-6989586621681137089"><span class="hs-identifier hs-var">expected</span></a></span></span><span> </span><span id="local-6989586621681137088"><span class="annot"><span class="annottext">mbHint :: Maybe [String]
</span><a href="#local-6989586621681137088"><span class="hs-identifier hs-var">mbHint</span></a></span></span><span> </span><span id="local-6989586621681137087"><span class="annot"><span class="annottext">received :: String
</span><a href="#local-6989586621681137087"><span class="hs-identifier hs-var">received</span></a></span></span><span> </span><span id="local-6989586621681137086"><span class="annot"><span class="annottext">mbReason :: Maybe [String]
</span><a href="#local-6989586621681137086"><span class="hs-identifier hs-var">mbReason</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1511"></span><span>        </span><span class="hs-comment">-- empty the response channel first</span><span>
</span><span id="line-1512"></span><span>        </span><span id="local-6989586621681137085"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137085"><span class="hs-identifier hs-var">extras</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Key -&gt; m [String]
forall (m :: * -&gt; *).
(MonadIO m, MonadQuery m) =&gt;
String -&gt; Maybe Key -&gt; m [String]
</span><a href="Data.SBV.Control.Utils.html#retrieveResponse"><span class="hs-identifier hs-var">retrieveResponse</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;terminating upon unexpected response&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; Maybe Key
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="hs-number">5000000</span></span><span class="hs-special">)</span><span>
</span><span id="line-1513"></span><span>
</span><span id="line-1514"></span><span>        </span><span id="local-6989586621681137084"><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137084"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SMTConfig
forall (m :: * -&gt; *). (MonadIO m, MonadQuery m) =&gt; m SMTConfig
</span><a href="Data.SBV.Control.Utils.html#getConfig"><span class="hs-identifier hs-var">getConfig</span></a></span><span>
</span><span id="line-1515"></span><span>
</span><span id="line-1516"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137083"><span class="annot"><span class="annottext">exc :: SBVException
</span><a href="#local-6989586621681137083"><span class="hs-identifier hs-var hs-var">exc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBVException :: String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe String
-&gt; Maybe ExitCode
-&gt; SMTConfig
-&gt; Maybe [String]
-&gt; Maybe [String]
-&gt; SBVException
</span><a href="Data.SBV.SMT.Utils.html#SBVException"><span class="hs-identifier hs-type hs-type">SBVException</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">sbvExceptionDescription :: String
</span><a href="Data.SBV.SMT.Utils.html#sbvExceptionDescription"><span class="hs-identifier hs-var">sbvExceptionDescription</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;Unexpected response from the solver, context: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137091"><span class="hs-identifier hs-var">ctx</span></a></span><span>
</span><span id="line-1517"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sbvExceptionSent :: Maybe String
</span><a href="Data.SBV.SMT.Utils.html#sbvExceptionSent"><span class="hs-identifier hs-var">sbvExceptionSent</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137090"><span class="hs-identifier hs-var">sent</span></a></span><span>
</span><span id="line-1518"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sbvExceptionExpected :: Maybe String
</span><a href="Data.SBV.SMT.Utils.html#sbvExceptionExpected"><span class="hs-identifier hs-var">sbvExceptionExpected</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137089"><span class="hs-identifier hs-var">expected</span></a></span><span>
</span><span id="line-1519"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sbvExceptionReceived :: Maybe String
</span><a href="Data.SBV.SMT.Utils.html#sbvExceptionReceived"><span class="hs-identifier hs-var">sbvExceptionReceived</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137087"><span class="hs-identifier hs-var">received</span></a></span><span>
</span><span id="line-1520"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sbvExceptionStdOut :: Maybe String
</span><a href="Data.SBV.SMT.Utils.html#sbvExceptionStdOut"><span class="hs-identifier hs-var">sbvExceptionStdOut</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe String
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Maybe String) -&gt; String -&gt; Maybe String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137085"><span class="hs-identifier hs-var">extras</span></a></span><span>
</span><span id="line-1521"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sbvExceptionStdErr :: Maybe String
</span><a href="Data.SBV.SMT.Utils.html#sbvExceptionStdErr"><span class="hs-identifier hs-var">sbvExceptionStdErr</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1522"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sbvExceptionExitCode :: Maybe ExitCode
</span><a href="Data.SBV.SMT.Utils.html#sbvExceptionExitCode"><span class="hs-identifier hs-var">sbvExceptionExitCode</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe ExitCode
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-1523"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sbvExceptionConfig :: SMTConfig
</span><a href="Data.SBV.SMT.Utils.html#sbvExceptionConfig"><span class="hs-identifier hs-var">sbvExceptionConfig</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137084"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1524"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sbvExceptionReason :: Maybe [String]
</span><a href="Data.SBV.SMT.Utils.html#sbvExceptionReason"><span class="hs-identifier hs-var">sbvExceptionReason</span></a></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [String]
</span><a href="#local-6989586621681137086"><span class="hs-identifier hs-var">mbReason</span></a></span><span>
</span><span id="line-1525"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">sbvExceptionHint :: Maybe [String]
</span><a href="Data.SBV.SMT.Utils.html#sbvExceptionHint"><span class="hs-identifier hs-var">sbvExceptionHint</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe [String]
</span><a href="#local-6989586621681137088"><span class="hs-identifier hs-var">mbHint</span></a></span><span>
</span><span id="line-1526"></span><span>                               </span><span class="hs-special">}</span><span>
</span><span id="line-1527"></span><span>
</span><span id="line-1528"></span><span>        </span><span class="annot"><span class="annottext">IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><a href="Data.SBV.Control.Utils.html#io"><span class="hs-identifier hs-var">io</span></a></span><span> </span><span class="annot"><span class="annottext">(IO a -&gt; m a) -&gt; IO a -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SBVException -&gt; IO a
forall e a. Exception e =&gt; e -&gt; IO a
</span><span class="hs-identifier hs-var">C.throwIO</span></span><span> </span><span class="annot"><span class="annottext">SBVException
</span><a href="#local-6989586621681137083"><span class="hs-identifier hs-var">exc</span></a></span><span>
</span><span id="line-1529"></span><span>
</span><span id="line-1530"></span><span class="hs-comment">-- | Convert a query result to an SMT Problem</span><span>
</span><span id="line-1531"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#runProofOn"><span class="hs-identifier hs-type">runProofOn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SBVRunMode"><span class="hs-identifier hs-type">SBVRunMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryContext"><span class="hs-identifier hs-type">QueryContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SMTProblem"><span class="hs-identifier hs-type">SMTProblem</span></a></span><span>
</span><span id="line-1532"></span><span id="runProofOn"><span class="annot"><span class="annottext">runProofOn :: SBVRunMode -&gt; QueryContext -&gt; [String] -&gt; Result -&gt; SMTProblem
</span><a href="Data.SBV.Control.Utils.html#runProofOn"><span class="hs-identifier hs-var hs-var">runProofOn</span></a></span></span><span> </span><span id="local-6989586621681137069"><span class="annot"><span class="annottext">rm :: SBVRunMode
</span><a href="#local-6989586621681137069"><span class="hs-identifier hs-var">rm</span></a></span></span><span> </span><span id="local-6989586621681137068"><span class="annot"><span class="annottext">context :: QueryContext
</span><a href="#local-6989586621681137068"><span class="hs-identifier hs-var">context</span></a></span></span><span> </span><span id="local-6989586621681137067"><span class="annot"><span class="annottext">comments :: [String]
</span><a href="#local-6989586621681137067"><span class="hs-identifier hs-var">comments</span></a></span></span><span> </span><span id="local-6989586621681137066"><span class="annot"><span class="annottext">res :: Result
</span><a href="#local-6989586621681137066"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Result"><span class="hs-identifier hs-type">Result</span></a></span><span> </span><span id="local-6989586621681137064"><span class="annot"><span class="annottext">ki :: KindSet
</span><a href="#local-6989586621681137064"><span class="hs-identifier hs-var">ki</span></a></span></span><span> </span><span id="local-6989586621681137063"><span class="annot"><span class="annottext">_qcInfo :: [(String, CV)]
</span><a href="#local-6989586621681137063"><span class="hs-identifier hs-var">_qcInfo</span></a></span></span><span> </span><span id="local-6989586621681137062"><span class="annot"><span class="annottext">_observables :: [(String, CV -&gt; Bool, SV)]
</span><a href="#local-6989586621681137062"><span class="hs-identifier hs-var">_observables</span></a></span></span><span> </span><span id="local-6989586621681137061"><span class="annot"><span class="annottext">_codeSegs :: [(String, [String])]
</span><a href="#local-6989586621681137061"><span class="hs-identifier hs-var">_codeSegs</span></a></span></span><span> </span><span id="local-6989586621681137060"><span class="annot"><span class="annottext">is :: ([(Quantifier, NamedSymVar)], [NamedSymVar])
</span><a href="#local-6989586621681137060"><span class="hs-identifier hs-var">is</span></a></span></span><span> </span><span id="local-6989586621681137059"><span class="annot"><span class="annottext">consts :: [(SV, CV)]
</span><a href="#local-6989586621681137059"><span class="hs-identifier hs-var">consts</span></a></span></span><span> </span><span id="local-6989586621681137058"><span class="annot"><span class="annottext">tbls :: [((Key, Kind, Kind), [SV])]
</span><a href="#local-6989586621681137058"><span class="hs-identifier hs-var">tbls</span></a></span></span><span> </span><span id="local-6989586621681137057"><span class="annot"><span class="annottext">arrs :: [(Key, ArrayInfo)]
</span><a href="#local-6989586621681137057"><span class="hs-identifier hs-var">arrs</span></a></span></span><span> </span><span id="local-6989586621681137056"><span class="annot"><span class="annottext">uis :: [(String, SBVType)]
</span><a href="#local-6989586621681137056"><span class="hs-identifier hs-var">uis</span></a></span></span><span> </span><span id="local-6989586621681137055"><span class="annot"><span class="annottext">axs :: [(String, [String])]
</span><a href="#local-6989586621681137055"><span class="hs-identifier hs-var">axs</span></a></span></span><span> </span><span id="local-6989586621681137054"><span class="annot"><span class="annottext">pgm :: SBVPgm
</span><a href="#local-6989586621681137054"><span class="hs-identifier hs-var">pgm</span></a></span></span><span> </span><span id="local-6989586621681137053"><span class="annot"><span class="annottext">cstrs :: Seq (Bool, [(String, String)], SV)
</span><a href="#local-6989586621681137053"><span class="hs-identifier hs-var">cstrs</span></a></span></span><span> </span><span id="local-6989586621681137052"><span class="annot"><span class="annottext">_assertions :: [(String, Maybe CallStack, SV)]
</span><a href="#local-6989586621681137052"><span class="hs-identifier hs-var">_assertions</span></a></span></span><span> </span><span id="local-6989586621681137051"><span class="annot"><span class="annottext">outputs :: [SV]
</span><a href="#local-6989586621681137051"><span class="hs-identifier hs-var">outputs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1533"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137050"><span class="annot"><span class="annottext">config :: SMTConfig
</span><a href="#local-6989586621681137050"><span class="hs-identifier hs-var">config</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137049"><span class="annot"><span class="annottext">isSat :: Bool
</span><a href="#local-6989586621681137049"><span class="hs-identifier hs-var">isSat</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137048"><span class="annot"><span class="annottext">isSafe :: Bool
</span><a href="#local-6989586621681137048"><span class="hs-identifier hs-var">isSafe</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137047"><span class="annot"><span class="annottext">isSetup :: Bool
</span><a href="#local-6989586621681137047"><span class="hs-identifier hs-var">isSetup</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681137069"><span class="hs-identifier hs-var">rm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1534"></span><span>                                              </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTMode"><span class="hs-identifier hs-type">SMTMode</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681137045"><span class="annot"><span class="annottext">stage :: IStage
</span><a href="#local-6989586621681137045"><span class="hs-identifier hs-var">stage</span></a></span></span><span> </span><span id="local-6989586621681137044"><span class="annot"><span class="annottext">s :: Bool
</span><a href="#local-6989586621681137044"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621681137043"><span class="annot"><span class="annottext">c :: SMTConfig
</span><a href="#local-6989586621681137043"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137043"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137044"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IStage -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#isSafetyCheckingIStage"><span class="hs-identifier hs-var">isSafetyCheckingIStage</span></a></span><span> </span><span class="annot"><span class="annottext">IStage
</span><a href="#local-6989586621681137045"><span class="hs-identifier hs-var">stage</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">IStage -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#isSetupIStage"><span class="hs-identifier hs-var">isSetupIStage</span></a></span><span> </span><span class="annot"><span class="annottext">IStage
</span><a href="#local-6989586621681137045"><span class="hs-identifier hs-var">stage</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1535"></span><span>                                              </span><span class="hs-identifier">_</span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; (SMTConfig, Bool, Bool, Bool)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; (SMTConfig, Bool, Bool, Bool))
-&gt; String -&gt; (SMTConfig, Bool, Bool, Bool)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="hs-string">&quot;runProofOn: Unexpected run mode: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SBVRunMode -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681137069"><span class="hs-identifier hs-var">rm</span></a></span><span>
</span><span id="line-1536"></span><span>
</span><span id="line-1537"></span><span>         </span><span id="local-6989586621681137042"><span class="annot"><span class="annottext">flipQ :: (Quantifier, b) -&gt; (Quantifier, b)
</span><a href="#local-6989586621681137042"><span class="hs-identifier hs-var hs-var">flipQ</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-type">ALL</span></a></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137041"><span class="annot"><span class="annottext">x :: b
</span><a href="#local-6989586621681137041"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-var">EX</span></a></span><span class="hs-special">,</span><span>  </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681137041"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1538"></span><span>         </span><span class="annot"><a href="#local-6989586621681137042"><span class="hs-identifier hs-var">flipQ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-type">EX</span></a></span><span class="hs-special">,</span><span>  </span><span id="local-6989586621681137040"><span class="annot"><span class="annottext">x :: b
</span><a href="#local-6989586621681137040"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Quantifier
</span><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-var">ALL</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621681137040"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1539"></span><span>
</span><span id="line-1540"></span><span>         </span><span class="annot"><a href="#local-6989586621681137039"><span class="hs-identifier hs-type">skolemize</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Quantifier"><span class="hs-identifier hs-type">Quantifier</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#NamedSymVar"><span class="hs-identifier hs-type">NamedSymVar</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-1541"></span><span>         </span><span id="local-6989586621681137039"><span class="annot"><span class="annottext">skolemize :: [(Quantifier, NamedSymVar)] -&gt; [Either SV (SV, [SV])]
</span><a href="#local-6989586621681137039"><span class="hs-identifier hs-var hs-var">skolemize</span></a></span></span><span> </span><span id="local-6989586621681137038"><span class="annot"><span class="annottext">quants :: [(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137038"><span class="hs-identifier hs-var">quants</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
-&gt; ([SV], [Either SV (SV, [SV])]) -&gt; [Either SV (SV, [SV])]
forall a b.
[(Quantifier, (a, b))]
-&gt; ([a], [Either a (a, [a])]) -&gt; [Either a (a, [a])]
</span><a href="#local-6989586621681137037"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137038"><span class="hs-identifier hs-var">quants</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-1542"></span><span>           </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137037"><span class="annot"><span class="annottext">go :: [(Quantifier, (a, b))]
-&gt; ([a], [Either a (a, [a])]) -&gt; [Either a (a, [a])]
</span><a href="#local-6989586621681137037"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>                   </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span>  </span><span id="local-6989586621681137036"><span class="annot"><span class="annottext">sofar :: [Either a (a, [a])]
</span><a href="#local-6989586621681137036"><span class="hs-identifier hs-var">sofar</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Either a (a, [a])] -&gt; [Either a (a, [a])]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[Either a (a, [a])]
</span><a href="#local-6989586621681137036"><span class="hs-identifier hs-var">sofar</span></a></span><span>
</span><span id="line-1543"></span><span>                 </span><span class="annot"><a href="#local-6989586621681137037"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-type">ALL</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137035"><span class="annot"><span class="annottext">v :: a
</span><a href="#local-6989586621681137035"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681137034"><span class="annot"><span class="annottext">rest :: [(Quantifier, (a, b))]
</span><a href="#local-6989586621681137034"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137033"><span class="annot"><span class="annottext">us :: [a]
</span><a href="#local-6989586621681137033"><span class="hs-identifier hs-var">us</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137032"><span class="annot"><span class="annottext">sofar :: [Either a (a, [a])]
</span><a href="#local-6989586621681137032"><span class="hs-identifier hs-var">sofar</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, (a, b))]
-&gt; ([a], [Either a (a, [a])]) -&gt; [Either a (a, [a])]
</span><a href="#local-6989586621681137037"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, (a, b))]
</span><a href="#local-6989586621681137034"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137035"><span class="hs-identifier hs-var">v</span></a></span><span class="annot"><span class="annottext">a -&gt; [a] -&gt; [a]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681137033"><span class="hs-identifier hs-var">us</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a (a, [a])
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137035"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="annot"><span class="annottext">Either a (a, [a]) -&gt; [Either a (a, [a])] -&gt; [Either a (a, [a])]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Either a (a, [a])]
</span><a href="#local-6989586621681137032"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1544"></span><span>                 </span><span class="annot"><a href="#local-6989586621681137037"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#EX"><span class="hs-identifier hs-type">EX</span></a></span><span class="hs-special">,</span><span>  </span><span class="hs-special">(</span><span id="local-6989586621681137031"><span class="annot"><span class="annottext">v :: a
</span><a href="#local-6989586621681137031"><span class="hs-identifier hs-var">v</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621681137030"><span class="annot"><span class="annottext">rest :: [(Quantifier, (a, b))]
</span><a href="#local-6989586621681137030"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621681137029"><span class="annot"><span class="annottext">us :: [a]
</span><a href="#local-6989586621681137029"><span class="hs-identifier hs-var">us</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137028"><span class="annot"><span class="annottext">sofar :: [Either a (a, [a])]
</span><a href="#local-6989586621681137028"><span class="hs-identifier hs-var">sofar</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, (a, b))]
-&gt; ([a], [Either a (a, [a])]) -&gt; [Either a (a, [a])]
</span><a href="#local-6989586621681137037"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, (a, b))]
</span><a href="#local-6989586621681137030"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681137029"><span class="hs-identifier hs-var">us</span></a></span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">(a, [a]) -&gt; Either a (a, [a])
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681137031"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621681137029"><span class="hs-identifier hs-var">us</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Either a (a, [a]) -&gt; [Either a (a, [a])] -&gt; [Either a (a, [a])]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Either a (a, [a])]
</span><a href="#local-6989586621681137028"><span class="hs-identifier hs-var">sofar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1545"></span><span>
</span><span id="line-1546"></span><span>         </span><span id="local-6989586621681137027"><span class="annot"><span class="annottext">qinps :: [(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137027"><span class="hs-identifier hs-var hs-var">qinps</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137049"><span class="hs-identifier hs-var">isSat</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">([(Quantifier, NamedSymVar)], [NamedSymVar])
-&gt; [(Quantifier, NamedSymVar)]
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">([(Quantifier, NamedSymVar)], [NamedSymVar])
</span><a href="#local-6989586621681137060"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">((Quantifier, NamedSymVar) -&gt; (Quantifier, NamedSymVar))
-&gt; [(Quantifier, NamedSymVar)] -&gt; [(Quantifier, NamedSymVar)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(Quantifier, NamedSymVar) -&gt; (Quantifier, NamedSymVar)
forall b. (Quantifier, b) -&gt; (Quantifier, b)
</span><a href="#local-6989586621681137042"><span class="hs-identifier hs-var">flipQ</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([(Quantifier, NamedSymVar)], [NamedSymVar])
-&gt; [(Quantifier, NamedSymVar)]
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">([(Quantifier, NamedSymVar)], [NamedSymVar])
</span><a href="#local-6989586621681137060"><span class="hs-identifier hs-var">is</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1547"></span><span>         </span><span id="local-6989586621681137026"><span class="annot"><span class="annottext">skolemMap :: [Either SV (SV, [SV])]
</span><a href="#local-6989586621681137026"><span class="hs-identifier hs-var hs-var">skolemMap</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)] -&gt; [Either SV (SV, [SV])]
</span><a href="#local-6989586621681137039"><span class="hs-identifier hs-var">skolemize</span></a></span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137027"><span class="hs-identifier hs-var">qinps</span></a></span><span>
</span><span id="line-1548"></span><span>
</span><span id="line-1549"></span><span>         </span><span id="local-6989586621681137025"><span class="annot"><span class="annottext">o :: SV
</span><a href="#local-6989586621681137025"><span class="hs-identifier hs-var hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137048"><span class="hs-identifier hs-var">isSafe</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>
</span><span id="line-1550"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681137051"><span class="hs-identifier hs-var">outputs</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1551"></span><span>                        </span><span class="hs-special">[</span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137047"><span class="hs-identifier hs-var">isSetup</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="Data.SBV.Core.Symbolic.html#trueSV"><span class="hs-identifier hs-var">trueSV</span></a></span><span>
</span><span id="line-1552"></span><span>                        </span><span class="hs-special">[</span><span id="local-6989586621681137024"><span class="annot"><span class="annottext">so :: SV
</span><a href="#local-6989586621681137024"><span class="hs-identifier hs-var">so</span></a></span></span><span class="hs-special">]</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137024"><span class="hs-identifier hs-var">so</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1553"></span><span>                                           </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SV"><span class="hs-identifier hs-type">SV</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Kind.html#KBool"><span class="hs-identifier hs-type">KBool</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137024"><span class="hs-identifier hs-var">so</span></a></span><span>
</span><span id="line-1554"></span><span>                                           </span><span class="hs-identifier">_</span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SV
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SV) -&gt; String -&gt; SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;Impossible happened, non-boolean output: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">SV -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137024"><span class="hs-identifier hs-var">so</span></a></span><span>
</span><span id="line-1555"></span><span>                                                                         </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Detected while generating the trace:\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Result -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Result
</span><a href="#local-6989586621681137066"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1556"></span><span>                                                                         </span><span class="hs-special">]</span><span>
</span><span id="line-1557"></span><span>                        </span><span id="local-6989586621681137023"><span class="annot"><span class="annottext">os :: [SV]
</span><a href="#local-6989586621681137023"><span class="hs-identifier hs-var">os</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SV
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SV) -&gt; String -&gt; SV
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;User error: Multiple output values detected: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[SV] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[SV]
</span><a href="#local-6989586621681137023"><span class="hs-identifier hs-var">os</span></a></span><span>
</span><span id="line-1558"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;Detected while generating the trace:\n&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Result -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Result
</span><a href="#local-6989586621681137066"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1559"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Check calls to \&quot;output\&quot;, they are typically not needed!&quot;</span></span><span>
</span><span id="line-1560"></span><span>                                               </span><span class="hs-special">]</span><span>
</span><span id="line-1561"></span><span>
</span><span id="line-1562"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">SMTProblem :: (SMTConfig -&gt; SMTLibPgm) -&gt; SMTProblem
</span><a href="Data.SBV.Core.Data.html#SMTProblem"><span class="hs-identifier hs-type hs-type">SMTProblem</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">smtLibPgm :: SMTConfig -&gt; SMTLibPgm
</span><a href="Data.SBV.Core.Data.html#smtLibPgm"><span class="hs-identifier hs-var">smtLibPgm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTLibConverter SMTLibPgm
</span><a href="Data.SBV.SMT.SMTLib.html#toSMTLib"><span class="hs-identifier hs-var">toSMTLib</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137050"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="annot"><span class="annottext">QueryContext
</span><a href="#local-6989586621681137068"><span class="hs-identifier hs-var">context</span></a></span><span> </span><span class="annot"><span class="annottext">KindSet
</span><a href="#local-6989586621681137064"><span class="hs-identifier hs-var">ki</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137049"><span class="hs-identifier hs-var">isSat</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137067"><span class="hs-identifier hs-var">comments</span></a></span><span> </span><span class="annot"><span class="annottext">([(Quantifier, NamedSymVar)], [NamedSymVar])
</span><a href="#local-6989586621681137060"><span class="hs-identifier hs-var">is</span></a></span><span> </span><span class="annot"><span class="annottext">[Either SV (SV, [SV])]
</span><a href="#local-6989586621681137026"><span class="hs-identifier hs-var">skolemMap</span></a></span><span> </span><span class="annot"><span class="annottext">[(SV, CV)]
</span><a href="#local-6989586621681137059"><span class="hs-identifier hs-var">consts</span></a></span><span> </span><span class="annot"><span class="annottext">[((Key, Kind, Kind), [SV])]
</span><a href="#local-6989586621681137058"><span class="hs-identifier hs-var">tbls</span></a></span><span> </span><span class="annot"><span class="annottext">[(Key, ArrayInfo)]
</span><a href="#local-6989586621681137057"><span class="hs-identifier hs-var">arrs</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, SBVType)]
</span><a href="#local-6989586621681137056"><span class="hs-identifier hs-var">uis</span></a></span><span> </span><span class="annot"><span class="annottext">[(String, [String])]
</span><a href="#local-6989586621681137055"><span class="hs-identifier hs-var">axs</span></a></span><span> </span><span class="annot"><span class="annottext">SBVPgm
</span><a href="#local-6989586621681137054"><span class="hs-identifier hs-var">pgm</span></a></span><span> </span><span class="annot"><span class="annottext">Seq (Bool, [(String, String)], SV)
</span><a href="#local-6989586621681137053"><span class="hs-identifier hs-var">cstrs</span></a></span><span> </span><span class="annot"><span class="annottext">SV
</span><a href="#local-6989586621681137025"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1563"></span><span>
</span><span id="line-1564"></span><span class="hs-comment">-- | Generalization of 'Data.SBV.Control.executeQuery'</span><span>
</span><span id="line-1565"></span><span class="annot"><a href="Data.SBV.Control.Utils.html#executeQuery"><span class="hs-identifier hs-type">executeQuery</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621681137019"><span class="annot"><a href="#local-6989586621681137019"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621681137018"><span class="annot"><a href="#local-6989586621681137018"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Data.SBV.Utils.ExtractIO.html#ExtractIO"><span class="hs-identifier hs-type">ExtractIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137019"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryContext"><span class="hs-identifier hs-type">QueryContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryT"><span class="hs-identifier hs-type">QueryT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137019"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137018"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SymbolicT"><span class="hs-identifier hs-type">SymbolicT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137019"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621681137018"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-1566"></span><span id="executeQuery"><span class="annot"><span class="annottext">executeQuery :: QueryContext -&gt; QueryT m a -&gt; SymbolicT m a
</span><a href="Data.SBV.Control.Utils.html#executeQuery"><span class="hs-identifier hs-var hs-var">executeQuery</span></a></span></span><span> </span><span id="local-6989586621681137017"><span class="annot"><span class="annottext">queryContext :: QueryContext
</span><a href="#local-6989586621681137017"><span class="hs-identifier hs-var">queryContext</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryT"><span class="hs-identifier hs-type">QueryT</span></a></span><span> </span><span id="local-6989586621681137015"><span class="annot"><span class="annottext">userQuery :: ReaderT State m a
</span><a href="#local-6989586621681137015"><span class="hs-identifier hs-var">userQuery</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1567"></span><span>     </span><span id="local-6989586621681137014"><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137014"><span class="hs-identifier hs-var">st</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">SymbolicT m State
forall (m :: * -&gt; *). MonadSymbolic m =&gt; m State
</span><a href="Data.SBV.Core.Symbolic.html#symbolicEnv"><span class="hs-identifier hs-var">symbolicEnv</span></a></span><span>
</span><span id="line-1568"></span><span>     </span><span id="local-6989586621681137013"><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681137013"><span class="hs-identifier hs-var">rm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO SBVRunMode -&gt; SymbolicT m SBVRunMode
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO SBVRunMode -&gt; SymbolicT m SBVRunMode)
-&gt; IO SBVRunMode -&gt; SymbolicT m SBVRunMode
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef SBVRunMode -&gt; IO SBVRunMode
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef SBVRunMode
</span><a href="Data.SBV.Core.Symbolic.html#runMode"><span class="hs-identifier hs-var hs-var">runMode</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137014"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1569"></span><span>
</span><span id="line-1570"></span><span>     </span><span class="hs-comment">-- Make sure the phases match:</span><span>
</span><span id="line-1571"></span><span>     </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; SymbolicT m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; SymbolicT m ()) -&gt; IO () -&gt; SymbolicT m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryContext
</span><a href="#local-6989586621681137017"><span class="hs-identifier hs-var">queryContext</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681137013"><span class="hs-identifier hs-var">rm</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1572"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryInternal"><span class="hs-identifier hs-type">QueryInternal</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span>                                </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- no worries, internal</span><span>
</span><span id="line-1573"></span><span>                      </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryExternal"><span class="hs-identifier hs-type">QueryExternal</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTMode"><span class="hs-identifier hs-type">SMTMode</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryExternal"><span class="hs-identifier hs-type">QueryExternal</span></a></span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#ISetup"><span class="hs-identifier hs-type">ISetup</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- legitimate runSMT call</span><span>
</span><span id="line-1574"></span><span>                      </span><span class="hs-identifier">_</span><span>                                                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SBVRunMode -&gt; IO ()
forall a a. Show a =&gt; a -&gt; a
</span><a href="#local-6989586621681137008"><span class="hs-identifier hs-var">invalidQuery</span></a></span><span> </span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681137013"><span class="hs-identifier hs-var">rm</span></a></span><span>
</span><span id="line-1575"></span><span>
</span><span id="line-1576"></span><span>     </span><span class="hs-comment">-- If we're doing an external query, then we cannot allow quantifiers to be present. Why?</span><span>
</span><span id="line-1577"></span><span>     </span><span class="hs-comment">-- Consider:</span><span>
</span><span id="line-1578"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-1579"></span><span>     </span><span class="hs-comment">--      issue = do x :: SBool &lt;- forall_</span><span>
</span><span id="line-1580"></span><span>     </span><span class="hs-comment">--                 y :: SBool &lt;- exists_</span><span>
</span><span id="line-1581"></span><span>     </span><span class="hs-comment">--                 constrain y</span><span>
</span><span id="line-1582"></span><span>     </span><span class="hs-comment">--                 query $ do checkSat</span><span>
</span><span id="line-1583"></span><span>     </span><span class="hs-comment">--                         (,) &lt;$&gt; getValue x &lt;*&gt; getValue y</span><span>
</span><span id="line-1584"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-1585"></span><span>     </span><span class="hs-comment">-- This is the (simplified/annotated SMTLib we would generate:)</span><span>
</span><span id="line-1586"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-1587"></span><span>     </span><span class="hs-comment">--     (declare-fun s1 (Bool) Bool)   ; s1 is the function that corresponds to the skolemized 'y'</span><span>
</span><span id="line-1588"></span><span>     </span><span class="hs-comment">--     (assert (forall ((s0 Bool))    ; s0 is 'x'</span><span>
</span><span id="line-1589"></span><span>     </span><span class="hs-comment">--                 (s1 s0)))          ; s1 applied to s0 is the actual 'y'</span><span>
</span><span id="line-1590"></span><span>     </span><span class="hs-comment">--     (check-sat)</span><span>
</span><span id="line-1591"></span><span>     </span><span class="hs-comment">--     (get-value (s0))        ; s0 simply not visible here</span><span>
</span><span id="line-1592"></span><span>     </span><span class="hs-comment">--     (get-value (s1))        ; s1 is visible, but only via 's1 s0', so it is also not available.</span><span>
</span><span id="line-1593"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-1594"></span><span>     </span><span class="hs-comment">-- And that would be terrible! The scoping rules of our &quot;quantified&quot; variables and how they map to</span><span>
</span><span id="line-1595"></span><span>     </span><span class="hs-comment">-- SMTLib is just not compatible. This is a historical design issue, but too late at this point. (We</span><span>
</span><span id="line-1596"></span><span>     </span><span class="hs-comment">-- should've never allowed general quantification like this, but only in limited contexts.)</span><span>
</span><span id="line-1597"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-1598"></span><span>     </span><span class="hs-comment">-- So, we check if this is an external-query, and if there are quantified variables. If so, we</span><span>
</span><span id="line-1599"></span><span>     </span><span class="hs-comment">-- cowardly refuse to continue. For details, see: &lt;http://github.com/LeventErkok/sbv/issues/407&gt;</span><span>
</span><span id="line-1600"></span><span>     </span><span class="hs-comment">--</span><span>
</span><span id="line-1601"></span><span>     </span><span class="hs-comment">-- However, as discussed in &lt;https://github.com/LeventErkok/sbv/issues/459&gt;, we'll allow for this</span><span>
</span><span id="line-1602"></span><span>     </span><span class="hs-comment">-- if the user explicitly asks as to do so. In that case, all bets are off!</span><span>
</span><span id="line-1603"></span><span>
</span><span id="line-1604"></span><span>     </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137007"><span class="annot"><span class="annottext">allowQQs :: Bool
</span><a href="#local-6989586621681137007"><span class="hs-identifier hs-var hs-var">allowQQs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681137013"><span class="hs-identifier hs-var">rm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1605"></span><span>                      </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTMode"><span class="hs-identifier hs-type">SMTMode</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span id="local-6989586621681137006"><span class="annot"><span class="annottext">cfg :: SMTConfig
</span><a href="#local-6989586621681137006"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#allowQuantifiedQueries"><span class="hs-identifier hs-var hs-var">allowQuantifiedQueries</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681137006"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1606"></span><span>                      </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#CodeGen"><span class="hs-identifier hs-type">CodeGen</span></a></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-comment">-- doesn't matter in these two</span><span>
</span><span id="line-1607"></span><span>                      </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#Concrete"><span class="hs-identifier hs-type">Concrete</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-comment">-- cases, but we're being careful</span><span>
</span><span id="line-1608"></span><span>
</span><span id="line-1609"></span><span>     </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; SymbolicT m () -&gt; SymbolicT m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681137007"><span class="hs-identifier hs-var">allowQQs</span></a></span><span> </span><span class="annot"><span class="annottext">(SymbolicT m () -&gt; SymbolicT m ())
-&gt; SymbolicT m () -&gt; SymbolicT m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; SymbolicT m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; SymbolicT m ()) -&gt; IO () -&gt; SymbolicT m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1610"></span><span>                    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">QueryContext
</span><a href="#local-6989586621681137017"><span class="hs-identifier hs-var">queryContext</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1611"></span><span>                      </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryInternal"><span class="hs-identifier hs-type">QueryInternal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>         </span><span class="hs-comment">-- we're good, internal usages don't mess with scopes</span><span>
</span><span id="line-1612"></span><span>                      </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#QueryExternal"><span class="hs-identifier hs-type">QueryExternal</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1613"></span><span>                        </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621681137002"><span class="annot"><span class="annottext">userInps :: [(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137002"><span class="hs-identifier hs-var">userInps</span></a></span></span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">_</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
-&gt; IO (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State
-&gt; IORef (([(Quantifier, NamedSymVar)], [NamedSymVar]), Set String)
</span><a href="Data.SBV.Core.Symbolic.html#rinps"><span class="hs-identifier hs-var hs-var">rinps</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137014"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1614"></span><span>                        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681137001"><span class="annot"><span class="annottext">badInps :: [String]
</span><a href="#local-6989586621681137001"><span class="hs-identifier hs-var hs-var">badInps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [String]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681137000"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#ALL"><span class="hs-identifier hs-type">ALL</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">_</span><span class="hs-special">,</span><span> </span><span id="local-6989586621681137000"><span class="annot"><span class="annottext">n :: String
</span><a href="#local-6989586621681137000"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Quantifier, NamedSymVar)]
</span><a href="#local-6989586621681137002"><span class="hs-identifier hs-var">userInps</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-1615"></span><span>                        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137001"><span class="hs-identifier hs-var">badInps</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1616"></span><span>                          </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-1617"></span><span>                          </span><span class="hs-identifier">_</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681136999"><span class="annot"><span class="annottext">plu :: String
</span><a href="#local-6989586621681136999"><span class="hs-identifier hs-var hs-var">plu</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Key
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Key
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137001"><span class="hs-identifier hs-var">badInps</span></a></span><span> </span><span class="annot"><span class="annottext">Key -&gt; Key -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot;s require&quot;</span></span><span>
</span><span id="line-1618"></span><span>                                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-string">&quot; requires&quot;</span></span><span>
</span><span id="line-1619"></span><span>                                </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1620"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV: Unsupported query call in the presence of quantified inputs.&quot;</span></span><span>
</span><span id="line-1621"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-1622"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** The following variable&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621681136999"><span class="hs-identifier hs-var">plu</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="hs-string">&quot; explicit quantification: &quot;</span></span><span>
</span><span id="line-1623"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-1624"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***    &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String
forall a. [a] -&gt; [[a]] -&gt; [a]
</span><span class="hs-identifier hs-var">intercalate</span></span><span> </span><span class="annot"><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621681137001"><span class="hs-identifier hs-var">badInps</span></a></span><span>
</span><span id="line-1625"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-1626"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** While quantification and queries can co-exist in principle, SBV currently&quot;</span></span><span>
</span><span id="line-1627"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** does not support this scenario. Avoid using quantifiers with user queries&quot;</span></span><span>
</span><span id="line-1628"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** if possible. Please do get in touch if your use case does require such&quot;</span></span><span>
</span><span id="line-1629"></span><span>                                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** a feature to see how we can accommodate such scenarios.&quot;</span></span><span>
</span><span id="line-1630"></span><span>                                                   </span><span class="hs-special">]</span><span>
</span><span id="line-1631"></span><span>
</span><span id="line-1632"></span><span>     </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681137013"><span class="hs-identifier hs-var">rm</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1633"></span><span>        </span><span class="hs-comment">-- Transitioning from setup</span><span>
</span><span id="line-1634"></span><span>        </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTMode"><span class="hs-identifier hs-type">SMTMode</span></a></span><span> </span><span id="local-6989586621681136998"><span class="annot"><span class="annottext">qc :: QueryContext
</span><a href="#local-6989586621681136998"><span class="hs-identifier hs-var">qc</span></a></span></span><span> </span><span id="local-6989586621681136997"><span class="annot"><span class="annottext">stage :: IStage
</span><a href="#local-6989586621681136997"><span class="hs-identifier hs-var">stage</span></a></span></span><span> </span><span id="local-6989586621681136996"><span class="annot"><span class="annottext">isSAT :: Bool
</span><a href="#local-6989586621681136996"><span class="hs-identifier hs-var">isSAT</span></a></span></span><span> </span><span id="local-6989586621681136995"><span class="annot"><span class="annottext">cfg :: SMTConfig
</span><a href="#local-6989586621681136995"><span class="hs-identifier hs-var">cfg</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IStage -&gt; Bool
</span><a href="Data.SBV.Core.Symbolic.html#isRunIStage"><span class="hs-identifier hs-var">isRunIStage</span></a></span><span> </span><span class="annot"><span class="annottext">IStage
</span><a href="#local-6989586621681136997"><span class="hs-identifier hs-var">stage</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-1635"></span><span>
</span><span id="line-1636"></span><span>                                                </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621681136994"><span class="annot"><span class="annottext">backend :: SMTConfig -&gt; State -&gt; String -&gt; (State -&gt; IO res) -&gt; IO res
</span><a href="#local-6989586621681136994"><span class="hs-identifier hs-var hs-var">backend</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTSolver
-&gt; forall res.
   SMTConfig -&gt; State -&gt; String -&gt; (State -&gt; IO res) -&gt; IO res
</span><a href="Data.SBV.Core.Symbolic.html#engine"><span class="hs-identifier hs-var hs-var">engine</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTSolver
</span><a href="Data.SBV.Core.Symbolic.html#solver"><span class="hs-identifier hs-var hs-var">solver</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681136995"><span class="hs-identifier hs-var">cfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1637"></span><span>
</span><span id="line-1638"></span><span>                                                </span><span id="local-6989586621681136992"><span class="annot"><span class="annottext">Result
</span><a href="#local-6989586621681136992"><span class="hs-identifier hs-var">res</span></a></span></span><span>     </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO Result -&gt; SymbolicT m Result
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO Result -&gt; SymbolicT m Result)
-&gt; IO Result -&gt; SymbolicT m Result
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">State -&gt; IO Result
</span><a href="Data.SBV.Core.Symbolic.html#extractSymbolicSimulationState"><span class="hs-identifier hs-var">extractSymbolicSimulationState</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137014"><span class="hs-identifier hs-var">st</span></a></span><span>
</span><span id="line-1639"></span><span>                                                </span><span id="local-6989586621681136991"><span class="annot"><span class="annottext">[SMTOption]
</span><a href="#local-6989586621681136991"><span class="hs-identifier hs-var">setOpts</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO [SMTOption] -&gt; SymbolicT m [SMTOption]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO [SMTOption] -&gt; SymbolicT m [SMTOption])
-&gt; IO [SMTOption] -&gt; SymbolicT m [SMTOption]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[SMTOption] -&gt; [SMTOption]
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">([SMTOption] -&gt; [SMTOption]) -&gt; IO [SMTOption] -&gt; IO [SMTOption]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">IORef [SMTOption] -&gt; IO [SMTOption]
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef [SMTOption]
</span><a href="Data.SBV.Core.Symbolic.html#rSMTOptions"><span class="hs-identifier hs-var hs-var">rSMTOptions</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137014"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1640"></span><span>
</span><span id="line-1641"></span><span>                                                </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="Data.SBV.Core.Data.html#SMTProblem"><span class="hs-identifier hs-type">SMTProblem</span></a></span><span class="hs-special">{</span><span id="local-6989586621681136989"><span class="annot"><span class="annottext">SMTConfig -&gt; SMTLibPgm
smtLibPgm :: SMTConfig -&gt; SMTLibPgm
smtLibPgm :: SMTProblem -&gt; SMTConfig -&gt; SMTLibPgm
</span><a href="#local-6989586621681136989"><span class="hs-identifier hs-var hs-var">smtLibPgm</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SBVRunMode -&gt; QueryContext -&gt; [String] -&gt; Result -&gt; SMTProblem
</span><a href="Data.SBV.Control.Utils.html#runProofOn"><span class="hs-identifier hs-var">runProofOn</span></a></span><span> </span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681137013"><span class="hs-identifier hs-var">rm</span></a></span><span> </span><span class="annot"><span class="annottext">QueryContext
</span><a href="#local-6989586621681137017"><span class="hs-identifier hs-var">queryContext</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">Result
</span><a href="#local-6989586621681136992"><span class="hs-identifier hs-var">res</span></a></span><span>
</span><span id="line-1642"></span><span>                                                    </span><span id="local-6989586621681136988"><span class="annot"><span class="annottext">cfg' :: SMTConfig
</span><a href="#local-6989586621681136988"><span class="hs-identifier hs-var hs-var">cfg'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681136995"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">solverSetOptions :: [SMTOption]
</span><a href="Data.SBV.Core.Symbolic.html#solverSetOptions"><span class="hs-identifier hs-var">solverSetOptions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; [SMTOption]
</span><a href="Data.SBV.Core.Symbolic.html#solverSetOptions"><span class="hs-identifier hs-var hs-var">solverSetOptions</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681136995"><span class="hs-identifier hs-var">cfg</span></a></span><span> </span><span class="annot"><span class="annottext">[SMTOption] -&gt; [SMTOption] -&gt; [SMTOption]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[SMTOption]
</span><a href="#local-6989586621681136991"><span class="hs-identifier hs-var">setOpts</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-1643"></span><span>                                                    </span><span id="local-6989586621681136986"><span class="annot"><span class="annottext">pgm :: SMTLibPgm
</span><a href="#local-6989586621681136986"><span class="hs-identifier hs-var hs-var">pgm</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; SMTLibPgm
</span><a href="#local-6989586621681136989"><span class="hs-identifier hs-var">smtLibPgm</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681136988"><span class="hs-identifier hs-var">cfg'</span></a></span><span>
</span><span id="line-1644"></span><span>
</span><span id="line-1645"></span><span>                                                </span><span class="annot"><span class="annottext">IO () -&gt; SymbolicT m ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; SymbolicT m ()) -&gt; IO () -&gt; SymbolicT m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IORef SBVRunMode -&gt; SBVRunMode -&gt; IO ()
forall a. IORef a -&gt; a -&gt; IO ()
</span><span class="hs-identifier hs-var">writeIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">State -&gt; IORef SBVRunMode
</span><a href="Data.SBV.Core.Symbolic.html#runMode"><span class="hs-identifier hs-var hs-var">runMode</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137014"><span class="hs-identifier hs-var">st</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(SBVRunMode -&gt; IO ()) -&gt; SBVRunMode -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">QueryContext -&gt; IStage -&gt; Bool -&gt; SMTConfig -&gt; SBVRunMode
</span><a href="Data.SBV.Core.Symbolic.html#SMTMode"><span class="hs-identifier hs-var">SMTMode</span></a></span><span> </span><span class="annot"><span class="annottext">QueryContext
</span><a href="#local-6989586621681136998"><span class="hs-identifier hs-var">qc</span></a></span><span> </span><span class="annot"><span class="annottext">IStage
</span><a href="Data.SBV.Core.Symbolic.html#IRun"><span class="hs-identifier hs-var">IRun</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621681136996"><span class="hs-identifier hs-var">isSAT</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681136995"><span class="hs-identifier hs-var">cfg</span></a></span><span>
</span><span id="line-1646"></span><span>
</span><span id="line-1647"></span><span>                                                </span><span class="annot"><span class="annottext">m a -&gt; SymbolicT m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; SymbolicT m a) -&gt; m a -&gt; SymbolicT m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m (m a) -&gt; m a
forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span> </span><span class="annot"><span class="annottext">(m (m a) -&gt; m a) -&gt; m (m a) -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO (m a) -&gt; m (m a)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (m a) -&gt; m (m a)) -&gt; IO (m a) -&gt; m (m a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SMTConfig -&gt; State -&gt; String -&gt; (State -&gt; IO (m a)) -&gt; IO (m a)
forall res.
SMTConfig -&gt; State -&gt; String -&gt; (State -&gt; IO res) -&gt; IO res
</span><a href="#local-6989586621681136994"><span class="hs-identifier hs-var">backend</span></a></span><span> </span><span class="annot"><span class="annottext">SMTConfig
</span><a href="#local-6989586621681136988"><span class="hs-identifier hs-var">cfg'</span></a></span><span> </span><span class="annot"><span class="annottext">State
</span><a href="#local-6989586621681137014"><span class="hs-identifier hs-var">st</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SMTLibPgm -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">SMTLibPgm
</span><a href="#local-6989586621681136986"><span class="hs-identifier hs-var">pgm</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((State -&gt; IO (m a)) -&gt; IO (m a))
-&gt; (State -&gt; IO (m a)) -&gt; IO (m a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m a -&gt; IO (m a)
forall (m :: * -&gt; *) a. ExtractIO m =&gt; m a -&gt; IO (m a)
</span><a href="Data.SBV.Utils.ExtractIO.html#extractIO"><span class="hs-identifier hs-var">extractIO</span></a></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; IO (m a)) -&gt; (State -&gt; m a) -&gt; State -&gt; IO (m a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ReaderT State m a -&gt; State -&gt; m a
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><span class="hs-identifier hs-var hs-var">runReaderT</span></span><span> </span><span class="annot"><span class="annottext">ReaderT State m a
</span><a href="#local-6989586621681137015"><span class="hs-identifier hs-var">userQuery</span></a></span><span>
</span><span id="line-1648"></span><span>
</span><span id="line-1649"></span><span>        </span><span class="hs-comment">-- Already in a query, in theory we can just continue, but that causes use-case issues</span><span>
</span><span id="line-1650"></span><span>        </span><span class="hs-comment">-- so we reject it. TODO: Review if we should actually support this. The issue arises with</span><span>
</span><span id="line-1651"></span><span>        </span><span class="hs-comment">-- expressions like this:</span><span>
</span><span id="line-1652"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1653"></span><span>        </span><span class="hs-comment">-- In the following t0's output doesn't get recorded, as the output call is too late when we get</span><span>
</span><span id="line-1654"></span><span>        </span><span class="hs-comment">-- here. (The output field isn't &quot;incremental.&quot;) So, t0/t1 behave differently!</span><span>
</span><span id="line-1655"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1656"></span><span>        </span><span class="hs-comment">--   t0 = satWith z3{verbose=True, transcript=Just &quot;t.smt2&quot;} $ query (return (false::SBool))</span><span>
</span><span id="line-1657"></span><span>        </span><span class="hs-comment">--   t1 = satWith z3{verbose=True, transcript=Just &quot;t.smt2&quot;} $ ((return (false::SBool)) :: Predicate)</span><span>
</span><span id="line-1658"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1659"></span><span>        </span><span class="hs-comment">-- Also, not at all clear what it means to go in an out of query mode:</span><span>
</span><span id="line-1660"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1661"></span><span>        </span><span class="hs-comment">-- r = runSMTWith z3{verbose=True} $ do</span><span>
</span><span id="line-1662"></span><span>        </span><span class="hs-comment">--         a' &lt;- sInteger &quot;a&quot;</span><span>
</span><span id="line-1663"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1664"></span><span>        </span><span class="hs-comment">--        (a, av) &lt;- query $ do _ &lt;- checkSat</span><span>
</span><span id="line-1665"></span><span>        </span><span class="hs-comment">--                              av &lt;- getValue a'</span><span>
</span><span id="line-1666"></span><span>        </span><span class="hs-comment">--                              return (a', av)</span><span>
</span><span id="line-1667"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1668"></span><span>        </span><span class="hs-comment">--        liftIO $ putStrLn $ &quot;Got: &quot; ++ show av</span><span>
</span><span id="line-1669"></span><span>        </span><span class="hs-comment">--        -- constrain $ a .&gt; literal av + 1      -- Cant' do this since we're &quot;out&quot; of query. Sigh.</span><span>
</span><span id="line-1670"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1671"></span><span>        </span><span class="hs-comment">--        bv &lt;- query $ do constrain $ a .&gt; literal av + 1</span><span>
</span><span id="line-1672"></span><span>        </span><span class="hs-comment">--                         _ &lt;- checkSat</span><span>
</span><span id="line-1673"></span><span>        </span><span class="hs-comment">--                         getValue a</span><span>
</span><span id="line-1674"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1675"></span><span>        </span><span class="hs-comment">--        return $ a' .== a' + 1</span><span>
</span><span id="line-1676"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1677"></span><span>        </span><span class="hs-comment">-- This would be one possible implementation, alas it has the problems above:</span><span>
</span><span id="line-1678"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1679"></span><span>        </span><span class="hs-comment">--    SMTMode IRun _ _ -&gt; liftIO $ evalStateT userQuery st</span><span>
</span><span id="line-1680"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-1681"></span><span>        </span><span class="hs-comment">-- So, we just reject it.</span><span>
</span><span id="line-1682"></span><span>
</span><span id="line-1683"></span><span>        </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#SMTMode"><span class="hs-identifier hs-type">SMTMode</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="annot"><a href="Data.SBV.Core.Symbolic.html#IRun"><span class="hs-identifier hs-type">IRun</span></a></span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; SymbolicT m a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; SymbolicT m a) -&gt; String -&gt; SymbolicT m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1684"></span><span>                                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV: Unsupported nested query is detected.&quot;</span></span><span>
</span><span id="line-1685"></span><span>                                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-1686"></span><span>                                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Please group your queries into one block. Note that this&quot;</span></span><span>
</span><span id="line-1687"></span><span>                                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** can also arise if you have a call to 'query' not within 'runSMT'&quot;</span></span><span>
</span><span id="line-1688"></span><span>                                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** For instance, within 'sat'/'prove' calls with custom user queries.&quot;</span></span><span>
</span><span id="line-1689"></span><span>                                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** The solution is to do the sat/prove part in the query directly.&quot;</span></span><span>
</span><span id="line-1690"></span><span>                                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-1691"></span><span>                                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** While multiple/nested queries should not be necessary in general,&quot;</span></span><span>
</span><span id="line-1692"></span><span>                                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** please do get in touch if your use case does require such a feature,&quot;</span></span><span>
</span><span id="line-1693"></span><span>                                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** to see how we can accommodate such scenarios.&quot;</span></span><span>
</span><span id="line-1694"></span><span>                                              </span><span class="hs-special">]</span><span>
</span><span id="line-1695"></span><span>
</span><span id="line-1696"></span><span>        </span><span class="hs-comment">-- Otherwise choke!</span><span>
</span><span id="line-1697"></span><span>        </span><span class="hs-identifier">_</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SBVRunMode -&gt; SymbolicT m a
forall a a. Show a =&gt; a -&gt; a
</span><a href="#local-6989586621681137008"><span class="hs-identifier hs-var">invalidQuery</span></a></span><span> </span><span class="annot"><span class="annottext">SBVRunMode
</span><a href="#local-6989586621681137013"><span class="hs-identifier hs-var">rm</span></a></span><span>
</span><span id="line-1698"></span><span>
</span><span id="line-1699"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621681137008"><span class="annot"><span class="annottext">invalidQuery :: a -&gt; a
</span><a href="#local-6989586621681137008"><span class="hs-identifier hs-var hs-var">invalidQuery</span></a></span></span><span> </span><span id="local-6989586621681136983"><span class="annot"><span class="annottext">rm :: a
</span><a href="#local-6989586621681136983"><span class="hs-identifier hs-var">rm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; a
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; a) -&gt; String -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unlines</span></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-1700"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Data.SBV: Invalid query call.&quot;</span></span><span>
</span><span id="line-1701"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-1702"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***   Current mode: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621681136983"><span class="hs-identifier hs-var">rm</span></a></span><span>
</span><span id="line-1703"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;***&quot;</span></span><span>
</span><span id="line-1704"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-string">&quot;*** Query calls are only valid within runSMT/runSMTWith calls&quot;</span></span><span>
</span><span id="line-1705"></span><span>                                          </span><span class="hs-special">]</span><span>
</span><span id="line-1706"></span><span>
</span><span id="line-1707"></span><span class="hs-pragma">{-# ANN</span><span> </span><span class="hs-pragma">module</span><span>          </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma">&quot;HLint: ignore Reduce duplication&quot;</span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1708"></span><span class="hs-pragma">{-# ANN</span><span> </span><span class="annot"><a href="Data.SBV.Control.Utils.html#getAllSatResult"><span class="hs-pragma hs-type">getAllSatResult</span></a></span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma">&quot;HLint: ignore Use forM_&quot;</span></span><span>          </span><span class="hs-pragma">::</span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-1709"></span></pre></body></html>