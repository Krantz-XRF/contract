<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Documentation.SBV.Examples.ProofTools.Strengthen</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">sbv-8.6: SMT Based Verification: Symbolic Haskell theorem prover using SMT solving.</span><ul class="links" id="page-menu"><li><a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Levent Erkok</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>erkokl@gmail.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Documentation.SBV.Examples.ProofTools.Strengthen</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">System state</a></li><li><a href="#g:2">Encoding the problem</a></li><li><a href="#g:3">Examples</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>An example showing how traditional state-transition invariance problems
 can be coded using SBV, using induction. We also demonstrate the use of
 invariant strengthening.</p><p>This example comes from Bradley's <a href="http://theory.stanford.edu/~arbrad/papers/Understanding_IC3.pdf">Understanding IC3</a> paper,
 which considers the following two programs:</p><pre>     x, y := 1, 1                    x, y := 1, 1
     while *:                        while *:
       x, y := x+1, y+x                x, y := x+y, y+x
</pre><p>Where <code>*</code> stands for non-deterministic choice. For each program we try to prove that <code>y &gt;= 1</code> is an invariant.</p><p>It turns out that the property <code>y &gt;= 1</code> is indeed an invariant, but is
 not inductive for either program. We proceed to strengten the invariant
 and establish it for the first case. We then note that the same strengthening
 doesn't work for the second program, and find a further strengthening to
 establish that case as well. This example follows the introductory example
 in Bradley's paper quite closely.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:S">S</a> a = <a href="#v:S">S</a> {<ul class="subs"><li><a href="#v:x">x</a> :: a</li><li><a href="#v:y">y</a> :: a</li></ul>}</li><li class="src short"><a href="#v:problem">problem</a> :: (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; [<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a>]) -&gt; [(<a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a>, <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a>)] -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>))</li><li class="src short"><a href="#v:pgm1">pgm1</a> :: <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; [<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a>]</li><li class="src short"><a href="#v:pgm2">pgm2</a> :: <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; [<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a>]</li><li class="src short"><a href="#v:ex1">ex1</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>))</li><li class="src short"><a href="#v:ex2">ex2</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>))</li><li class="src short"><a href="#v:ex3">ex3</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>))</li><li class="src short"><a href="#v:ex4">ex4</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>))</li><li class="src short"><a href="#v:ex5">ex5</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>))</li><li class="src short"><a href="#v:ex6">ex6</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>))</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>System state</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:S" class="def">S</a> a <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#S" class="link">Source</a> <a href="#t:S" class="selflink">#</a></p><div class="doc"><p>System state. We simply have two components, parameterized
 over the type so we can put in both concrete and symbolic values.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:S" class="def">S</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:x" class="def">x</a> :: a</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:y" class="def">y</a> :: a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:S">Instances</h4><details id="i:S" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:S:Functor:1"></span> <a href="../base-4.13.0.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a></span> <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#line-51" class="link">Source</a> <a href="#t:S" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:S:Functor:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html">Documentation.SBV.Examples.ProofTools.Strengthen</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> b -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:S:Foldable:2"></span> <a href="../base-4.13.0.0/Data-Foldable.html#t:Foldable" title="Data.Foldable">Foldable</a> <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a></span> <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#line-51" class="link">Source</a> <a href="#t:S" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:S:Foldable:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html">Documentation.SBV.Examples.ProofTools.Strengthen</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fold">fold</a> :: <a href="../base-4.13.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> m -&gt; m <a href="#v:fold" class="selflink">#</a></p><p class="src"><a href="#v:foldMap">foldMap</a> :: <a href="../base-4.13.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; m <a href="#v:foldMap" class="selflink">#</a></p><p class="src"><a href="#v:foldMap-39-">foldMap'</a> :: <a href="../base-4.13.0.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> m =&gt; (a -&gt; m) -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; m <a href="#v:foldMap-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr">foldr</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; b <a href="#v:foldr" class="selflink">#</a></p><p class="src"><a href="#v:foldr-39-">foldr'</a> :: (a -&gt; b -&gt; b) -&gt; b -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; b <a href="#v:foldr-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldl">foldl</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; b <a href="#v:foldl" class="selflink">#</a></p><p class="src"><a href="#v:foldl-39-">foldl'</a> :: (b -&gt; a -&gt; b) -&gt; b -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; b <a href="#v:foldl-39-" class="selflink">#</a></p><p class="src"><a href="#v:foldr1">foldr1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; a <a href="#v:foldr1" class="selflink">#</a></p><p class="src"><a href="#v:foldl1">foldl1</a> :: (a -&gt; a -&gt; a) -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; a <a href="#v:foldl1" class="selflink">#</a></p><p class="src"><a href="#v:toList">toList</a> :: <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; [a] <a href="#v:toList" class="selflink">#</a></p><p class="src"><a href="#v:null">null</a> :: <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; <a href="../base-4.13.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:null" class="selflink">#</a></p><p class="src"><a href="#v:length">length</a> :: <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; <a href="../base-4.13.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:length" class="selflink">#</a></p><p class="src"><a href="#v:elem">elem</a> :: <a href="../base-4.13.0.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> a =&gt; a -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; <a href="../base-4.13.0.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:elem" class="selflink">#</a></p><p class="src"><a href="#v:maximum">maximum</a> :: <a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; a <a href="#v:maximum" class="selflink">#</a></p><p class="src"><a href="#v:minimum">minimum</a> :: <a href="../base-4.13.0.0/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; a <a href="#v:minimum" class="selflink">#</a></p><p class="src"><a href="#v:sum">sum</a> :: <a href="../base-4.13.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; a <a href="#v:sum" class="selflink">#</a></p><p class="src"><a href="#v:product">product</a> :: <a href="../base-4.13.0.0/Prelude.html#t:Num" title="Prelude">Num</a> a =&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; a <a href="#v:product" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:S:Traversable:3"></span> <a href="../base-4.13.0.0/Data-Traversable.html#t:Traversable" title="Data.Traversable">Traversable</a> <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a></span> <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#line-51" class="link">Source</a> <a href="#t:S" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:S:Traversable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html">Documentation.SBV.Examples.ProofTools.Strengthen</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:traverse">traverse</a> :: <a href="../base-4.13.0.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; (a -&gt; f b) -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; f (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> b) <a href="#v:traverse" class="selflink">#</a></p><p class="src"><a href="#v:sequenceA">sequenceA</a> :: <a href="../base-4.13.0.0/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> f =&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> (f a) -&gt; f (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a) <a href="#v:sequenceA" class="selflink">#</a></p><p class="src"><a href="#v:mapM">mapM</a> :: <a href="../base-4.13.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; (a -&gt; m b) -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; m (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> b) <a href="#v:mapM" class="selflink">#</a></p><p class="src"><a href="#v:sequence">sequence</a> :: <a href="../base-4.13.0.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> (m a) -&gt; m (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a) <a href="#v:sequence" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:S:Fresh:4"></span> <a href="Data-SBV-Control.html#t:Fresh" title="Data.SBV.Control">Fresh</a> <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a>)</span> <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#line-54" class="link">Source</a> <a href="#t:S" class="selflink">#</a></td><td class="doc"><p><code><a href="Data-SBV-Control.html#t:Fresh" title="Data.SBV.Control">Fresh</a></code> instance for our state</p></td></tr><tr><td colspan="2"><details id="i:id:S:Fresh:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html">Documentation.SBV.Examples.ProofTools.Strengthen</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fresh">fresh</a> :: <a href="Data-SBV-Trans-Control.html#t:QueryT" title="Data.SBV.Trans.Control">QueryT</a> <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a>) <a href="src/Data.SBV.Core.Symbolic.html#fresh" class="link">Source</a> <a href="#v:fresh" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:S:Show:5"></span> <a href="../base-4.13.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> a =&gt; <a href="../base-4.13.0.0/Text-Show.html#t:Show" title="Text.Show">Show</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a)</span> <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#line-51" class="link">Source</a> <a href="#t:S" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:S:Show:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html">Documentation.SBV.Examples.ProofTools.Strengthen</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="../base-4.13.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; <a href="../base-4.13.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a -&gt; <a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> a] -&gt; <a href="../base-4.13.0.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:2" id="g:2"><h1>Encoding the problem</h1></a><div class="top"><p class="src"><a id="v:problem" class="def">problem</a> :: (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; [<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a>]) -&gt; [(<a href="../base-4.13.0.0/Data-String.html#t:String" title="Data.String">String</a>, <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; <a href="Data-SBV-Internals.html#t:SBool" title="Data.SBV.Internals">SBool</a>)] -&gt; <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>)) <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#problem" class="link">Source</a> <a href="#v:problem" class="selflink">#</a></p><div class="doc"><p>We parameterize over the transition relation and the strengthenings to
 investigate various combinations.</p></div></div><div class="top"><p class="src"><a id="v:pgm1" class="def">pgm1</a> :: <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; [<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a>] <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#pgm1" class="link">Source</a> <a href="#v:pgm1" class="selflink">#</a></p><div class="doc"><p>The first program, coded as a transition relation:</p></div></div><div class="top"><p class="src"><a id="v:pgm2" class="def">pgm2</a> :: <a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a> -&gt; [<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="Data-SBV-Internals.html#t:SInteger" title="Data.SBV.Internals">SInteger</a>] <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#pgm2" class="link">Source</a> <a href="#v:pgm2" class="selflink">#</a></p><div class="doc"><p>The second program, coded as a transition relation:</p></div></div><a href="#g:3" id="g:3"><h1>Examples</h1></a><div class="top"><p class="src"><a id="v:ex1" class="def">ex1</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>)) <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#ex1" class="link">Source</a> <a href="#v:ex1" class="selflink">#</a></p><div class="doc"><p>Example 1: First program, with no strengthenings. We have:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ex1
</code></strong>Failed while establishing consecution.
Counter-example to inductiveness:
  S {x = -1, y = 1}
</pre></div></div><div class="top"><p class="src"><a id="v:ex2" class="def">ex2</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>)) <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#ex2" class="link">Source</a> <a href="#v:ex2" class="selflink">#</a></p><div class="doc"><p>Example 2: First program, strengthened with <code>x &gt;= 0</code>. We have:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ex2
</code></strong>Q.E.D.
</pre></div></div><div class="top"><p class="src"><a id="v:ex3" class="def">ex3</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>)) <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#ex3" class="link">Source</a> <a href="#v:ex3" class="selflink">#</a></p><div class="doc"><p>Example 3: Second program, with no strengthenings. We have:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ex3
</code></strong>Failed while establishing consecution.
Counter-example to inductiveness:
  S {x = -1, y = 1}
</pre></div></div><div class="top"><p class="src"><a id="v:ex4" class="def">ex4</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>)) <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#ex4" class="link">Source</a> <a href="#v:ex4" class="selflink">#</a></p><div class="doc"><p>Example 4: Second program, strengthened with <code>x &gt;= 0</code>. We have:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ex4
</code></strong>Failed while establishing consecution for strengthening &quot;x &gt;= 0&quot;.
Counter-example to inductiveness:
  S {x = 0, y = -1}
</pre></div></div><div class="top"><p class="src"><a id="v:ex5" class="def">ex5</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>)) <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#ex5" class="link">Source</a> <a href="#v:ex5" class="selflink">#</a></p><div class="doc"><p>Example 5: Second program, strengthened with <code>x &gt;= 0</code> and <code>y &gt;= 1</code> separately. We have:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ex5
</code></strong>Failed while establishing consecution for strengthening &quot;x &gt;= 0&quot;.
Counter-example to inductiveness:
  S {x = 0, y = -1}
</pre><p>Note how this was sufficient in <code><a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#v:ex2" title="Documentation.SBV.Examples.ProofTools.Strengthen">ex2</a></code> to establish the invariant for the first
 program, but fails for the second.</p></div></div><div class="top"><p class="src"><a id="v:ex6" class="def">ex6</a> :: <a href="../base-4.13.0.0/System-IO.html#t:IO" title="System.IO">IO</a> (<a href="Data-SBV-Tools-Induction.html#t:InductionResult" title="Data.SBV.Tools.Induction">InductionResult</a> (<a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#t:S" title="Documentation.SBV.Examples.ProofTools.Strengthen">S</a> <a href="../base-4.13.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>)) <a href="src/Documentation.SBV.Examples.ProofTools.Strengthen.html#ex6" class="link">Source</a> <a href="#v:ex6" class="selflink">#</a></p><div class="doc"><p>Example 6: Second program, strengthened with <code>x &gt;= 0 /\ y &gt;= 1</code> simultaneously. We have:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ex6
</code></strong>Q.E.D.
</pre><p>Compare this to <code><a href="Documentation-SBV-Examples-ProofTools-Strengthen.html#v:ex5" title="Documentation.SBV.Examples.ProofTools.Strengthen">ex5</a></code>. As pointed out by Bradley, this shows that
 <em>a conjunction of assertions can be inductive when none of its components, on its own, is inductive.</em>
 It remains an art to find proper loop invariants, though the science is improving!</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.23.0</p></div></body></html>